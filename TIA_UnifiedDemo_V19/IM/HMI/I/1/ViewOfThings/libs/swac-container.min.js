/* Version 1.6.3, copyright (C) 2021, Siemens AG. All Rights Reserved. */

!function(){var n=function(N){var c,a,l,g,f,p,d,m,h;return N.Component=function(e,n,t,i,r){var p=this,d=null,h=e,v=n.name,b=n,o=i,a=""!==r&&null!=r?r:"function"==typeof n.getIFrame?n.getIFrame().src:n.src,l=void 0!==o&&void 0!==o.addDpcValues?o.addDpcValues:N.Config.Container.Behaviors.AddDpcValues,C=void 0!==o&&void 0!==o.activateRemoveOnRedirect?o.activateRemoveOnRedirect:N.Config.Container.Behaviors.ActivateRemoveOnRedirect,y=arguments[5],w=null,s="hidden",u=!1,_=new N.Eventing.Publisher("onReady"),c="click dblclick mousedown mousemove mouseup",f=[],O={},m=null,g=new N.Authentication(v),I={},S={},P={},R={},D=N.Guid.generate(),k=function(e){var n=new N.Defer,t=function(){N.Container._internal.remove(v,b,e),u=!(b=null),w=S=R=P=I=null};return u?(n.reject(new N.Reason(13001)),n.promise):N.Communication._internal.beginCall(v,N.Config.TimeOuts.Remove,"remove",[e]).then(function(e){t()},function(e){throw t(),e})},T=function(e,n){return N.Communication._internal.beginCall(v,N.Config.TimeOuts.Proxy.Functions,"call",[e,n])},j=function(e){var n;for(n=f.length-1;0<=n;n--)f[n].name===e&&f.splice(n,1)},E=function(e){var n;for(n in f)if(f[n].name===e)return f[n];return null},F=function(e){var n={level:"",category:""};return-1<c.split(" ").indexOf(e)&&(n.level="_nested",n.category="MouseEvents"),n},A=function(){return"webworker"!==o.flavor&&"sharedworker"!==o.flavor};this.beginShow=function(n){var e,t=new N.Defer,i=n?"visible":"hidden";if(u)t.reject(new N.Reason(13001));else if("ui"!==o.flavor.toLowerCase())t.reject(new N.Reason(13002));else{if(i!==s)return e=function(e){s=i,b.show(n)},N.Communication._internal.beginCall(v,N.Config.TimeOuts.Internal,"show",[n]).then(e,e);t.fulfill()}return t.promise},this.beginRemove=k,this.getDomain=function(){return"webworker"===o.flavor||"sharedworker"===o.flavor?null:g.getDomain()},this.beginPosition=function(e,n,t,i){var r=new N.Defer;return u?(r.reject(new N.Reason(13001)),r.promise):"ui"!==o.flavor.toLowerCase()?(r.reject(new N.Reason(13002)),r.promise):(o.left=e,o.top=n,o.width=t,o.height=i,b.setPosition(o.left,o.top,o.width,o.height),N.Communication._internal.beginCall(v,N.Config.TimeOuts.Internal,"position",[e,n,t,i]))},this.beginCleanUpRequest=function(){return"sharedworker"===o.flavor?Promise.reject(new N.Reason(13014)):N.Communication._internal.beginCall(v,N.Config.TimeOuts.CleanUp,"cleanUp",[],!0)},this.getPosition=function(){return u?null:"ui"!==o.flavor.toLowerCase()?null:b.getPosition()},this.type=function(){return t},this.name=function(){return h},this.guid=function(){return v.split(">_")[1]},this.fullname=function(){var e=N._internal.Utils.getFullName();return e||(e=["<root>"]),e.push(v),JSON.stringify(e)},this.hasUI=function(){return"ui"===o.flavor.toLowerCase()},this.swacVersion="1.0.0",this.onReady=_.event,this.onMouseEvents={subscribe:function(e,n){var t,i,r,o=3===arguments.length&&arguments[2],a=null,l=null,s=[],u=!1;if(!A())return!1;if(N._internal.Utils.checkVersion(p.swacVersion,"1.1.0")<=0)return!1;if("function"!=typeof e&&!o)return!1;for(r="function"!=typeof e?[]:[e],""===n||null==n?t=c.split(" "):Array.isArray(n)?t=n:"string"==typeof n&&(t=[n]),i=0;i<t.length;i++)a=E(t[i]),l=F(t[i]),null===a?""!==l.level&&(f.push({name:t[i],bubble:!1,inherited:o,callback:r.slice(0)}),"_nested"===l.level&&s.push(t[i]),u||(u=!0)):(-1===a.callback.indexOf(e)&&a.callback.push(e),u||(u=!0),a=null);return 0<s.length&&N.Communication._internal.call(v,"enableComponentEvent",[s,l.level]),u},unsubscribe:function(e){var n,t,i,r,o=null,a=2===arguments.length?arguments[1]:[],l=[];if(A()&&("function"==typeof e||0!==a.length)){if("function"==typeof e)for(t in f)0<f[t].callback.length&&-1!==(i=f[t].callback.indexOf(e))&&(f[t].callback.splice(i,1),0!==f[t].callback.length||f[t].insertFromBubble||f[t].inherited||(o=F(f[t].name),l.push(f[t].name)));else for(o={level:"_nested"},n=0;n<a.length;n++)null===(r=E(a[n]))||r.insertFromBubble||l.push(r.name);if(0<l.length){for(n=0;n<l.length;n++)j(l[n]);N.Communication._internal.call(v,"disableComponentEvent",[l,o.level])}}},bubble:function(e,n){var t,i,r=null,o=null,a=[],l=[];if(A()&&"boolean"==typeof e){for(""===n||null==n?t=c.split(" "):Array.isArray(n)?t=n:"string"==typeof n&&(t=[n]),i=0;i<t.length;i++)r=E(t[i]),o=F(t[i]),null===r?""!==o.level&&e&&(f.push({name:t[i],bubble:e,inherited:!1,callback:[],insertFromBubble:!0}),"_nested"===o.level&&a.push(t[i])):(r.insertFromBubble&&0===r.callback.length?(j(t[i]),l.push(t[i])):(r.bubble=e,r.insertFromBubble=!0),r=null);0<a.length&&N.Communication._internal.call(v,"enableComponentEvent",[a,o.level]),0<l.length&&N.Communication._internal.call(v,"disableComponentEvent",[l,o.level])}}},this._internal={beginExpose:function(e,n,t,i,r){var o,a,l,s,u,c,f,m=new N.Defer,g=0;for(f in r&&(p.swacVersion=r),e)e.hasOwnProperty(f)&&(u="return function ("+e[f].join(", ")+') { var myargs = Array.prototype.slice.call(arguments, 0); var args = ["'+f+'", myargs ]; return fn.apply( ctx, args ); };',I[f]=new Function("ctx","fn",u)(p,T));for(g=0;g<n.length;g++)c=n[g],S[c]=new N.Eventing.Publisher(c),I[c]=S[c].event;return p.interfaces=w=new N.Interfaces(i,p),a=function(e){N.Container._internal.fireOnFailure(v,"expose",e.message,!1),m.reject(e)},l=function(e){var n=N.Services.list(),t=0,i=[],r={};for(t=0;t<n.length;t++)r[n[t]]=N.Services.getInfo(n[t]),r[n[t]].provider||(N._internal.Utils.getFullName()?r[n[t]].provider=N._internal.Utils.getFullName():"function"!=typeof window.swacPostMessage&&window.parent===self?r[n[t]].provider=["<root>"]:r[n[t]].delegable=!1);if(0<=N._internal.Utils.checkVersion(p.swacVersion,"1.4.0")&&"object"==typeof N.Hub.instance)for(i=N.Hub.instance.services.list({delegable:!0}),t=0;t<i.length;t++)-1===n.indexOf(i[t])&&(r[i[t]]=N.Hub.instance.services.getInfo(i[t]));o=new N.Defer,m.fulfill(o.promise),N.Communication._internal.beginCall(v,N.Config.TimeOuts.Internal,"ready",[n,r]).then(function(){N.Communication._internal.beginCall(v,N.Config.TimeOuts.Proxy.Functions,"dpcGet",["private.isDirty"]).then(function(){o.fulfill(),y.notify({name:h},!0),_.notify({name:h},!0),delete p._internal.notReady,-1<C&&setTimeout(function(){b&&(b.removeOnRedirect=!0)},1e3*C)},function(e){o.reject(e)})},function(e){o.reject(e)})},s=N.DPC._internal.Flags.Proxy|N.DPC.Permissions.Write|N.DPC.Permissions.Read,d=new N.DPC.Node(function(e,n,t){var i=null;if("beginMerge"===n)return N.Communication._internal.beginDpcMerge(v,e,"merge",t);if("addQueue"===n)p.transaction._internal.addInQueue(e,t);else if("add"===n||"set"===n||"remove"===n)N.Communication._internal.dpcChanged(v,e,n,t);else{if("get"===n)return N.Communication._internal.beginDpcGet(v,e);if("beginset"===n)return N._internal.Utils.checkVersion(p.swacVersion,"1.1.0")<=0?(i=new N.Defer,N.Communication._internal.dpcChanged(v,e,"set",t),i.fulfill({modified:!1}),i.promise):N.Communication._internal.beginDpcSet(v,e,n,t).then(function(e){return"object"==typeof e&&"boolean"==typeof e.modified?e:{modified:!1}},function(e){throw e})}},D,s),O=d.access(D),N.Communication._internal.beginCall(v,N.Config.TimeOuts.Internal,"bind",[]).then(l,a),m.promise},close:function(e){k(e).catch(function(){})},fire:function(e,n,t){"string"==typeof t?w._internal.fire(e,n,t):S[e]&&S[e].notify(n)},dpcChanged:function(e,n,t){var i,r={transactionId:null!==m?m.transactionId:void 0,transactionState:null!==m?m.transactionState:void 0};t.transactionId&&(m.transactionId=t.transactionId,m.transactionState=t.transactionState),"remove"===n?O.remove(e):"add"===n?(-1!==e.toLowerCase().indexOf("private.")&&(t.flags=t.flags^N.DPC.Permissions.Write),"public"===e?void 0===d.open("public")&&((m=new N.DPC.Node(d,D,N.DPC.Permissions.Read|N.DPC.Permissions.Write|N.DPC._internal.Flags.Proxy,"public")).componentVersion=p.swacVersion,m.addDpcValues=l):O.add(e,t.flags),"private"===e&&(P=d.open("private").access(),"sharedworker"!==o.flavor&&(p.status=P)),"public"===e&&(R=d.open("public").access(),"sharedworker"!==o.flavor&&(p.dpc=R))):"set"===n&&(-1!==e.toLowerCase().indexOf("private.")&&t.flags&N.DPC.Permissions.Write&&(t.flags=t.flags^N.DPC.Permissions.Write),void 0!==t.goFromContainer&&(m.transactionState="forceSet"),O.set(e,l?t.value:null,t.type,t.flags,t.diffPath),r.transactionId&&(m.transactionId=r.transactionId,m.transactionState=r.transactionState)),"set"===n&&"private.isDirty"===e&&(i=function(e){return function(e){"boolean"==typeof e&&N.Container._internal.setComponentInternalStatus(h,e)}},d.access().open(e).beginGet().then(i()).catch(function(){}))},fireOnTransaction:function(e){var n=p.transaction.getId();p.transaction._internal.fireOnTransaction(e),e.transactionId!==m.transactionId&&n?(m.transactionId=n,m.transactionState="start"):(m.transactionId=null,delete m.transactionState)},beginHandshake:function(e,n){return g._internal.beginHandshake(e,null,n)},tlsMessage:function(e){g._internal.receiveMessage(e)},beginRequestInterface:function(n){var t=new N.Defer;return N.Communication._internal.beginCall(v,N.Config.TimeOuts.Internal,"beginRequestInterface",[n]).then(function(e){e?(w._internal.exposeInterface(e.name,e.api,e.events),w.beginGet(n).then(function(e){t.fulfill(e)},function(e){t.reject(e)})):t.reject(new N.Reason(14001))},function(e){t.reject(e)}),t.promise},beginRequestService:function(e){var n=this.o;return N.Services._internal.beginRequestService(e,n)},callService:function(e,n,t){var i=[];return this.o&&(i=this.o),N.Services._internal.callMethod(i,t,e,n)},checkComponent:function(){var e=new N.Defer;return e.fulfill(),e.promise},setCurrentUrl:function(e){a=e},getCurrentUrl:function(){return a},iframe:b,lastIsDirtyValue:!1,manageEvent:function(e){var n,t=null,i=null;if(null!==(i=E(e.type))){if((t=function(e){var n=null,t=null;if(""!==(t=F(e.type)).level)switch(t.category){case"MouseEvents":(n=document.createEvent("MouseEvents")).initMouseEvent(e.type,e.bubbles,e.cancelable,null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,b.getIFrame())}return t=null,n}(e)).SWACComponent=p,!0===i.bubble&&b.getIFrame().dispatchEvent(t),0<i.callback.length)for(n=0;n<i.callback.length;n++)i.callback[n]&&i.callback[n](t);i.inherited&&!i.insertFromBubble&&N.Communication._internal.call(null,"manageEvent",[e]),t=i=null}},getRegisteredEvent:E,removeComponentServiceAndBubble:function(){var e=this.o;N.Services._internal.removeServices(JSON.stringify(e)),N._internal.Utils.getFullName()&&N.Communication._internal.call(null,"removeComponentServiceAndBubble",null,e)},setTransactionId:function(e){null===(m.transactionId=e)&&delete m.transactionState},setTransactionState:function(e){m.transactionState=e},getPublicNode:function(){return m}},this.proxy=I,this.interfaces=null,this.transaction=new N.DPC.Transaction(this)},N.ComponentBox=function(e){var t=this,r=null,n=e.parent?e.parent:document.body,i=e.source,o=e.settings,a=null,l=null;return a="webworker"===o.flavor.toLowerCase()?"worker":"sharedworker"===o.flavor.toLowerCase()?"sWorker":"iframe",this.name="<"+e.name+">_"+N.Guid.generate(),this.realName=e.name,this.setIframeAttribute=function(e,n){r instanceof HTMLIFrameElement&&r.setAttribute(e,n)},this.checkLoadStatus=function(){return("boolean"!=typeof r.SWACLoaded||!1===r.SWACLoaded)&&(r.SWACLoaded=!0)},"iframe"===a&&((r=document.createElement("iframe")).src=i,r.frameBorder=0,r.name=this.name,o.allowFullscreen&&(r.allowFullscreen=!0),r.style.position="absolute",r.SWACLoaded=!1,"ui"===o.flavor.toLowerCase()||o.left&&o.top?(r.style.left=o.left,r.style.top=o.top):(o.left="0px",o.top="0px"),r.style.width="0px",r.style.height="0px",r.style.display="none"),this.onError=function(e){"iframe"===a&&r.addEventListener("error",e)},this.getIFrame=function(){return r},this.onLoad=function(n){"worker"===a||"sWorker"===a?l=n:"iframe"===a&&r.addEventListener("load",function(e){n(t)},!1)},this.create=function(){if("iframe"===a)n.appendChild(r);else if("worker"===a){try{(r=new Worker(i)).name=e.name,r.src=i,r.onmessage=function(e){N.Communication._internal.receiveMessage.call(this,e)}}catch(e){r={SWACLoaded:!1,terminate:function(){}}}l(t)}else if("sWorker"===a){try{(r=new SharedWorker(i).port).start(),r.name=e.name,r.src=i,r.onmessage=function(e){N.Communication._internal.receiveMessage.call(this,e)}}catch(e){r={SWACLoaded:!1,close:function(){}}}l(t)}},this.destroy=function(){if("iframe"===a){r.src="about:blank";try{n.removeChild(r)}catch(e){}}else"worker"===a?(r.onmessage=null,r.terminate()):"sWorker"===a&&(r.onmessage=null,r.close())},"iframe"===a&&(this.show=function(e){r.style.width=e?o.width:"0px",r.style.height=e?o.height:"0px",r.style.display=e?"block":"none"},this.setPosition=function(e,n,t,i){r.style.left=e,r.style.top=n,r.style.width=t,r.style.height=i},this.getPosition=function(){return{left:r.style.left,top:r.style.top,width:r.style.width,height:r.style.height}}),this},N.Container=function(){var t=window.navigator.language,p=!1,r=null,g={},d={},h={},l=new N.DPC.Node(null,"Owner",N.DPC.Permissions.Read,"status"),a=new N.Eventing.Publisher("onRemoved");l.set("Owner","isDirty",!1,"boolean");var v=function(e){var n=[],t=0,i=null;if(e&&e.name)return d[N._internal.Utils.getRealComponentName(e.name)];for(i in d)d.hasOwnProperty(i)&&n.push(d[i]);if(e&&e.dirty)for(t=n.length-1;0<=t;t--)n[t]&&n[t]._internal.lastIsDirtyValue!==e.dirty&&n.splice(t,1);return n},b=function(e,n,t){var i=N._internal.Utils.getFullName()||["<root>"],r=N._internal.Utils.getRealComponentName(e),o=v({name:e});o&&(n&&(p=!0,n.destroy(),n=null),t=t||"",i.push(e),o._internal.removeComponentServiceAndBubble.apply({o:i}),N.Communication._internal.cleanCallbacks(e),o.transaction.isSupported()&&o.transaction.isActive()&&o.transaction.cancel(new N.Reason(17013)),delete d[r],o=null,a.notify({name:r,reason:t},!0))},o=new N.Eventing.Publisher("onFailure"),C=function(e,n,t,i){o.notify({name:N._internal.Utils.getRealComponentName(e),details:{phase:n,reason:t}},i)},y=function(e){var n=v({name:e}),t=null;return n instanceof N.Component&&("undefined"!=typeof Worker&&n._internal.iframe.getIFrame()instanceof Worker?!(n=null):"undefined"!=typeof SharedWorker&&n._internal.iframe.getIFrame()instanceof MessagePort?!(n=null):(t=document.querySelectorAll('iframe[name="'+n._internal.iframe.getIFrame().name+'"]'),n=null,1===t.length&&!(t=null)))},s=function(n){var e,t,i,r,o,a=new N.Defer,l=0,s=0,u=0,c=function(){l===u?a.fulfill():l+s===u&&a.reject(new N.Reason(13006))},f=function(){l++,c()},m=function(){s++,c()},g=0;if(Array.isArray(n)){for(u=n.length,g=0;g<u;g++)N.Container.beginCreate(n[g]).then(f,m);return a.promise}if(null===n||"object"!=typeof n)return a.reject(new N.Reason(13008)),a.promise;if(h[n.name]||d[n.name]){if(y(n.name))return C(n.name,"creation","Component already present in registry",!0),a.reject(new N.Reason(13003,n.name)),a.promise;C(n.name,"integrityCheck","Component integrity is compromised",!1),b(n.name,null,new N.Reason(15005))}return n.source&&n.name?((o=document.createElement("iframe")).src=n.source,(o.src===window.location.href?o=null:!(o=null))?(n.settings||(n.settings={}),n.settings.flavor||(n.settings.flavor="ui"),h[n.name]={name:n.name,type:n.type,secret:n.secret,state:"pending",settings:n.settings,promise:a,lastUrl:""},(e=n,i=new N.Defer,r=null,r=new N.ComponentBox(e),h[e.name].iframe=r,t=function(e){e?(h[e.realName]||d[e.realName])&&(e.checkLoadStatus()?i.fulfill(e):d[e.realName]&&(e.removeOnRedirect?b(e.realName,e,new N.Reason(15003)):e.setIframeAttribute("redirect-detected","true"))):i.reject(new N.Reason(13005))},r.onLoad(t),r.onError(function(e){(e.target?e.target:e.srcElement).SWACLoaded?t(e):i.reject(new N.Reason(11014))}),r.create(),i.promise).then(function(e){h[n.name]&&N.Config.TimeOuts.Enabled&&(h[n.name].timeout=window.setTimeout(function(){h[n.name]&&"pending"===h[n.name].state&&(p=!0,e.destroy(),C(n.name,"creation","Timeout in beginCreateIframe",!0),h[n.name].promise.reject(new N.Reason(13007)),delete h[n.name])},N.Config.TimeOuts.Create))},function(e){a.reject(e)})):a.reject(new N.Reason(13008)),a.promise):(a.reject(new N.Reason(13008)),a.promise)},u=function(e,n){var t=n?d:h,i=null,r=null,o=null;for(i in t)if(t.hasOwnProperty(i))if(r=t[i],t===h){if((o="function"==typeof r.iframe.getIFrame?r.iframe.getIFrame():r.iframe).contentWindow===e||o===e)return o=null,r}else if((o="function"==typeof r._internal.iframe.getIFrame?r._internal.iframe.getIFrame():r._internal.iframe).contentWindow===e||o===e)return o=null,r;if(o=null,!n)return u(e,!0)},n=new N.Eventing.Publisher("onCreated"),c=new N.Eventing.Publisher("onReady"),f=function(e,n,t,i,r){var o,a=!0,l=0,s=0;if(o=function(){return function(e){11005===e.reasonCode&&t.closeOnCleanUpTimeOut||(t.beginCloseDeferer.reject(e),N.Config.TimeOuts.Enabled&&window.clearTimeout(t.beginCloseTimer),delete g[t.guid])}},i._internal.lastIsDirtyValue&&!r&&t.closingBroadcast&&i.beginCleanUpRequest().then(null,o()),!1===i._internal.lastIsDirtyValue){for(s=0;s<t.closingComponents.length;s++)null!==t.closingComponents[s].component&&(t.closingComponents[s].component._internal.lastIsDirtyValue?t.closingBroadcast&&(a=!1):l++,l===t.closingComponents.length&&(t.loopInterrupted=!1));if(t.closingBroadcast&&a||!t.closingBroadcast&&!t.loopInterrupted){for(s=0;s<t.closingComponents.length;s++)null!==t.closingComponents[s].component&&t.closingComponents[s].component.beginRemove();N.Config.TimeOuts.Enabled&&window.clearTimeout(t.beginCloseTimer)}}},w=function(e){var n=[],t=null,i=0,r=null,o=null;if(e){if("object"!=typeof e)return[];for(t in e)if(e.hasOwnProperty(t)&&"name"!==t&&"type"!==t&&"dirty"!==t&&"attributes"!==t&&"guid"!==t&&"fullname"!==t)return[];if(e.name)for(r in d)d.hasOwnProperty(r)&&d[r].name()===e.name&&n.push(d[r]);else for(r in d)d.hasOwnProperty(r)&&(d[r]._internal.secret||n.push(d[r]));if(e.guid)for(i=n.length-1;0<=i;i--)n[i]&&n[i].guid()!==e.guid&&n.splice(i,1);if(e.fullname)for(i=n.length-1;0<=i;i--)n[i]&&n[i].fullname()!==e.fullname&&n.splice(i,1);if(e.type)for(i=n.length-1;0<=i;i--)n[i]&&n[i].type()!==e.type&&n.splice(i,1);if(e.dirty)for(i=n.length-1;0<=i;i--)n[i]&&n[i]._internal.lastIsDirtyValue!==e.dirty&&n.splice(i,1);if(e.attributes)for(i=n.length-1;0<=i;i--)if(n[i]&&n[i].attributes){for(r in o=!0,e.attributes)if(e.attributes.hasOwnProperty(r)&&(!n[i].attributes.hasOwnProperty(r)||n[i].attributes[r]!==e.attributes[r])){o=!1;break}o||n.splice(i,1)}}else for(r in d)d.hasOwnProperty(r)&&!d[r]._internal.secret&&n.push(d[r]);return!e||!(e.name||e.guid||e.fullname)||e.type||e.dirty||e.attributes?n:n[0]},m=function(e,n){var t;for(t=0;t<n.closingComponents.length;t++)if(n.closingComponents[t].name===e)return n.closingComponents.splice(t,1),!0;return!1};return a.event.subscribe(function(e){var n,t,i;for(n in g)g.hasOwnProperty(n)&&-1<(t=g[n]).closingComponentsNames.indexOf(e.data.name,0)&&m(e.data.name,t)&&0===t.closingComponents.length&&(t.beginCloseDeferer.fulfill(),delete g[t.guid]);(i=v())&&0===i.length&&window.MutationObserver&&null!==r&&(r.disconnect(),r=null),i=null}),n.event.subscribe(function(){window.MutationObserver&&null===r&&(r=new MutationObserver(function(e){var n=[];e.forEach(function(e){0<e.removedNodes.length&&e.removedNodes.forEach(function(e){"IFRAME"===e.tagName?"boolean"==typeof e.SWACLoaded&&n.push(e):0<e.childNodes.length&&0<e.querySelectorAll("IFRAME").length&&e.querySelectorAll("IFRAME").forEach(function(e){"boolean"==typeof e.SWACLoaded&&n.push(e)})})}),0<n.length&&p?p=!1:n.forEach(function(e){C(e.name,"integrityCheck","Component integrity is compromised",!1),b(e.name,null,new N.Reason(15005))}),n=null})).observe(document.body,{childList:!0,subtree:!0})}),{beginCreate:s,beginCreateAndGet:function(r){var e=new Promise(function(i,n){s(r).then(function(){var t;c.event.subscribe(t=function(e){if(r.name===e.data.name){c.event.unsubscribe(t);var n=w({name:e.data.name});i(n),n=null}})}).catch(function(e){n(e)})});return e.catch(function(){}),e},beginClose:function(e,n,t,i){var r,o=null,a=null,l=!0,s=null,u=null,c=0,f=N.Guid.generate(),m={guid:f};if((g[f]=m).beginCloseDeferer=new N.Defer,t=t||N.Config.TimeOuts.Close,n=null==n||n,i=null!=i&&""!==i?i:null!==N.Config.Container.Behaviors.CloseOnCleanUpTimeOut&&void 0!==N.Config.Container.Behaviors.CloseOnCleanUpTimeOut&&""!==N.Config.Container.Behaviors.CloseOnCleanUpTimeOut?N.Config.Container.Behaviors.CloseOnCleanUpTimeOut:null===N.Config.Container.Behaviors.CloseTimeoutConfirm||void 0===N.Config.Container.Behaviors.CloseTimeoutConfirm||""===N.Config.Container.Behaviors.CloseTimeoutConfirm||N.Config.Container.Behaviors.CloseTimeoutConfirm,m.closeOnCleanUpTimeOut=i,m.closingBroadcast=n,m.loopInterrupted=!1,null==e)o=w();else{if(Array.isArray(e))for(o=[],c=0;c<e.length;c++)(a=v({name:e[c]}))&&o.push(a);else(o=v({name:e}))&&(o=[o]);if(null==o||0===o.length)return m.beginCloseDeferer.reject(new N.Reason(13015)),delete g[f],m.beginCloseDeferer.promise}for(m.closingComponents=[],m.closingComponentsNames=[],c=0;c<o.length;c++)null!==o[c]&&(m.closingComponentsNames.push(o[c].name()),m.closingComponents.push({component:o[c],name:o[c].name()}));for(r=function(){for(c=0;c<o.length;c++)null!==o[c]&&o[c].beginRemove()},N.Config.TimeOuts.Enabled&&(m.beginCloseTimer=window.setTimeout(function(){i?r():(m.beginCloseDeferer.reject(new N.Reason(13011)),delete g[f])},t)),s=function(e){if(11005===e.reasonCode&&i){if(n)return;o[++c]?o[c]._internal.lastIsDirtyValue&&o[c].beginCleanUpRequest().then(u,s):m.loopInterrupted=!1}else m.beginCloseDeferer.reject(e),N.Config.TimeOuts.Enabled&&window.clearTimeout(m.beginCloseTimer),delete g[f]},u=function(e){n||o[++c]&&o[c]._internal.lastIsDirtyValue&&o[c].beginCleanUpRequest().then(u,s)},c=0;c<o.length;c++)if(o[c]&&o[c]._internal.lastIsDirtyValue&&(n&&(l=!1),o[c].beginCleanUpRequest().then(u,s),!n)){m.loopInterrupted=!0;break}return(n&&l||!n&&!m.loopInterrupted)&&(r(),N.Config.TimeOuts.Enabled&&window.clearTimeout(m.beginCloseTimer)),m.beginCloseDeferer.promise},get:w,getLanguage:function(){return t},setLanguage:function(n){t=n;var e=v();e&&0<e.length&&e.forEach(function(e){e&&e.status&&e.status.open("language")&&N.Communication._internal.call(e._internal.iframe.getIFrame().name,"setPrivateDPC",["language",n]),e=null}),e=null},status:l.access(),onCreated:n.event,onReady:c.event,onRemoved:a.event,onFailure:o.event,_internal:{accept:function(e){var t=u(e);return!(!t||!t.promise||(N.Config.TimeOuts.Enabled&&window.clearTimeout(t.timeout),t.state="hidden",d[t.name]=new N.Component(t.name,t.iframe,t.type,t.settings,t.lastUrl,c),d[t.name]._internal.notReady=!0,d[t.name]._internal.lastIsDirtyValue=!1,d[t.name]._internal.secret=t.secret,t.attributes&&(d[t.name].attributes=t.attributes),t.authentication&&d[t.name]._internal.beginHandshake(N.Config.Container.Authentication.TlsHandler,N.Config.TimeOuts.Authentication.Handshake).then(function(e){},function(e){var n=d[t.name];n&&n.beginRemove({reason:"auth-failed"})}),delete h[t.name],t.promise.fulfill(),n.notify({name:t.name},!0),0))},discard:function(e){var n=u(e);n&&(N.Config.TimeOuts.Enabled&&window.clearTimeout(n.timeout),n.state="removing",n.promise&&n.promise.reject(new N.Reason(13010)),p=!0,n.iframe.destroy(),C(n.name,"creation","Component discarded by communication protocol",!1),delete h[n.name])},remove:b,identify:u,setComponentInternalStatus:function(e,n){var t,i,r,o,a=v({name:e});if(a){if((t=a._internal.lastIsDirtyValue)===(a._internal.lastIsDirtyValue=n))return void(a=null);for(i in 0<v({dirty:!(o=!1)}).length&&(o=!0),l.set("Owner","isDirty",o,"boolean"),g)g.hasOwnProperty(i)&&-1<(r=g[i]).closingComponentsNames.indexOf(e,0)&&f(0,0,r,a,t);a=null}},getComponentInternalStatus:function(e){var n=v({name:e}),t=!1;if(n)return t=n._internal.lastIsDirtyValue,n=null,t;throw new N.Exception(1001)},fireOnFailure:C,checkIframe:y,getCmpList:v}}}(),N.Container.version="1.6.3",N.Interfaces=function(e,n){var u={},c={},t=e,i=n,r=[],o=function(e){return 0<=t.indexOf(e)},a=function(e,n,t){var i;for(i=r.length-1;0<=i;i--)r[i].name===e&&(t?r[i].defer.reject(n):r[i].defer.fulfill(n),r.splice(i,1))},f=function(e,n,t){return N.Communication._internal.beginCall(i._internal.iframe.getIFrame().name,N.Config.TimeOuts.Proxy.Functions,"call",[e,n,t])};this.list=function(){return t},this.beginGet=function(n){var e=new N.Defer;return u[n]?e.fulfill(u[n]):o(n)?(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return!0;return!1}(n)||i._internal.beginRequestInterface(n).then(function(e){a(n,e,!1),N.Communication._internal.call(i._internal.iframe.getIFrame().name,"interfaceReady",[n])},function(e){a(n,e,!0)}),r.push({name:n,defer:e})):e.reject(new N.Reason(14001)),e.promise},this.has=o,this._internal={exposeInterface:function(e,n,t){var i,r,o,a,l={},s=0;if(!u[e]){for(i in n)n.hasOwnProperty(i)&&(r="return function ("+n[i].join(", ")+') { var myargs = Array.prototype.slice.call(arguments, 0); var args = ["'+i+'", myargs, "'+e+'" ]; return fn.apply( ctx, args ); };',l[i]=new Function("ctx","fn",r)(this,f));for(s=0;s<t.length;s++)o=t[s],a=new N.Eventing.Publisher(o),c[e]=c[e]||{},c[e][o]=a,l[o]=a.event;u[e]=l}},fire:function(e,n,t){c[t]&&c[t][e]&&c[t][e].notify(n)}}},N.Services=(c={},a={},l={},g=[],f=new N.Eventing.Publisher("onServiceCreated"),p=new N.Eventing.Publisher("_onServiceRemoved"),d={},m=function(n,t,i){return function(e){N.Communication._internal.fire(n,t,e,i)}},h=function(e){var n=[],t=null;if(Array.isArray(e))for(t in e)e.hasOwnProperty(t)&&n.push(N._internal.Utils.getRealComponentName(e[t]));return n},{list:function(e){var n="",t=[],i="",r=!0;for(i in c)if(c.hasOwnProperty(i))if("object"==typeof e){for(n in r=!0,e)if(e.hasOwnProperty(n)){if(void 0===a[i][n]){r=!1;break}r=r&&a[i][n]===e[n]}r&&t.push(i)}else t.push(i);return t},register:function(e,n,t,i){var r="",o=null;if(!e||!e.match("^[a-zA-Z0-9_.]*$"))return!1;if(c[e])return!1;if(c[e]=n,a[e]={},t&&"object"==typeof t)for(r in t)t.hasOwnProperty(r)&&(a[e][r]=t[r]);return a[e].singleton=!(n instanceof Function),"boolean"!=typeof a[e].delegable&&(a[e].delegable=!0),i&&(i instanceof Function?(o=i,l[e]=new o):l[e]=i),!0},getInfo:function(e){return a.hasOwnProperty(e)?a[e]:{}},getLocal:function(e){return l.hasOwnProperty(e)?l[e]:null},onServiceCreated:f.event,onServiceRemoved:p.event,_internal:{beginRequestService:function(a,e){var n,t,i=Object.getOwnPropertyNames(c),l=e,r=new N.Defer,o=new N.Defer,s=N._internal.Utils.getFullName(),u=e;return Array.isArray(l)&&(l=JSON.stringify(l)),t=o.promise.then(function(e){var n,t,i={},r=[],o=N._internal.Utils.getFullName()||["<root>"];if("object"==typeof e&&"string"==typeof e.name)return e;for(n in e)e.hasOwnProperty(n)&&("function"==typeof e[n]?i[n]=N._internal.Utils.estractParameters(e[n]):"object"==typeof e[n]&&e[n].subscribe&&1===e[n].subscribe.length&&(t=m(l,n,a),e[n].subscribe(t),g.push({component:l,property:n,handler:t,event:e[n]}),r.push(n)));return{name:a,api:i,events:r,provider:o}},function(e){throw e}),0<=i.indexOf(a)?(!((n=c[a])instanceof Function)||(d[l]=d[l]||{},d[l][a]?n=d[l][a]:(n=new c[a](l),d[l][a]=n,null===s&&(s=["<root>"]),s.length+1===u.length?(u=u.toString().substring(s.toString().length+1,u.toString().length),f.notify({component:N._internal.Utils.getRealComponentName(u),fullname:u,service:a,instance:n})):f.notify({component:JSON.stringify(h(u)),fullname:JSON.stringify(u),service:a,instance:n,delegated:!0}))),t.then(function(e){r.fulfill(e)},function(e){r.reject(e)}),o.fulfill(n)):"object"==typeof N.Hub.instance?N.Hub.instance.services._internal.beginGetInternal(a,e).then(function(e){o.fulfill(e),t.then(function(e){r.fulfill(e)},function(e){r.reject(e)})},function(e){r.reject(e)}):r.reject(new N.Reason(12001)),r.promise},removeServices:function(e){var n,t,i,r=Object.getOwnPropertyNames(d),o=[e],a=0,l=JSON.parse(e),s=[],u=!0,c=0,f=null,m=N._internal.Utils.getFullName();for(a=0;a<r.length;a++)if(r[a].length>e.length&&(s=JSON.parse(r[a])).length>l.length){for(u=!0,c=0;c<l.length&&u;c++)l[c]!==s[c]&&(u=!1);u&&o.push(r[a])}for(c=0;c<o.length;c++){for(t=o[c],f=d[t],a=g.length-1;0<=a;a--)g[a].component.substring(g[a].component.lastIndexOf(","),g[a].component.length)===t.substring(t.lastIndexOf(","),t.length)&&(g[a].event.unsubscribe&&g[a].event.unsubscribe(g[a].handler),g.splice(a,1));if(f)for(n=Object.getOwnPropertyNames(f),i=JSON.parse(t),a=0;a<n.length;a++)null===m&&(m=["<root>"]),m.length+1===i.length?(i=i.toString().substring(m.toString().length+1,i.toString().length),p.notify({component:N._internal.Utils.getRealComponentName(i),fullname:i,service:n[a]})):p.notify({component:JSON.stringify(h(i)),fullname:JSON.stringify(i),service:n[a],delegated:!0}),delete d[t][n[a]]}},callMethod:function(e,n,t,i){var r=null,o=null,a=e;return Array.isArray(a)&&(a=JSON.stringify(e)),d[a]&&d[a][n]?o=(r=d[a][n])[t].apply(r,i):c[n]&&(o=(r=c[n])[t].apply(r,i)),o}}}),N};try{if("undefined"!=typeof module&&void 0!==module.exports){var e=require("@swac/base");"object"!=typeof e.prototype.Container&&n(e.prototype),module.exports=e,module.exports.default=module.exports}else if("undefined"!=typeof SystemJS&&SystemJS.map.hasOwnProperty("@swac/base"))define("@swac/container",["@swac/base"],function(e){return e&&"object"!=typeof e.prototype.Container&&n(e.prototype),e});else{if("function"!=typeof define||void 0===define.amd||"undefined"==typeof requirejs||void 0===requirejs.s.contexts._.config.paths["@swac/base"])throw new Error("SWAC on window");define("@swac/container",["@swac/base"],function(e){return e&&"object"!=typeof e.prototype.Container&&n(e.prototype),e})}}catch(e){"object"!=typeof window.SWAC.constructor.prototype.Container&&n(window.SWAC.constructor.prototype)}}();
//# sourceMappingURL=swac-container.min.map