/* Version 1.6.3, Boot version 1.6.3, copyright (C) 2021, Siemens AG. All Rights Reserved. */

!function(){var T;try{var e=((T=function(){var e,v=null,y="pending",b=!1,p=-1,l={success:null,failure:null,version:null,auth:null,attributes:null,timeout:null,extensions:null},s=[],o=[],i=function(e){var n=null,t="";t=-1!==e.indexOf(">_")?(n=JSON.parse(e))[n.length-1]:e;for(var o=s.length-1;0<=o;o--)-1!==JSON.stringify(s[o].fullname).lastIndexOf(t)&&(s[o].port.onmessage=null,s[o].port=null,s[o]=null,s.splice(o,1))},m=function(e){return"undefined"!=typeof WorkerGlobalScope&&e instanceof WorkerGlobalScope||"undefined"!=typeof DedicatedWorkerGlobalScope&&e instanceof DedicatedWorkerGlobalScope},C=m(this),S=(e=this,"undefined"!=typeof SharedWorkerGlobalScope&&e instanceof SharedWorkerGlobalScope),n=null,t=new Promise(function(e){n=e}),w=S?null:C?this:window.parent,u=S?t:Promise.resolve(),a=function(e){var n=e,o=[];return n.onmessage=function(n){o.forEach(function(e){e(n)})},{addEventListener:function(e,n){"message"===e&&o.push(n)},removeEventListener:function(e,n){if("message"===e){var t=o.indexOf(n);-1!==t&&o.splice(t,1)}},detachBootMessageListener:function(){o.splice(0,1)},postMessage:function(e){n.postMessage(e)},port:n}},g=null,W=null,A={},x=[],E={},B=null,h=function(){try{var e=window.sessionStorage.getItem("swac.timeouts.enabled");return"boolean"!=typeof JSON.parse(e)||JSON.parse(e)}catch(e){return!0}}(),M=function(){h&&window.clearTimeout(p),S?w&&w.removeEventListener("message",g):window.removeEventListener("message",g)},N=function(n,e,t){var o,i,s,a="";if(S||C)try{if(importScripts(n),!e)throw new Error("Load failure");e()}catch(e){t&&t("Failed to load "+n+" library")}else a=document.createElement("script"),o=function(){a.removeAttribute("src"),document.getElementsByTagName("head")?document.getElementsByTagName("head")[0].removeChild(a):document.getElementsByTagName("body")[0].removeChild(a),a=null},i=function(){a.removeEventListener("load",i),o(),e&&e()},s=function(){a.removeEventListener("error",s),o(),t&&t("Failed to load "+n+" library")},a.setAttribute("type","text/javascript"),a.setAttribute("src",n),(e||t)&&(e&&a.addEventListener("load",i),t&&a.addEventListener("error",s)),document.getElementsByTagName("head")?document.getElementsByTagName("head")[0].appendChild(a):document.getElementsByTagName("body")[0].appendChild(a);n=""},k=function(e){return JSON.stringify({t:"boot",c:e})},L=function(){return!(!window.SWAC||"object"!=typeof SWAC||"object"!=typeof SWAC.Communication)},O=function(e,n,t,o){var i,s,a,r,l,u,c,d,f={},p=null,m=null,w=null,g=null,h=null;if(("waiting"===y||"ok"===y)&&"string"==typeof e.data&&0<e.data.length){try{if(!((f=JSON.parse(e.data))&&f.t&&f.c))throw new Error("Incompatible message received");if("boot"!==f.t)throw new Error("Unknown message received: "+f.t)}catch(e){return}if(s=function(e){y="failed",M(),t({message:e}),S?o.postMessage(k({message:"failed"})):swacPostMessage(k({message:"failed"}),"*")},"boot"===f.t&&"pong"===f.c.message){if(void 0!==f.c.timeouts&&(B=f.c.timeouts),a=function(){v.isContainer=!1,y="ok",(W=f.c).containerVersion=W.containerVersion||"1.0.0",S?o.postMessage(k({message:"ok"})):swacPostMessage(k({message:"ok"}),"*")},l=function(){var e,n=x.length,t={};if(void 0!==v.Hub.prototype.Extensions){if(void 0!==v.Hub.prototype.Extensions&&0<Object.keys(v.Hub.prototype.Extensions).length&&(t=v.Hub.prototype.Extensions),null!==w)for(var o in t)t.hasOwnProperty(o)&&void 0!==E[o]&&(t[E[o]]=t[o],delete t[o],delete E[o]);0===n||v._internal.Utils.checkVersion(g,"1.4.1")<0?a():(y="upgrading",e=x.pop(),"undefined"==typeof defineExtension?N(e,function(){"undefined"!=typeof defineExtension&&(defineExtension=defineExtension.bind({SWAC:v})),l()},s):"$$unknownExtension$$"===e?l():(w=Object.keys(t).length,N(e,l,l)))}else a()},f.c.extensions)for(u in f.c.extensions)f.c.extensions.hasOwnProperty(u)&&x.unshift(f.c.extensions[u]);if(g=f.c.containerVersion||"1.0.0",h=void 0!==T?T:null,window.SWAC&&void 0!==window.SWAC)L()?((v=window.SWAC).BootInstance=h,l()):s("SWAC is a reserved variable name");else{if("1.5.0"===g)return window.console.warn("SWAC version 1.5.0 is incompatible with current version"),void s("SWAC version 1.5.0 is incompatible with current version");if(p=/^\s+|\s+$/g,void 0===f.c.url||null===f.c.url||""===f.c.url.replace(p,""))s("SWAC.Config.Container.URLs library is empty");else{i=function(){window.SWAC&&void 0!==window.SWAC||void 0!==f.c.namespace&&void 0!==window[f.c.namespace]?L()?((v=window.SWAC).BootInstance=h,l()):s("SWAC is a reserved variable name"):s("Failed to load SWAC.Config.Container.URLs library")},y="upgrading";try{m=new URL(f.c.url)}catch(e){return void s("Failed to load SWAC.Config.Container.URLs library")}"data:"===m.protocol?(c=f.c.url,d="",S||C?importScripts(c):((d=document.createElement("script")).innerHTML=window.atob(c.split(";base64,")[1]),document.getElementsByTagName("head")?(document.getElementsByTagName("head")[0].appendChild(d),document.getElementsByTagName("head")[0].removeChild(d)):(document.getElementsByTagName("body")[0].appendChild(d),document.getElementsByTagName("body")[0].removeChild(d))),c="",i()):N(f.c.url,i,s),m=null,f.c.url=""}p=null}}else if("boot"===f.t&&"ok2"===f.c.message){for(r in b=!(y="done"),M(),W)W.hasOwnProperty(r)&&(A[r]=W[r]);for(r in W.message="SWAC successfully loaded",W.auth=W.authentication,W.SWAC="object"==typeof v?v:new v,B&&(W.SWAC.Config.TimeOuts=B),delete W.authentication,delete W.url,delete W.extensions,delete W.namespace,f.c.details?S&&(o.fullname=f.c.details.path):A.details={path:["<root>"]},f.c)"message"!==r&&f.c.hasOwnProperty(r)&&(A.hasOwnProperty(r)||(A[r]=f.c[r]));delete W._internal,v.Hub.prototype.containerVersion=W.containerVersion,n(W)}else"boot"===f.t&&"peng"===f.c.message&&(M(),t({message:f.c.reason}))}},c=function(o,e,n,t,i,s,a){var r,l,u,c=function(){if(w===self){if(m(w))return w.postMessage;if("object"==typeof swacNative&&"function"==typeof swacNative.postMessage)return swacNative.postMessage;if(window.external&&"function"==typeof window.external.postMessage)return window.external.postMessage}return null}(),d=[];if(o===self&&"function"!=typeof c&&"function"!=typeof window.swacPostMessage)y="failed",A.details={path:["<root>"]},window.setTimeout(function(){t({message:"Component is not embedded into an iframe"})},0);else{if(window.SWAC&&"object"==typeof SWAC&&"object"==typeof SWAC.Container){var f=SWAC.Container.get();f&&Array.isArray(f)&&0<f.length&&(SWAC._internal.wrongMixedBoothSequence=!0,window.console.warn("Mixed component: wrong boot sequence detected")),f=null}if(S||"function"!=typeof window.swacPostMessage&&(window.swacPostMessage=C?function(e,n,t){return c(e)}:"function"==typeof c?c:function(e,n,t){return o.postMessage(e,n)}),g=function(e){O(e,n,t,o)},y="waiting",S?o.addEventListener("message",g,!1):window.addEventListener("message",g,!1),h&&(p=window.setTimeout(function(){"done"!==y&&(y="timedout",A.details={path:["<root>"]},M(),t({message:"Bootload sequence timed out"}))},e)),null!==arguments[7]&&void 0!==arguments[7])for(r=0;r<arguments[7].length;r++)"object"==typeof arguments[7][r]?(d.push(arguments[7][r].extension),E[arguments[7][r].extension]=arguments[7][r].as):d.push(arguments[7][r]);l={message:"ping",version:i,authentication:s,attributes:a,extensions:d},L()&&(l.swacBaseLoaded=!0),u=k(l),S?o.postMessage(u):swacPostMessage(u,"*")}},r=function(e,n){var t=null;e.promise.then(function(){o.shift()}).catch(function(e){i(A.name),o.shift(),-1!==JSON.stringify(A.details.path).indexOf("<"+A.name+">_")&&(A={},delete window.SWAC)}).finally(function(){0<o.length&&setTimeout(function(){d(o[0])},0)}),n.onDisconnected.subscribe(t=function(){i(n.fullname),0===s.length&&(s.first=!0),w=null,n.onDisconnected.unsubscribe(t)})},d=function(e){var i=new a(e.ports[0]);s.first||0!==s.length?c(i,l.timeout,function(){var n=new SWAC.Hub(SWAC.Hub.instance._internal.original,i),t=new SWAC.Defer,e=JSON.stringify(i.fullname);t.promise.catch(function(e){e.reasonCode&&17015===e.reasonCode&&setTimeout(function(){throw new SWAC.Exception(3011)},0)});var o=new SWAC.WorkerHub(t,n,i,!1);r(t,o),"function"==typeof SWAC.Hub.instance._internal.original&&(o.fullname=e,n._internal.setInnerComponent(SWAC.Hub.instance._internal.original(o))),o.services=n._internal.services,n._internal.setHub(o),o=null,n.fullname=e,n.beginExpose().then(function(){i.detachBootMessageListener(),t.fulfill(n),n=null},function(e){t.reject(e),n=null})},function(e){i=null},l.version,l.auth,l.attributes,l.extensions):(w=i,t.resolved?(y="pending",c(i,l.timeout,l.success,l.failure,l.version,l.auth,l.attributes,l.extensions)):(n(),t.resolved=!0)),s.push(i)};return t.catch(function(){}),S&&function(){this.addEventListener("connect",function(e){0<o.length?o.push(e):(o.push(e),d(e))},!1)}(),{start:function(e,n,t,o,i,s){var a=s,r=i;"number"==typeof i&&(a=i,r=null),function(e,n,t,o,i){t=t||"*",i=i||1e3,n=n||function(e){},o=o||"no";var s=arguments[5],a=arguments[6];l.success=e,l.failure=n,l.version=t,l.auth=o,l.attributes=s,l.extensions=a,l.timeout=i,(S||C)&&(window=this),"done"!==y?b?window.setTimeout(function(){n({message:"Boot phase in progress"})},0):(b=!0,u.then(function(){c(w,i,e,n,t,o,s,a)}).catch(function(){})):window.setTimeout(function(){n({message:"Boot phase already done"})},0)}(e,n,t,o,a,null,r)},_internal:{containerInfo:A,checkIfWorker:m,SWConList:s,manageConnections:r}}}()).version="1.6.3",T);e._internal.checkIfWorker(this)&&(window=this),void 0===window.SWACBoot&&(window.SWACBoot=e),"undefined"!=typeof module&&void 0!==module.exports?(module.exports=window.SWACBoot,module.exports.default=module.exports):"function"==typeof define&&void 0!==define.amd&&"undefined"!=typeof requirejs&&void 0!==requirejs.s.contexts._.config&&void 0!==requirejs.s.contexts._.config.paths["@swac/boot"]?define(function(){return window.SWACBoot}):"undefined"!=typeof SystemJS&&SystemJS.map.hasOwnProperty("@swac/boot")&&define(function(){return window.SWACBoot})}catch(e){}}();
//# sourceMappingURL=swac-boot.min.map