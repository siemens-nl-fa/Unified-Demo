/*! WebRTPU 3.0.6 WinCC Unified PC Runtime {%version%}, Copyright (C) Siemens AG 2023. All Rights Reserved. {ts '2023-09-06T08:54:43.183Z'} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("webRTPU",[],t):"object"==typeof exports?exports.webRTPU=t():e.webRTPU=t()}(self,(()=>(()=>{"use strict";var e={8570:(e,t)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.Evaluator=void 0;class i{static hasValue(e,t){return void 0!==i.getValue(e,t)}static getValue(e,t){return t.match(/[^(\.|\'|\"|\[|\])]+/g).reduce((function(e,t){return e&&void 0!==e[t]?e[t]:""===t?e:void 0}),e)}static evaluate(e,t,n){for(var s,o,r,a,l=new Array,u=0;u<e.length;u++){var d=e[u],c=d.type;if(1===c)l.push(d.value);else if(4===c)o=l.pop(),s=l.pop(),"and"===d.value?l.push(!!s&&!!i.evaluate(o,t,n)):"or"===d.value?l.push(!!s||!!i.evaluate(o,t,n)):(a=t.binaryOps[d.value],l.push(a(s,o)));else if(8===c)r=l.pop(),o=l.pop(),s=l.pop(),"?"===d.value?l.push(i.evaluate(s?o:r,t,n)):(a=t.ternaryOps[d.value],l.push(a(s,o,r)));else if(16===c){if(d.value in t.functions)l.push(t.functions[d.value]);else{var h=i.getValue(n,d.value);if(void 0===h)throw new Error("undefined variable: "+d.value);l.push(h)}}else if(2===c)s=l.pop(),a=t.unaryOps[d.value],l.push(a(s));else if(32===c){for(var g=d.value,p=[];g-- >0;)p.unshift(l.pop());if(!(a=l.pop()).apply||!a.call)throw new Error(a+" is not a function");l.push(a.apply(void 0,p))}else{if(64!==c)throw new Error("invalid Expression");l.push(d.value)}}if(l.length>1)throw new Error("invalid Expression (parity)");return l[0]}}t.Evaluator=i},5030:(e,t,i)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.Expression=void 0;const n=i(7991),s=i(8570),o=i(6768);class r{constructor(e,t){this.evaluate=function(e){return e=e||{},s.Evaluator.evaluate(this.tokens,this,e)},this.tokens=e,this.parser=t}get unaryOps(){return o.Parser.unaryOps}get binaryOps(){return o.Parser.binaryOps}get ternaryOps(){return o.Parser.ternaryOps}get functions(){return o.Parser.functions}simplify(e){return e=e||{},new r(n.Simplifier.simplify(this.tokens,o.Parser.unaryOps,o.Parser.binaryOps,o.Parser.ternaryOps,e),this.parser)}numberOfTokens(){return this.tokens.length}symbols(){var e=new Array;return r.getSymbols(this.tokens,e),e}variables(){var e=[];r.getSymbols(this.tokens,e);var t=o.Parser.functions;return e.filter((function(e){return!(e in t)}))}renameVariable(e,t){let i=this.tokens;r.renameSymbol(e,t,i)}static renameSymbol(e,t,i){for(var n=0;n<i.length;n++){var s=i[n];16===s.type&&s.value===e?s.value=t:64===s.type&&r.renameSymbol(e,t,s.value)}}static getSymbols(e,t){for(var i=0;i<e.length;i++){var n=e[i];16===n.type&&-1===t.indexOf(n.value)?t.push(n.value):64===n.type&&r.getSymbols(n.value,t)}}}t.Expression=r},1271:(e,t)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.Functions=void 0;t.Functions=class{static rad2deg(e){return e*(180/Math.PI)}static deg2rad(e){return e*(Math.PI/180)}static hasFlag(e,t){return Boolean(e&t)}static greaterThan(e,t){return e>t}static lessThan(e,t){return e<t}static greaterThanEqual(e,t){return e>=t}static lessThanEqual(e,t){return e<=t}static andOperator(e,t){return Boolean(e&&t)}static orOperator(e,t){return Boolean(e||t)}static add(e,t){return e+t}static sub(e,t){return e-t}static mul(e,t){return e*t}static div(e,t){return e/t}static mod(e,t){return e%t}static equal(e,t){return e==t}static notEqual(e,t){return e!=t}static neg(e){return-e}static not(e){return!e}static condition(e,t,i){return e?t:i}}},6783:(e,t)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.Instruction=void 0;class i{constructor(e,t){this.type=e,this.value=void 0!==t?t:0}static unaryInstruction(e){return new i(2,e)}static binaryInstruction(e){return new i(4,e)}static ternaryInstruction(e){return new i(8,e)}}t.Instruction=i},6199:(e,t,i)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.ParserState=void 0;const n=i(6783);class s{constructor(e){this.parseTerm=function(e){for(this.parseFactor(e);this.accept(2,s.TERM_OPERATORS);){var t=this.current;this.parseFactor(e),e.push(n.Instruction.binaryInstruction(t.value))}},this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null}next(){return this.current=this.nextToken,this.nextToken=this.tokens.next()}tokenMatches(e,t){return void 0===t||(Array.isArray(t)?s.contains(t,e.value):"function"==typeof t?t(e):e.value===t)}save(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()}restore(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken}accept(e,t){return!(this.nextToken.type!==e||!this.tokenMatches(this.nextToken,t))&&(this.next(),!0)}expect(e,t){if(!this.accept(e,t)){var i=this.tokens.getCoordinates();throw new Error("parse error ["+i.line+":"+i.column+"]: Expected "+(t||e))}}parseAtom(e){if(this.accept(64))e.push(new n.Instruction(16,this.current.value));else if(this.accept(4))e.push(new n.Instruction(1,this.current.value));else if(this.accept(8))e.push(new n.Instruction(1,this.current.value));else{if(!this.accept(16,"("))throw new Error("unexpected "+this.nextToken);this.parseExpression(e),this.expect(16,")")}}parseExpression(e){this.parseConditionalExpression(e)}parseConditionalExpression(e){for(this.parseOrExpression(e);this.accept(2,"?");){var t=[],i=[];this.parseConditionalExpression(t),this.expect(2,":"),this.parseConditionalExpression(i),e.push(new n.Instruction(64,t)),e.push(new n.Instruction(64,i)),e.push(n.Instruction.ternaryInstruction("?"))}}parseOrExpression(e){for(this.parseAndExpression(e);this.accept(2,"or");){var t=[];this.parseAndExpression(t),e.push(new n.Instruction(64,t)),e.push(n.Instruction.binaryInstruction("or"))}}parseAndExpression(e){for(this.parseComparison(e);this.accept(2,"and");){var t=[];this.parseComparison(t),e.push(new n.Instruction(64,t)),e.push(n.Instruction.binaryInstruction("and"))}}parseComparison(e){for(this.parseAddSub(e);this.accept(2,s.COMPARISON_OPERATORS);){var t=this.current;this.parseAddSub(e),e.push(n.Instruction.binaryInstruction(t.value))}}parseAddSub(e){for(this.parseTerm(e);this.accept(2,s.ADD_SUB_OPERATORS);){var t=this.current;this.parseTerm(e),e.push(n.Instruction.binaryInstruction(t.value))}}parseFactor(e){var t=this.tokens.unaryOps;if(this.save(),this.accept(2,(function(e){return e.value in t})))if("-"!==this.current.value&&"+"!==this.current.value&&16===this.nextToken.type&&"("===this.nextToken.value)this.restore(),this.parseExponential(e);else{var i=this.current;this.parseFactor(e),e.push(n.Instruction.unaryInstruction(i.value))}else this.parseExponential(e)}parseExponential(e){for(this.parsePostfixExpression(e);this.accept(2,"^");)this.parseFactor(e),e.push(n.Instruction.binaryInstruction("^"))}parsePostfixExpression(e){for(this.parseFunctionCall(e);this.accept(2,"!");)e.push(n.Instruction.unaryInstruction("!"))}parseFunctionCall(e){var t=this.tokens.unaryOps;if(this.accept(2,(function(e){return e.value in t}))){var i=this.current;this.parseAtom(e),e.push(n.Instruction.unaryInstruction(i.value))}else for(this.parseAtom(e);this.accept(16,"(");)if(this.accept(16,")"))e.push(new n.Instruction(32,0));else{var s=this.parseArgumentList(e);e.push(new n.Instruction(32,s))}}parseArgumentList(e){for(var t=0;!this.accept(16,")");)for(this.parseExpression(e),++t;this.accept(32);)this.parseExpression(e),++t;return t}static contains(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}}t.ParserState=s,s.COMPARISON_OPERATORS=["==","!=","<","<=",">=",">","in"],s.ADD_SUB_OPERATORS=["+","-","||"],s.TERM_OPERATORS=["*","/","%"]},6768:(e,t,i)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;const n=i(9801),s=i(6199),o=i(5030),r=i(1271);class a{static setConsts(e){for(var t in e)e.hasOwnProperty(t)&&(a.consts[t]=e[t])}parse(e){var t=[],i=new s.ParserState(new n.TokenStream(e));return i.parseExpression(t),i.expect(1,"EOF"),new o.Expression(t,this)}evaluate(e,t){return this.parse(e).evaluate(t)}static parse(e){return this.sharedParser.parse(e)}static evaluate(e,t){return this.sharedParser.parse(e).evaluate(t)}}t.Parser=a,a.unaryOps={sin:Math.sin,asin:Math.asin,cos:Math.cos,acos:Math.acos,tan:Math.tan,atan:Math.atan,sqrt:Math.sqrt,log:Math.log10,ln:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":r.Functions.neg,"+":Number,not:r.Functions.not,rad2deg:r.Functions.rad2deg,deg2rad:r.Functions.deg2rad},a.binaryOps={"+":r.Functions.add,"-":r.Functions.sub,"*":r.Functions.mul,"/":r.Functions.div,"%":r.Functions.mod,"^":Math.pow,"==":r.Functions.equal,"!=":r.Functions.notEqual},a.ternaryOps={"?":r.Functions.condition},a.functions={pow:Math.pow,atan2:Math.atan2,has:r.Functions.hasFlag,and:r.Functions.andOperator,or:r.Functions.orOperator,gt:r.Functions.greaterThan,ge:r.Functions.greaterThanEqual,lt:r.Functions.lessThan,le:r.Functions.lessThanEqual,eq:r.Functions.equal,ne:r.Functions.notEqual},a.consts={E:Math.E,PI:Math.PI,true:1,false:0,null:null},a.sharedParser=new a},7991:(e,t,i)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.Simplifier=void 0;const n=i(6783),s=i(8570);class o{static simplify(e,t,i,r,a){for(var l,u,d,c,h=[],g=[],p=0;p<e.length;p++){var f=e[p],m=f.type;if(1===m)h.push(f);else if(16===m&&s.Evaluator.hasValue(a,f.value))f=new n.Instruction(1,s.Evaluator.getValue(a,f.value)),h.push(f);else if(4===m&&h.length>1)u=h.pop(),l=h.pop(),c=i[f.value],f=new n.Instruction(1,c(l.value,u.value)),h.push(f);else if(8===m&&h.length>2)d=h.pop(),u=h.pop(),l=h.pop(),"?"===f.value?h.push(l.value?u.value:d.value):(c=r[f.value],f=new n.Instruction(1,c(l.value,u.value,d.value)),h.push(f));else if(2===m&&h.length>0)l=h.pop(),c=t[f.value],f=new n.Instruction(1,c(l.value)),h.push(f);else if(64===m){for(;h.length>0;)g.push(h.shift());g.push(new n.Instruction(64,o.simplify(f.value,t,i,r,a)))}else{for(;h.length>0;)g.push(h.shift());g.push(f)}}for(;h.length>0;)g.push(h.shift());return g}}t.Simplifier=o},9801:(e,t,i)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.TokenStream=void 0;const n=i(4310),s=i(6768);class o{constructor(e){this.pos=0,this.current=null,this.unaryOps=s.Parser.unaryOps,this.binaryOps=s.Parser.binaryOps,this.ternaryOps=s.Parser.ternaryOps,this.consts=s.Parser.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null}newToken(e,t,i){return new n.Token(e,t,null!=i?i:this.pos)}save(){this.savedPosition=this.pos,this.savedCurrent=this.current}restore(){this.pos=this.savedPosition,this.current=this.savedCurrent}next(){return this.pos>=this.expression.length?this.newToken(1,"EOF"):this.isWhitespace()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isComma()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')}isString(){var e=!1,t=this.pos,i=this.expression.charAt(t);if("'"===i||'"'===i)for(var n=this.expression.indexOf(i,t+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var s=this.expression.substring(t+1,n);this.current=this.newToken(8,this.unescape(s),t),e=!0;break}n=this.expression.indexOf(i,n+1)}return e}isParen(){var e=this.expression.charAt(this.pos);return("("===e||")"===e)&&(this.current=this.newToken(16,e),this.pos++,!0)}isComma(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(32,","),this.pos++,!0)}isConst(){for(var e=this.pos,t=e;t<this.expression.length;t++){var i=this.expression.charAt(t);if(i.toUpperCase()===i.toLowerCase()&&(t===this.pos||"_"!==i&&"."!==i&&(i<"0"||i>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.consts)return this.current=this.newToken(4,this.consts[n]),this.pos+=n.length,!0}return!1}isNamedOp(){for(var e=this.pos,t=e;t<this.expression.length;t++){var i=this.expression.charAt(t);if(i.toUpperCase()===i.toLowerCase()&&(t===this.pos||"_"!==i&&(i<"0"||i>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps)return this.current=this.newToken(2,n),this.pos+=n.length,!0}return!1}isName(){for(var e=this.pos,t=e,i=!1;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()){if(t===this.pos&&("$"===n||"_"===n)){"_"===n&&(i=!0);continue}if(t===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")&&"["!==n&&"]"!==n&&'"'!==n&&"'"!==n&&"$"!==n)break}else i=!0}if(i){var s=this.expression.substring(e,t);return this.current=this.newToken(64,s),this.pos+=s.length,!0}return!1}isWhitespace(){for(var e=!1,t=this.expression.charAt(this.pos);!(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t||(e=!0,this.pos++,this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e}unescape(e){var t=e.indexOf("\\");if(t<0)return e;for(var i=e.substring(0,t);t>=0;){var n=e.charAt(++t);switch(n){case"'":i+="'";break;case'"':i+='"';break;case"\\":i+="\\";break;case"/":i+="/";break;case"b":i+="\b";break;case"f":i+="\f";break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"u":var s=e.substring(t+1,t+5);o.codePointPattern.test(s)||this.parseError("Illegal escape sequence: \\u"+s),i+=String.fromCharCode(parseInt(s,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++t;var r=e.indexOf("\\",t);i+=e.substring(t,r<0?e.length:r),t=r}return i}isRadixInteger(){var e,t,i=this.pos;if(i>=this.expression.length-2||"0"!==this.expression.charAt(i))return!1;if(++i,"x"===this.expression.charAt(i))e=16,t=/^[0-9a-f]$/i,++i;else{if("b"!==this.expression.charAt(i))return!1;e=2,t=/^[01]$/i,++i}for(var n=!1,s=i;i<this.expression.length;){var o=this.expression.charAt(i);if(!t.test(o))break;i++,n=!0}return n&&(this.current=this.newToken(4,parseInt(this.expression.substring(s,i),e)),this.pos=i),n}isNumber(){for(var e,t=!1,i=this.pos,n=i,s=i,o=!1,r=!1;i<this.expression.length&&((e=this.expression.charAt(i))>="0"&&e<="9"||!o&&"."===e);)"."===e?o=!0:r=!0,i++,t=r;if(t&&(s=i),"e"===e||"E"===e){i++;for(var a=!0,l=!1;i<this.expression.length;){if(e=this.expression.charAt(i),!a||"+"!==e&&"-"!==e){if(!(e>="0"&&e<="9"))break;l=!0,a=!1}else a=!1;i++}l||(i=s)}return t?(this.current=this.newToken(4,parseFloat(this.expression.substring(n,i))),this.pos=i):this.pos=s,t}isOperator(){this.pos;var e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(2,e);else if("∙"===e||"•"===e)this.current=this.newToken(2,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(2,">="),this.pos++):this.current=this.newToken(2,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(2,"<="),this.pos++):this.current=this.newToken(2,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(2,"||"),this.pos++}else if("="===e){if("="!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(2,"=="),this.pos++}else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(2,"!="),this.pos++):this.current=this.newToken(2,e)}return this.pos++,!0}getCoordinates(){var e,t=0,i=-1;do{t++,e=this.pos-i,i=this.expression.indexOf("\n",i+1)}while(i>=0&&i<this.pos);return{line:t,column:e}}parseError(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)}}t.TokenStream=o,o.codePointPattern=/^[0-9a-f]{4}$/i},4310:(e,t)=>{
/*
 * Copyright (C) 2019, Siemens AG.
 * All Rights Reserved.
 *
 * Typed Expression Evaluator (TEE)
 * Ported to TypeScript from expr-eval v1.2.2
 * Copyright (c) Matthew Crumley
 * Licensed under MIT License (MIT)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;t.Token=class{constructor(e,t,i){this.type=e,this.value=t,this.index=i}}},9229:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.POSITION_TYPE_RELATIVE=t.OVERFLOW_SCROLL=t.OVERFLOW_HIDDEN=t.OVERFLOW_VISIBLE=t.NODE_TYPE_TEXT=t.NODE_TYPE_DEFAULT=t.MEASURE_MODE_AT_MOST=t.MEASURE_MODE_EXACTLY=t.MEASURE_MODE_UNDEFINED=t.LOGLEVEL_FATAL=t.LOGLEVEL_VERBOSE=t.LOGLEVEL_DEBUG=t.LOGLEVEL_INFO=t.LOGLEVEL_WARN=t.LOGLEVEL_ERROR=t.JUSTIFY_SPACE_EVENLY=t.JUSTIFY_SPACE_AROUND=t.JUSTIFY_SPACE_BETWEEN=t.JUSTIFY_FLEX_END=t.JUSTIFY_CENTER=t.JUSTIFY_FLEX_START=t.FLEX_DIRECTION_ROW_REVERSE=t.FLEX_DIRECTION_ROW=t.FLEX_DIRECTION_COLUMN_REVERSE=t.FLEX_DIRECTION_COLUMN=t.EXPERIMENTALFEATURE_WEBFLEXBASIS=t.EDGE_ALL=t.EDGE_VERTICAL=t.EDGE_HORIZONTAL=t.EDGE_END=t.EDGE_START=t.EDGE_BOTTOM=t.EDGE_RIGHT=t.EDGE_TOP=t.EDGE_LEFT=t.DISPLAY_NONE=t.DISPLAY_FLEX=t.DIRECTION_RTL=t.DIRECTION_LTR=t.DIRECTION_INHERIT=t.DIMENSION_HEIGHT=t.DIMENSION_WIDTH=t.ALIGN_SPACE_AROUND=t.ALIGN_SPACE_BETWEEN=t.ALIGN_BASELINE=t.ALIGN_STRETCH=t.ALIGN_FLEX_END=t.ALIGN_CENTER=t.ALIGN_FLEX_START=t.ALIGN_AUTO=void 0,t.getInstanceCount=t.Node=t.Config=t.Value=t.Size=t.Layout=t.UNDEFINED=t.WRAP_WRAP_REVERSE=t.WRAP_WRAP=t.WRAP_NO_WRAP=t.UNIT_AUTO=t.UNIT_PERCENT=t.UNIT_POINT=t.UNIT_UNDEFINED=t.POSITION_TYPE_ABSOLUTE=void 0;const n=i(7118),s=i(4188),o=i(5491);t.ALIGN_AUTO=n.YGAlign.Auto,t.ALIGN_FLEX_START=n.YGAlign.FlexStart,t.ALIGN_CENTER=n.YGAlign.Center,t.ALIGN_FLEX_END=n.YGAlign.FlexEnd,t.ALIGN_STRETCH=n.YGAlign.Stretch,t.ALIGN_BASELINE=n.YGAlign.Baseline,t.ALIGN_SPACE_BETWEEN=n.YGAlign.SpaceBetween,t.ALIGN_SPACE_AROUND=n.YGAlign.SpaceAround,t.DIMENSION_WIDTH=n.YGDimension.Width,t.DIMENSION_HEIGHT=n.YGDimension.Height,t.DIRECTION_INHERIT=n.YGDirection.Inherit,t.DIRECTION_LTR=n.YGDirection.LTR,t.DIRECTION_RTL=n.YGDirection.RTL,t.DISPLAY_FLEX=n.YGDisplay.Flex,t.DISPLAY_NONE=n.YGDisplay.None,t.EDGE_LEFT=n.YGEdge.Left,t.EDGE_TOP=n.YGEdge.Top,t.EDGE_RIGHT=n.YGEdge.Right,t.EDGE_BOTTOM=n.YGEdge.Bottom,t.EDGE_START=n.YGEdge.Start,t.EDGE_END=n.YGEdge.End,t.EDGE_HORIZONTAL=n.YGEdge.Horizontal,t.EDGE_VERTICAL=n.YGEdge.Vertical,t.EDGE_ALL=n.YGEdge.All,t.EXPERIMENTALFEATURE_WEBFLEXBASIS=n.YGExperimentalFeature.WebFlexBasis,t.FLEX_DIRECTION_COLUMN=n.YGFlexDirection.Column,t.FLEX_DIRECTION_COLUMN_REVERSE=n.YGFlexDirection.ColumnReverse,t.FLEX_DIRECTION_ROW=n.YGFlexDirection.Row,t.FLEX_DIRECTION_ROW_REVERSE=n.YGFlexDirection.RowReverse,t.JUSTIFY_FLEX_START=n.YGJustify.FlexStart,t.JUSTIFY_CENTER=n.YGJustify.Center,t.JUSTIFY_FLEX_END=n.YGJustify.FlexEnd,t.JUSTIFY_SPACE_BETWEEN=n.YGJustify.SpaceBetween,t.JUSTIFY_SPACE_AROUND=n.YGJustify.SpaceAround,t.JUSTIFY_SPACE_EVENLY=n.YGJustify.SpaceEvenly,t.LOGLEVEL_ERROR=n.YGLogLevel.Error,t.LOGLEVEL_WARN=n.YGLogLevel.Warn,t.LOGLEVEL_INFO=n.YGLogLevel.Info,t.LOGLEVEL_DEBUG=n.YGLogLevel.Debug,t.LOGLEVEL_VERBOSE=n.YGLogLevel.Verbose,t.LOGLEVEL_FATAL=n.YGLogLevel.Fatal,t.MEASURE_MODE_UNDEFINED=n.YGMeasureMode.Undefined,t.MEASURE_MODE_EXACTLY=n.YGMeasureMode.Exactly,t.MEASURE_MODE_AT_MOST=n.YGMeasureMode.AtMost,t.NODE_TYPE_DEFAULT=n.YGNodeType.Default,t.NODE_TYPE_TEXT=n.YGNodeType.Text,t.OVERFLOW_VISIBLE=n.YGOverflow.Visible,t.OVERFLOW_HIDDEN=n.YGOverflow.Hidden,t.OVERFLOW_SCROLL=n.YGOverflow.Scroll,t.POSITION_TYPE_RELATIVE=n.YGPositionType.Relative,t.POSITION_TYPE_ABSOLUTE=n.YGPositionType.Absolute,t.UNIT_UNDEFINED=n.YGUnit.Undefined,t.UNIT_POINT=n.YGUnit.Point,t.UNIT_PERCENT=n.YGUnit.Percent,t.UNIT_AUTO=n.YGUnit.Auto,t.WRAP_NO_WRAP=n.YGWrap.NoWrap,t.WRAP_WRAP=n.YGWrap.Wrap,t.WRAP_WRAP_REVERSE=n.YGWrap.WrapReverse,t.UNDEFINED=void 0;class r{}t.Layout=r;class a{constructor(e,t){e?(this.width=e,this.height=t):(this.width=0,this.height=0)}static fromJS(e){return new a(e.width,e.height)}}t.Size=a;class l{constructor(e,t){e?(this.unit=e,this.value=t):(this.unit=n.YGUnit.Undefined,this.value=0)}}t.Value=l;class u{constructor(){this.config=(0,s.YGConfigNew)()}static create(){return new u}free(){(0,s.YGConfigFree)(this.config)}setExperimentalFeatureEnabled(e,t){(0,s.YGConfigSetExperimentalFeatureEnabled)(this.config,e,t)}setPointScaleFactor(e){(0,s.YGConfigSetPointScaleFactor)(this.config,e)}isExperimentalFeatureEnabled(e){(0,s.YGConfigIsExperimentalFeatureEnabled)(this.config,e)}}function d(e){return(0,s.YGNodeGetContext)(e)}function c(e){return new l(e.unit,e.value)}t.Config=u;class h{constructor(e){this.node=e?(0,s.YGNodeNewWithConfig)(e.config):(0,s.YGNodeNew)(),(0,s.YGNodeSetContext)(this.node,this)}static create(e){return e?new h(e):new h}static createDefault(){return new h(void 0)}static createWithConfig(e){return new h(e)}calculateLayout(e,t,i){(0,s.YGNodeCalculateLayout)(this.node,e,t,i)}copyStyle(e){(0,s.YGNodeCopyStyle)(this.node,e)}free(){(0,s.YGNodeFree)(this.node)}freeRecursive(){(0,s.YGNodeFreeRecursive)(this.node)}getAlignContent(){return(0,s.YGNodeStyleGetAlignContent)(this.node)}getAlignItems(){return(0,s.YGNodeStyleGetAlignItems)(this.node)}getAlignSelf(){return(0,s.YGNodeStyleGetAlignSelf)(this.node)}getAspectRatio(){return(0,s.YGNodeStyleGetAspectRatio)(this.node)}getBorder(e){return(0,s.YGNodeStyleGetBorder)(this.node,e)}getChild(e){return d((0,s.YGNodeGetChild)(this.node,e))}getChildCount(){return(0,s.YGNodeGetChildCount)(this.node)}getComputedBorder(e){return(0,s.YGNodeLayoutGetBorder)(this.node,e)}getComputedBottom(){return(0,s.YGNodeLayoutGetBottom)(this.node)}getComputedHeight(){return(0,o.YGFloatSanitize)((0,s.YGNodeLayoutGetHeight)(this.node))}getComputedLayout(){const e=new r;return e.left=(0,s.YGNodeLayoutGetLeft)(this.node),e.right=(0,s.YGNodeLayoutGetRight)(this.node),e.top=(0,s.YGNodeLayoutGetTop)(this.node),e.bottom=(0,s.YGNodeLayoutGetBottom)(this.node),e.width=(0,s.YGNodeLayoutGetWidth)(this.node),e.height=(0,s.YGNodeLayoutGetHeight)(this.node),e}getComputedLeft(){return(0,o.YGFloatSanitize)((0,s.YGNodeLayoutGetLeft)(this.node))}getComputedMargin(e){return(0,o.YGFloatSanitize)((0,s.YGNodeLayoutGetMargin)(this.node,e))}getComputedPadding(e){return(0,o.YGFloatSanitize)((0,s.YGNodeLayoutGetPadding)(this.node,e))}getComputedRight(){return(0,o.YGFloatSanitize)((0,s.YGNodeLayoutGetRight)(this.node))}getComputedTop(){return(0,o.YGFloatSanitize)((0,s.YGNodeLayoutGetTop)(this.node))}getComputedWidth(){return(0,o.YGFloatSanitize)((0,s.YGNodeLayoutGetWidth)(this.node))}getDisplay(){return(0,s.YGNodeStyleGetDisplay)(this.node)}getFlexBasis(){return c((0,s.YGNodeStyleGetFlexBasis)(this.node))}getFlexDirection(){return(0,s.YGNodeStyleGetFlexDirection)(this.node)}getFlexGrow(){return(0,s.YGNodeStyleGetFlexGrow)(this.node)}getFlexShrink(){return(0,s.YGNodeStyleGetFlexShrink)(this.node)}getFlexWrap(){return(0,s.YGNodeStyleGetFlexWrap)(this.node)}getHeight(){return c((0,s.YGNodeStyleGetHeight)(this.node))}getJustifyContent(){return(0,s.YGNodeStyleGetJustifyContent)(this.node)}getMargin(e){return c((0,s.YGNodeStyleGetMargin)(this.node,e))}getMaxHeight(){return c((0,s.YGNodeStyleGetMaxHeight)(this.node))}getMaxWidth(){return c((0,s.YGNodeStyleGetMaxWidth)(this.node))}getMinHeight(){return c((0,s.YGNodeStyleGetMinHeight)(this.node))}getMinWidth(){return c((0,s.YGNodeStyleGetMinWidth)(this.node))}getOverflow(){return(0,s.YGNodeStyleGetOverflow)(this.node)}getPadding(e){return c((0,s.YGNodeStyleGetPadding)(this.node,e))}getParent(){const e=(0,s.YGNodeGetParent)(this.node);if(e)return d(e)}getPosition(e){return c((0,s.YGNodeStyleGetPosition)(this.node,e))}getPositionType(){return(0,s.YGNodeStyleGetPositionType)(this.node)}getWidth(){return c((0,s.YGNodeStyleGetWidth)(this.node))}insertChild(e,t){(0,s.YGNodeInsertChild)(this.node,e.node,t)}isDirty(){return(0,s.YGNodeIsDirty)(this.node)}markDirty(){(0,s.YGNodeMarkDirty)(this.node)}removeChild(e){(0,s.YGNodeRemoveChild)(this.node,e.node)}reset(){(0,s.YGNodeReset)(this.node)}setAlignContent(e){(0,s.YGNodeStyleSetAlignContent)(this.node,e)}setAlignItems(e){(0,s.YGNodeStyleSetAlignItems)(this.node,e)}setAlignSelf(e){(0,s.YGNodeStyleSetAlignSelf)(this.node,e)}setAspectRatio(e){(0,s.YGNodeStyleSetAspectRatio)(this.node,e)}setBorder(e,t){(0,s.YGNodeStyleSetBorder)(this.node,e,t)}setDisplay(e){(0,s.YGNodeStyleSetDisplay)(this.node,e)}setFlex(e){(0,s.YGNodeStyleSetFlex)(this.node,e)}setFlexBasis(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type");this.setFlexBasisPercent(parseFloat(e))}else(0,s.YGNodeStyleSetFlexBasis)(this.node,e)}setFlexBasisPercent(e){(0,s.YGNodeStyleSetFlexBasisPercent)(this.node,e)}setFlexDirection(e){(0,s.YGNodeStyleSetFlexDirection)(this.node,e)}setFlexGrow(e){(0,s.YGNodeStyleSetFlexGrow)(this.node,e)}setFlexShrink(e){(0,s.YGNodeStyleSetFlexShrink)(this.node,e)}setFlexWrap(e){(0,s.YGNodeStyleSetFlexWrap)(this.node,e)}setHeight(e){if("string"==typeof e)if("auto"===e)this.setHeightAuto();else{if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setHeightPercent(parseFloat(e))}else(0,s.YGNodeStyleSetHeight)(this.node,e)}setHeightAuto(){(0,s.YGNodeStyleSetHeightAuto)(this.node)}setHeightPercent(e){(0,s.YGNodeStyleSetHeightPercent)(this.node,e)}setJustifyContent(e){(0,s.YGNodeStyleSetJustifyContent)(this.node,e)}setMargin(e,t){if("string"==typeof t)if("auto"===t)this.setMarginAuto(e);else{if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setMarginPercent(e,parseFloat(t))}else(0,s.YGNodeStyleSetMargin)(this.node,e,t)}setMarginAuto(e){(0,s.YGNodeStyleSetMarginAuto)(this.node,e)}setMarginPercent(e,t){(0,s.YGNodeStyleSetMarginPercent)(this.node,e,t)}setMaxHeight(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMaxHeightPercent(parseFloat(e))}else(0,s.YGNodeStyleSetMaxHeight)(this.node,e)}setMaxHeightPercent(e){(0,s.YGNodeStyleSetMaxHeightPercent)(this.node,e)}setMaxWidth(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMaxWidthPercent(parseFloat(e))}else(0,s.YGNodeStyleSetMaxWidth)(this.node,e)}setMaxWidthPercent(e){(0,s.YGNodeStyleSetMaxWidthPercent)(this.node,e)}setMeasureFunc(e){null==e?this.unsetMeasureFunc():(0,s.YGNodeSetMeasureFunc)(this.node,e)}unsetMeasureFunc(){(0,s.YGNodeSetMeasureFunc)(this.node,null)}setMinHeight(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMinHeightPercent(parseFloat(e))}else(0,s.YGNodeStyleSetMinHeight)(this.node,e)}setMinHeightPercent(e){(0,s.YGNodeStyleSetMinHeightPercent)(this.node,e)}setMinWidth(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMinWidthPercent(parseFloat(e))}else(0,s.YGNodeStyleSetMinWidth)(this.node,e)}setMinWidthPercent(e){(0,s.YGNodeStyleSetMinWidthPercent)(this.node,e)}setOverflow(e){(0,s.YGNodeStyleSetOverflow)(this.node,e)}setPadding(e,t){if("string"==typeof t){if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setPaddingPercent(e,parseFloat(t))}else(0,s.YGNodeStyleSetPadding)(this.node,e,t)}setPaddingPercent(e,t){(0,s.YGNodeStyleSetPaddingPercent)(this.node,e,t)}setPosition(e,t){if("string"==typeof t){if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setPositionPercent(e,parseFloat(t))}else(0,s.YGNodeStyleSetPosition)(this.node,e,t)}setPositionPercent(e,t){(0,s.YGNodeStyleSetPositionPercent)(this.node,e,t)}setPositionType(e){(0,s.YGNodeStyleSetPositionType)(this.node,e)}setWidth(e){if("string"==typeof e)if("%"===e[e.length-1])this.setWidthPercent(parseFloat(e));else{if("auto"!==e)throw new Error("Invalid input type.");this.setWidthAuto()}else(0,s.YGNodeStyleSetWidth)(this.node,e)}setWidthAuto(){(0,s.YGNodeStyleSetWidthAuto)(this.node)}setWidthPercent(e){(0,s.YGNodeStyleSetWidthPercent)(this.node,e)}unsetMeasureFun(){(0,s.YGNodeSetMeasureFunc)(this.node,void 0)}}t.Node=h,t.getInstanceCount=function(){return(0,s.YGNodeGetInstanceCount)()}},7118:(e,t)=>{var i,n,s,o,r,a,l,u,d,c,h,g,p,f,m,y;Object.defineProperty(t,"__esModule",{value:!0}),t.YGWrapToString=t.YGWrap=t.YGWrapCount=t.YGUnitToString=t.YGUnit=t.YGUnitCount=t.YGPrintOptionsToString=t.YGPrintOptions=t.YGPrintOptionsCount=t.YGPositionTypeToString=t.YGPositionType=t.YGPositionTypeCount=t.YGOverflowToString=t.YGOverflow=t.YGOverflowCount=t.YGNodeTypeToString=t.YGNodeType=t.YGNodeTypeCount=t.YGMeasureModeToString=t.YGMeasureMode=t.YGMeasureModeCount=t.YGLogLevelToString=t.YGLogLevel=t.YGLogLevelCount=t.YGJustifyToString=t.YGJustify=t.YGJustifyCount=t.YGFlexDirectionToString=t.YGFlexDirection=t.YGFlexDirectionCount=t.YGExperimentalFeatureToString=t.YGExperimentalFeature=t.YGExperimentalFeatureCount=t.YGEdgeToString=t.YGEdge=t.YGEdgeCount=t.YGDisplayToString=t.YGDisplay=t.YGDisplayCount=t.YGDirectionToString=t.YGDirection=t.YGDimensionToString=t.YGDimension=t.YGDimensionCount=t.YGAlignToString=t.YGAlign=t.YGAlignCount=void 0,t.YGAlignCount=8,function(e){e[e.Auto=0]="Auto",e[e.FlexStart=1]="FlexStart",e[e.Center=2]="Center",e[e.FlexEnd=3]="FlexEnd",e[e.Stretch=4]="Stretch",e[e.Baseline=5]="Baseline",e[e.SpaceBetween=6]="SpaceBetween",e[e.SpaceAround=7]="SpaceAround"}(i=t.YGAlign||(t.YGAlign={})),t.YGAlignToString=function(e){switch(e){case i.Auto:return"auto";case i.FlexStart:return"flex-start";case i.Center:return"center";case i.FlexEnd:return"flex-end";case i.Stretch:return"stretch";case i.Baseline:return"baseline";case i.SpaceBetween:return"space-between";case i.SpaceAround:return"space-around"}return"unknown"},t.YGDimensionCount=2,function(e){e[e.Width=0]="Width",e[e.Height=1]="Height"}(n=t.YGDimension||(t.YGDimension={})),t.YGDimensionToString=function(e){switch(e){case n.Width:return"width";case n.Height:return"height"}return"unknown"},function(e){e[e.Inherit=0]="Inherit",e[e.LTR=1]="LTR",e[e.RTL=2]="RTL"}(s=t.YGDirection||(t.YGDirection={})),t.YGDirectionToString=function(e){switch(e){case s.Inherit:return"inherit";case s.LTR:return"ltr";case s.RTL:return"rtl"}return"unknown"},t.YGDisplayCount=2,function(e){e[e.Flex=0]="Flex",e[e.None=1]="None"}(o=t.YGDisplay||(t.YGDisplay={})),t.YGDisplayToString=function(e){switch(e){case o.Flex:return"flex";case o.None:return"none"}return"unknown"},t.YGEdgeCount=9,function(e){e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom",e[e.Start=4]="Start",e[e.End=5]="End",e[e.Horizontal=6]="Horizontal",e[e.Vertical=7]="Vertical",e[e.All=8]="All"}(r=t.YGEdge||(t.YGEdge={})),t.YGEdgeToString=function(e){switch(e){case r.Left:return"left";case r.Top:return"top";case r.Right:return"right";case r.Bottom:return"bottom";case r.Start:return"start";case r.End:return"end";case r.Horizontal:return"horizontal";case r.Vertical:return"vertical";case r.All:return"all"}return"unknown"},t.YGExperimentalFeatureCount=1,function(e){e[e.WebFlexBasis=0]="WebFlexBasis"}(a=t.YGExperimentalFeature||(t.YGExperimentalFeature={})),t.YGExperimentalFeatureToString=function(e){return e===a.WebFlexBasis?"web-flex-basis":"unknown"},t.YGFlexDirectionCount=4,function(e){e[e.Column=0]="Column",e[e.ColumnReverse=1]="ColumnReverse",e[e.Row=2]="Row",e[e.RowReverse=3]="RowReverse"}(l=t.YGFlexDirection||(t.YGFlexDirection={})),t.YGFlexDirectionToString=function(e){switch(e){case l.Column:return"column";case l.ColumnReverse:return"column-reverse";case l.Row:return"row";case l.RowReverse:return"row-reverse"}return"unknown"},t.YGJustifyCount=6,function(e){e[e.FlexStart=0]="FlexStart",e[e.Center=1]="Center",e[e.FlexEnd=2]="FlexEnd",e[e.SpaceBetween=3]="SpaceBetween",e[e.SpaceAround=4]="SpaceAround",e[e.SpaceEvenly=5]="SpaceEvenly"}(u=t.YGJustify||(t.YGJustify={})),t.YGJustifyToString=function(e){switch(e){case u.FlexStart:return"flex-start";case u.Center:return"center";case u.FlexEnd:return"flex-end";case u.SpaceBetween:return"space-between";case u.SpaceAround:return"space-around";case u.SpaceEvenly:return"space-evenly"}return"unknown"},t.YGLogLevelCount=6,function(e){e[e.Error=0]="Error",e[e.Warn=1]="Warn",e[e.Info=2]="Info",e[e.Debug=3]="Debug",e[e.Verbose=4]="Verbose",e[e.Fatal=5]="Fatal"}(d=t.YGLogLevel||(t.YGLogLevel={})),t.YGLogLevelToString=function(e){switch(e){case d.Error:return"error";case d.Warn:return"warn";case d.Info:return"info";case d.Debug:return"debug";case d.Verbose:return"verbose";case d.Fatal:return"fatal"}return"unknown"},t.YGMeasureModeCount=3,function(e){e[e.Undefined=0]="Undefined",e[e.Exactly=1]="Exactly",e[e.AtMost=2]="AtMost"}(c=t.YGMeasureMode||(t.YGMeasureMode={})),t.YGMeasureModeToString=function(e){switch(e){case c.Undefined:return"undefined";case c.Exactly:return"exactly";case c.AtMost:return"at-most"}return"unknown"},t.YGNodeTypeCount=2,function(e){e[e.Default=0]="Default",e[e.Text=1]="Text"}(h=t.YGNodeType||(t.YGNodeType={})),t.YGNodeTypeToString=function(e){switch(e){case h.Default:return"default";case h.Text:return"text"}return"unknown"},t.YGOverflowCount=3,function(e){e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.Scroll=2]="Scroll"}(g=t.YGOverflow||(t.YGOverflow={})),t.YGOverflowToString=function(e){switch(e){case g.Visible:return"visible";case g.Hidden:return"hidden";case g.Scroll:return"scroll"}return"unknown"},t.YGPositionTypeCount=2,function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(p=t.YGPositionType||(t.YGPositionType={})),t.YGPositionTypeToString=function(e){switch(e){case p.Relative:return"relative";case p.Absolute:return"absolute"}return"unknown"},t.YGPrintOptionsCount=3,function(e){e[e.Layout=1]="Layout",e[e.Style=2]="Style",e[e.Children=4]="Children"}(f=t.YGPrintOptions||(t.YGPrintOptions={})),t.YGPrintOptionsToString=function(e){switch(e){case f.Layout:return"layout";case f.Style:return"style";case f.Children:return"children"}return"unknown"},t.YGUnitCount=4,function(e){e[e.Undefined=0]="Undefined",e[e.Point=1]="Point",e[e.Percent=2]="Percent",e[e.Auto=3]="Auto"}(m=t.YGUnit||(t.YGUnit={})),t.YGUnitToString=function(e){switch(e){case m.Undefined:return"undefined";case m.Point:return"point";case m.Percent:return"percent";case m.Auto:return"auto"}return"unknown"},t.YGWrapCount=3,function(e){e[e.NoWrap=0]="NoWrap",e[e.Wrap=1]="Wrap",e[e.WrapReverse=2]="WrapReverse"}(y=t.YGWrap||(t.YGWrap={})),t.YGWrapToString=function(e){switch(e){case y.NoWrap:return"no-wrap";case y.Wrap:return"wrap";case y.WrapReverse:return"wrap-reverse"}return"unknown"}},9227:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.kWebDefaultFlexShrink=t.kDefaultFlexShrink=t.kDefaultFlexGrow=t.YG_MAX_CACHED_RESULT_COUNT=t.dim=t.pos=t.trailing=t.leading=t.YGCachedMeasurement=void 0;const n=i(7118),s=i(4188);class o{constructor(){this.availableWidth=0,this.availableHeight=0,this.widthMeasureMode=n.YGMeasureMode.AtMost,this.heightMeasureMode=n.YGMeasureMode.AtMost,this.computedWidth=-1,this.computedHeight=-1}isEqual(e){let t=this.widthMeasureMode==e.widthMeasureMode&&this.heightMeasureMode==e.heightMeasureMode;return(0,s.YGFloatIsUndefined)(this.availableWidth)&&(0,s.YGFloatIsUndefined)(e.availableWidth)||(t=t&&this.availableWidth==e.availableWidth),(0,s.YGFloatIsUndefined)(this.availableHeight)&&(0,s.YGFloatIsUndefined)(e.availableHeight)||(t=t&&this.availableHeight==e.availableHeight),(0,s.YGFloatIsUndefined)(this.computedWidth)&&(0,s.YGFloatIsUndefined)(e.computedWidth)||(t=t&&this.computedWidth==e.computedWidth),(0,s.YGFloatIsUndefined)(this.computedHeight)&&(0,s.YGFloatIsUndefined)(e.computedHeight)||(t=t&&this.computedHeight==e.computedHeight),t}clone(){let e=new o;return e.availableWidth=this.availableWidth,e.availableHeight=this.availableHeight,e.widthMeasureMode=this.widthMeasureMode,e.heightMeasureMode=this.heightMeasureMode,e.computedWidth=this.computedWidth,e.computedHeight=this.computedHeight,e}}t.YGCachedMeasurement=o,t.leading=[n.YGEdge.Top,n.YGEdge.Bottom,n.YGEdge.Left,n.YGEdge.Right],t.trailing=[n.YGEdge.Bottom,n.YGEdge.Top,n.YGEdge.Right,n.YGEdge.Left],t.pos=[n.YGEdge.Top,n.YGEdge.Bottom,n.YGEdge.Left,n.YGEdge.Right],t.dim=[n.YGDimension.Height,n.YGDimension.Height,n.YGDimension.Width,n.YGDimension.Width],t.YG_MAX_CACHED_RESULT_COUNT=16,t.kDefaultFlexGrow=0,t.kDefaultFlexShrink=0,t.kWebDefaultFlexShrink=1},5491:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cloneYGValueArray=t.YGResolveValueMargin=t.YGResolveFlexDirection=t.YGFlexDirectionIsColumn=t.YGResolveValue=t.YGFlexDirectionIsRow=t.YGFlexDirectionCross=t.YGUnwrapFloatOptional=t.YGFloatSanitize=t.YGValueArrayEqual=t.YGFloatArrayEqual=t.YGFloatMin=t.YGFloatOptionalMax=t.YGFloatMax=t.YGFloatsEqual=t.YGValueEqual=t.YGCollectFlexItemsRowValues=void 0;const n=i(7118),s=i(4989),o=i(4188);function r(e,t){return e.unit==t.unit&&(!!(e.unit==n.YGUnit.Undefined||(0,o.YGFloatIsUndefined)(e.value)&&(0,o.YGFloatIsUndefined)(t.value))||Math.abs(e.value-t.value)<1e-4)}function a(e,t){return(0,o.YGFloatIsUndefined)(e)||(0,o.YGFloatIsUndefined)(t)?(0,o.YGFloatIsUndefined)(e)&&(0,o.YGFloatIsUndefined)(t):Math.abs(e-t)<1e-4}function l(e,t){switch(e.unit){case n.YGUnit.Undefined:case n.YGUnit.Auto:return new s.YGFloatOptional;case n.YGUnit.Point:return new s.YGFloatOptional(e.value);case n.YGUnit.Percent:return new s.YGFloatOptional(e.value*t*.01)}return new s.YGFloatOptional}function u(e){return e==n.YGFlexDirection.Column||e==n.YGFlexDirection.ColumnReverse}function d(e,t){if(t==n.YGDirection.RTL){if(e==n.YGFlexDirection.Row)return n.YGFlexDirection.RowReverse;if(e==n.YGFlexDirection.RowReverse)return n.YGFlexDirection.Row}return e}t.YGCollectFlexItemsRowValues=class{constructor(){this.itemsOnLine=0,this.sizeConsumedOnCurrentLine=0,this.totalFlexGrowFactors=0,this.totalFlexShrinkScaledFactors=0,this.endOfLineIndex=0,this.relativeChildren=[],this.remainingFreeSpace=0,this.mainDim=0,this.crossDim=0}},t.YGValueEqual=r,t.YGFloatsEqual=a,t.YGFloatMax=function(e,t){return(0,o.YGFloatIsUndefined)(e)||(0,o.YGFloatIsUndefined)(t)?(0,o.YGFloatIsUndefined)(e)?t:e:Math.max(e,t)},t.YGFloatOptionalMax=function(e,t){return e.isUndefined()||t.isUndefined()?e.isUndefined()?t:e:e.getValue()>t.getValue()?e:t},t.YGFloatMin=function(e,t){return(0,o.YGFloatIsUndefined)(e)||(0,o.YGFloatIsUndefined)(t)?(0,o.YGFloatIsUndefined)(e)?t:e:Math.min(e,t)},t.YGFloatArrayEqual=function(e,t){let i=!0;for(let n=0;n<e.length&&i;++n)i=a(e[n],t[n]);return i},t.YGValueArrayEqual=function(e,t){let i=!0;for(let n=0;n<e.length&&i;++n)i=r(e[n],t[n]);return i},t.YGFloatSanitize=function(e){return(0,o.YGFloatIsUndefined)(e)?0:e},t.YGUnwrapFloatOptional=function(e){return e.isUndefined()?o.YGUndefined:e.getValue()},t.YGFlexDirectionCross=function(e,t){return u(e)?d(n.YGFlexDirection.Row,t):n.YGFlexDirection.Column},t.YGFlexDirectionIsRow=function(e){return e==n.YGFlexDirection.Row||e==n.YGFlexDirection.RowReverse},t.YGResolveValue=l,t.YGFlexDirectionIsColumn=u,t.YGResolveFlexDirection=d,t.YGResolveValueMargin=function(e,t){return e.unit==n.YGUnit.Auto?new s.YGFloatOptional(0):l(e,t)},t.cloneYGValueArray=function(e){let t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=e[i].clone();return t}},7702:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YGConfig=void 0;t.YGConfig=class{constructor(e){this.cloneNodeCallback=null,this.experimentalFeatures=[!1,!1,!1],this.useWebDefaults=!1,this.useLegacyStretchBehaviour=!1,this.shouldDiffLayoutWithoutLegacyStretchBehaviour=!1,this.pointScaleFactor=1,this.logger=e,this.context=null}}},4989:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YGFloatOptional=void 0;const n=i(4188);class s{constructor(e=void 0){if(e instanceof s)return this.value_=e.getValue(),void(this.isUndefined_=e.isUndefined());(0,n.YGFloatIsUndefined)(e)?(this.value_=0,this.isUndefined_=!0):(this.value_=e,this.isUndefined_=!1)}clone(){return new s(this.isUndefined_?void 0:this.value_)}getValue(){if(this.isUndefined_)throw"Tried to get value of an undefined YGFloatOptional";return this.value_}setValue(e){this.value_=e,this.isUndefined_=!1}isUndefined(){return this.isUndefined_}add(e){return this.isUndefined_||e.isUndefined()?new s:new s(this.value_+e.getValue())}isBigger(e){return!this.isUndefined_&&!e.isUndefined()&&this.value_>e.getValue()}isSmaller(e){return!this.isUndefined_&&!e.isUndefined()&&this.value_<e.getValue()}isBiggerEqual(e){return!!this.isEqual(e)||this.isBigger(e)}isSmallerEqual(e){return!!this.isEqual(e)||this.isSmaller(e)}isEqual(e){return this.isUndefined_==e.isUndefined()&&(!!this.isUndefined_||this.value_==e.getValue())}isDiff(e){return!this.isEqual(e)}isEqualValue(e){return(0,n.YGFloatIsUndefined)(e)==this.isUndefined_&&(this.isUndefined_||e==this.value_)}isDiffValue(e){return!this.isEqualValue(e)}}t.YGFloatOptional=s},8135:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YGLayout=void 0;const n=i(7118),s=i(4989),o=i(9227),r=i(5491),a=i(4188);function l(e){let t=[];for(let i=0;i<e;i++)t.push(new o.YGCachedMeasurement);return t}class u{constructor(){this.dimensions=[void 0,void 0],this.direction=n.YGDirection.Inherit,this.computedFlexBasisGeneration=0,this.computedFlexBasis=new s.YGFloatOptional,this.hadOverflow=!1,this.generationCount=0,this.lastOwnerDirection=n.YGDirection.RTL,this.nextCachedMeasurementsIndex=0,this.measuredDimensions=[void 0,void 0],this.cachedLayout=new o.YGCachedMeasurement,this.didUseLegacyFlag=!1,this.doesLegacyStretchFlagAffectsLayout=!1,this.position=[void 0,void 0,void 0,void 0],this.margin=[void 0,void 0,void 0,void 0,void 0,void 0],this.border=[void 0,void 0,void 0,void 0,void 0,void 0],this.padding=[void 0,void 0,void 0,void 0,void 0,void 0],this.cachedMeasurements=l(16)}equal(e){let t=(0,r.YGFloatArrayEqual)(this.position,e.position)&&(0,r.YGFloatArrayEqual)(this.dimensions,e.dimensions)&&(0,r.YGFloatArrayEqual)(this.margin,e.margin)&&(0,r.YGFloatArrayEqual)(this.border,e.border)&&(0,r.YGFloatArrayEqual)(this.padding,e.padding)&&this.direction==e.direction&&this.hadOverflow==e.hadOverflow&&this.lastOwnerDirection==e.lastOwnerDirection&&this.nextCachedMeasurementsIndex==e.nextCachedMeasurementsIndex&&this.cachedLayout==e.cachedLayout&&this.computedFlexBasis==e.computedFlexBasis;for(let i=0;i<16&&t;++i)t=t&&this.cachedMeasurements[i]==e.cachedMeasurements[i];return(0,a.YGFloatIsUndefined)(this.measuredDimensions[0])&&(0,a.YGFloatIsUndefined)(e.measuredDimensions[0])||(t=t&&this.measuredDimensions[0]==e.measuredDimensions[0]),(0,a.YGFloatIsUndefined)(this.measuredDimensions[1])&&(0,a.YGFloatIsUndefined)(e.measuredDimensions[1])||(t=t&&this.measuredDimensions[1]==e.measuredDimensions[1]),t}diff(e){return!this.equal(e)}clean(){this.dimensions=[void 0,void 0],this.direction=n.YGDirection.Inherit,this.computedFlexBasisGeneration=0,this.computedFlexBasis=new s.YGFloatOptional,this.hadOverflow=!1,this.generationCount=0,this.lastOwnerDirection=n.YGDirection.RTL,this.nextCachedMeasurementsIndex=0,this.measuredDimensions=[void 0,void 0],this.cachedLayout=new o.YGCachedMeasurement,this.didUseLegacyFlag=!1,this.doesLegacyStretchFlagAffectsLayout=!1,this.position=[void 0,void 0,void 0,void 0],this.margin=[void 0,void 0,void 0,void 0,void 0,void 0],this.border=[void 0,void 0,void 0,void 0,void 0,void 0],this.padding=[void 0,void 0,void 0,void 0,void 0,void 0],this.cachedMeasurements=l(16)}clone(){let e=new u;return e.dimensions=[this.dimensions[0],this.dimensions[1]],e.direction=this.direction,e.computedFlexBasisGeneration=this.computedFlexBasisGeneration,e.computedFlexBasis=this.computedFlexBasis.clone(),e.hadOverflow=this.hadOverflow,e.generationCount=this.generationCount,e.lastOwnerDirection=this.lastOwnerDirection,e.nextCachedMeasurementsIndex=this.nextCachedMeasurementsIndex,e.measuredDimensions=[this.measuredDimensions[0],this.measuredDimensions[1]],e.cachedLayout=this.cachedLayout.clone(),e.didUseLegacyFlag=this.didUseLegacyFlag,e.doesLegacyStretchFlagAffectsLayout=this.doesLegacyStretchFlagAffectsLayout,e.position=[this.position[0],this.position[1],this.position[2],this.position[3]],e.margin=[this.margin[0],this.margin[1],this.margin[2],this.margin[3],this.margin[4],this.margin[5]],e.border=[this.border[0],this.border[1],this.border[2],this.border[3],this.border[4],this.border[5]],e.padding=[this.padding[0],this.padding[1],this.padding[2],this.padding[3],this.padding[4],this.padding[5]],e.cachedMeasurements=l(16),e}}t.YGLayout=u},5839:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YGNode=void 0;const n=i(7118),s=i(4989),o=i(7702),r=i(5491),a=i(8135),l=i(5140),u=i(9227),d=i(4188);class c{constructor(e=null,t=null,i=!0,s=n.YGNodeType.Default,r=null,u=null,h=null,g=new l.YGStyle,p=new a.YGLayout,f=0,m=null,y=[],G=null,v=!1,Y=[(0,d.YGValueUndefined)(),(0,d.YGValueUndefined)()]){if(e instanceof c)return console.log("from node"),void this.fromNode(e);this.print_=t,this.hasNewLayout_=i,this.nodeType_=s,this.measure_=r,this.baseline_=u,this.dirtied_=h,this.style_=g,this.layout_=p,this.lineIndex_=f,this.owner_=m,this.children_=y,this.config_=G,this.isDirty_=v,this.resolvedDimensions_=Y,e instanceof o.YGConfig?(this.config_=e,this.context_=null):this.context_=e}relativePosition(e,t){if(this.isLeadingPositionDefined(e))return this.getLeadingPosition(e,t);let i=this.getTrailingPosition(e,t);return i.isUndefined()||i.setValue(-1*i.getValue()),i}operatorAtrib(e){return e==this||(this.clearChildren(),this.fromNode(e)),this}fromNode(e){console.log(e),this.context_=e.context_,this.print_=e.print_,this.hasNewLayout_=e.hasNewLayout_,this.nodeType_=e.nodeType_,this.measure_=e.measure_,this.baseline_=e.baseline_,this.dirtied_=e.dirtied_,this.style_=e.style_,this.layout_=e.layout_,this.lineIndex_=e.lineIndex_,this.owner_=e.owner_,this.children_=e.children_,this.config_=e.config_,this.isDirty_=e.isDirty_,this.resolvedDimensions_=e.resolvedDimensions_}getContext(){return this.context_}getPrintFunc(){return this.print_}getHasNewLayout(){return this.hasNewLayout_}getNodeType(){return this.nodeType_}getMeasure(){return this.measure_}getBaseline(){return this.baseline_}getDirtied(){return this.dirtied_}getStyle(){return this.style_}getLayout(){return this.layout_}getLineIndex(){return this.lineIndex_}getOwner(){return this.owner_}getParent(){return this.getOwner()}getChildren(){return this.children_}getChildrenCount(){return this.children_.length}getChild(e){return this.children_[e]}getConfig(){return this.config_}isDirty(){return this.isDirty_}getResolvedDimensions(){return this.resolvedDimensions_}getResolvedDimension(e){return this.resolvedDimensions_[e]}getLeadingPosition(e,t){if((0,r.YGFlexDirectionIsRow)(e)){const e=(0,d.YGComputedEdgeValue)(this.style_.position,n.YGEdge.Start,(0,d.YGValueUndefined)());if(e.unit!=n.YGUnit.Undefined)return(0,r.YGResolveValue)(e,t)}const i=(0,d.YGComputedEdgeValue)(this.style_.position,u.leading[e],(0,d.YGValueUndefined)());return i.unit==n.YGUnit.Undefined?new s.YGFloatOptional(0):(0,r.YGResolveValue)(i,t)}isLeadingPositionDefined(e){return(0,r.YGFlexDirectionIsRow)(e)&&(0,d.YGComputedEdgeValue)(this.style_.position,n.YGEdge.Start,(0,d.YGValueUndefined)()).unit!=n.YGUnit.Undefined||(0,d.YGComputedEdgeValue)(this.style_.position,u.leading[e],(0,d.YGValueUndefined)()).unit!=n.YGUnit.Undefined}isTrailingPosDefined(e){return(0,r.YGFlexDirectionIsRow)(e)&&(0,d.YGComputedEdgeValue)(this.style_.position,n.YGEdge.End,(0,d.YGValueUndefined)()).unit!=n.YGUnit.Undefined||(0,d.YGComputedEdgeValue)(this.style_.position,u.trailing[e],(0,d.YGValueUndefined)()).unit!=n.YGUnit.Undefined}getTrailingPosition(e,t){if((0,r.YGFlexDirectionIsRow)(e)){const e=(0,d.YGComputedEdgeValue)(this.style_.position,n.YGEdge.End,(0,d.YGValueUndefined)());if(e.unit!=n.YGUnit.Undefined)return(0,r.YGResolveValue)(e,t)}const i=(0,d.YGComputedEdgeValue)(this.style_.position,u.trailing[e],(0,d.YGValueUndefined)());return i.unit==n.YGUnit.Undefined?new s.YGFloatOptional(0):(0,r.YGResolveValue)(i,t)}getLeadingMargin(e,t){return(0,r.YGFlexDirectionIsRow)(e)&&this.style_.margin[n.YGEdge.Start].unit!=n.YGUnit.Undefined?(0,r.YGResolveValueMargin)(this.style_.margin[n.YGEdge.Start],t):(0,r.YGResolveValueMargin)((0,d.YGComputedEdgeValue)(this.style_.margin,u.leading[e],(0,d.YGValueZero)()),t)}getTrailingMargin(e,t){return(0,r.YGFlexDirectionIsRow)(e)&&this.style_.margin[n.YGEdge.End].unit!=n.YGUnit.Undefined?(0,r.YGResolveValueMargin)(this.style_.margin[n.YGEdge.End],t):(0,r.YGResolveValueMargin)((0,d.YGComputedEdgeValue)(this.style_.margin,u.trailing[e],(0,d.YGValueZero)()),t)}getLeadingBorder(e){if((0,r.YGFlexDirectionIsRow)(e)&&this.style_.border[n.YGEdge.Start].unit!=n.YGUnit.Undefined&&!(0,d.YGFloatIsUndefined)(this.style_.border[n.YGEdge.Start].value)&&this.style_.border[n.YGEdge.Start].value>=0)return this.style_.border[n.YGEdge.Start].value;const t=(0,d.YGComputedEdgeValue)(this.style_.border,u.leading[e],(0,d.YGValueZero)()).value;return(0,r.YGFloatMax)(t,0)}getTrailingBorder(e){if((0,r.YGFlexDirectionIsRow)(e)&&this.style_.border[n.YGEdge.End].unit!=n.YGUnit.Undefined&&!(0,d.YGFloatIsUndefined)(this.style_.border[n.YGEdge.End].value)&&this.style_.border[n.YGEdge.End].value>=0)return this.style_.border[n.YGEdge.End].value;const t=(0,d.YGComputedEdgeValue)(this.style_.border,u.trailing[e],(0,d.YGValueZero)()).value;return(0,r.YGFloatMax)(t,0)}getLeadingPadding(e,t){const i=(0,r.YGResolveValue)(this.style_.padding[n.YGEdge.Start],t);if((0,r.YGFlexDirectionIsRow)(e)&&this.style_.padding[n.YGEdge.Start].unit!=n.YGUnit.Undefined&&!i.isUndefined()&&i.getValue()>0)return i;const o=(0,r.YGResolveValue)((0,d.YGComputedEdgeValue)(this.style_.padding,u.leading[e],(0,d.YGValueZero)()),t);return(0,r.YGFloatOptionalMax)(o,new s.YGFloatOptional(0))}getTrailingPadding(e,t){const i=(0,r.YGResolveValue)(this.style_.padding[n.YGEdge.End],t);if((0,r.YGFlexDirectionIsRow)(e)&&this.style_.padding[n.YGEdge.End].unit!=n.YGUnit.Undefined&&!i.isUndefined()&&i.getValue()>=0)return i;const o=(0,r.YGResolveValue)((0,d.YGComputedEdgeValue)(this.style_.padding,u.trailing[e],(0,d.YGValueZero)()),t);return(0,r.YGFloatOptionalMax)(o,new s.YGFloatOptional(0))}getLeadingPaddingAndBorder(e,t){return this.getLeadingPadding(e,t).add(new s.YGFloatOptional(this.getLeadingBorder(e)))}getTrailingPaddingAndBorder(e,t){return this.getTrailingPadding(e,t).add(new s.YGFloatOptional(this.getTrailingBorder(e)))}getMarginForAxis(e,t){return this.getLeadingMargin(e,t).add(this.getTrailingMargin(e,t))}setContext(e){this.context_=e}setPrintFunc(e){this.print_=e}setHasNewLayout(e){this.hasNewLayout_=e}setNodeType(e){this.nodeType_=e}setMeasureFunc(e){null==e?(this.measure_=null,this.nodeType_=n.YGNodeType.Default):(0!=this.children_.length&&console.error("Cannot set measure function: Nodes with measure functions cannot have children."),this.measure_=e,this.setNodeType(n.YGNodeType.Text)),this.measure_=e}setBaseLineFunc(e){this.baseline_=e}setDirtiedFunc(e){this.dirtied_=e}setStyle(e){this.style_=e}setStyleFlexDirection(e){this.style_.flexDirection=e}setStyleAlignContent(e){this.style_.alignContent=e}setLayout(e){this.layout_=e}setLineIndex(e){this.lineIndex_=e}setOwner(e){this.owner_=e}setChildren(e){this.children_=e}setConfig(e){this.config_=e}setDirty(e){this.isDirty_=e}setLayoutLastOwnerDirection(e){this.layout_.lastOwnerDirection=e}setLayoutComputedFlexBasis(e){this.layout_.computedFlexBasis=e}setLayoutComputedFlexBasisGeneration(e){this.layout_.computedFlexBasisGeneration=e}setLayoutMeasuredDimension(e,t){this.layout_.measuredDimensions[t]=e}setLayoutHadOverflow(e){this.layout_.hadOverflow=e}setLayoutDimension(e,t){this.layout_.dimensions[t]=e}setLayoutDirection(e){this.layout_.direction=e}setLayoutMargin(e,t){this.layout_.margin[t]=e}setLayoutBorder(e,t){this.layout_.border[t]=e}setLayoutPadding(e,t){this.layout_.padding[t]=e}setLayoutPosition(e,t){this.layout_.position[t]=e}setPosition(e,t,i,s){const o=null!=this.owner_?e:n.YGDirection.LTR,a=(0,r.YGResolveFlexDirection)(this.style_.flexDirection,o),l=(0,r.YGFlexDirectionCross)(a,o),d=this.relativePosition(a,t),c=this.relativePosition(l,i);this.setLayoutPosition((0,r.YGUnwrapFloatOptional)(this.getLeadingMargin(a,s).add(d)),u.leading[a]),this.setLayoutPosition((0,r.YGUnwrapFloatOptional)(this.getTrailingMargin(a,s).add(d)),u.trailing[a]),this.setLayoutPosition((0,r.YGUnwrapFloatOptional)(this.getLeadingMargin(l,s).add(c)),u.leading[l]),this.setLayoutPosition((0,r.YGUnwrapFloatOptional)(this.getTrailingMargin(l,s).add(c)),u.trailing[l])}setAndPropogateUseLegacyFlag(e){this.config_.useLegacyStretchBehaviour=e;for(let t=0;t<this.children_.length;t++)this.children_[t].getConfig().useLegacyStretchBehaviour=e}setLayoutDoesLegacyFlagAffectsLayout(e){this.layout_.doesLegacyStretchFlagAffectsLayout=e}setLayoutDidUseLegacyFlag(e){this.layout_.didUseLegacyFlag=e}markDirtyAndPropogateDownwards(){this.isDirty_=!0;for(let e=0;e<this.children_.length;e++)this.children_[e].markDirtyAndPropogateDownwards()}marginLeadingValue(e){return(0,r.YGFlexDirectionIsRow)(e)&&this.style_.margin[n.YGEdge.Start].unit!=n.YGUnit.Undefined?this.style_.margin[n.YGEdge.Start]:this.style_.margin[u.leading[e]]}marginTrailingValue(e){return(0,r.YGFlexDirectionIsRow)(e)&&this.style_.margin[n.YGEdge.End].unit!=n.YGUnit.Undefined?this.style_.margin[n.YGEdge.End]:this.style_.margin[u.trailing[e]]}resolveFlexBasisPtr(){const e=this.style_.flexBasis;return e.unit!=n.YGUnit.Auto&&e.unit!=n.YGUnit.Undefined?e:!this.style_.flex.isUndefined()&&this.style_.flex.getValue()>0?this.config_.useWebDefaults?(0,d.YGValueAuto)():(0,d.YGValueZero)():(0,d.YGValueAuto)()}resolveDimension(){for(let e=n.YGDimension.Width;e<n.YGDimensionCount;++e)this.style_.maxDimensions[e].unit!=n.YGUnit.Undefined&&(0,r.YGValueEqual)(this.style_.maxDimensions[e],this.style_.minDimensions[e])?this.resolvedDimensions_[e]=this.style_.maxDimensions[e]:this.resolvedDimensions_[e]=this.style_.dimensions[e]}resolveDirection(e){return this.style_.direction==n.YGDirection.Inherit?e>n.YGDirection.Inherit?e:n.YGDirection.LTR:this.style_.direction}clearChildren(){for(;this.children_.length>0;)this.children_.pop()}replaceChild(e,t){const i=this.children_.indexOf(e);i>=0&&(this.children_[i]=t)}replaceChildIndex(e,t){this.children_[t]=e}insertChildIndex(e,t){this.children_.splice(t,0,e)}removeChild(e){const t=this.children_.indexOf(e);return t>=0&&(this.children_.splice(t,1),!0)}removeChildIndex(e){this.children_.splice(e,1)}cloneChildrenIfNeeded(){const e=this.children_.length;if(0==e)return;if(this.children_[0].getOwner()==this)return;const t=this.config_.cloneNodeCallback;for(let i=0;i<e;++i){const e=this.children_[i];let n=null;t&&(n=t(e,this,i)),null==n&&(n=(0,d.YGNodeClone)(e)),this.replaceChildIndex(n,i),n.setOwner(this)}}markDirtyAndPropogate(){this.isDirty_||(this.setDirty(!0),this.setLayoutComputedFlexBasis(new s.YGFloatOptional),this.owner_&&this.owner_.markDirtyAndPropogate())}resolveFlexGrow(){return null==this.owner_?0:this.style_.flexGrow.isUndefined()?!this.style_.flex.isUndefined()&&this.style_.flex.getValue()>0?this.style_.flex.getValue():u.kDefaultFlexGrow:this.style_.flexGrow.getValue()}resolveFlexShrink(){return null==this.owner_?0:this.style_.flexShrink.isUndefined()?!this.config_.useWebDefaults&&!this.style_.flex.isUndefined()&&this.style_.flex.getValue()<0?-this.style_.flex.getValue():this.config_.useWebDefaults?u.kWebDefaultFlexShrink:u.kDefaultFlexShrink:this.style_.flexShrink.getValue()}isNodeFlexible(){return this.style_.positionType==n.YGPositionType.Relative&&(0!=this.resolveFlexGrow()||0!=this.resolveFlexShrink())}didUseLegacyFlag(){let e=this.layout_.didUseLegacyFlag;if(e)return!0;for(let t=0;t<this.children_.length;t++)if(this.children_[t].getLayout().didUseLegacyFlag){e=!0;break}return e}isLayoutTreeEqualToNode(e){if(this.children_.length!=e.getChildren().length)return!1;if(this.layout_.diff(e.getLayout()))return!1;if(0==this.children_.length)return!0;let t=!0;for(let i=0;i<this.children_.length;++i){const n=e.getChild(i);if(t=this.children_[i].isLayoutTreeEqualToNode(n),!t)return!1}return t}}t.YGNode=c},5140:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YGStyle=void 0;const n=i(7118),s=i(5491),o=i(3749),r=i(4989),a=()=>new o.YGValue(0,n.YGUnit.Undefined),l=()=>new o.YGValue(0,n.YGUnit.Auto),u=()=>[a(),a(),a(),a(),a(),a(),a(),a(),a()],d=()=>[a(),a()];class c{constructor(){this.margin=new Array(n.YGEdgeCount),this.position=new Array(n.YGEdgeCount),this.padding=new Array(n.YGEdgeCount),this.border=new Array(n.YGEdgeCount),this.direction=n.YGDirection.Inherit,this.flexDirection=n.YGFlexDirection.Column,this.justifyContent=n.YGJustify.FlexStart,this.alignContent=n.YGAlign.FlexStart,this.alignItems=n.YGAlign.Stretch,this.alignSelf=n.YGAlign.Auto,this.positionType=n.YGPositionType.Relative,this.flexWrap=n.YGWrap.NoWrap,this.overflow=n.YGOverflow.Visible,this.display=n.YGDisplay.Flex,this.flex=new r.YGFloatOptional,this.flexGrow=new r.YGFloatOptional,this.flexShrink=new r.YGFloatOptional,this.flexBasis=l(),this.margin=u(),this.position=u(),this.padding=u(),this.border=u(),this.dimensions=[l(),l()],this.minDimensions=d(),this.maxDimensions=d(),this.aspectRatio=new r.YGFloatOptional}isEqual(e){let t=this.direction==e.direction&&this.flexDirection==e.flexDirection&&this.justifyContent==e.justifyContent&&this.alignContent==e.alignContent&&this.alignItems==e.alignItems&&this.alignSelf==e.alignSelf&&this.positionType==e.positionType&&this.flexWrap==e.flexWrap&&this.overflow==e.overflow&&this.display==e.display&&(0,s.YGValueEqual)(this.flexBasis,e.flexBasis)&&(0,s.YGValueArrayEqual)(this.margin,e.margin)&&(0,s.YGValueArrayEqual)(this.position,e.position)&&(0,s.YGValueArrayEqual)(this.padding,e.padding)&&(0,s.YGValueArrayEqual)(this.border,e.border)&&(0,s.YGValueArrayEqual)(this.dimensions,e.dimensions)&&(0,s.YGValueArrayEqual)(this.minDimensions,e.minDimensions)&&(0,s.YGValueArrayEqual)(this.maxDimensions,e.maxDimensions);return t=t&&this.flex.isUndefined()==e.flex.isUndefined(),!t||this.flex.isUndefined()||e.flex.isUndefined()||(t=t&&this.flex.getValue()==e.flex.getValue()),t=t&&this.flexGrow.isUndefined()==e.flexGrow.isUndefined(),t&&!this.flexGrow.isUndefined()&&(t=t&&this.flexGrow.getValue()==e.flexGrow.getValue()),t=t&&this.flexShrink.isUndefined()==e.flexShrink.isUndefined(),t&&!e.flexShrink.isUndefined()&&(t=t&&this.flexShrink.getValue()==e.flexShrink.getValue()),this.aspectRatio.isUndefined()&&e.aspectRatio.isUndefined()||(t=t&&this.aspectRatio.getValue()==e.aspectRatio.getValue()),t}isDiff(e){return!this.isEqual(e)}clone(){let e=new c;return e.direction=this.direction,e.flexDirection=this.flexDirection,e.justifyContent=this.justifyContent,e.alignContent=this.alignContent,e.alignItems=this.alignItems,e.alignSelf=this.alignSelf,e.positionType=this.positionType,e.flexWrap=this.flexWrap,e.overflow=this.overflow,e.display=this.display,e.flex=this.flex.clone(),e.flexGrow=this.flexGrow.clone(),e.flexShrink=this.flexShrink.clone(),e.flexBasis=this.flexBasis.clone(),e.margin=(0,s.cloneYGValueArray)(this.margin),e.position=(0,s.cloneYGValueArray)(this.position),e.padding=(0,s.cloneYGValueArray)(this.padding),e.border=(0,s.cloneYGValueArray)(this.border),e.dimensions=[this.dimensions[0].clone(),this.dimensions[1].clone()],e.minDimensions=[this.minDimensions[0].clone(),this.minDimensions[1].clone()],e.maxDimensions=[this.maxDimensions[0].clone(),this.maxDimensions[1].clone()],e.aspectRatio=this.aspectRatio.clone(),e}}t.YGStyle=c},3749:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YGValue=void 0;class i{constructor(e,t){this.value=e,this.unit=t}clone(){return new i(this.value,this.unit)}}t.YGValue=i},4188:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YGNodeMarkDirty=t.YGNodeGetParent=t.YGNodeGetOwner=t.YGNodeGetChildCount=t.YGNodeGetChild=t.YGNodeSetChildren=t.YGNodeSetChildrenInternal=t.YGNodeRemoveAllChildren=t.YGNodeRemoveChild=t.YGNodeInsertSharedChild=t.YGNodeInsertChild=t.YGConfigCopy=t.YGConfigFree=t.YGConfigNew=t.YGConfigGetInstanceCount=t.YGNodeGetInstanceCount=t.YGNodeReset=t.YGNodeFreeRecursive=t.YGConfigFreeRecursive=t.YGNodeFree=t.YGNodeDeepClone=t.YGConfigClone=t.YGNodeClone=t.YGNodeNew=t.YGConfigGetDefault=t.YGNodeNewWithConfig=t.YGNodeMarkDirtyAndPropogateToDescendants=t.YGNodeLayoutGetDidUseLegacyFlag=t.YGNodeIsDirty=t.YGNodeSetNodeType=t.YGNodeGetNodeType=t.YGNodeSetHasNewLayout=t.YGNodeGetHasNewLayout=t.YGNodeSetPrintFunc=t.YGNodeGetPrintFunc=t.YGNodeSetDirtiedFunc=t.YGNodeGetDirtiedFunc=t.YGNodeSetBaselineFunc=t.YGNodeGetBaselineFunc=t.YGNodeSetMeasureFunc=t.YGNodeGetMeasureFunc=t.YGNodeSetContext=t.YGNodeGetContext=t.YGComputedEdgeValue=t.YGFloatIsUndefined=t.YGValueZero=t.YGValueAuto=t.YGValueUndefined=t.YGUndefined=t.YGSize=void 0,t.YGNodeStyleGetMaxWidth=t.YGNodeStyleSetMaxWidthPercent=t.YGNodeStyleSetMaxWidth=t.YGNodeStyleGetMinHeight=t.YGNodeStyleSetMinHeightPercent=t.YGNodeStyleSetMinHeight=t.YGNodeStyleGetMinWidth=t.YGNodeStyleSetMinWidthPercent=t.YGNodeStyleSetMinWidth=t.YGNodeStyleGetHeight=t.YGNodeStyleSetHeightAuto=t.YGNodeStyleSetHeightPercent=t.YGNodeStyleSetHeight=t.YGNodeStyleGetWidth=t.YGNodeStyleSetWidthAuto=t.YGNodeStyleSetWidthPercent=t.YGNodeStyleSetWidth=t.YGNodeStyleSetMarginAuto=t.YGNodeStyleGetPadding=t.YGNodeStyleSetPaddingPercent=t.YGNodeStyleSetPadding=t.YGNodeStyleGetMargin=t.YGNodeStyleSetMarginPercent=t.YGNodeStyleSetMargin=t.YGNodeStyleGetPosition=t.YGNodeStyleSetPositionPercent=t.YGNodeStyleSetPosition=t.YGNodeStyleGetDisplay=t.YGNodeStyleSetDisplay=t.YGNodeStyleGetOverflow=t.YGNodeStyleSetOverflow=t.YGNodeStyleGetFlexWrap=t.YGNodeStyleSetFlexWrap=t.YGNodeStyleGetPositionType=t.YGNodeStyleSetPositionType=t.YGNodeStyleGetAlignSelf=t.YGNodeStyleSetAlignSelf=t.YGNodeStyleGetAlignItems=t.YGNodeStyleSetAlignItems=t.YGNodeStyleGetAlignContent=t.YGNodeStyleSetAlignContent=t.YGNodeStyleGetJustifyContent=t.YGNodeStyleSetJustifyContent=t.YGNodeStyleGetFlexDirection=t.YGNodeStyleSetFlexDirection=t.YGNodeStyleGetDirection=t.YGNodeStyleSetDirection=t.YGNodeStyleGetFlexShrink=t.YGNodeStyleGetFlexGrow=t.YGNodeCopyStyle=void 0,t.YGDistributeFreeSpaceSecondPass=t.YGCalculateCollectFlexItemsRowValues=t.YGNodeComputeFlexBasisForChildren=t.YGNodeCalculateAvailableInnerDim=t.YGZeroOutLayoutRecursivly=t.YGNodeFixedSizeSetMeasuredDimensions=t.YGNodeEmptyContainerSetMeasuredDimensions=t.YGNodeWithMeasureFuncSetMeasuredDimensions=t.YGNodeAbsoluteLayoutChild=t.YGNodeComputeFlexBasisForChild=t.YGConstrainMaxSizeForMode=t.YGNodeSetChildTrailingPosition=t.YGNodeBoundAxis=t.YGNodeBoundAxisWithinMinAndMax=t.YGNodeIsLayoutDimDefined=t.YGNodeIsStyleDimDefined=t.YGNodeDimWithMargin=t.YGIsBaselineLayout=t.YGBaseline=t.YGNodeAlignItem=t.YGNodePaddingAndBorderForAxis=t.YGNodePrint=t.YGNodePrintInternal=t.YGNodeLayoutGetDidLegacyStretchFlagAffectLayout=t.YGNodeStyleSetAspectRatio=t.YGNodeStyleGetAspectRatio=t.YGNodeStyleGetBorder=t.YGNodeStyleSetBorder=t.YGNodeStyleSetFlexBasisAuto=t.YGNodeStyleSetFlexBasisPercent=t.YGNodeStyleSetFlexBasis=t.YGNodeStyleGetFlexBasis=t.YGNodeStyleSetFlexShrink=t.YGNodeStyleSetFlexGrow=t.YGNodeStyleGetFlex=t.YGNodeStyleSetFlex=t.YGNodeLayoutGetPadding=t.YGNodeLayoutGetBorder=t.YGNodeLayoutGetMargin=t.YGNodeLayoutGetHadOverflow=t.YGNodeLayoutGetDirection=t.YGNodeLayoutGetHeight=t.YGNodeLayoutGetWidth=t.YGNodeLayoutGetBottom=t.YGNodeLayoutGetRight=t.YGNodeLayoutGetTop=t.YGNodeLayoutGetLeft=t.YGNodeStyleGetMaxHeight=t.YGNodeStyleSetMaxHeightPercent=t.YGNodeStyleSetMaxHeight=void 0,t.YGTraversePreOrder=t.YGTraverseChildrenPreOrder=t.YGConfigSetCloneNodeFunc=t.YGConfigGetContext=t.YGConfigSetContext=t.YGConfigGetUseWebDefaults=t.YGConfigSetUseLegacyStretchBehaviour=t.YGConfigSetUseWebDefaults=t.YGConfigIsExperimentalFeatureEnabled=t.YGConfigSetExperimentalFeatureEnabled=t.YGAssertWithConfig=t.YGAssertWithNode=t.YGAssert=t.YGLog=t.YGLogWithConfig=t.YGVLog=t.YGConfigSetShouldDiffLayoutWithoutLegacyStretchBehaviour=t.YGConfigSetLogger=t.YGNodeCalculateLayout=t.YGRoundToPixelGrid=t.YGConfigSetPointScaleFactor=t.YGLayoutNodeInternal=t.YGNodeCanUseCachedMeasurement=t.YGRoundValueToPixelGrid=t.YGMeasureModeNewMeasureSizeIsStricterAndStillValid=t.YGMeasureModeOldSizeIsUnspecifiedAndStillFits=t.YGMeasureModeSizeIsExactAndMatchesOldMeasuredSize=t.YGMeasureModeName=t.YGSpacer=t.YGNodelayoutImpl=t.YGJustifyMainAxis=t.YGResolveFlexibleLength=t.YGDistributeFreeSpaceFirstPass=void 0;const n=i(7118),s=i(5839),o=i(7702),r=i(8135),a=i(4989),l=i(3749),u=i(5491),d=i(9227);t.YGSize=class{},t.YGUndefined=void 0;t.YGValueUndefined=()=>new l.YGValue(t.YGUndefined,n.YGUnit.Undefined);t.YGValueAuto=()=>new l.YGValue(t.YGUndefined,n.YGUnit.Auto);function c(e,t){let i=e;for(let e of t[0][0])i=i.replace(/%[d|s|f]/,e);return i}function h(e,t,i,s,...o){switch(i){case n.YGLogLevel.Error:case n.YGLogLevel.Fatal:return console.error(c(s,o));case n.YGLogLevel.Warn:case n.YGLogLevel.Info:case n.YGLogLevel.Debug:case n.YGLogLevel.Verbose:default:return console.log(c(s,o))}}function g(e){return!(void 0!==e&&!isNaN(e))}t.YGValueZero=()=>new l.YGValue(0,n.YGUnit.Point),t.YGFloatIsUndefined=g,t.YGComputedEdgeValue=function(e,i,s){return e[i].unit!=n.YGUnit.Undefined?e[i]:i!=n.YGEdge.Top&&i!=n.YGEdge.Bottom||e[n.YGEdge.Vertical].unit==n.YGUnit.Undefined?i!=n.YGEdge.Left&&i!=n.YGEdge.Right&&i!=n.YGEdge.Start&&i!=n.YGEdge.End||e[n.YGEdge.Horizontal].unit==n.YGUnit.Undefined?e[n.YGEdge.All].unit!=n.YGUnit.Undefined?e[n.YGEdge.All]:i==n.YGEdge.Start||i==n.YGEdge.End?(0,t.YGValueUndefined)():s:e[n.YGEdge.Horizontal]:e[n.YGEdge.Vertical]},t.YGNodeGetContext=function(e){return e.getContext()},t.YGNodeSetContext=function(e,t){return e.setContext(t)},t.YGNodeGetMeasureFunc=function(e){return e.getMeasure()},t.YGNodeSetMeasureFunc=function(e,t){e.setMeasureFunc(t)},t.YGNodeGetBaselineFunc=function(e){return e.getBaseline()},t.YGNodeSetBaselineFunc=function(e,t){e.setBaseLineFunc(t)},t.YGNodeGetDirtiedFunc=function(e){return e.getDirtied()},t.YGNodeSetDirtiedFunc=function(e,t){e.setDirtiedFunc(t)},t.YGNodeGetPrintFunc=function(e){return e.getPrintFunc()},t.YGNodeSetPrintFunc=function(e,t){e.setPrintFunc(t)},t.YGNodeGetHasNewLayout=function(e){return e.getHasNewLayout()},t.YGNodeSetHasNewLayout=function(e,t){e.setHasNewLayout(t)},t.YGNodeGetNodeType=function(e){return e.getNodeType()},t.YGNodeSetNodeType=function(e,t){e.setNodeType(t)},t.YGNodeIsDirty=function(e){return e.isDirty()},t.YGNodeLayoutGetDidUseLegacyFlag=function(e){return e.didUseLegacyFlag()},t.YGNodeMarkDirtyAndPropogateToDescendants=function(e){e.markDirtyAndPropogateDownwards()};let p=0,f=0;function m(e){const t=new s.YGNode;return p++,e.useWebDefaults&&(t.setStyleFlexDirection(n.YGFlexDirection.Row),t.setStyleAlignContent(n.YGAlign.Stretch)),t.setConfig(e),t}function y(){return x()}function G(e){console.log("clone?");const t=new s.YGNode(e);return p++,t.setOwner(null),t}function v(e){const t=new o.YGConfig(e.logger);return f++,t}function Y(e){const t=G(e),i=new Array(e.getChildren().length);let n=null;for(let s=0;s<e.getChildren().length;++s){n=Y(e.getChild(s)),n.setOwner(t),i.push(n)}return t.setChildren(i),null!=e.getConfig()&&t.setConfig(v(e.getConfig())),t}function S(e){const t=e.getOwner();null!=t&&(t.removeChild(e),e.setOwner(null));const i=N(e);for(let t=0;t<i;t++){L(e,t).setOwner(null)}e.clearChildren(),p--}function D(e){null!=e.getConfig()&&(f--,e.setConfig(null));for(let t=0;t<e.getChildrenCount();++t)D(e.getChild(t))}function F(e){for(;N(e)>0;){const t=L(e,0);if(t.getOwner()!=e)break;b(e,t),F(t)}S(e)}function x(){const e=new o.YGConfig(h);return f++,e}function b(e,t){const i=N(e);if(0==i)return;if(L(e,0).getOwner()==e)return void(e.removeChild(t)&&(t.setLayout(new r.YGLayout),t.setOwner(null),e.markDirtyAndPropogate()));const n=e.getConfig().cloneNodeCallback;let s=0;for(let o=0;o<i;o++){const i=e.getChild(o);if(t==i){e.markDirtyAndPropogate();continue}let r=null;n&&(r=n(i,e,s)),null==r&&(r=G(i)),e.replaceChildIndex(r,s),r.setOwner(e),s++}for(;s<i;)e.removeChildIndex(s),s++}function P(e,t){if(!e)return;const i=e.getChildren();if(0==t.length){if(i.length>0){for(let e=0;e<i.length;e++){const t=i[e];t.setLayout(new r.YGLayout),t.setOwner(null)}e.setChildren(new Array),e.markDirtyAndPropogate()}}else{if(i.length>0)for(let e=0;e<i.length;e++){const n=i[e];t.indexOf(n)<0&&(n.setLayout(new r.YGLayout),n.setOwner(null))}e.setChildren(t);for(let i=0;i<t.length;i++)t[i].setOwner(e);e.markDirtyAndPropogate()}}function L(e,t){const i=e.getChildren();return t<i.length?i[t]:null}function N(e){return e.getChildrenCount()}t.YGNodeNewWithConfig=m,t.YGConfigGetDefault=y,t.YGNodeNew=function(){return m(y())},t.YGNodeClone=G,t.YGConfigClone=v,t.YGNodeDeepClone=Y,t.YGNodeFree=S,t.YGConfigFreeRecursive=D,t.YGNodeFreeRecursive=F,t.YGNodeReset=function(e){Ye(e,0==N(e),"Cannot reset a node which still has children attached"),Ye(e,null==e.getOwner(),"Cannot reset a node still attached to a owner"),e.clearChildren();const t=e.getConfig();e.fromNode(new s.YGNode),t.useWebDefaults&&(e.setStyleFlexDirection(n.YGFlexDirection.Row),e.setStyleAlignContent(n.YGAlign.Stretch)),e.setConfig(t)},t.YGNodeGetInstanceCount=function(){return p},t.YGConfigGetInstanceCount=function(){return f},t.YGConfigNew=x,t.YGConfigFree=function(e){f--},t.YGConfigCopy=function(e,t){Object.assign(e,t)},t.YGNodeInsertChild=function(e,t,i){Ye(e,null==t.getOwner(),"Child already has a owner, it must be removed first."),Ye(e,null==e.getMeasure(),"Cannot add child: Nodes with measure functions cannot have children."),e.cloneChildrenIfNeeded(),e.insertChildIndex(t,i);const n=t.getOwner()?null:e;t.setOwner(n),e.markDirtyAndPropogate()},t.YGNodeInsertSharedChild=function(e,t,i){Ye(e,null==e.getMeasure(),"Cannot add child: Nodes with measure functions cannot have children."),e.insertChildIndex(t,i),t.setOwner(null),e.markDirtyAndPropogate()},t.YGNodeRemoveChild=b,t.YGNodeRemoveAllChildren=function(e){const t=N(e);if(0==t)return;if(L(e,0).getOwner()==e){for(let i=0;i<t;i++){const t=L(e,i);t.setLayout(new r.YGLayout),t.setOwner(null)}return e.clearChildren(),void e.markDirtyAndPropogate()}e.setChildren(new Array),e.markDirtyAndPropogate()},t.YGNodeSetChildrenInternal=P,t.YGNodeSetChildren=function(e,t){P(e,t)},t.YGNodeGetChild=L,t.YGNodeGetChildCount=N,t.YGNodeGetOwner=function(e){return e.getOwner()},t.YGNodeGetParent=function(e){return e.getOwner()},t.YGNodeMarkDirty=function(e){Ye(e,null!=e.getMeasure(),"Only leaf nodes with custom measure functions should manually mark themselves as dirty"),e.markDirtyAndPropogate()},t.YGNodeCopyStyle=function(e,t){e.getStyle().isEqual(t.getStyle())||(e.setStyle(t.getStyle()),e.markDirtyAndPropogate())},t.YGNodeStyleGetFlexGrow=function(e){return e.getStyle().flexGrow.isUndefined()?d.kDefaultFlexGrow:e.getStyle().flexGrow.getValue()},t.YGNodeStyleGetFlexShrink=function(e){return e.getStyle().flexShrink.isUndefined()?e.getConfig().useWebDefaults?d.kWebDefaultFlexShrink:d.kDefaultFlexShrink:e.getStyle().flexShrink.getValue()},t.YGNodeStyleSetDirection=function(e,t){if(e.getStyle().direction!=t){const i=e.getStyle();i.direction=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetDirection=function(e){return e.getStyle().direction},t.YGNodeStyleSetFlexDirection=function(e,t){if(e.getStyle().flexDirection!=t){const i=e.getStyle();i.flexDirection=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlexDirection=function(e){return e.getStyle().flexDirection},t.YGNodeStyleSetJustifyContent=function(e,t){if(e.getStyle().justifyContent!=t){const i=e.getStyle();i.justifyContent=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetJustifyContent=function(e){return e.getStyle().justifyContent},t.YGNodeStyleSetAlignContent=function(e,t){if(e.getStyle().alignContent!=t){const i=e.getStyle();i.alignContent=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetAlignContent=function(e){return e.getStyle().alignContent},t.YGNodeStyleSetAlignItems=function(e,t){if(e.getStyle().alignItems!=t){const i=e.getStyle();i.alignItems=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetAlignItems=function(e){return e.getStyle().alignItems},t.YGNodeStyleSetAlignSelf=function(e,t){if(e.getStyle().alignSelf!=t){const i=e.getStyle();i.alignSelf=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetAlignSelf=function(e){return e.getStyle().alignSelf},t.YGNodeStyleSetPositionType=function(e,t){if(e.getStyle().positionType!=t){const i=e.getStyle();i.positionType=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetPositionType=function(e){return e.getStyle().positionType},t.YGNodeStyleSetFlexWrap=function(e,t){if(e.getStyle().flexWrap!=t){const i=e.getStyle();i.flexWrap=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlexWrap=function(e){return e.getStyle().flexWrap},t.YGNodeStyleSetOverflow=function(e,t){if(e.getStyle().overflow!=t){const i=e.getStyle();i.overflow=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetOverflow=function(e){return e.getStyle().overflow},t.YGNodeStyleSetDisplay=function(e,t){if(e.getStyle().display!=t){const i=e.getStyle();i.display=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetDisplay=function(e){return e.getStyle().display},t.YGNodeStyleSetPosition=function(e,t,i){const s=new l.YGValue((0,u.YGFloatSanitize)(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().position[t].value!=s.value&&s.unit!=n.YGUnit.Undefined||e.getStyle().position[t].unit!=s.unit){const i=e.getStyle();i.position[t]=s,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetPositionPercent=function(e,t,i){const s=new l.YGValue((0,u.YGFloatSanitize)(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().position[t].value!=s.value&&s.unit!=n.YGUnit.Undefined||e.getStyle().position[t].unit!=s.unit){const i=e.getStyle();i.position[t]=s,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetPosition=function(e,i){const s=e.getStyle().position[i];return s.unit!=n.YGUnit.Undefined&&s.unit!=n.YGUnit.Auto||(s.value=t.YGUndefined),s},t.YGNodeStyleSetMargin=function(e,t,i){const s=new l.YGValue((0,u.YGFloatSanitize)(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().margin[t].value!=s.value&&s.unit!=n.YGUnit.Undefined||e.getStyle().margin[t].unit!=s.unit){const i=e.getStyle();i.margin[t]=s,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMarginPercent=function(e,t,i){const s=new l.YGValue((0,u.YGFloatSanitize)(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().margin[t].value!=s.value&&s.unit!=n.YGUnit.Undefined||e.getStyle().margin[t].unit!=s.unit){const i=e.getStyle();i.margin[t]=s,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMargin=function(e,i){const s=e.getStyle().margin[i];return s.unit!=n.YGUnit.Undefined&&s.unit!=n.YGUnit.Auto||(s.value=t.YGUndefined),s},t.YGNodeStyleSetPadding=function(e,t,i){const s=new l.YGValue((0,u.YGFloatSanitize)(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().padding[t].value!=s.value&&s.unit!=n.YGUnit.Undefined||e.getStyle().padding[t].unit!=s.unit){const i=e.getStyle();i.padding[t]=s,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetPaddingPercent=function(e,t,i){const s=new l.YGValue((0,u.YGFloatSanitize)(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().padding[t].value!=s.value&&s.unit!=n.YGUnit.Undefined||e.getStyle().padding[t].unit!=s.unit){const i=e.getStyle();i.padding[t]=s,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetPadding=function(e,i){const s=e.getStyle().padding[i];return s.unit!=n.YGUnit.Undefined&&s.unit!=n.YGUnit.Auto||(s.value=t.YGUndefined),s},t.YGNodeStyleSetMarginAuto=function(e,t){if(e.getStyle().margin[t].unit!=n.YGUnit.Auto){const i=e.getStyle();i.margin[t].value=0,i.margin[t].unit=n.YGUnit.Auto,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetWidth=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().dimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().dimensions[n.YGDimension.Width].unit!=i.unit){const t=e.getStyle();t.dimensions[n.YGDimension.Width]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetWidthPercent=function(e,t){if(e.getStyle().dimensions[n.YGDimension.Width].value!=(0,u.YGFloatSanitize)(t)||e.getStyle().dimensions[n.YGDimension.Width].unit!=n.YGUnit.Percent){const i=e.getStyle();i.dimensions[n.YGDimension.Width].value=(0,u.YGFloatSanitize)(t),i.dimensions[n.YGDimension.Width].unit=g(t)?n.YGUnit.Auto:n.YGUnit.Percent,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetWidthAuto=function(e){if(e.getStyle().dimensions[n.YGDimension.Width].unit!=n.YGUnit.Auto){const t=e.getStyle();t.dimensions[n.YGDimension.Width].value=0,t.dimensions[n.YGDimension.Width].unit=n.YGUnit.Auto,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetWidth=function(e){const i=e.getStyle().dimensions[n.YGDimension.Width];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetHeight=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().dimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().dimensions[n.YGDimension.Height].unit!=i.unit){const t=e.getStyle();t.dimensions[n.YGDimension.Height]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetHeightPercent=function(e,t){if(e.getStyle().dimensions[n.YGDimension.Height].value!=(0,u.YGFloatSanitize)(t)||e.getStyle().dimensions[n.YGDimension.Height].unit!=n.YGUnit.Percent){const i=e.getStyle();i.dimensions[n.YGDimension.Height].value=(0,u.YGFloatSanitize)(t),i.dimensions[n.YGDimension.Height].unit=g(t)?n.YGUnit.Auto:n.YGUnit.Percent,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetHeightAuto=function(e){if(e.getStyle().dimensions[n.YGDimension.Height].unit!=n.YGUnit.Auto){const t=e.getStyle();t.dimensions[n.YGDimension.Height].value=0,t.dimensions[n.YGDimension.Height].unit=n.YGUnit.Auto,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetHeight=function(e){const i=e.getStyle().dimensions[n.YGDimension.Height];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMinWidth=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().minDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Width].unit!=i.unit){const t=e.getStyle();t.minDimensions[n.YGDimension.Width]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMinWidthPercent=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().minDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Width].unit!=i.unit){const t=e.getStyle();t.minDimensions[n.YGDimension.Width]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMinWidth=function(e){const i=e.getStyle().minDimensions[n.YGDimension.Width];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMinHeight=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().minDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Height].unit!=i.unit){const t=e.getStyle();t.minDimensions[n.YGDimension.Height]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMinHeightPercent=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().minDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Height].unit!=i.unit){const t=e.getStyle();t.minDimensions[n.YGDimension.Height]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMinHeight=function(e){const i=e.getStyle().minDimensions[n.YGDimension.Height];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMaxWidth=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().maxDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Width].unit!=i.unit){const t=e.getStyle();t.maxDimensions[n.YGDimension.Width]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMaxWidthPercent=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().maxDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Width].unit!=i.unit){const t=e.getStyle();t.maxDimensions[n.YGDimension.Width]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMaxWidth=function(e){const i=e.getStyle().maxDimensions[n.YGDimension.Width];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMaxHeight=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().maxDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Height].unit!=i.unit){const t=e.getStyle();t.maxDimensions[n.YGDimension.Height]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMaxHeightPercent=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().maxDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Height].unit!=i.unit){const t=e.getStyle();t.maxDimensions[n.YGDimension.Height]=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMaxHeight=function(e){const i=e.getStyle().maxDimensions[n.YGDimension.Height];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeLayoutGetLeft=function(e){return e.getLayout().position[n.YGEdge.Left]},t.YGNodeLayoutGetTop=function(e){return e.getLayout().position[n.YGEdge.Top]},t.YGNodeLayoutGetRight=function(e){return e.getLayout().position[n.YGEdge.Right]},t.YGNodeLayoutGetBottom=function(e){return e.getLayout().position[n.YGEdge.Bottom]},t.YGNodeLayoutGetWidth=function(e){return e.getLayout().dimensions[n.YGDimension.Width]},t.YGNodeLayoutGetHeight=function(e){return e.getLayout().dimensions[n.YGDimension.Height]},t.YGNodeLayoutGetDirection=function(e){return e.getLayout().direction},t.YGNodeLayoutGetHadOverflow=function(e){return e.getLayout().hadOverflow},t.YGNodeLayoutGetMargin=function(e,t){Ye(e,t<=n.YGEdge.End,"Cannot get layout properties of multi-edge shorthands");const i=t;return t==n.YGEdge.Left?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().margin[n.YGEdge.End]:e.getLayout().margin[n.YGEdge.Start]:t==n.YGEdge.Right?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().margin[n.YGEdge.Start]:e.getLayout().margin[n.YGEdge.End]:e.getLayout().margin[i]},t.YGNodeLayoutGetBorder=function(e,t){Ye(e,t<=n.YGEdge.End,"Cannot get layout properties of multi-edge shorthands");const i=t;return t==n.YGEdge.Left?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().border[n.YGEdge.End]:e.getLayout().border[n.YGEdge.Start]:t==n.YGEdge.Right?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().border[n.YGEdge.Start]:e.getLayout().border[n.YGEdge.End]:e.getLayout().border[i]},t.YGNodeLayoutGetPadding=function(e,t){Ye(e,t<=n.YGEdge.End,"Cannot get layout properties of multi-edge shorthands");const i=t;return t==n.YGEdge.Left?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().padding[n.YGEdge.End]:e.getLayout().padding[n.YGEdge.Start]:t==n.YGEdge.Right?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().padding[n.YGEdge.Start]:e.getLayout().padding[n.YGEdge.End]:e.getLayout().padding[i]},t.YGNodeStyleSetFlex=function(e,t){if(e.getStyle().flex.isDiffValue(t)){const i=e.getStyle();g(t)?i.flex=new a.YGFloatOptional:i.flex=new a.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlex=function(e){return e.getStyle().flex.isUndefined()?t.YGUndefined:e.getStyle().flex.getValue()},t.YGNodeStyleSetFlexGrow=function(e,t){if(e.getStyle().flexGrow.isDiffValue(t)){const i=e.getStyle();g(t)?i.flexGrow=new a.YGFloatOptional:i.flexGrow=new a.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetFlexShrink=function(e,t){if(e.getStyle().flexShrink.isDiffValue(t)){const i=e.getStyle();g(t)?i.flexShrink=new a.YGFloatOptional:i.flexShrink=new a.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlexBasis=function(e){const i=e.getStyle().flexBasis;return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetFlexBasis=function(e,t){const i=new l.YGValue((0,u.YGFloatSanitize)(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().flexBasis.value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().flexBasis.unit!=i.unit){const t=e.getStyle();t.flexBasis=i,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetFlexBasisPercent=function(e,t){if(e.getStyle().flexBasis.value!=t||e.getStyle().flexBasis.unit!=n.YGUnit.Percent){const i=e.getStyle();i.flexBasis.value=(0,u.YGFloatSanitize)(t),i.flexBasis.unit=g(t)?n.YGUnit.Auto:n.YGUnit.Percent,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetFlexBasisAuto=function(e){if(e.getStyle().flexBasis.unit!=n.YGUnit.Auto){const t=e.getStyle();t.flexBasis.value=0,t.flexBasis.unit=n.YGUnit.Auto,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetBorder=function(e,t,i){const s=new l.YGValue((0,u.YGFloatSanitize)(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().border[t].value!=s.value&&s.unit!=n.YGUnit.Undefined||e.getStyle().border[t].unit!=s.unit){const i=e.getStyle();i.border[t]=s,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetBorder=function(e,i){return e.getStyle().border[i].unit==n.YGUnit.Undefined||e.getStyle().border[i].unit==n.YGUnit.Auto?t.YGUndefined:e.getStyle().border[i].value},t.YGNodeStyleGetAspectRatio=function(e){const i=e.getStyle().aspectRatio;return i.isUndefined()?t.YGUndefined:i.getValue()},t.YGNodeStyleSetAspectRatio=function(e,t){if(e.getStyle().aspectRatio.isDiffValue(t)){const i=e.getStyle();i.aspectRatio=new a.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeLayoutGetDidLegacyStretchFlagAffectLayout=function(e){return e.getLayout().doesLegacyStretchFlagAffectsLayout};let E=0;function C(e,t){}function T(e,t){}function A(e,t,i){return(0,u.YGUnwrapFloatOptional)(e.getLeadingPaddingAndBorder(t,i).add(e.getTrailingPaddingAndBorder(t,i)))}function w(e,t){const i=t.getStyle().alignSelf==n.YGAlign.Auto?e.getStyle().alignItems:t.getStyle().alignSelf;return i==n.YGAlign.Baseline&&(0,u.YGFlexDirectionIsColumn)(e.getStyle().flexDirection)?n.YGAlign.FlexStart:i}function _(e){if(null!=e.getBaseline()){const t=e.getBaseline()(e,e.getLayout().measuredDimensions[n.YGDimension.Width],e.getLayout().measuredDimensions[n.YGDimension.Height]);return Ye(e,!g(t),"Expect custom baseline function to not return NaN"),t}let t=null;const i=N(e);for(let s=0;s<i;s++){const i=L(e,s);if(i.getLineIndex()>0)break;if(i.getStyle().positionType!=n.YGPositionType.Absolute){if(w(e,i)==n.YGAlign.Baseline){t=i;break}null==t&&(t=i)}}if(null==t)return e.getLayout().measuredDimensions[n.YGDimension.Height];return _(t)+t.getLayout().position[n.YGEdge.Top]}function I(e){if((0,u.YGFlexDirectionIsColumn)(e.getStyle().flexDirection))return!1;if(e.getStyle().alignItems==n.YGAlign.Baseline)return!0;const t=N(e);for(let i=0;i<t;i++){const t=L(e,i);if(t.getStyle().positionType==n.YGPositionType.Relative&&t.getStyle().alignSelf==n.YGAlign.Baseline)return!0}return!1}function R(e,t,i){return e.getLayout().measuredDimensions[d.dim[t]]+(0,u.YGUnwrapFloatOptional)(e.getLeadingMargin(t,i).add(e.getTrailingMargin(t,i)))}function M(e,t,i){let s=g(e.getResolvedDimension(d.dim[t]).value);return!(e.getResolvedDimension(d.dim[t]).unit==n.YGUnit.Auto||e.getResolvedDimension(d.dim[t]).unit==n.YGUnit.Undefined||e.getResolvedDimension(d.dim[t]).unit==n.YGUnit.Point&&!s&&e.getResolvedDimension(d.dim[t]).value<0||e.getResolvedDimension(d.dim[t]).unit==n.YGUnit.Percent&&!s&&(e.getResolvedDimension(d.dim[t]).value<0||g(i)))}function O(e,t){const i=e.getLayout().measuredDimensions[d.dim[t]];return!g(i)&&i>=0}function U(e,t,i,s){let o,r;return(0,u.YGFlexDirectionIsColumn)(t)?(o=(0,u.YGResolveValue)(e.getStyle().minDimensions[n.YGDimension.Height],s),r=(0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Height],s)):(0,u.YGFlexDirectionIsRow)(t)&&(o=(0,u.YGResolveValue)(e.getStyle().minDimensions[n.YGDimension.Width],s),r=(0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Width],s)),!r.isUndefined()&&r.getValue()>=0&&i>r.getValue()?r:!o.isUndefined()&&o.getValue()>=0&&i<o.getValue()?o:new a.YGFloatOptional(i)}function V(e,t,i,n,s){return(0,u.YGFloatMax)((0,u.YGUnwrapFloatOptional)(U(e,t,i,n)),A(e,t,s))}function k(e,t,i){const n=t.getLayout().measuredDimensions[d.dim[i]],s=d.pos[i];t.setLayoutPosition(e.getLayout().measuredDimensions[d.dim[i]]-n-t.getLayout().position[s],d.trailing[i])}function B(e,t,i,s,o,r){const a=(0,u.YGResolveValue)(e.getStyle().maxDimensions[d.dim[t]],i).add(e.getMarginForAxis(t,s));switch(o.value){case n.YGMeasureMode.Exactly:case n.YGMeasureMode.AtMost:r.value=a.isUndefined()||r.value<a.getValue()?r.value:a.getValue();break;case n.YGMeasureMode.Undefined:a.isUndefined()||(o.value=n.YGMeasureMode.AtMost,r.value=a.getValue())}}function W(e,i,s,o,r,l,c,h,p,f){const m=(0,u.YGResolveFlexDirection)(e.getStyle().flexDirection,p),y=(0,u.YGFlexDirectionIsRow)(m),G=y?s:r,v=y?l:c;let Y,S,D,F;const x=(0,u.YGResolveValue)(i.resolveFlexBasisPtr(),v),b=M(i,n.YGFlexDirection.Row,l),P=M(i,n.YGFlexDirection.Column,c);if(x.isUndefined()||g(G))if(y&&b){const e=new a.YGFloatOptional(A(i,n.YGFlexDirection.Row,l));i.setLayoutComputedFlexBasis((0,u.YGFloatOptionalMax)((0,u.YGResolveValue)(i.getResolvedDimension(n.YGDimension.Width),l),e))}else if(!y&&P){const e=new a.YGFloatOptional(A(i,n.YGFlexDirection.Column,l));i.setLayoutComputedFlexBasis((0,u.YGFloatOptionalMax)((0,u.YGResolveValue)(i.getResolvedDimension(n.YGDimension.Height),c),e))}else{Y=t.YGUndefined,S=t.YGUndefined,D=n.YGMeasureMode.Undefined,F=n.YGMeasureMode.Undefined;const G=(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(n.YGFlexDirection.Row,l)),v=(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(n.YGFlexDirection.Column,l));b&&(Y=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(i.getResolvedDimension(n.YGDimension.Width),l))+G,D=n.YGMeasureMode.Exactly),P&&(S=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(i.getResolvedDimension(n.YGDimension.Height),c))+v,F=n.YGMeasureMode.Exactly),(!y&&e.getStyle().overflow==n.YGOverflow.Scroll||e.getStyle().overflow!=n.YGOverflow.Scroll)&&g(Y)&&!g(s)&&(Y=s,D=n.YGMeasureMode.AtMost),(y&&e.getStyle().overflow==n.YGOverflow.Scroll||e.getStyle().overflow!=n.YGOverflow.Scroll)&&g(S)&&!g(r)&&(S=r,F=n.YGMeasureMode.AtMost),i.getStyle().aspectRatio.isUndefined()||(y||D!=n.YGMeasureMode.Exactly?y&&F==n.YGMeasureMode.Exactly&&(Y=G+(S-v)*i.getStyle().aspectRatio.getValue(),D=n.YGMeasureMode.Exactly):(S=v+(Y-G)/i.getStyle().aspectRatio.getValue(),F=n.YGMeasureMode.Exactly));const x=!g(s)&&o==n.YGMeasureMode.Exactly,L=w(e,i)==n.YGAlign.Stretch&&D!=n.YGMeasureMode.Exactly;!y&&!b&&x&&L&&(Y=s,D=n.YGMeasureMode.Exactly,i.getStyle().aspectRatio.isUndefined()||(S=(Y-G)/i.getStyle().aspectRatio.getValue(),F=n.YGMeasureMode.Exactly));const N=!g(r)&&h==n.YGMeasureMode.Exactly,E=w(e,i)==n.YGAlign.Stretch&&F!=n.YGMeasureMode.Exactly;y&&!P&&N&&E&&(S=r,F=n.YGMeasureMode.Exactly,i.getStyle().aspectRatio.isUndefined()||(Y=(S-v)*i.getStyle().aspectRatio.getValue(),D=n.YGMeasureMode.Exactly));let C={value:D},T={value:Y},_={value:F},I={value:S};B(i,n.YGFlexDirection.Row,l,l,C,T),B(i,n.YGFlexDirection.Column,c,l,_,I),pe(i,T.value,I.value,p,C.value,_.value,l,c,!1,"measure",f),i.setLayoutComputedFlexBasis(new a.YGFloatOptional((0,u.YGFloatMax)(i.getLayout().measuredDimensions[d.dim[m]],A(i,m,l))))}else if(i.getLayout().computedFlexBasis.isUndefined()||De(i.getConfig(),n.YGExperimentalFeature.WebFlexBasis)&&i.getLayout().computedFlexBasisGeneration!=E){const e=new a.YGFloatOptional(A(i,m,l));i.setLayoutComputedFlexBasis((0,u.YGFloatOptionalMax)(x,e))}i.setLayoutComputedFlexBasisGeneration(E)}function H(e,i,s,o,r,a,l){const c=(0,u.YGResolveFlexDirection)(e.getStyle().flexDirection,a),h=(0,u.YGFlexDirectionCross)(c,a),p=(0,u.YGFlexDirectionIsRow)(c);let f=t.YGUndefined,m=t.YGUndefined,y=n.YGMeasureMode.Undefined,G=n.YGMeasureMode.Undefined;const v=(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(n.YGFlexDirection.Row,s)),Y=(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(n.YGFlexDirection.Column,s));M(i,n.YGFlexDirection.Row,s)?f=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(i.getResolvedDimension(n.YGDimension.Width),s))+v:i.isLeadingPositionDefined(n.YGFlexDirection.Row)&&i.isTrailingPosDefined(n.YGFlexDirection.Row)&&(f=e.getLayout().measuredDimensions[n.YGDimension.Width]-(e.getLeadingBorder(n.YGFlexDirection.Row)+e.getTrailingBorder(n.YGFlexDirection.Row))-(0,u.YGUnwrapFloatOptional)(i.getLeadingPosition(n.YGFlexDirection.Row,s).add(i.getTrailingPosition(n.YGFlexDirection.Row,s))),f=V(i,n.YGFlexDirection.Row,f,s,s)),M(i,n.YGFlexDirection.Column,r)?m=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(i.getResolvedDimension(n.YGDimension.Height),r))+Y:i.isLeadingPositionDefined(n.YGFlexDirection.Column)&&i.isTrailingPosDefined(n.YGFlexDirection.Column)&&(m=e.getLayout().measuredDimensions[n.YGDimension.Height]-(e.getLeadingBorder(n.YGFlexDirection.Column)+e.getTrailingBorder(n.YGFlexDirection.Column))-(0,u.YGUnwrapFloatOptional)(i.getLeadingPosition(n.YGFlexDirection.Column,r).add(i.getTrailingPosition(n.YGFlexDirection.Column,r))),m=V(i,n.YGFlexDirection.Column,m,r,s)),(g(f)?!g(m):g(m))&&(i.getStyle().aspectRatio.isUndefined()||(g(f)?f=v+(m-Y)*i.getStyle().aspectRatio.getValue():g(m)&&(m=Y+(f-v)/i.getStyle().aspectRatio.getValue()))),(g(f)||g(m))&&(y=g(f)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,G=g(m)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,!p&&g(f)&&o!=n.YGMeasureMode.Undefined&&!g(s)&&s>0&&(f=s,y=n.YGMeasureMode.AtMost),pe(i,f,m,a,y,G,f,m,!1,"abs-measure",l),f=i.getLayout().measuredDimensions[n.YGDimension.Width]+(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(n.YGFlexDirection.Row,s)),m=i.getLayout().measuredDimensions[n.YGDimension.Height]+(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(n.YGFlexDirection.Column,s))),pe(i,f,m,a,n.YGMeasureMode.Exactly,n.YGMeasureMode.Exactly,f,m,!0,"abs-layout",l),i.isTrailingPosDefined(c)&&!i.isLeadingPositionDefined(c)?i.setLayoutPosition(e.getLayout().measuredDimensions[d.dim[c]]-i.getLayout().measuredDimensions[d.dim[c]]-e.getTrailingBorder(c)-(0,u.YGUnwrapFloatOptional)(i.getTrailingMargin(c,s))-(0,u.YGUnwrapFloatOptional)(i.getTrailingPosition(c,p?s:r)),d.leading[c]):i.isLeadingPositionDefined(c)||e.getStyle().justifyContent!=n.YGJustify.Center?i.isLeadingPositionDefined(c)||e.getStyle().justifyContent!=n.YGJustify.FlexEnd||i.setLayoutPosition(e.getLayout().measuredDimensions[d.dim[c]]-i.getLayout().measuredDimensions[d.dim[c]],d.leading[c]):i.setLayoutPosition((e.getLayout().measuredDimensions[d.dim[c]]-i.getLayout().measuredDimensions[d.dim[c]])/2,d.leading[c]),i.isTrailingPosDefined(h)&&!i.isLeadingPositionDefined(h)?i.setLayoutPosition(e.getLayout().measuredDimensions[d.dim[h]]-i.getLayout().measuredDimensions[d.dim[h]]-e.getTrailingBorder(h)-(0,u.YGUnwrapFloatOptional)(i.getTrailingMargin(h,s))-(0,u.YGUnwrapFloatOptional)(i.getTrailingPosition(h,p?r:s)),d.leading[h]):i.isLeadingPositionDefined(h)||w(e,i)!=n.YGAlign.Center?i.isLeadingPositionDefined(h)||(w(e,i)==n.YGAlign.FlexEnd?e.getStyle().flexWrap==n.YGWrap.WrapReverse:e.getStyle().flexWrap!=n.YGWrap.WrapReverse)||i.setLayoutPosition(e.getLayout().measuredDimensions[d.dim[h]]-i.getLayout().measuredDimensions[d.dim[h]],d.leading[h]):i.setLayoutPosition((e.getLayout().measuredDimensions[d.dim[h]]-i.getLayout().measuredDimensions[d.dim[h]])/2,d.leading[h])}function j(e,t,i,s,o,r,a){Ye(e,null!=e.getMeasure(),"Expected node to have custom measure function");const l=A(e,n.YGFlexDirection.Row,t),d=A(e,n.YGFlexDirection.Column,t),c=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Row,t)),h=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Column,t)),p=g(t)?t:(0,u.YGFloatMax)(0,t-c-l),f=g(i)?i:(0,u.YGFloatMax)(0,i-h-d);if(s==n.YGMeasureMode.Exactly&&o==n.YGMeasureMode.Exactly)e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Row,t-c,r,r),n.YGDimension.Width),e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Column,i-h,a,r),n.YGDimension.Height);else{const u=e.getMeasure()(e,p,s,f,o);e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Row,s==n.YGMeasureMode.Undefined||s==n.YGMeasureMode.AtMost?u.width+l:t-c,r,r),n.YGDimension.Width),e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Column,o==n.YGMeasureMode.Undefined||o==n.YGMeasureMode.AtMost?u.height+d:i-h,a,r),n.YGDimension.Height)}}function X(e,t,i,s,o,r,a){const l=A(e,n.YGFlexDirection.Row,r),d=A(e,n.YGFlexDirection.Column,r),c=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Row,r)),h=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Column,r));e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Row,s==n.YGMeasureMode.Undefined||s==n.YGMeasureMode.AtMost?l:t-c,r,r),n.YGDimension.Width),e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Column,o==n.YGMeasureMode.Undefined||o==n.YGMeasureMode.AtMost?d:i-h,a,r),n.YGDimension.Height)}function q(e,t,i,s,o,r,a){if(!g(t)&&s==n.YGMeasureMode.AtMost&&t<=0||!g(i)&&o==n.YGMeasureMode.AtMost&&i<=0||s==n.YGMeasureMode.Exactly&&o==n.YGMeasureMode.Exactly){const l=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Column,r)),d=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Row,r));return e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Row,g(t)||s==n.YGMeasureMode.AtMost&&t<0?0:t-d,r,r),n.YGDimension.Width),e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Column,g(i)||o==n.YGMeasureMode.AtMost&&i<0?0:i-l,a,r),n.YGDimension.Height),!0}return!1}function z(e){e.getLayout().clean(),e.setHasNewLayout(!0),e.cloneChildrenIfNeeded();const t=N(e);for(let i=0;i<t;i++){z(e.getChild(i))}}function J(e,t,i,s){const o=(0,u.YGFlexDirectionIsRow)(t)?n.YGFlexDirection.Row:n.YGFlexDirection.Column,r=(0,u.YGFlexDirectionIsRow)(t)?n.YGDimension.Width:n.YGDimension.Height,a=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(o,s)),l=A(e,o,s);let d=i-a-l;if(!g(d)){const t=(0,u.YGResolveValue)(e.getStyle().minDimensions[r],s),i=t.isUndefined()?0:t.getValue()-l,n=(0,u.YGResolveValue)(e.getStyle().maxDimensions[r],s),o=n.isUndefined()?Number.MAX_VALUE:n.getValue()-l;d=(0,u.YGFloatMax)((0,u.YGFloatMin)(d,o),i)}return d}function $(e,t,i,s,o,r,l,d,c,h){let g=null;const p=e.getChildren();if(((0,u.YGFlexDirectionIsRow)(l)?s:o)==n.YGMeasureMode.Exactly)for(let e=0;e<p.length;++e){const t=p[e];if(t.isNodeFlexible()){if(null!=g||(0,u.YGFloatsEqual)(t.resolveFlexGrow(),0)||(0,u.YGFloatsEqual)(t.resolveFlexShrink(),0)){g=null;break}g=t}}for(let f=0;f<p.length;++f){const m=p[f];if(m.resolveDimension(),m.getStyle().display!=n.YGDisplay.None){if(c){const e=m.resolveDirection(r),n=(0,u.YGFlexDirectionIsRow)(l)?t:i,s=(0,u.YGFlexDirectionIsRow)(l)?i:t;m.setPosition(e,n,s,t)}m.getStyle().positionType!=n.YGPositionType.Absolute&&(m==g?(m.setLayoutComputedFlexBasisGeneration(E),m.setLayoutComputedFlexBasis(new a.YGFloatOptional(0))):W(e,m,t,s,i,t,i,o,r,d),h.value+=(0,u.YGUnwrapFloatOptional)(m.getLayout().computedFlexBasis.add(m.getMarginForAxis(l,t))))}else z(m),m.setHasNewLayout(!0),m.setDirty(!1)}}function Z(e,t,i,s,o,r,a){const l=new u.YGCollectFlexItemsRowValues;let d=0;const c=(0,u.YGResolveFlexDirection)(e.getStyle().flexDirection,e.resolveDirection(t)),h=e.getStyle().flexWrap!=n.YGWrap.NoWrap;let g=r;for(;g<e.getChildrenCount();g++){const t=e.getChild(g);if(t.getStyle().display==n.YGDisplay.None||t.getStyle().positionType==n.YGPositionType.Absolute)continue;t.setLineIndex(a);const r=(0,u.YGUnwrapFloatOptional)(t.getMarginForAxis(c,s)),p=(0,u.YGUnwrapFloatOptional)(U(t,c,(0,u.YGUnwrapFloatOptional)(t.getLayout().computedFlexBasis),i));if(d+p+r>o&&h&&l.itemsOnLine>0)break;d+=p+r,l.sizeConsumedOnCurrentLine+=p+r,l.itemsOnLine++,t.isNodeFlexible()&&(l.totalFlexGrowFactors+=t.resolveFlexGrow(),l.totalFlexShrinkScaledFactors+=-t.resolveFlexShrink()*(0,u.YGUnwrapFloatOptional)(t.getLayout().computedFlexBasis)),l.relativeChildren.push(t)}return l.totalFlexGrowFactors>0&&l.totalFlexGrowFactors<1&&(l.totalFlexGrowFactors=1),l.totalFlexShrinkScaledFactors>0&&l.totalFlexShrinkScaledFactors<1&&(l.totalFlexShrinkScaledFactors=1),l.endOfLineIndex=g,l}function K(e,t,i,s,o,r,a,l,c,h,p,f,m){let y=0,G=0,v=0,Y=0,S=(0,u.YGFlexDirectionIsRow)(i),D=t.getStyle().flexWrap!=n.YGWrap.NoWrap;for(let F=0;F<e.relativeChildren.length;++F){const x=e.relativeChildren[F];y=(0,u.YGUnwrapFloatOptional)(U(x,i,(0,u.YGUnwrapFloatOptional)(x.getLayout().computedFlexBasis),o));let b=y;if(!g(e.remainingFreeSpace)&&e.remainingFreeSpace<0){if(G=-x.resolveFlexShrink()*y,0!=G){let t;t=g(e.totalFlexShrinkScaledFactors)||0!=e.totalFlexShrinkScaledFactors?y+e.remainingFreeSpace/e.totalFlexShrinkScaledFactors*G:y+G,b=V(x,i,t,r,l)}}else!g(e.remainingFreeSpace)&&e.remainingFreeSpace>0&&(v=x.resolveFlexGrow(),g(v)||0==v||(b=V(x,i,y+e.remainingFreeSpace/e.totalFlexGrowFactors*v,r,l)));Y+=b-y;const P=(0,u.YGUnwrapFloatOptional)(x.getMarginForAxis(i,l)),L=(0,u.YGUnwrapFloatOptional)(x.getMarginForAxis(s,l));let N,E,C=b+P,T=n.YGMeasureMode.Exactly;if(x.getStyle().aspectRatio.isUndefined())if(g(a)||M(x,s,a)||p!=n.YGMeasureMode.Exactly||D&&h||w(t,x)!=n.YGAlign.Stretch||x.marginLeadingValue(s).unit==n.YGUnit.Auto||x.marginTrailingValue(s).unit==n.YGUnit.Auto)if(M(x,s,a)){N=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(x.getResolvedDimension(d.dim[s]),a))+L;const e=x.getResolvedDimension(d.dim[s]).unit==n.YGUnit.Percent&&p!=n.YGMeasureMode.Exactly;E=g(N)||e?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly}else N=a,E=g(N)?n.YGMeasureMode.Undefined:n.YGMeasureMode.AtMost;else N=a,E=n.YGMeasureMode.Exactly;else N=S?(C-P)/x.getStyle().aspectRatio.getValue():(C-P)*x.getStyle().aspectRatio.getValue(),E=n.YGMeasureMode.Exactly,N+=L;let A={value:T},_={value:C},I={value:E},R={value:N};B(x,i,r,l,A,_),B(x,s,a,l,I,R),T=A.value,C=_.value,E=I.value,N=R.value;const O=!M(x,s,a)&&w(t,x)==n.YGAlign.Stretch&&x.marginLeadingValue(s).unit!=n.YGUnit.Auto&&x.marginTrailingValue(s).unit!=n.YGUnit.Auto,k=S?T:E,W=S?E:T;pe(x,S?C:N,S?N:C,t.getLayout().direction,k,W,l,c,f&&!O,"flex",m),t.setLayoutHadOverflow(t.getLayout().hadOverflow||x.getLayout().hadOverflow)}return Y}function Q(e,t,i,n,s){let o=0,r=0,a=0,l=0,d=0;for(let c=0;c<e.relativeChildren.length;++c){const h=e.relativeChildren[c],p=(0,u.YGUnwrapFloatOptional)(U(h,t,(0,u.YGUnwrapFloatOptional)(h.getLayout().computedFlexBasis),i));e.remainingFreeSpace<0?(o=-h.resolveFlexShrink()*p,g(o)||0==o||(a=p+e.remainingFreeSpace/e.totalFlexShrinkScaledFactors*o,l=V(h,t,a,n,s),g(a)||g(l)||a==l||(d+=l-p,e.totalFlexShrinkScaledFactors-=o))):!g(e.remainingFreeSpace)&&e.remainingFreeSpace>0&&(r=h.resolveFlexGrow(),g(r)||0==r||(a=p+e.remainingFreeSpace/e.totalFlexGrowFactors*r,l=V(h,t,a,n,s),g(a)||g(l)||a==l||(d+=l-p,e.totalFlexGrowFactors-=r)))}e.remainingFreeSpace-=d}function ee(e,t,i,n,s,o,r,a,l,u,d,c,h){const g=t.remainingFreeSpace;Q(t,i,s,o,a);const p=K(t,e,i,n,s,o,r,a,l,u,d,c,h);t.remainingFreeSpace=g-p}function te(e,t,i,s,o,r,a,l,c,h,g,p,f){const m=e.getStyle();r==n.YGMeasureMode.AtMost&&t.remainingFreeSpace>0&&(m.minDimensions[d.dim[s]].unit==n.YGUnit.Undefined||(0,u.YGResolveValue)(m.minDimensions[d.dim[s]],l).isUndefined()?t.remainingFreeSpace=0:t.remainingFreeSpace=(0,u.YGFloatMax)(0,(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(m.minDimensions[d.dim[s]],l))-(h-t.remainingFreeSpace)));let y=0;for(let o=i;o<t.endOfLineIndex;o++){const t=e.getChild(o);t.getStyle().positionType==n.YGPositionType.Relative&&(t.marginLeadingValue(s).unit==n.YGUnit.Auto&&y++,t.marginTrailingValue(s).unit==n.YGUnit.Auto&&y++)}let G=0,v=0;const Y=e.getStyle().justifyContent;if(0==y)switch(Y){case n.YGJustify.Center:G=t.remainingFreeSpace/2;break;case n.YGJustify.FlexEnd:G=t.remainingFreeSpace;break;case n.YGJustify.SpaceBetween:v=t.itemsOnLine>1?(0,u.YGFloatMax)(t.remainingFreeSpace,0)/(t.itemsOnLine-1):0;break;case n.YGJustify.SpaceEvenly:v=t.remainingFreeSpace/(t.itemsOnLine+1),G=v;break;case n.YGJustify.SpaceAround:v=t.remainingFreeSpace/t.itemsOnLine,G=v/2;case n.YGJustify.FlexStart:}const S=(0,u.YGUnwrapFloatOptional)(e.getLeadingPaddingAndBorder(s,c));t.mainDim=S+G,t.crossDim=0;const D=d.pos[s];for(let r=i;r<t.endOfLineIndex;r++){const i=e.getChild(r),l=i.getStyle(),d=i.getLayout();if(l.display!=n.YGDisplay.None)if(l.positionType==n.YGPositionType.Absolute&&i.isLeadingPositionDefined(s))f&&i.setLayoutPosition((0,u.YGUnwrapFloatOptional)(i.getLeadingPosition(s,h))+e.getLeadingBorder(s)+(0,u.YGUnwrapFloatOptional)(i.getLeadingMargin(s,p)),D);else if(l.positionType==n.YGPositionType.Relative){i.marginLeadingValue(s).unit==n.YGUnit.Auto&&(t.mainDim+=t.remainingFreeSpace/y),f&&i.setLayoutPosition(d.position[D]+t.mainDim,D),i.marginTrailingValue(s).unit==n.YGUnit.Auto&&(t.mainDim+=t.remainingFreeSpace/y);!f&&a==n.YGMeasureMode.Exactly?(t.mainDim+=v+(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(s,p))+(0,u.YGUnwrapFloatOptional)(d.computedFlexBasis),t.crossDim=g):(t.mainDim+=v+R(i,s,p),t.crossDim=(0,u.YGFloatMax)(t.crossDim,R(i,o,p)))}else f&&i.setLayoutPosition(d.position[D]+e.getLeadingBorder(s)+G,D)}t.mainDim+=(0,u.YGUnwrapFloatOptional)(e.getTrailingPaddingAndBorder(s,c))}function ie(e,t,i,s,o,r,a,l,c,h){Ye(e,!g(t)||o==n.YGMeasureMode.Undefined,"availableWidth is indefinite so widthMeasureMode must be YGMeasureMode.Undefined"),Ye(e,!g(i)||r==n.YGMeasureMode.Undefined,"availableHeight is indefinite so heightMeasureMode must be YGMeasureMode.Undefined");const p=e.resolveDirection(s);e.setLayoutDirection(p);const f=(0,u.YGResolveFlexDirection)(n.YGFlexDirection.Row,p),m=(0,u.YGResolveFlexDirection)(n.YGFlexDirection.Column,p);if(e.setLayoutMargin((0,u.YGUnwrapFloatOptional)(e.getLeadingMargin(f,a)),n.YGEdge.Start),e.setLayoutMargin((0,u.YGUnwrapFloatOptional)(e.getTrailingMargin(f,a)),n.YGEdge.End),e.setLayoutMargin((0,u.YGUnwrapFloatOptional)(e.getLeadingMargin(m,a)),n.YGEdge.Top),e.setLayoutMargin((0,u.YGUnwrapFloatOptional)(e.getTrailingMargin(m,a)),n.YGEdge.Bottom),e.setLayoutBorder(e.getLeadingBorder(f),n.YGEdge.Start),e.setLayoutBorder(e.getTrailingBorder(f),n.YGEdge.End),e.setLayoutBorder(e.getLeadingBorder(m),n.YGEdge.Top),e.setLayoutBorder(e.getTrailingBorder(m),n.YGEdge.Bottom),e.setLayoutPadding((0,u.YGUnwrapFloatOptional)(e.getLeadingPadding(f,a)),n.YGEdge.Start),e.setLayoutPadding((0,u.YGUnwrapFloatOptional)(e.getTrailingPadding(f,a)),n.YGEdge.End),e.setLayoutPadding((0,u.YGUnwrapFloatOptional)(e.getLeadingPadding(m,a)),n.YGEdge.Top),e.setLayoutPadding((0,u.YGUnwrapFloatOptional)(e.getTrailingPadding(m,a)),n.YGEdge.Bottom),null!=e.getMeasure())return void j(e,t,i,o,r,a,l);const y=N(e);if(0==y)return void X(e,t,i,o,r,a,l);if(!c&&q(e,t,i,o,r,a,l))return;e.cloneChildrenIfNeeded(),e.setLayoutHadOverflow(!1);const G=(0,u.YGResolveFlexDirection)(e.getStyle().flexDirection,p),v=(0,u.YGFlexDirectionCross)(G,p),Y=(0,u.YGFlexDirectionIsRow)(G),S=e.getStyle().flexWrap!=n.YGWrap.NoWrap,D=d.pos[v],F=Y?a:l,x=Y?l:a,b=(0,u.YGUnwrapFloatOptional)(e.getLeadingPaddingAndBorder(v,a)),P=A(e,G,a),E=A(e,v,a);let C=Y?o:r,T=Y?r:o;const W=Y?P:E,z=Y?E:P,K=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Row,a)),Q=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Column,a)),ie=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getStyle().minDimensions[n.YGDimension.Width],a))-W,ne=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Width],a))-W,se=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getStyle().minDimensions[n.YGDimension.Height],l))-z,oe=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Height],l))-z,re=Y?ie:se,ae=Y?ne:oe,le=J(e,n.YGFlexDirection.Row,t,a),ue=J(e,n.YGFlexDirection.Column,i,l);let de=Y?le:ue,ce=Y?ue:le;const he={value:0};$(e,le,ue,o,r,p,G,h,c,he);const ge=C!=n.YGMeasureMode.Undefined&&he.value>de;S&&ge&&C==n.YGMeasureMode.AtMost&&(C=n.YGMeasureMode.Exactly);let fe,me=0,ye=0,Ge=0,ve=0,Se=0;for(;ye<y;Ge++,me=ye){fe=Z(e,s,F,le,de,me,Ge),ye=fe.endOfLineIndex;const t=!c&&T==n.YGMeasureMode.Exactly;let i=!1;C!=n.YGMeasureMode.Exactly&&(!g(re)&&fe.sizeConsumedOnCurrentLine<re?de=re:!g(ae)&&fe.sizeConsumedOnCurrentLine>ae?de=ae:(!e.getConfig().useLegacyStretchBehaviour&&(g(fe.totalFlexGrowFactors)&&0==fe.totalFlexGrowFactors||g(e.resolveFlexGrow())&&0==e.resolveFlexGrow())&&(de=fe.sizeConsumedOnCurrentLine),e.getConfig().useLegacyStretchBehaviour&&e.setLayoutDidUseLegacyFlag(!0),i=!e.getConfig().useLegacyStretchBehaviour)),i||g(de)?fe.sizeConsumedOnCurrentLine<0&&(fe.remainingFreeSpace=-fe.sizeConsumedOnCurrentLine):fe.remainingFreeSpace=de-fe.sizeConsumedOnCurrentLine,t||ee(e,fe,G,v,F,de,ce,le,ue,ge,T,c,h),e.setLayoutHadOverflow(e.getLayout().hadOverflow||fe.remainingFreeSpace<0),te(e,fe,me,G,v,C,T,F,a,de,ce,le,c);let o=ce;if(T!=n.YGMeasureMode.Undefined&&T!=n.YGMeasureMode.AtMost||(o=V(e,v,fe.crossDim+E,x,a)-E),S||T!=n.YGMeasureMode.Exactly||(fe.crossDim=ce),fe.crossDim=V(e,v,fe.crossDim+E,x,a)-E,c)for(let t=me;t<ye;t++){const i=e.getChild(t);if(i.getStyle().display!=n.YGDisplay.None)if(i.getStyle().positionType==n.YGPositionType.Absolute){const t=i.isLeadingPositionDefined(v);t&&i.setLayoutPosition((0,u.YGUnwrapFloatOptional)(i.getLeadingPosition(v,ce))+e.getLeadingBorder(v)+(0,u.YGUnwrapFloatOptional)(i.getLeadingMargin(v,le)),D),t&&!g(i.getLayout().position[D])||i.setLayoutPosition(e.getLeadingBorder(v)+(0,u.YGUnwrapFloatOptional)(i.getLeadingMargin(v,le)),D)}else{let t=b;const s=w(e,i);if(s==n.YGAlign.Stretch&&i.marginLeadingValue(v).unit!=n.YGUnit.Auto&&i.marginTrailingValue(v).unit!=n.YGUnit.Auto){if(!M(i,v,ce)){let e=i.getLayout().measuredDimensions[d.dim[G]],t=i.getStyle().aspectRatio.isUndefined()?fe.crossDim:(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(v,le))+(Y?e/i.getStyle().aspectRatio.getValue():e*i.getStyle().aspectRatio.getValue());e+=(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(G,le));let s=n.YGMeasureMode.Exactly,o=n.YGMeasureMode.Exactly,r={value:s},a={value:e},l={value:o},c={value:t};B(i,G,de,le,r,a),B(i,v,ce,le,l,c),s=r.value,e=a.value,o=l.value,t=c.value;const f=Y?e:t,m=Y?t:e;pe(i,f,m,p,g(f)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,g(m)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,le,ue,!0,"stretch",h)}}else{const e=o-R(i,v,le);i.marginLeadingValue(v).unit==n.YGUnit.Auto&&i.marginTrailingValue(v).unit==n.YGUnit.Auto?t+=(0,u.YGFloatMax)(0,e/2):i.marginTrailingValue(v).unit==n.YGUnit.Auto||(i.marginLeadingValue(v).unit==n.YGUnit.Auto?t+=(0,u.YGFloatMax)(0,e):s==n.YGAlign.FlexStart||(s==n.YGAlign.Center?t+=e/2:t+=e))}i.setLayoutPosition(i.getLayout().position[D]+ve+t,D)}}ve+=fe.crossDim,Se=(0,u.YGFloatMax)(Se,fe.mainDim)}if(c&&(Ge>1||I(e))&&!g(ce)){const t=ce-ve;let i=0,s=b;switch(e.getStyle().alignContent){case n.YGAlign.FlexEnd:s+=t;break;case n.YGAlign.Center:s+=t/2;break;case n.YGAlign.Stretch:ce>ve&&(i=t/Ge);break;case n.YGAlign.SpaceAround:ce>ve?(s+=t/(2*Ge),Ge>1&&(i=t/Ge)):s+=t/2;break;case n.YGAlign.SpaceBetween:ce>ve&&Ge>1&&(i=t/(Ge-1));case n.YGAlign.Auto:case n.YGAlign.FlexStart:case n.YGAlign.Baseline:}let o=0;for(let t=0;t<Ge;t++){let r,a=o,l=0,g=0,f=0;for(r=a;r<y;r++){const i=e.getChild(r);if(i.getStyle().display!=n.YGDisplay.None&&i.getStyle().positionType==n.YGPositionType.Relative){if(i.getLineIndex()!=t)break;if(O(i,v)&&(l=(0,u.YGFloatMax)(l,i.getLayout().measuredDimensions[d.dim[v]]+(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(v,le)))),w(e,i)==n.YGAlign.Baseline){const e=_(i)+(0,u.YGUnwrapFloatOptional)(i.getLeadingMargin(n.YGFlexDirection.Column,le)),t=i.getLayout().measuredDimensions[n.YGDimension.Height]+(0,u.YGUnwrapFloatOptional)(i.getMarginForAxis(n.YGFlexDirection.Column,le))-e;g=(0,u.YGFloatMax)(g,e),f=(0,u.YGFloatMax)(f,t),l=(0,u.YGFloatMax)(l,g+f)}}}if(o=r,l+=i,c)for(r=a;r<o;r++){const t=e.getChild(r);if(t.getStyle().display!=n.YGDisplay.None&&t.getStyle().positionType==n.YGPositionType.Relative)switch(w(e,t)){case n.YGAlign.FlexStart:t.setLayoutPosition(s+(0,u.YGUnwrapFloatOptional)(t.getLeadingMargin(v,le)),D);break;case n.YGAlign.FlexEnd:t.setLayoutPosition(s+l-(0,u.YGUnwrapFloatOptional)(t.getTrailingMargin(v,le))-t.getLayout().measuredDimensions[d.dim[v]],D);break;case n.YGAlign.Center:{const e=t.getLayout().measuredDimensions[d.dim[v]];t.setLayoutPosition(s+(l-e)/2,D);break}case n.YGAlign.Stretch:if(t.setLayoutPosition(s+(0,u.YGUnwrapFloatOptional)(t.getLeadingMargin(v,le)),D),!M(t,v,ce)){const e=Y?t.getLayout().measuredDimensions[n.YGDimension.Width]+(0,u.YGUnwrapFloatOptional)(t.getMarginForAxis(G,le)):l,i=Y?l:t.getLayout().measuredDimensions[n.YGDimension.Height]+(0,u.YGUnwrapFloatOptional)(t.getMarginForAxis(v,le));(0,u.YGFloatsEqual)(e,t.getLayout().measuredDimensions[n.YGDimension.Width])&&(0,u.YGFloatsEqual)(i,t.getLayout().measuredDimensions[n.YGDimension.Height])||pe(t,e,i,p,n.YGMeasureMode.Exactly,n.YGMeasureMode.Exactly,le,ue,!0,"multiline-stretch",h)}break;case n.YGAlign.Baseline:t.setLayoutPosition(s+g-_(t)+(0,u.YGUnwrapFloatOptional)(t.getLeadingPosition(n.YGFlexDirection.Column,ce)),n.YGEdge.Top);case n.YGAlign.Auto:case n.YGAlign.SpaceBetween:case n.YGAlign.SpaceAround:}}s+=l}}if(e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Row,t-K,a,a),n.YGDimension.Width),e.setLayoutMeasuredDimension(V(e,n.YGFlexDirection.Column,i-Q,l,a),n.YGDimension.Height),C==n.YGMeasureMode.Undefined||e.getStyle().overflow!=n.YGOverflow.Scroll&&C==n.YGMeasureMode.AtMost?e.setLayoutMeasuredDimension(V(e,G,Se,F,a),d.dim[G]):C==n.YGMeasureMode.AtMost&&e.getStyle().overflow==n.YGOverflow.Scroll&&e.setLayoutMeasuredDimension((0,u.YGFloatMax)((0,u.YGFloatMin)(de+P,(0,u.YGUnwrapFloatOptional)(U(e,G,Se,F))),P),d.dim[G]),T==n.YGMeasureMode.Undefined||e.getStyle().overflow!=n.YGOverflow.Scroll&&T==n.YGMeasureMode.AtMost?e.setLayoutMeasuredDimension(V(e,v,ve+E,x,a),d.dim[v]):T==n.YGMeasureMode.AtMost&&e.getStyle().overflow==n.YGOverflow.Scroll&&e.setLayoutMeasuredDimension((0,u.YGFloatMax)((0,u.YGFloatMin)(ce+E,(0,u.YGUnwrapFloatOptional)(U(e,v,ve+E,x))),E),d.dim[v]),c&&e.getStyle().flexWrap==n.YGWrap.WrapReverse)for(let t=0;t<y;t++){const i=L(e,t);i.getStyle().positionType==n.YGPositionType.Relative&&i.setLayoutPosition(e.getLayout().measuredDimensions[d.dim[v]]-i.getLayout().position[D]-i.getLayout().measuredDimensions[d.dim[v]],D)}if(c){const t=e.getChildren();for(let i=0;i<t.length;++i){const s=t[i];s.getStyle().positionType==n.YGPositionType.Absolute&&H(e,s,le,Y?C:T,ue,p,h)}const i=G==n.YGFlexDirection.RowReverse||G==n.YGFlexDirection.ColumnReverse,s=v==n.YGFlexDirection.RowReverse||v==n.YGFlexDirection.ColumnReverse;if(i||s)for(let t=0;t<y;t++){const o=e.getChild(t);o.getStyle().display!=n.YGDisplay.None&&(i&&k(e,o,G),s&&k(e,o,v))}}}t.YGNodePrintInternal=C,t.YGNodePrint=T,t.YGNodePaddingAndBorderForAxis=A,t.YGNodeAlignItem=w,t.YGBaseline=_,t.YGIsBaselineLayout=I,t.YGNodeDimWithMargin=R,t.YGNodeIsStyleDimDefined=M,t.YGNodeIsLayoutDimDefined=O,t.YGNodeBoundAxisWithinMinAndMax=U,t.YGNodeBoundAxis=V,t.YGNodeSetChildTrailingPosition=k,t.YGConstrainMaxSizeForMode=B,t.YGNodeComputeFlexBasisForChild=W,t.YGNodeAbsoluteLayoutChild=H,t.YGNodeWithMeasureFuncSetMeasuredDimensions=j,t.YGNodeEmptyContainerSetMeasuredDimensions=X,t.YGNodeFixedSizeSetMeasuredDimensions=q,t.YGZeroOutLayoutRecursivly=z,t.YGNodeCalculateAvailableInnerDim=J,t.YGNodeComputeFlexBasisForChildren=$,t.YGCalculateCollectFlexItemsRowValues=Z,t.YGDistributeFreeSpaceSecondPass=K,t.YGDistributeFreeSpaceFirstPass=Q,t.YGResolveFlexibleLength=ee,t.YGJustifyMainAxis=te,t.YGNodelayoutImpl=ie;let ne=0;const se=!1,oe=!1,re="                                                            ";function ae(e){const t=re.length;return e>t?re:re.substr(t-e)}function le(e,t){return e>=n.YGMeasureModeCount?"":t?["LAY_UNDEFINED","LAY_EXACTLY","LAY_AT_","MOST"][e]:["UNDEFINED","EXACTLY","AT_MOST"][e]}function ue(e,t,i){return e==n.YGMeasureMode.Exactly&&(0,u.YGFloatsEqual)(t,i)}function de(e,t,i,s){return e==n.YGMeasureMode.AtMost&&i==n.YGMeasureMode.Undefined&&(t>=s||(0,u.YGFloatsEqual)(t,s))}function ce(e,t,i,s,o){return i==n.YGMeasureMode.AtMost&&e==n.YGMeasureMode.AtMost&&!g(s)&&!g(t)&&!g(o)&&s>t&&(o<=t||(0,u.YGFloatsEqual)(t,o))}function he(e,i,n,s){let o=e*i;const r=o%1;return(0,u.YGFloatsEqual)(r,0)?o-=r:(0,u.YGFloatsEqual)(r,1)||n?o=o-r+1:s?o-=r:o=o-r+(!g(r)&&(r>.5||(0,u.YGFloatsEqual)(r,.5))?1:0),g(o)||g(i)?t.YGUndefined:o/i}function ge(e,t,i,n,s,o,r,a,l,d,c,h,p){if(!g(d)&&d<0||!g(l)&&l<0)return!1;const f=null!=p&&0!=p.pointScaleFactor,m=f?he(t,p.pointScaleFactor,!1,!1):t,y=f?he(n,p.pointScaleFactor,!1,!1):n,G=f?he(o,p.pointScaleFactor,!1,!1):o,v=f?he(a,p.pointScaleFactor,!1,!1):a,Y=s==e&&(0,u.YGFloatsEqual)(G,m),S=r==i&&(0,u.YGFloatsEqual)(v,y),D=Y||ue(e,t-c,l)||de(e,t-c,s,l)||ce(e,t-c,s,o,l),F=S||ue(i,n-h,d)||de(i,n-h,r,d)||ce(i,n-h,r,a,d);return D&&F}function pe(e,t,i,s,o,r,a,l,c,h,g){const p=e.getLayout();ne++;const f=e.isDirty()&&p.generationCount!=E||p.lastOwnerDirection!=s;f&&(p.nextCachedMeasurementsIndex=0,p.cachedLayout.widthMeasureMode=n.YGMeasureModeCount-1,p.cachedLayout.heightMeasureMode=n.YGMeasureModeCount-1,p.cachedLayout.computedWidth=-1,p.cachedLayout.computedHeight=-1);let m=null;if(null!=e.getMeasure()){const s=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Row,a)),l=(0,u.YGUnwrapFloatOptional)(e.getMarginForAxis(n.YGFlexDirection.Column,a));if(ge(o,t,r,i,p.cachedLayout.widthMeasureMode,p.cachedLayout.availableWidth,p.cachedLayout.heightMeasureMode,p.cachedLayout.availableHeight,p.cachedLayout.computedWidth,p.cachedLayout.computedHeight,s,l,g))m=p.cachedLayout;else for(let e=0;e<p.nextCachedMeasurementsIndex;e++)if(ge(o,t,r,i,p.cachedMeasurements[e].widthMeasureMode,p.cachedMeasurements[e].availableWidth,p.cachedMeasurements[e].heightMeasureMode,p.cachedMeasurements[e].availableHeight,p.cachedMeasurements[e].computedWidth,p.cachedMeasurements[e].computedHeight,s,l,g)){m=p.cachedMeasurements[e];break}}else if(c)(0,u.YGFloatsEqual)(p.cachedLayout.availableWidth,t)&&(0,u.YGFloatsEqual)(p.cachedLayout.availableHeight,i)&&p.cachedLayout.widthMeasureMode==o&&p.cachedLayout.heightMeasureMode==r&&(m=p.cachedLayout);else for(let e=0;e<p.nextCachedMeasurementsIndex;e++)if((0,u.YGFloatsEqual)(p.cachedMeasurements[e].availableWidth,t)&&(0,u.YGFloatsEqual)(p.cachedMeasurements[e].availableHeight,i)&&p.cachedMeasurements[e].widthMeasureMode==o&&p.cachedMeasurements[e].heightMeasureMode==r){m=p.cachedMeasurements[e];break}if(f||null==m){if(se&&(ve(e,n.YGLogLevel.Verbose,"%s%d.{%s",ae(ne),ne,f?"*":""),null!=e.getPrintFunc()&&e.getPrintFunc()(e),ve(e,n.YGLogLevel.Verbose,"wm: %s, hm: %s, aw: %f ah: %f %s\n",le(o,c),le(r,c),t,i,h)),ie(e,t,i,s,o,r,a,l,c,g),se&&(ve(e,n.YGLogLevel.Verbose,"%s%d.}%s",ae(ne),ne,f?"*":""),null!=e.getPrintFunc()&&e.getPrintFunc()(e),ve(e,n.YGLogLevel.Verbose,"wm: %s, hm: %s, d: (%f, %f) %s\n",le(o,c),le(r,c),p.measuredDimensions[n.YGDimension.Width],p.measuredDimensions[n.YGDimension.Height],h)),p.lastOwnerDirection=s,null==m){let s;p.nextCachedMeasurementsIndex==d.YG_MAX_CACHED_RESULT_COUNT&&(se&&ve(e,n.YGLogLevel.Verbose,"Out of cache entries!\n"),p.nextCachedMeasurementsIndex=0),c?s=p.cachedLayout:(s=p.cachedMeasurements[p.nextCachedMeasurementsIndex],p.nextCachedMeasurementsIndex++),s.availableWidth=t,s.availableHeight=i,s.widthMeasureMode=o,s.heightMeasureMode=r,s.computedWidth=p.measuredDimensions[n.YGDimension.Width],s.computedHeight=p.measuredDimensions[n.YGDimension.Height]}}else p.measuredDimensions[n.YGDimension.Width]=m.computedWidth,p.measuredDimensions[n.YGDimension.Height]=m.computedHeight,se&&oe&&(ve(e,n.YGLogLevel.Verbose,"%s%d.{[skipped] ",ae(ne),ne),null!=e.getPrintFunc()&&e.getPrintFunc()(e),ve(e,n.YGLogLevel.Verbose,"wm: %s, hm: %s, aw: %f ah: %f => d: (%f, %f) %s\n",le(o,c),le(r,c),t,i,m.computedWidth,m.computedHeight,h));return c&&(e.setLayoutDimension(e.getLayout().measuredDimensions[n.YGDimension.Width],n.YGDimension.Width),e.setLayoutDimension(e.getLayout().measuredDimensions[n.YGDimension.Height],n.YGDimension.Height),e.setHasNewLayout(!0),e.setDirty(!1)),ne--,p.generationCount=E,f||null==m}function fe(e,t){return e%t}function me(e,t,i,s){if(0==t)return;const o=e.getLayout().position[n.YGEdge.Left],r=e.getLayout().position[n.YGEdge.Top],a=e.getLayout().dimensions[n.YGDimension.Width],l=e.getLayout().dimensions[n.YGDimension.Height],d=i+o,c=s+r,h=d+a,g=c+l,p=e.getNodeType()==n.YGNodeType.Text;e.setLayoutPosition(he(o,t,!1,p),n.YGEdge.Left),e.setLayoutPosition(he(r,t,!1,p),n.YGEdge.Top);const f=!(0,u.YGFloatsEqual)(fe(a*t,1),0)&&!(0,u.YGFloatsEqual)(fe(a*t,1),1),m=!(0,u.YGFloatsEqual)(fe(l*t,1),0)&&!(0,u.YGFloatsEqual)(fe(l*t,1),1);e.setLayoutDimension(he(h,t,p&&f,p&&!f)-he(d,t,!1,p),n.YGDimension.Width),e.setLayoutDimension(he(g,t,p&&m,p&&!m)-he(c,t,!1,p),n.YGDimension.Height);const y=N(e);for(let i=0;i<y;i++)me(L(e,i),t,d,c)}function ye(e,t,i,s,...o){const r=null!=e?e:y();if(r.logger(r,t,i,s,o),i==n.YGLogLevel.Fatal)throw new Error("Abort Yoga")}function Ge(e,t,i,...n){ye(e,null,t,i,n)}function ve(e,t,i,...n){ye(null==e?null:e.getConfig(),e,t,i,n)}function Ye(e,t,i){t||ve(e,n.YGLogLevel.Fatal,"%s\n",i)}function Se(e,t,i){t||Ge(e,n.YGLogLevel.Fatal,"%s\n",i)}function De(e,t){return e.experimentalFeatures[t]}function Fe(e,t){for(let i=0;i<e.length;++i){const n=e[i];t(n),Fe(n.getChildren(),t)}}t.YGSpacer=ae,t.YGMeasureModeName=le,t.YGMeasureModeSizeIsExactAndMatchesOldMeasuredSize=ue,t.YGMeasureModeOldSizeIsUnspecifiedAndStillFits=de,t.YGMeasureModeNewMeasureSizeIsStricterAndStillValid=ce,t.YGRoundValueToPixelGrid=he,t.YGNodeCanUseCachedMeasurement=ge,t.YGLayoutNodeInternal=pe,t.YGConfigSetPointScaleFactor=function(e,t){Se(e,t>=0,"Scale factor should not be less than zero"),e.pointScaleFactor=0==t?0:t},t.YGRoundToPixelGrid=me,t.YGNodeCalculateLayout=function(e,i,s,o){E++,e.resolveDimension();let r=t.YGUndefined,a=n.YGMeasureMode.Undefined;M(e,n.YGFlexDirection.Row,i)?(r=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getResolvedDimension(d.dim[n.YGFlexDirection.Row]),i).add(e.getMarginForAxis(n.YGFlexDirection.Row,i))),a=n.YGMeasureMode.Exactly):(0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Width],i).isUndefined()?(r=i,a=g(r)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly):(r=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Width],i)),a=n.YGMeasureMode.AtMost);let l=t.YGUndefined,c=n.YGMeasureMode.Undefined;if(M(e,n.YGFlexDirection.Column,s)?(l=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getResolvedDimension(d.dim[n.YGFlexDirection.Column]),s).add(e.getMarginForAxis(n.YGFlexDirection.Column,i))),c=n.YGMeasureMode.Exactly):(0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Height],s).isUndefined()?(l=s,c=g(l)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly):(l=(0,u.YGUnwrapFloatOptional)((0,u.YGResolveValue)(e.getStyle().maxDimensions[n.YGDimension.Height],s)),c=n.YGMeasureMode.AtMost),pe(e,r,l,o,a,c,i,s,!0,"initial",e.getConfig())&&(e.setPosition(e.getLayout().direction,i,s,i),me(e,e.getConfig().pointScaleFactor,0,0)),e.getConfig().shouldDiffLayoutWithoutLegacyStretchBehaviour&&e.didUseLegacyFlag()){console.log("legacy config");const t=Y(e);t.resolveDimension(),t.markDirtyAndPropogateDownwards(),E++,t.setAndPropogateUseLegacyFlag(!1),pe(t,r,l,o,a,c,i,s,!0,"initial",t.getConfig())&&(t.setPosition(t.getLayout().direction,i,s,i),me(t,t.getConfig().pointScaleFactor,0,0),e.setLayoutDoesLegacyFlagAffectsLayout(!t.isLayoutTreeEqualToNode(e))),D(t),F(t)}},t.YGConfigSetLogger=function(e,t){e.logger=null!=t?t:h},t.YGConfigSetShouldDiffLayoutWithoutLegacyStretchBehaviour=function(e,t){e.shouldDiffLayoutWithoutLegacyStretchBehaviour=t},t.YGVLog=ye,t.YGLogWithConfig=Ge,t.YGLog=ve,t.YGAssert=function(e,t){e||ve(null,n.YGLogLevel.Fatal,"%s\n",t)},t.YGAssertWithNode=Ye,t.YGAssertWithConfig=Se,t.YGConfigSetExperimentalFeatureEnabled=function(e,t,i){e.experimentalFeatures[t]=i},t.YGConfigIsExperimentalFeatureEnabled=De,t.YGConfigSetUseWebDefaults=function(e,t){e.useWebDefaults=t},t.YGConfigSetUseLegacyStretchBehaviour=function(e,t){e.useLegacyStretchBehaviour=t},t.YGConfigGetUseWebDefaults=function(e){return e.useWebDefaults},t.YGConfigSetContext=function(e,t){e.context=t},t.YGConfigGetContext=function(e){return e.context},t.YGConfigSetCloneNodeFunc=function(e,t){e.cloneNodeCallback=t},t.YGTraverseChildrenPreOrder=Fe,t.YGTraversePreOrder=function(e,t){e&&(t(e),Fe(e.getChildren(),t))}},9637:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Animations=void 0;const n=i(5654),s=i(7760);t.Animations=class{static createTimeBasedAnimation(e,t,i,n,o){const r=this.createAnimationNode(t);return r.setAttribute("attributeName",t.attributes.attribute.value),r.setAttribute("href",t.attributes.target.value),r.setAttribute("from",t.attributes.from.value),r.setAttribute("to",t.attributes.to.value),r.setAttribute("dur",this.convertToFullClockValue(t.attributes.duration.value)),r.setAttribute("begin",this.convertToFullClockValue(t.attributes.start?t.attributes.start.value:"0")),t.children.length>0&&"easing"===t.children[0].localName&&s.Easings.setEasingFunction(r,t,i),i?this.setStoryboardAttributes(r,e,t.parentNode,n,o):(r.setAttribute("fill","freeze"),t.parentNode.parentNode.appendChild(r)),r}static createValueBasedAnimation(e,t,i,n){const s=this.createAnimationNode(t),o=t.attributes.value?t.attributes.value:t.attributes["hmi-bind:value"]?t.attributes["hmi-bind:value"]:t.attributes["hmi-data-bind:value"];return t.parentNode.parentNode.appendChild(s),s.setAttribute("speed",t.attributes.speed.value),s.setAttribute("maxduration",t.attributes.maxduration.value),s.setAttribute("fill","freeze"),"hmi-bind"===o.prefix?e.AddBinding(s,o,o.value,!1,i,n):"hmi-data-bind"===o.prefix?e.AddBinding(s,o,o.value,!0,i,n):(s.setAttribute("from",o.value),s.setAttribute("to",o.value)),s}static createAnimationNode(e){const t="transform"===e.attributes.attribute.value,i=document.createElementNS("http://www.w3.org/2000/svg",t?"animateTransform":"animate");if(i.setAttribute("attributeName",e.attributes.attribute.value),i.setAttribute("href",e.attributes.target.value),t){const t=e.localName.split("-")[0];"translation"===t?i.setAttribute("type","translate"):"rotate"!==t&&"scale"!==t||i.setAttribute("type",t),i.setAttribute("additive","sum")}return i}static setStoryboardAttributes(e,t,i,s,o){const r=i.attributes.repeat,a=i.attributes.finalized;e.setAttribute("repeat",r?r.value:"true"),e.setAttribute("finalized",a?a.value:"true"),i.parentNode.parentNode.appendChild(e);const l=i.attributes.enabled?i.attributes.enabled:i.attributes["hmi-bind:enabled"]?i.attributes["hmi-bind:enabled"]:i.attributes["hmi-data-bind:enabled"];"hmi-bind"===l.prefix?t.AddBinding(e,l,l.value,!1,s,o):"hmi-data-bind"===l.prefix?t.AddBinding(e,l,l.value,!0,s,o):n.Parse.toBoolean(l.value)?void 0===r||n.Parse.toBoolean(r.value)?e.setAttribute("repeatCount","indefinite"):e.setAttribute("repeatCount","0"):void 0===a||n.Parse.toBoolean(a.value)?e.setAttribute("fill","freeze"):e.setAttribute("dur","indefinite")}static applyStoryboardAttributes(e,t){t?(e.removeAttribute("fill"),"indefinite"===e.attributes.dur.value&&e.setAttribute("dur",e.attributes.initDur.value),e.getCurrentTime()>this.convertFullClockValueToSeconds(e.attributes.begin.value)&&e.beginElement()):n.Parse.toBoolean(e.attributes.finalized.value)?e.setAttribute("fill","freeze"):(e.setAttribute("initDur",e.attributes.dur.value),e.setAttribute("dur","indefinite")),e.onend=()=>{!t&&n.Parse.toBoolean(e.attributes.finalized.value)&&e.setAttribute("fill","freeze"),t&&n.Parse.toBoolean(e.attributes.repeat.value)&&e.beginElement()}}static applyValueBasedAttributes(e,t){const i="fill"===e.attributes.attributeName.value?[this.convertColorToRgba(t.toString())]:t.toString().replace(/,/g," ").replace(/\s\s+/g," ").split(" ");if(e.attributes.from){const t=[],n="fill"===e.attributes.attributeName.value?[this.convertColorToRgba(e.attributes.to.value)]:e.attributes.to.value.replace(/,/g," ").replace(/\s\s+/g," ").split(" "),s=this.calculateValueDistance(e,n,i)/parseFloat(e.attributes.speed.value);e.setAttribute("dur",this.convertSecondsToFullClockValue(s>e.attributes.maxduration.value?parseFloat(e.attributes.maxduration.value):s)),"transform"===e.attributes.attributeName.value&&"rotate"===e.attributes.type.value?(t.push(n[0]),i.length>1&&(t.push(i[1]),t.push(i[2]))):t.push(n.join(" ")),e.setAttribute("from",t.join(" "))}else e.setAttribute("from",i.join(" "));e.setAttribute("to",i.join(" ")),e.removeAttribute("value")}static calculateValueDistance(e,t,i){if("fill"===e.attributes.attributeName.value){const e=this.rgbaToArray(t[0]),n=this.rgbaToArray(i[0]);return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)+Math.pow(e[2]-n[2],2)+Math.pow(e[3]-n[3],2))}if("transform"===e.attributes.attributeName.value){const n=e.attributes.type.value;if("rotate"===n)return Math.sqrt(Math.pow(parseFloat(t[0])-parseFloat(i[0]),2));if("scale"===n||"translate"===n){const e=Math.pow(parseFloat(t[0])-parseFloat(i[0]),2);let s=0;if(i.length>1){const e=t[1]?parseFloat(t[1]):"scale"===n?parseFloat(t[0]):0,o=i[1]?parseFloat(i[1]):"scale"===n?parseFloat(t[0]):0;s=Math.pow(e-o,2)}else"scale"===n&&(s=e);return Math.sqrt(e+s)}}return Math.abs(parseFloat(t[0])-parseFloat(i[0]))}static convertColorToRgba(e){let t;if(-1!==e.indexOf("rgba"))return e;e.startsWith("#")?(e=e.slice(1),t=parseInt(e,16)):e.startsWith("0x")&&(e=e.slice(4),e+=e.slice(0,2),t=parseInt(e,16));const i=[t>>>24,(16711680&t)>>>16,(65280&t)>>>8,(255&t)/255];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}static rgbaToArray(e){const t=e.split("rgba(")[1].split(",");return[parseInt(t[0]),parseInt(t[1]),parseInt(t[2]),parseInt(t[3].split(")")[0])]}static convertToFullClockValue(e){const t=e.split(":"),i=t[0]?t[0].padStart(2,"0"):"00",n=t[1]?t[1].padStart(2,"0"):"00",s=t[2]?t[2].split("."):"00";let o=`${i}:${n}:${s[0].padStart(2,"0")}`;return s.length>1&&(o+="."+s[1]),o}static convertSecondsToFullClockValue(e){const t=60,i=Math.floor(e/3600).toString().padStart(2,"0"),n=Math.floor(e%3600/t).toString().padStart(2,"0"),s=(e%t).toString().split(".");let o=`${i}:${n}:${s[0].padStart(2,"0")}`;return s.length>1&&(o+="."+s[1]),o}static convertFullClockValueToSeconds(e){const t=e.split(":");let i=60*parseInt(t[0])*60+60*parseInt(t[1])+parseInt(t[2]);return t[2].split(".").length>1&&(i+=parseInt(t[2].split(".")[1])/1e3),i}}},7700:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=Math.pow,n=Math.sqrt,s=Math.sin,o=Math.cos,r=Math.PI,a=1.70158,l=1.525*a,u=a+1,d=2*r/3,c=2*r/4.5,h=function(e){const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375},g={linear:e=>e,easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-o(e*r/2)},easeOutSine:function(e){return s(e*r/2)},easeInOutSine:function(e){return-(o(r*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInBack:function(e){return u*e*e*e-a*e*e},easeOutBack:function(e){return 1+u*i(e-1,3)+a*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*(7.189819*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*s((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*s((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-i(2,20*e-10)*s((20*e-11.125)*c)/2:i(2,-20*e+10)*s((20*e-11.125)*c)/2+1},easeInBounce:function(e){return 1-h(1-e)},easeOutBounce:h,easeInOutBounce:function(e){return e<.5?(1-h(1-2*e))/2:(1+h(2*e-1))/2}};t.default=g},7760:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=void 0;const n=i(7700),s=i(9982);t.Easings=class{static setEasingFunction(e,t,i){const n=t.children[0].attributes.mode.value,s=this.getKeyframes(t,n),o=[];s.forEach((t=>{const i=this.calculateKeyframeValue(e,n,t);o.push(i)})),e.setAttribute("values",o.join("; ")),e.setAttribute("keyTimes",s.join("; ")),!i&&e.setAttribute("fill","freeze")}static calculateKeyframeValue(e,t,i){const s=n.default[t]?n.default[t]:n.default.linear,o=e.attributes.from.value.replace(/,/g," ").replace(/\s\s+/g," ").split(" "),r=e.attributes.to.value.replace(/,/g," ").replace(/\s\s+/g," ").split(" ");let a="";if("fill"===e.attributes.attributeName.value)return 0===i?o.join(", "):r.join(", ");if("transform"!==e.attributes.attributeName.value){const e=parseFloat(o[0]);return(e+-1*s(i)*(e-parseFloat(r[0]))).toString()}{const t=e.attributes.type.value,n=parseFloat(o[0]),l=parseFloat(r[0]);if("rotate"===t){if(a=(n+-1*s(i)*(n-l)).toString(),o.length>2){const e=parseFloat(o[2]),t=parseFloat(o[1]),n=parseFloat(r[2]);return`${a} ${t+-1*s(i)*(t-parseFloat(r[1]))} ${e+-1*s(i)*(e-n)}`}}else if("scale"===t||"translate"===t){a=(n+-1*s(i)*(n-l)).toString();let e=0;if(o.length>1){const t=parseFloat(o[1]);e=t+-1*s(i)*(t-parseFloat(r[1]))}else"scale"===t&&(e=parseFloat(a));return`${a} ${e}`}}return a}static getKeyframes(e,t){return"fill"===e.attributes.attribute.value?[0,1]:s.default[t]?s.default[t]:this.createKeyframes(e,20)}static createKeyframes(e,t){const i="fill"===e.attributes.attribute.value?1:t;return Array.from(Array(i+1).keys()).map(((e,t)=>t*(1/i)))}}},9982:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default={easeInElastic:[0,.04,.08,.14,.18,.26,.28,.4,.42,.56,.58,.72,.86,1],easeOutElastic:[0,.16,.28,.44,.59,.73,.88,1],easeInOutElastic:[0,.04,.08,.18,.2,.28,.3,.38,.4,.6,.62,.7,.72,.8,.82,.9,.92,1],easeInBounce:[0,.04,.08,.18,.26,.46,.64,.76,.88,1],easeOutBounce:[0,.12,.24,.36,.54,.74,.82,.92,.96,1],easeInOutBounce:[0,.02,.04,.1,.14,.22,.32,.42,.5,.58,.68,.78,.86,.9,.96,.98,1]}},8374:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Clone=void 0;const n=i(3570);class s extends n.Item{constructor(e,t,i,n=null,s=null,o=null,r=null,a=0){super(e,t,i,n,s,o,r,a),this._isClone=!0}}t.Clone=s},7825:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateDefinition=void 0;const n=i(5463);t.TemplateDefinition=class{constructor(e,t,i,s){this.Id=e,this.Template=t,this.Inline=i,this.ForEach=s,this.ParamProps=new n.Dictionary,this.LayoutProps=new n.Dictionary,this.Depends=new n.Dictionary,this.Range=new n.Dictionary}}},2945:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataPreprocessor=t.DataPath=void 0;const n=i(1537),s=i(3108);class o{constructor(e,t){this.Name=e,this.Parent=t}}t.DataPath=o;class r{static traverse(e,t,i){n.ObservableArray.isArray(e)?r.traverseArray(e,t,i):"object"==typeof e&&null!==e?(null!=t&&(e[".path"]=new o(i,t)),r.traverseObject(e,i)):s.Tracing.logFn(s.TraceLevel.Info,(()=>"Path '"+i+"' is leaf."))}static traverseArray(e,t,i){s.Tracing.logFn(s.TraceLevel.Info,(()=>"Path '"+i+"' is array.")),e.forEach((function(e,n){r.traverse(e,t,i+"["+n+"]")}))}static traverseObject(e,t){s.Tracing.logFn(s.TraceLevel.Info,(()=>"Path '"+t+"' is object."));for(let i in e)e.hasOwnProperty(i)&&"."!==i[0]&&(Array.isArray(e[i])&&(e[i]=new n.ObservableArray(e[i])),r.traverse(e[i],e,t+"."+i))}static prepare(e,t=null,i=null){r.traverse(e,t,i||(null!=t&&null!=t[".path"]?t[".path"].Name:"HmiProps"))}static copy(e){return n.ObservableArray.isArray(e)?r.copyArray(e):"object"==typeof e&&null!==e?r.copyObject(e):e}static copyArray(e){let t=[];return e.forEach((function(e){t.push(r.copy(e))})),t}static copyObject(e){let t={};for(let i in e)e.hasOwnProperty(i)&&"."!==i[0]&&(t[i]=r.copy(e[i]));return t}static clone(e){return r.copy(e)}}t.DataPreprocessor=r},4667:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Defaults=void 0;const n=i(3108),s=i(4587);t.Defaults=class{static resolveOne(e,t,i){var o=void 0,r=e.match(/[^(\.|\'|\"|\[|\])]+/g);if("HmiProps"!==r[0]&&"LocalProps"!==r[0]&&"ParamProps"!==r[0]&&"SysProps"!==r[0]&&"Converter"!==r[0]&&"EventArgs"!==r[0]&&"Layout"!==r[0])throw n.Tracing.logFn(n.TraceLevel.Error,(()=>"Invalid variable: "+e)),new Error;void 0===(o=r.reduce((function(e,t,n,o){var a=e&&void 0!==e[t]?e[t]:""===t?e:void 0;if(!(void 0!==a&&s.Engine.Options&&s.Engine.Options.partResolver&&n===o.length-1&&a&&a.constructor===Object&&"HmiProps"===r[0])||a[".partResolved"]||i.Parent)return a}),t.Properties))&&"HmiProps"===r[0]&&void 0!==(o=s.Engine.DefaultResolver(e,i))&&(o&&"object"==typeof o&&s.Engine.Options&&s.Engine.Options.partResolver&&!Array.isArray(o)&&(o[".partResolved"]=!0),r.reduce((function(e,t,i,n){return""===t?e:(i===n.length-1?e[t]=o:e[t]=e[t]||{},e[t])}),t.Properties)),void 0===o&&n.Tracing.logFn(n.TraceLevel.Error,(()=>"Undefined variable: "+e+" (no default)"))}static resolve(e,t,i){try{let n=e.variables();for(let e in n)this.resolveOne(n[e],t,i)}catch(n){if(!n||!n.message||"HmiProps.Width"!==n.message&&"HmiProps.Height"!==n.message)throw new Error(n.message);{"HmiProps.Width"===n.message?e.renameVariable("HmiProps.Width","Layout.ActualWidth"):e.renameVariable("HmiProps.Height","Layout.ActualHeight");let s=e.variables();for(let e in s)this.resolveOne(s[e],t,i)}}}}},4587:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=void 0;const n=i(3108),s=i(5463),o=i(5167),r=i(7945),a=i(6993),l=i(3570),u=i(2945),d=i(7053),c=i(6175),h=i(8374),g=i(8080),p=i(6768),f=i(5200),m=i(2706),y=i(6050),G=i(867);class v{constructor(){this._nveTypeRegistry=new s.Dictionary,this._templateRegistry=new f.TemplateRegistry(this),v._contentRegistry=new s.Dictionary,v.DefaultResolver||(v.DefaultResolver=function(e,t){if(!t)switch(e){case"FontPart":return{Name:"Arial",Size:12,Weight:400,Italic:!1,Underline:!1,StrikeOut:0};case"ContentPart":return{SplitRatio:.5,ContentMode:2,TextPosition:0,GraphicStretchMode:0,VerticalAlignment:1,HorizontalAlignment:0,Spacing:5,TextTrimming:0};case"PaddingPart":case"MarginPart":return{Left:0,Right:0,Top:0,Bottom:0}}}),v.PropertyChangedCallback||(v.PropertyChangedCallback=function(e,t,i){}),v.SetCursor||(v.SetCursor=function(e,t,i){var n;switch(t){case"screen":(n=document.getElementsByTagName("body")[0])||(n=i.RootNode.parentNode?i.RootNode.parentNode:i.RootNode);break;case"item":n=i.RootNode.parentNode?i.RootNode.parentNode:i.RootNode;break;default:n=void 0!==t.style.cursor?t:i.RootNode}n.style&&void 0!==n.style.cursor&&(n.style.cursor=e)}),v.SendCommand||(v.SendCommand=function(e,t,i){}),v.SendEvent||(v.SendEvent=function(e,t,i){}),v.XLinkTransformation||(v.XLinkTransformation=function(e){return e}),n.Tracing.log||(n.Tracing.log=function(e,t){n.Tracing.Level>=e&&console.log(t)}),v.CustomEnums||(v.CustomEnums={}),v.PropertyMap||(v.PropertyMap={}),v.CustomConstants||(v.CustomConstants={}),v.EventRegistrationCallback||(v.EventRegistrationCallback=r.EventImpl.DefaultEventRegistration),v.EventDeregistrationCallback||(v.EventDeregistrationCallback=r.EventImpl.DefaultEventDeregistration),v.EventTransformer||(v.EventTransformer=r.EventImpl.DefaultEventTransformer),this.registerNVEType("content",a.BuiltInContent),v.Options=v.Options||{partResolver:!0,svglessComposition:!1,minimalComposition:!1,xpath:!1,checkProperties:!1,urlSuffix:""},m.FlexNodeLink.Initialize()}registerConverters(e){v.Converters=e}registerTracer(e,t){n.Tracing.Level=e,n.Tracing.log=t}registerDefaultResolver(e){v.DefaultResolver=e}registerPropertyChangedCallback(e){v.PropertyChangedCallback=e}registerSetCursor(e){v.SetCursor=e}registerSendCommand(e){v.SendCommand=e}registerSendEvent(e){v.SendEvent=e}registerEventCallbacks(e,t){v.EventRegistrationCallback=e,v.EventDeregistrationCallback=t}registerEventTransformer(e){v.EventTransformer=e}registerXLinkTransformation(e){v.XLinkTransformation=e}registerEnums(e){v.CustomEnums=e}registerPropertyMap(e){v.PropertyMap=e}registerConstants(e){v.CustomConstants=e,p.Parser.setConsts(e)}registerNVEType(e,t){this._nveTypeRegistry[e]?n.Tracing.logFn(n.TraceLevel.Info,(()=>"There is already a NVE for "+e+" registered!")):this._nveTypeRegistry[e]=t}registerFileLoader(e){this._templateRegistry.setFileLoader(e)}createNVE(e){var t=new this._nveTypeRegistry[e];return t.InstanceId=o.GUID.create(),t}hasNVE(e){var t=this._nveTypeRegistry[e];return null!=t&&null!=t}static _createContentId(e,t){return e+":"+t.toLowerCase()}registerContent(e,t,i){var s=v._createContentId(e,t),o=v._contentRegistry[s];null==o||null==o?(v._contentRegistry[s]=i,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Registered content handler with for type "+t))):n.Tracing.logFn(n.TraceLevel.Info,(()=>"There is already a content handler with for type "+t))}static hasContent(e,t){var i=this._createContentId(e,t);return!!v._contentRegistry[i]}static getContent(e,t){var i=this._createContentId(e,t);return v._contentRegistry[i]}async loadTemplateFromUrl(e,t,i,n=!1){return y.XPath.configurePathMethod(v.Options.xpath),this._templateRegistry.loadTemplateFromUrl(e,t,i,n)}hasTemplate(e){return this._templateRegistry.hasTemplate(e)}applyTemplate(e,t,i,s=null,o=null,r=null,a=void 0){if(!this._templateRegistry.hasTemplate(e))return n.Tracing.logFn(n.TraceLevel.Error,(()=>"There is no template from "+e)),null;const l=new g.Scope(i.HmiProps,i.ParamProps,i.SysProps);return i.Layout&&(l.Properties.Layout=i.Layout),a&&(l.Data=a),this.applyTemplateInternal(this._templateRegistry.getTemplate(e),t,l,s,o,r)}applyTemplateInternal(e,t,i,n=null,s=null,o=null,r=!1){e.CreateUniqueIDs();const a=e.TreeModifications,d=e.Tree.cloneNode(!0);i.Properties.HmiProps&&!r&&u.DataPreprocessor.prepare(i.Properties.HmiProps),i.Properties.Converter=v.Converters,i.Data&&(i.Data.Converter=v.Converters);let g=null;return r?g=new h.Clone(d,i,e,n,s,o,this,a):(g=new l.Item(d,i,e,n,s,o,this,a),c.ItemFactory.establishParamProperties(e,i)),this.establishLayoutProperties(e,i,g),c.ItemFactory.establishLocalProperties(e,i,g),G.NveFactory.establishNVEs(e,i,g,this),this.establishFlexbox(e,i,g),c.ItemFactory.establishBindings(e,i,g),g.SupportsData&&(c.ItemFactory.establishDataBindings(e,i,g),c.ItemFactory.establishLocalProperties(e,i,g,!0),g.update()),this.establishCompositions(e,i,g),c.ItemFactory.establishIfBindings(e,i,g),t&&t.appendChild(d),this.establishEvents(e,g),g.calculateFlexbox(0,!0),r||(i.Internals.Owner=g),g}establishLayoutProperties(e,t,i){let n=[];for(let t=0;t<e.FlexNodes.length;t++)n=n.concat(e.FlexNodes[t].getAllSubscriptions());const s=n.length;if(s>0){t.Properties.Layout=t.Properties.Layout||{};for(let e=0;e<s;e++)t.Properties.Layout[n[e]]=0}}establishFlexbox(e,t,i){for(let n=0;n<e.FlexNodes.length;n++){let s=this.establishIndividualFlexboxNode(e.FlexNodes[n],t,i);s&&t.Internals.FlexNodes.push(s)}}establishIndividualFlexboxNode(e,t,i,n){let s=new m.FlexNodeLink(e,n,i.RootNode,i.RootScope);e.IsOpenConnection&&s.addExpandoToComposition();let o=Object.getOwnPropertyNames(e.Attributes);for(let t=0;t<o.length;t++)s.setAttribute(o[t],e.Attributes[o[t]]);let r=Object.getOwnPropertyNames(e.BoundAttributes);for(let n=0;n<r.length;n++){e.BoundAttributes[r[n]].bind(s,t,i)}let a=e.Children;for(let e=0;e<a.length;e++){let n=this.establishIndividualFlexboxNode(a[e],t,i,s);s.addChild(n)}return s}establishEvents(e,t){const i=e.Events.length;for(let s=0;s<i;s++){const o=e.Events[s];n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established event for action"+o.Action.Name));const r=y.XPath.getNode(o.XPath,t.RootNode),a=s===i-1;o.activate(r,t,a,null)}}setLink(e,t,i,s,o,r,a){e?(e.CollectionNode=t,e.TemplateDef=i,e.Template=s,e.Engine=this,e.Flex=a):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Failed binding against collection."))}establishSingleCompositionEx(e,t,i,s,o,r,a=null,l=-1,u=null,c=null,h=0,g=0,p=0){if(i){let f;const m=[];for(const e in i.ParamProps){const s=i.ParamProps[e];s.Static?(t.ParamProps[e]=s.InitialValue,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established unbound param property ParamProps."+e))):(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established bound param property ParamProps."+e)),f=s.bind(o,r),f&&(t.ParamProps[e]=f.Value,m.push(f.Link)))}for(const e in i.LayoutProps){const s=i.LayoutProps[e];s.Static?(t.Layout[e]=s.InitialValue,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established unbound param property Layout."+e))):(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established bound param property Layout."+e)),f=s.bind(o,r),f&&(t.Layout[e]=f.Value,m.push(f.Link)))}if(i.HmiProps){f=(a?new d.ParamDefinition(`forEach.${l}`,`{{${a[l][".path"].Name}}}`,!0,2):i.HmiProps).bind(o,r),f&&(t.HmiProps=f.Value,a&&l>=0&&(t.HmiProps.$index=l-h,t.HmiProps.$count=a.length,t.HmiProps.$renderStart=g,t.HmiProps.$renderCount=p),m.push(f.Link))}let y=!1;if(t.HmiProps)y=!0;else{0===this._templateRegistry.getTemplate(this.extractPrefix(s.URI)+i.Template).Info.PrimaryType&&(y=!0)}if(y){const n=this.applyTemplate(this.extractPrefix(s.URI)+i.Template,e,t,r.Store,r,u,c);for(const e in m)m[e].Item=n;return n}t=void 0;for(let e=0;e<2;e++){const t=0===e?o.Internals.CompositionBindings:o.Internals.DataCompositionBindings;for(const e in m){const i=t.indexOf(m[e]);i>-1&&t.splice(i,1)}}return null}}establishSingleCompositionClone(e,t,i,n,s,o=null){const r=new g.Scope(t.Properties.HmiProps,t.Properties.ParamProps,t.Properties.SysProps);return r.Properties.Layout=t.Properties.Layout,r.Internals.Links=t.Internals.Links,r.Internals.CompositionBindings=t.Internals.CompositionBindings,r.Internals.SVGBindings=t.Internals.SVGBindings,r.Internals.ConditionalBindings=t.Internals.ConditionalBindings,r.Internals.NVEBindings=t.Internals.NVEBindings,r.Internals.TwoWays=t.Internals.TwoWays,r.Internals.DirtBag=t.Internals.DirtBag,i&&(r.Data=i),this.applyTemplateInternal(n,e,r,s.Store,s,o,!0)}establishSingleComposition(e,t,i,n,s,o=null,r=-1,a=0,l=0,u=0){if(e){var d=document.createElementNS("http://www.w3.org/2000/svg","g"),c=new g.PublicScope;if(c.Layout={ActualWidth:0,ActualHeight:0,ActualX:0,ActualY:0},(n=this.establishSingleCompositionEx(d,c,e,t,i,n,o,r,null,null,a,l,u))&&s){let e=n.getFlexConnection();e&&e.reparent(s,n)}return n?d:null}}composeCollection(e,t,i,n,s){let o;if(e.ForEach&&e.HmiProps){let u=null!=e.Range.renderStart,d=null!=e.Range.renderCount,c=null!=e.Range.renderStart&&!e.Range.renderStart.Static,h=null!=e.Range.renderCount&&!e.Range.renderCount.Static;o=document.createElementNS("http://www.w3.org/2000/svg","g");let g=e.HmiProps.bind(i,n);var r=g?g.Link:null;if(this.setLink(r,o,e,t,i,n,s),c){let r=e.Range.renderStart.bind(i,n),a=r?r.Link:null;this.setLink(a,o,e,t,i,n,s)}if(h){let r=e.Range.renderCount.bind(i,n),a=r?r.Link:null;this.setLink(a,o,e,t,i,n,s)}var a=e.HmiProps.resolve(i,!1);if(a&&a.length){let s=0,c=0,h=a.length,g=-1;u&&(c=e.Range.renderStart.Static?parseInt(e.Range.renderStart.InitialValue):parseInt(e.Range.renderStart.resolve(i,!1)),(isNaN(c)||c<0)&&(c=0)),d&&(g=e.Range.renderCount.Static?parseInt(e.Range.renderCount.InitialValue):parseInt(e.Range.renderCount.resolve(i,!1)),h=g,(isNaN(g)||g<0)&&(h=a.length,g=-1)),s=c+h;for(let u=c;u<a.length&&u<s;u++){var l=this.establishSingleComposition(e,t,i,n,r?r.Flex:void 0,a,u,c,c,g);l&&o.appendChild(l)}}}else o=this.establishSingleComposition(e,t,i,n,s);return s&&s.replaceElement(o),o}establishCompositions(e,t,i){if(e.UsesCompositions()){let s=i.RootNode.getElementsByTagName("template-hint");for(let o=s.length-1;o>=0;o--){let r=s[o],a=r.textContent,l=e.GetComposition(a);if(l)if(l.Depends[a]&&!l.Depends[a].checkCondition(t,i))n.Tracing.logFn(n.TraceLevel.Info,(()=>"Delayed template-binding "+l.Id+" due to condition"));else{let n;r.hasAttribute("flex")&&(n=r.flex);let s=this.composeCollection(l,e,t,i,n);s?r.parentNode.replaceChild(s,r):r.parentElement.removeChild(r)}}}}extractPrefix(e){return e?e.substr(0,e.lastIndexOf("/")+1):""}}t.Engine=v,v.Converters={}},967:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;const n=i(4587),s=i(3108),o=i(4667),r=i(6768);t.Action=class{constructor(e,t,i,o,a){if(this.Name=e,this.Trigger=t,this.Valid=!1,this.Elements=[],this._conExpression=null,this.Propagate=a,o){var l,u=i.trim();if("{{"===u.substr(0,2)&&"}}"===u.substr(u.length-2,2)?l=u.substr(2,u.length-4):"{"===u.substr(0,1)&&"}"===u.substr(u.length-1,1)&&(l=u.substr(1,u.length-2)),l)try{var d=r.Parser.parse(l);try{this._conExpression=d.simplify(n.Engine.CustomEnums)}catch(e){this._conExpression=d}if(0===this._conExpression.variables().length){var c=this._conExpression.evaluate();this.Valid=Boolean(c),this._conExpression=null}else this.Valid=!0}catch(e){s.Tracing.logFn(s.TraceLevel.Warning,(()=>"Could not evaluate bindng for action's binding \""+i+'"'))}}else this.Valid=Boolean(i)}canExecute(e,t){if(this.Valid){if(null===this._conExpression)return!0;n.Engine.Options.checkProperties&&o.Defaults.resolve(this._conExpression,e,t);var i=this._conExpression.evaluate(e.Properties);if(!isNaN(i))return Boolean(i)}return!1}execute(e,t,i=null){for(var n=this.Elements.length,s=0;s<n;s++){var o=this.Elements[s];o.canExecute(e,t)&&o.execute(e,t,i)}t.update()}}},3008:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionElement=void 0;const n=i(3108),s=i(4587),o=i(4667),r=i(4563),a=i(6768);t.ActionElement=class{constructor(e,t,i,o,l,u,d=null){this.Name=t,this.Type=e,this.Valid=!1,this._conExpression=null,this._valExpression=null,this._datatype=d;var c,h,g=null,p=null;if(o){if("{{"===(g=i.trim()).substr(0,2)&&"}}"===g.substr(g.length-2,2)?c=g.substr(2,g.length-4):"{"===g.substr(0,1)&&"}"===g.substr(g.length-1,1)&&(c=g.substr(1,g.length-2)),c)try{p=a.Parser.parse(c);try{this._conExpression=p.simplify(s.Engine.CustomEnums)}catch(e){this._conExpression=p}0===this._conExpression.variables().length?(this.Valid=Boolean(this._conExpression.evaluate()),this._conExpression=null):this.Valid=!0}catch(e){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid binding in action element's condition binding with expression \""+i+'"'))}}else this.Valid=Boolean(i);if(this.Valid)if(u){if("{{"===(g=l.trim()).substr(0,2)&&"}}"===g.substr(g.length-2,2)?h=g.substr(2,g.length-4):"{"===g.substr(0,1)&&"}"===g.substr(g.length-1,1)&&(h=g.substr(1,g.length-2)),h)try{p=a.Parser.parse(h);try{this._valExpression=p.simplify(s.Engine.CustomEnums)}catch(e){this._valExpression=p}0===this._valExpression.variables().length?(this._value=r.LocalDefinition.convert(this._valExpression.evaluate(),this._datatype),this._valExpression=null):this.Valid=!0}catch(e){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid binding in action element's value binding with expression \""+l+'"'))}}else this._value=r.LocalDefinition.convert(l,this._datatype)}canExecute(e,t){if(this.Valid){if(null===this._conExpression)return!0;try{s.Engine.Options.checkProperties&&o.Defaults.resolve(this._conExpression,e,t);var i=this._conExpression.evaluate(e.Properties);if(!isNaN(i))return Boolean(i)}catch(e){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Could not evaluate action element's condition ..."))}}return!1}execute(e,t,i=null){var a=this._value;if(null!==this._valExpression&&(o.Defaults.resolve(this._valExpression,e,t),a=r.LocalDefinition.convert(this._valExpression.evaluate(e.Properties),this._datatype)),1===this.Type){var l=this.Name,u=l.match(/[^(\.|\'|\"|\[|\])]+/g);if("LocalProps"===u[0]&&void 0!==e.Properties.LocalProps[u[1]]){for(let t=0;t<e.Internals.LocalBindings.length;t++){let i=e.Internals.LocalBindings[t];i.Target===u[1]&&(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Disabled expression for LocalProps."+u[1])),i.Disabled=!0)}for(let t=0;t<e.Internals.DataLocalBindings.length;t++){let i=e.Internals.DataLocalBindings[t];i.Target===u[1]&&(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Disabled expression for LocalProps."+u[1])),i.Disabled=!0)}e.Properties.LocalProps[u[1]]=a}else"HmiProps"===u[0]?t.setHmiProps(a,l,!0):"ParamProps"===u[0]?e.Internals.TwoWays[u[1]]?t.setParamProps(a,l,!0):n.Tracing.logFn(n.TraceLevel.Info,(()=>"Cannot set ParamProps."+u[1]+" (not two-way!)")):"SysProps"===u[0]&&n.Tracing.logFn(n.TraceLevel.Error,(()=>"SysProps are readonly. Do not try to set them in actions. SysProp: "+u[1]))}else 4===this.Type?s.Engine.SetCursor(this.Name,"element"===a?t.RootScope.Properties.EventArgs[".currentTaget"]:a,t):2===this.Type?s.Engine.SendCommand(this.Name,a,t.rootItem):3===this.Type?s.Engine.SendEvent(this.Name,a,t):5===this.Type&&this.findNveRoot(i,a,this.Name,e.Properties.EventArgs)}findNveRoot(e,t,i,s){e.Parent?this.findNveRoot(e.Parent,t,i,s):e.Methods&&e.Methods[t]?e.Methods[t](i,s):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Action element 'call' addresses method "+t+" which is not available at the associated NVE..."))}}},7945:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventImpl=void 0;const n=i(5167),s=i(4587),o=i(530),r=i(6050);class a{constructor(e,t,i=null){this.Id=n.GUID.create(),this.Type=e,this.Action=t,i&&(this.XPath=r.XPath.getPath(i,!1))}static prepareEvent(e,t){if(e.Modifiers=(e.getModifierState("Control")?1:0)+(e.getModifierState("Shift")?2:0)+(e.getModifierState("Alt")?4:0),e.Trigger=0!==e.which?e.button+16:0,e.deltaX=0,e.deltaY=0,14===t)e.deltaX=e.pageX-a.LastMouseX,e.deltaY=e.pageY-a.LastMouseY,a.LastMouseX=e.pageX,a.LastMouseY=e.pageY}static DefaultEventTransformer(e,t,i){var n=i.RootNode.getBoundingClientRect(),s={".type":t,X:e.pageX-n.left,Y:e.pageY-n.top,Modifiers:e.Modifiers,Trigger:e.Trigger,PanDeltaX:e.deltaX,PanDeltaY:e.deltaY};return s[".currentTaget"]=e.currentTarget,s}activate(e,t,i=!0,n=null){const r=this;if(a.events.push({element:e,eventName:this.Type,handler:function(e){t.RootScope.Properties.EventArgs=s.Engine.EventTransformer(e,r.Type,t),r.Action.canExecute(t.RootScope,t)&&r.Action.execute(t.RootScope,t,n),e.preventDefault(),r.Action.Propagate||e.stopPropagation(),delete t.RootScope.Properties.EventArgs}}),i){s.Engine.EventRegistrationCallback(a.events,t);const e=[];return a.events.forEach(((i,s)=>{const r=new o.EventLink(i.element,i.eventName,i.handler);!n&&t.RootScope.Internals.Events.push(r),e.push(r)})),a.events=[],e}return null}deactivate(e){s.Engine.EventDeregistrationCallback(e)}static DefaultEventRegistration(e,t){for(const t of e){let e,i,n;const s=function(e){a.prepareEvent(e,t.eventName),t.handler(e)},o=function(){document.removeEventListener("mousemove",s,!0),document.removeEventListener("mouseup",o,!0)},r=function(e){a.LastMouseX=e.pageX,a.LastMouseY=e.pageY,document.addEventListener("mousemove",s,!0),document.addEventListener("mouseup",o,!0)},l=function(e){document.removeEventListener("mouseup",l,!0),s(e)},u=function(){document.addEventListener("mouseup",l,!0)};switch(t.eventName){case 10:e="mousedown";break;case 11:e="mousedown",i=u,n=u;break;case 12:e="click";break;case 1:e="mouseenter";break;case 3:e="mouseleave";break;case 2:e="mousemove";break;case 13:e="contextmenu";break;case 4:e="wheel";break;case 14:e="mousedown",i=r,n=r;break;default:e=null}null!==e&&t.element.addEventListener(e,i||s)}}static DefaultEventDeregistration(e){for(const t of e){let e;switch(t.eventName){case 10:case 11:case 14:e="mousedown";break;case 12:e="click";break;case 1:e="mouseenter";break;case 3:e="mouseleave";break;case 2:e="mousemove";break;case 13:e="contextmenu";break;case 4:e="wheel";break;default:e=null}null!==e&&t.element.removeEventListener(e,t.handler)}}}t.EventImpl=a,a.events=[]},530:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventLink=void 0;t.EventLink=class{constructor(e,t,i){this.element=e,this.eventName=t,this.handler=i}}},5679:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlexAttributeDefinition=void 0;const n=i(1575),s=i(1651),o=i(4667),r=i(4587);class a extends n.Definition{constructor(e,t,i){super(),this.Value=this.sharedParse(e,t,i),this.OwnerAttribute=e,this.IsDataBinding=!1}resolve(e,t,i){var n=this._fastLane?this._resolveDirect(this._fastLane,t):this._expression.evaluate(t.Properties);return n!==i&&(e.setAttribute(this.OwnerAttribute,n),void 0===i||e.IsDirty||(e.IsDirty=!0,t.Internals.DirtBag.push(e))),n}setup(e,t){let i=new s.FlexAttributeLink(this,e);(i.Definition.DealsWithData?t.Internals.DataFlexBindings:t.Internals.FlexBindings).push(i),this.sharedSetup(i,t)}bind(e,t,i){if(r.Engine.Options.checkProperties)if(this._fastLane)try{o.Defaults.resolveOne(this._fastLane,t,i)}catch(e){if(!e||!e.message||"HmiProps.Width"!==e.message&&"HmiProps.Height"!==e.message)throw new Error(e.message);this._fastLane=e.message,o.Defaults.resolveOne(this._fastLane,t,i)}else o.Defaults.resolve(this._expression,t,i);return this.setup(e,t),this.resolve(e,t)}}t.FlexAttributeDefinition=a},1651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlexAttributeLink=void 0;t.FlexAttributeLink=class{constructor(e,t){this._lastValue=null,this.Definition=e,this.Target=t,this.IsDirty=!1,this.TargetName=e.OwnerAttribute}update(e){this._lastValue=this.Definition.resolve(this.Target,e,this._lastValue),this.IsDirty=!1}}},6064:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlexNodeDefinition=void 0;const n=i(5463),s=i(5167),o=i(6050);t.FlexNodeDefinition=class{constructor(e,t){this.Id=s.GUID.create(),this._layoutSubscriptions=new n.Dictionary,this._children=[],this.Attributes=new n.Dictionary,this.BoundAttributes=new n.Dictionary,t&&(this._parent=t,t.AddChild(this)),this._element=e,this._canConnect=!("svg"!==this._element.localName&&"g"!==this._element.localName||this._element.parentElement)}get CanConnect(){return this._canConnect}get IsOpenConnection(){return this._isOpenConnection}get Children(){return this._children}get hasBindings(){if(Object.getOwnPropertyNames(this.BoundAttributes).length>0)return!0;for(let e in this._children)if(this._children[e].hasBindings)return!0;return!1}get hasOpenConnections(){if(this._isOpenConnection)return!0;for(let e in this._children)if(this._children[e].hasOpenConnections)return!0;return!1}get hasSubscriptions(){return Object.getOwnPropertyNames(this._layoutSubscriptions).length>0}getAllSubscriptions(e=!0){let t=[],i=Object.getOwnPropertyNames(this._layoutSubscriptions);const n=i.length;for(let e=0;e<n;e++)t.push(this.Id+"-"+i[e]);if(e){const e=this._children.length;for(let i=0;i<e;i++){let e=this._children[i].getAllSubscriptions();t=t.concat(e)}}return t}transform(e=!1){this.XPath=o.XPath.getPath(this._element);for(let e in this._children)this._children[e].transform(!0);return this._element&&"template-hint"!==this._element.localName||(this._isOpenConnection=!0),this._element=null,!1}get IsContainer(){return!this._parent}get IsItem(){return!!this._parent}get IsLeaf(){return 0==this._children.length}AddChild(e){this._children.push(e)}AddSubscription(e){this._layoutSubscriptions[e]=!0}AddAttribute(e,t){this.Attributes[e]=t}AddAttributeDefinition(e){this.BoundAttributes[e.Id]=e}}},2706:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlexNodeLink=void 0;const n=i(9229),s=i(3108),o=i(7118),r=i(6050),a=i(5654);class l{constructor(e,t,i,s){this._children=[],this._definition=e,this._parent=t,this._scope=s,this._element=r.XPath.getNode(e.XPath,i),this._node=n.Node.createWithConfig(l._config),this._isDirty=!1}static Initialize(){this._config.config.useWebDefaults=!0}get InternalNode(){return this._node}get IsDirty(){return this._isDirty}get IsConnection(){return this._definition.CanConnect}set IsDirty(e){this._parent&&e?this._parent.IsDirty=!0:this._parent||(e&&!this._isDirty&&this._scope.Internals.DirtBag.push(this),this._isDirty=e)}setLocalDirtyFlag(){this._isDirty||this._scope.Internals.DirtBag.push(this),this._isDirty=!0,this._connectedItem&&this._connectedItem.update()}recalculate(e){return this._node.calculateLayout(),this.apply(e)}apply(e){this._parent&&!this.IsConnection||(this._isDirty=!1);let t=this._node.getComputedLayout();if(void 0===t.width||void 0===t.height||void 0===t.left||void 0===t.top)return;this.IsConnection&&this._parent&&(e.Properties.Layout.ActualWidth!==t.width&&(e.Properties.Layout.ActualWidth=t.width),e.Properties.Layout.ActualHeight!==t.height&&(e.Properties.Layout.ActualHeight=t.height));let i=!1;if(this._element&&(this.IsConnection&&this._element.parentElement?this._element.parentElement.setAttribute("transform","translate("+t.left+","+t.top+")"):this._element.setAttribute("transform","translate("+t.left+","+t.top+")")),this._element&&this._definition&&this._definition.CanConnect&&(this._element.setAttribute("width",t.width.toString()),this._element.setAttribute("height",t.height.toString())),this._definition.hasSubscriptions){let n=this._definition.getAllSubscriptions(!1);for(let s=0;s<n.length;s++){let o=n[s];o.endsWith("ActualWidth")?(e.Properties.Layout[o]=t.width,i=!0):o.endsWith("ActualHeight")&&(e.Properties.Layout[o]=t.height,i=!0)}}for(let t=0;t<this._children.length;t++){let n=this._children[t];n.IsConnection?n.setLocalDirtyFlag():i=n.apply(e)||i}return i}reparent(e,t){this._parent=e,this._connectedItem=t,e.addChild(this)}replaceElement(e){e&&(this._element=e)}removeChild(e){if(e){let t=this._children.indexOf(e);t<0?s.Tracing.logFn(s.TraceLevel.Warning,(()=>"Trying to remove a flex node that is not a child.")):(this._node.removeChild(this._children[t].InternalNode),this._children.splice(t,1))}else{for(let e in this._children)this._node.removeChild(this._children[e].InternalNode);this._children.length=0}this.IsDirty||(this.IsDirty=!0,this._scope.Internals.DirtBag.push(this))}reduceChildren(e){if(e>this._children.length||e<0)s.Tracing.logFn(s.TraceLevel.Warning,(()=>"Trying to remove invalid amount of flex nodes."));else{for(let t=0;t<e;t++){let e=this._children.pop();this._node.removeChild(e.InternalNode)}this.IsDirty||(this.IsDirty=!0,this._scope.Internals.DirtBag.push(this))}}clear(){for(;this._children.length>0;){let e=this._children.pop();e.clear(),this._node.removeChild(e.InternalNode)}}addChild(e){let t=e.InternalNode,i=this._node.getChildCount();this._node.insertChild(t,i),this._children.push(e),this.IsDirty||(this.IsDirty=!0,this._scope.Internals.DirtBag.push(this))}addExpandoToComposition(){"template-hint"===this._element.localName&&(this._element.flex=this)}setAttribute(e,t){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":this.setNumberOnNode(e,t);break;case"grow":this.setNumberOnNode("flexGrow",t);break;case"shrink":this.setNumberOnNode("flexShrink",t);break;case"position":this._node.setPositionType("absolute"===t?o.YGPositionType.Absolute:o.YGPositionType.Relative);break;case"positionLeft":case"positionRight":case"positionTop":case"positionBottom":this.setPosition(e,t);break;case"direction":this.setDirectionOnNode(t);break;case"wrap":this._node.setFlexWrap(a.Parse.toBoolean(t)?o.YGWrap.Wrap:o.YGWrap.NoWrap);break;case"alignContent":case"alignItems":case"alignSelf":this.setAlignmentOnNode(e,t);break;case"justifyContent":this.setJustifyOnNode(e,t);break;case"margin":case"marginLeft":case"marginRight":case"marginTop":case"marginBottom":case"padding":case"paddingLeft":case"paddingRight":case"paddingTop":case"paddingBottom":this.setMarginOrPadding(e,t);break;default:s.Tracing.logFn(s.TraceLevel.Info,(()=>"Unsupported flex attribute '"+e+"'"))}}setPosition(e,t){e.startsWith("position")&&(e=e.slice(8));let i=o.YGEdge.Left;switch(e){case"Left":break;case"Right":i=o.YGEdge.Right;break;case"Top":i=o.YGEdge.Top;break;case"Bottom":i=o.YGEdge.Bottom}let n=t.indexOf("%")>0,s=Number(t.replace(/[^\d.-]/g,""));n?this._node.setPositionPercent(i,s):this._node.setPosition(i,s)}setMarginOrPadding(e,t){let i=Number(t);if(NaN!=i){let t=e.endsWith("Left")?o.YGEdge.Left:e.endsWith("Right")?o.YGEdge.Right:e.endsWith("Top")?o.YGEdge.Top:e.endsWith("Bottom")?o.YGEdge.Bottom:o.YGEdge.All;e.startsWith("padding")?this._node.setPadding(t,i):this._node.setMargin(t,i)}}setNumberOnNode(e,t){let i=Number(t);if(NaN!=i){let t="set"+e[0].toUpperCase()+e.substring(1);this._node[t](i)}else s.Tracing.logFn(s.TraceLevel.Info,(()=>"Invalid value '"+t+"' for attribute '"+e+"'"))}setAlignmentOnNode(e,t){let i=null;switch(t){case"start":i=o.YGAlign.FlexStart;break;case"center":i=o.YGAlign.Center;break;case"end":i=o.YGAlign.FlexEnd;break;case"stretch":i=o.YGAlign.Stretch;break;default:s.Tracing.logFn(s.TraceLevel.Info,(()=>"Invalid value '"+t+"' for attribute '"+e+"'"))}if(null!==i){let t="set"+e[0].toUpperCase()+e.substring(1);this._node[t](i)}}setJustifyOnNode(e,t){let i=null;switch(t){case"start":i=o.YGJustify.FlexStart;break;case"center":i=o.YGJustify.Center;break;case"end":i=o.YGJustify.FlexEnd;break;case"space-between":i=o.YGJustify.SpaceBetween;break;case"space-around":i=o.YGJustify.SpaceAround;break;default:s.Tracing.logFn(s.TraceLevel.Info,(()=>"Invalid value '"+t+"' for attribute '"+e+"'"))}if(null!==i){let t="set"+e[0].toUpperCase()+e.substring(1);this._node[t](i)}}setDirectionOnNode(e){"column"===e?this._node.setFlexDirection(o.YGFlexDirection.Column):"row"===e&&this._node.setFlexDirection(o.YGFlexDirection.Row),"column-reverse"===e?this._node.setFlexDirection(o.YGFlexDirection.ColumnReverse):"row-reverse"===e?this._node.setFlexDirection(o.YGFlexDirection.RowReverse):s.Tracing.logFn(s.TraceLevel.Info,(()=>"Invalid value '"+e+"' for attribute 'direction'"))}}t.FlexNodeLink=l,l._config=new n.Config},4449:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusArea=void 0;t.FocusArea=class{constructor(e,t,i,n,s,o,r){this.item=e,this.FocusRect=t,this.gotFocusCallback=i,this.lostFocusCallback=n,this.onKeyDownCallback=s,this.initial=o,this.isRootArea=r}}},8946:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusConfiguration=void 0;t.FocusConfiguration=class{constructor(e,t){this.Visual=e,this.CanFocus=t}}},2591:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusManager=void 0;const n=i(3108),s=i(4587),o=i(4449),r=i(3989),a=i(2308),l=i(6507);class u{constructor(e,t){this.item=e,this.visual=1===t.Visual,this.canFocus=!0,this.currrentFocusAreas=[]}showDomFocusRect(e){this.currentFocusDomElem="TODO"}removeDomFocusRect(){this.currentFocusDomElem=null}getRootFocusResult(){if(!this.rootFocusRect){var e=this.item.RootNode.attributes,t=this.visual,i=new l.FocusPosition(0,0,Number(e.width.value),Number(e.height.value));this.rootFocusRect=new r.FocusRect("NoId",-1,i,t)}return new a.FocusResult(this.rootFocusRect,null)}static createEventArgs(e){return{Modifiers:0,Trigger:"accept"===e?s.Engine.CustomEnums.HmiEventTrigger.Space:s.Engine.CustomEnums.HmiEventTrigger.Unknown}}getFirstInitialFocusArea(){let e,t=this.currrentFocusAreas.length;for(e=0;e<t;e++){var i=this.currrentFocusAreas[e];if(i.initial)return i}return null}getFocusAreaByIndex(e,t){let i=this.currrentFocusAreas.length,n=t?-1:1;for(let o=e;!t&&o<i||t&&o>=0;o+=n){var s=this.currrentFocusAreas[o];if(s.FocusRect&&s.FocusRect.index===e&&(e=-1),-1===e){let e=s.item.RootScope.Properties.HmiProps;if((void 0===e.Visible||e.Visible)&&(void 0===e.Enabled||e.Enabled)&&(void 0===e.IsAuthorized||e.IsAuthorized))return s}}return null}findFocusAreaById(e){let t,i=this.currrentFocusAreas.length;for(t=0;t<i;t++){var n=this.currrentFocusAreas[t];if(n.FocusRect&&n.FocusRect.id===e)return t}return-1}getFocusAreaById(e){let t=this.findFocusAreaById(e);return-1===t?null:this.currrentFocusAreas[t]}cleanupAllAreas(){let e,t=this.currrentFocusAreas.length;for(e=0;e<t;e++)delete this.currrentFocusAreas[e];this.currrentFocusAreas.splice(0,t)}getNextFocusResult(e){var t=null;switch(e){case 9:if(this.currentFocusResult&&this.currentFocusResult.Area)t=this.currentFocusResult;else{var i=this.getFirstInitialFocusArea();t=new a.FocusResult(this.rootFocusRect,i?i.FocusRect:null)}break;case 8:this.currentFocusResult&&this.currentFocusResult.Area?t=this.getRootFocusResult():(t=null,t=this.currentFocusResult);break;case 7:if(this.currentFocusResult&&this.currentFocusResult.Area)t=this.currentFocusResult;else{let e=this.getFocusAreaByIndex(0);t=new a.FocusResult(this.rootFocusRect,e?e.FocusRect:null)}break;case 5:if(this.currentFocusResult&&this.currentFocusResult.Area){let e=this.currentFocusResult.Area.index+1,i=this.getFocusAreaByIndex(e);i||(i=this.getFocusAreaByIndex(0)),t=new a.FocusResult(this.rootFocusRect,i.FocusRect)}else t=null;break;case 6:if(this.currentFocusResult&&this.currentFocusResult.Area){let e=(0===this.currentFocusResult.Area.index?this.currrentFocusAreas.length:this.currentFocusResult.Area.index)-1,i=this.getFocusAreaByIndex(e,!0);i||(i=this.getFocusAreaByIndex(this.currrentFocusAreas.length-1,!0)),t=new a.FocusResult(this.rootFocusRect,i.FocusRect)}else t=null;break;default:if(this.currentFocusResult&&this.currentFocusResult.Area){var n=this.currentFocusResult.Area.index+1;(i=this.getFocusAreaByIndex(n))||(i=this.getFocusAreaByIndex(0)),t=new a.FocusResult(this.rootFocusRect,i.FocusRect)}else t=null}return t}createFocusRect(e,t,i,n){let s=-1===t?t:this.currrentFocusAreas.length;return new r.FocusRect(e,s,i,n)}setFocus(){var e;return this.currentFocusResult=this.getRootFocusResult(),this.currentFocusArea=new o.FocusArea(this.item,this.currentFocusResult.Root,(()=>{this.setFocus()}),(()=>{this.removeFocus()}),null,!1,!0),this.currentFocusResult.Root.indicator&&(e=this.currentFocusResult.Root),e&&(this.visual?(this.item.setSysProps({HasFocus:!0},"SysProps"),this.item.update()):this.showDomFocusRect(e)),this.getFirstInitialFocusArea()&&(this.currentFocusResult=this.moveFocus(9,!0)),this.currentFocusResult}moveFocus(e,t){var i=this.getNextFocusResult(e);let s=!1;if(this.currentFocusArea&&!t&&(this.currentFocusArea.lostFocusCallback&&(this.currentFocusArea.item&&this.currentFocusArea.item.Parent&&null!==this.currentFocusArea.item.Parent&&8===e&&(s=!0),this.currentFocusArea.lostFocusCallback()),this.currentFocusResult=null),this.currentFocusArea&&this.currentFocusArea.initial&&8===e)i=null;else if(i){var o=i.Area;o?(this.currentFocusArea=this.getFocusAreaById(o.id),this.currentFocusArea?this.currentFocusArea.gotFocusCallback&&this.currentFocusArea.gotFocusCallback():n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Could not find FocusArea id: "+o.id))):(this.setFocus(),s||(i=null))}return this.currentFocusResult=i,i}callAction(e){if(this.currentFocusResult&&this.currentFocusArea){var t=u.createEventArgs(e);return this.currentFocusArea.item.callActionsByTrigger(t,e,null)}return!1}onKeyDown(e,t,i){var n=!1;return!(!this.currentFocusResult||!this.currentFocusArea)&&(this.currentFocusArea.onKeyDownCallback&&(n=this.currentFocusArea.onKeyDownCallback(e,t,i)),n)}removeFocus(){if(this.currentFocusArea)if(this.currentFocusArea.isRootArea){let t,i=this.currrentFocusAreas.length;for(t=0;t<i;t++){var e=this.currrentFocusAreas[t];e.lostFocusCallback&&e.lostFocusCallback()}}else this.currentFocusArea.lostFocusCallback&&this.currentFocusArea.lostFocusCallback();this.removeDomFocusRect(),this.currentFocusResult=null,this.item.setSysProps({HasFocus:!1},"SysProps"),this.item.update(),this.currentFocusArea=null}setAreaFocus(){var e;return this.currentFocusResult=this.getRootFocusResult(),this.currentFocusResult.Area.indicator?e=this.currentFocusResult.Area:this.currentFocusResult.Root.indicator&&(e=this.currentFocusResult.Root),e&&(this.visual||this.showDomFocusRect(e)),this.currentFocusArea&&this.currentFocusArea.gotFocusCallback&&this.currentFocusArea.gotFocusCallback(),this.currentFocusResult}removeAreaFocus(){this.currentFocusArea&&this.currentFocusArea.lostFocusCallback&&this.currentFocusArea.lostFocusCallback(),this.removeDomFocusRect(),this.currentFocusResult=null}onFocusChanged(e){}registerFocusArea(e,t,i,n,s,r){var a=new o.FocusArea(e,t,i,n,s,r,!1);this.currrentFocusAreas.push(a)}unregisterFocusArea(e){if(this.currrentFocusAreas){let t=this.findFocusAreaById(e.id);-1!==t&&delete this.currrentFocusAreas.splice(t,1)[0]}}cleanup(){this.removeDomFocusRect(),this.cleanupAllAreas()}}t.FocusManager=u},6507:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusPosition=void 0;t.FocusPosition=class{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}}},3989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusRect=void 0;t.FocusRect=class{constructor(e,t,i,n){this.position=i,this.indicator=n,this.index=t,this.id=e}isEqual(e){return this.id===e.id}static mkId(e,t){var i=t.position;return null===i?"null":"i"+e+"__x"+i.x+"y"+i.y+"w"+i.width+"h"+i.height}}},2308:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusResult=void 0;t.FocusResult=class{constructor(e,t){this.Root=e,this.Area=t}}},5463:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dictionary=void 0;t.Dictionary=class{}},7745:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Enums=void 0;const n=i(4587);t.Enums=class{static translate(e){if("string"==typeof e&&e.length>0){var t=e.trim().toLowerCase().replace(/-(.)/g,(function(e,t){return"",t.toUpperCase()}));return t.replace(/^[a-z]/,t[0].toUpperCase())}return null}static resolve(e,t){return"number"==typeof t?t:n.Engine.CustomEnums[e][this.translate(t)]}}},5167:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GUID=void 0;const n=i(5463);class s{constructor(){this.Map=new n.Dictionary}static s4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}static create(){return this.s4()+this.s4()+"-"+this.s4()+"-4"+this.s4().substr(0,3)+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()}AlreadyMapped(e){return!!this.Map[e]}Generate(e=null){return null===e?s.create():(this.Map[e]||(this.Map[e]=s.create()),this.Map[e])}}t.GUID=s},1537:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableArray=void 0;class i{constructor(e=null){if(this.diff=0,this.max=0,this.length=0,Array.isArray(e))for(let t in e)this[t]=e[t],this.length++;this.max=this.length}get cursor(){return this.length+this.diff}pop(){return this.diff--,this[this.length+this.diff]}push(e){let t=this.length+ ++this.diff;this[t-1]=e,t>this.max&&(this.max=t)}extend(){let e=this.length+ ++this.diff,t=!this[e-1];return this[e-1]=this[e-1]||{},e>this.max&&(this.max=e),t}reduce(e){this.cursor>e&&(this.diff=-1*(this.length-e))}balance(){if(0!==this.diff){if(this.cursor<this.max)for(let e=this.max-1;e>=this.cursor;e--)delete this[e];this.length=this.cursor,this.max=this.length,this.diff=0}}forEach(e){for(let t=0;t<this.cursor;t++)e(this[t],t,this)}static isArray(e){return Array.isArray(e)||e instanceof i}}t.ObservableArray=i},5654:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Parse=void 0;t.Parse=class{static toBoolean(e){return"false"!==e&&"null"!==e&&"NaN"!==e&&"undefined"!==e&&"0"!==e&&!!e}}},6050:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XPath=void 0;const n=i(3108);class s{static configurePathMethod(e){this.getPath||(this.getPath=e?this.getElementXpath:this.getArrayPath,this.getNode=e?this.getNodeFromXPath:this.getNodeFromArrayPath)}static getArrayPath(e,t){let i=[],n=e;for(;null!=n&&n.parentNode&&!(n.parentNode instanceof Document);){let e=n.parentNode,t=e.childNodes.length;for(let s=0;s<t;s++)if(e.childNodes[s]==n){i.push(s);break}n=e}return i.reverse()}static assert(e,t){e!==t&&n.Tracing.logFn(n.TraceLevel.Error,(()=>"The resulting nodes are different"))}static getNodeFromArrayPath(e,t){const i=e.length;let n=t;for(let t=0;t<i;t++)n=n.childNodes[e[t]];return n}static getElementXpath(e,t=!0){if(this._lastElement===e)return this._lastResult;let i=[];try{for(;e&&1===e.nodeType;){let t=1,n=1,s=e.previousElementSibling;for(;s;)s.localName===e.localName&&t++,n++,s=s.previousElementSibling;e.parentElement&&("http://www.w3.org/2000/svg"!==e.namespaceURI?i.unshift("*["+n+"]"):i.unshift("svg:"+e.localName+"["+t+"]")),e=e.parentElement}}catch(e){n.Tracing.logFn(n.TraceLevel.Error,(()=>"Could not create XPath expression to identify binding"))}this._lastElement=e;let s=(t?"/":"")+i.join("/");if(""===s||"/"===s)this._lastResult={path:s,expression:null};else{let e=this._evaluator?this._evaluator.createExpression(s,this._nsResolver):void 0;this._lastResult={path:s,expression:e}}return this._lastResult}static getNodeFromXPath(e,t){if(e.expression){if(this._lastXPath===e.path&&this._lastXPathNode==t)return this._lastXPathNode;if(this._lastXPathNode=e.expression.evaluate(t,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,!this._lastXPathNode&&"/"===e.path[0]){let i=e.path.substring(1);this._lastXPathNode=t.ownerDocument.evaluate(i,t,this._nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}return this._lastXPath=e.path,this._lastXPathNode}let i=e.path;if(""===i||"/"===i)return t;if(this._lastXPath===i&&this._lastXPathNode==t)return this._lastXPathNode;if(this._lastXPathNode=t.ownerDocument.evaluate(i,t,this._nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,!this._lastXPathNode&&"/"===i[0]){let e=i.substring(1);this._lastXPathNode=t.ownerDocument.evaluate(e,t,this._nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}return this._lastXPath=i,this._lastXPathNode}}t.XPath=s,s._evaluator=XPathEvaluator?new XPathEvaluator:null,s._nsResolver={lookupNamespaceURI:e=>"svg"===e?"http://www.w3.org/2000/svg":null}},3570:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;const n=i(5167),s=i(5463),o=i(4587),r=i(9716),a=i(3108),l=i(2945),u=i(1537),d=i(8080),c=i(2591),h=i(6507);t.Item=class{constructor(e,t,i,o=null,r=null,a=null,l=null,u=0){if(this.TreeModifications=0,this._isClone=!1,this.Clones=new s.Dictionary,this.InstanceId=n.GUID.create(),this.RootNode=e,this.RootScope=t,this.Store=o,this.Parent=r,this.NVE=a,this._creator=l,this._template=i,this.TreeModifications=u,this.PrimaryType=i.Info.PrimaryType,this.SecondaryType=i.Info.SecondaryType,this.Parent){if(this._template.Info.FocusConfig.CanFocus){let e=this.rootItem.RootFocusManager,i=t.Properties.HmiProps.$index?t.Properties.HmiProps.$index:0,n=this.InstanceId,s=t.Properties.Layout,o=new h.FocusPosition(s.ActualX?s.ActualX:0,s.ActualY?s.ActualY:0,s.ActualWidth,s.ActualHeight),r=e.createFocusRect(n,i,o,!0);e.registerFocusArea(this,r,(()=>{this.onFocus()}),(()=>{this.onFocusOut()}),null,!1)}}else this.RootFocusManager=new c.FocusManager(this,this._template.Info.FocusConfig)}get _hasClones(){return Object.keys(this.Clones).length>0}get SupportsData(){return!!this.NVE}get Template(){return this._template}get IsMasterInstance(){return!this._isClone}onFocus(){this.setSysProps({HasFocus:!0},"SysProps"),this.update()}onFocusOut(){this.setSysProps({HasFocus:!1},"SysProps"),this.update()}callActionsByTrigger(e,t,i=null){let n,s=!1,o=this._template.Actions;this.RootScope.Properties.EventArgs=e;for(let e in o)n=o[e],n.Trigger===t&&(n.canExecute(this.RootScope,this)&&n.execute(this.RootScope,this,i),s=!0);return delete this.RootScope.Properties.EventArgs,s}get rootItem(){let e=this.Parent?this.Parent:this;for(;e.Parent;)e=e.Parent;return e}remove(e=!1,t=!0,i=!0){var n,s;if(t&&(i&&(null===(n=this.RootNode.parentNode)||void 0===n?void 0:n.parentNode)?this.RootNode.parentNode.parentNode.removeChild(this.RootNode.parentNode):!i&&this.RootNode.parentNode&&this.RootNode.parentNode.removeChild(this.RootNode)),(null===(s=this.RootScope.Internals.Events)||void 0===s?void 0:s.length)>0&&o.Engine.EventDeregistrationCallback(this.RootScope.Internals.Events),this.RootScope.Internals.NVEs)for(;this.RootScope.Internals.NVEs.length>0;){let e=this.RootScope.Internals.NVEs.pop();e.RootNode.parentNode&&e.RootNode.parentNode.removeChild(e.RootNode),e.Element.remove()}if(this.RootScope.Internals.FlexBindings&&(this.RootScope.Internals.FlexBindings.length=0),this.RootScope.Internals.DataFlexBindings&&(this.RootScope.Internals.DataFlexBindings.length=0),this.RootScope.Internals.FlexNodes)for(;this.RootScope.Internals.FlexNodes.length>0;){this.RootScope.Internals.FlexNodes.pop().clear()}if(this.RootScope.Internals.CompositionBindings)for(;this.RootScope.Internals.CompositionBindings.length>0;){let t=this.RootScope.Internals.CompositionBindings.pop();t.Item&&t.Item.remove(e,!1)}if(this.RootScope.Internals.DataCompositionBindings)for(;this.RootScope.Internals.DataCompositionBindings.length>0;){let t=this.RootScope.Internals.DataCompositionBindings.pop();t.Item&&t.Item.remove(e,!1)}this.RootFocusManager&&(this.RootFocusManager.cleanup(),delete this.RootFocusManager),e&&(this.resetProperties(this.RootScope.Internals.LocalLinks,this.RootScope.Properties),this._isClone||this.resetProperties(this.RootScope.Internals.Links,this.RootScope.Properties),this._isClone&&this.resetProperties(this.RootScope.Internals.DataLinks,this.RootScope.Data))}resetProperties(e,t){let i=Object.getOwnPropertyNames(e);for(let n=0;n<i.length;n++){let s=i[n];s.match(/[^(\.|\'|\"|\[|\])]+/g).reduce((function(e,t,i,n){return i===n.length-1?(void 0!==e[t]&&Object.defineProperty(e,t,{value:e[t],writable:!0,enumerable:!0,configurable:!0}),e[t]):e[t]}),t),delete e[s]}}examinePath(e,t,i=void 0){let n=t.match(/[^(\.|\'|\"|\[|\])]+/g);if(i&&n[0]!==i)return a.Tracing.logFn(a.TraceLevel.Error,(()=>"Path does not address "+i+", please prefix correctly!")),null;let s=0,o="k",r=this,l=[],u="",d=t;return{start:n.reduce((function(i,n,a,c){s=t.indexOf(n,s);let h=t.lastIndexOf(".",s),g=t.lastIndexOf("[",s);if(o=h>g?"k":g>h?"i":"u",s+=n.length,""===u?u=n:"k"===o?u=u+"."+n:"i"===o&&(u=u+"["+n+"]"),a===c.length-1)return d=n,(e?r.RootScope.Internals.Links[u]:r.RootScope.Internals.DataLinks[u])&&l.push(u),i;if(i[n])(e?r.RootScope.Internals.Links[u]:r.RootScope.Internals.DataLinks[u])&&l.push(u);else{let e=t.indexOf(".",s),o=t.indexOf("[",s);i[n]=o>=0&&(e<0||o<e)?[]:{}}return i[n]}),e?this.RootScope.Properties:this.RootScope.Data),suffix:d,bound:l}}setProps(e,t,i){let n=this.examinePath(!0,t,i);if(!n)return a.Tracing.logFn(a.TraceLevel.Info,(()=>"Path '"+t+"' seems to be invalid.")),!1;if(!this.updateProperty(n.start,n.suffix,e,t,n.bound,!1))return a.Tracing.logFn(a.TraceLevel.Info,(()=>"Setting '"+t+"' did not mutate value(s).")),!1;a.Tracing.logFn(a.TraceLevel.Info,(()=>"Setting '"+t+"' did mutate value(s) and affects "+n.bound.length+" binding target(s)"));for(let e in n.bound){let t=n.bound[e];for(let e in this.RootScope.Internals.Links[t].Affects){const i=this.RootScope.Internals.Links[t].Affects[e];i.IsDirty||(a.Tracing.logFn(a.TraceLevel.Info,(()=>this.RootScope.Internals.Links[t].Affects[e].TargetName+" turns dirty (as parent)...")),i.IsDirty=!0,this.RootScope.Internals.DirtBag.push(i))}}return!0}notifyPropertyChanged(e,t,i=!0){this.PropertyChangedCallback?this.PropertyChangedCallback(e,t):i&&o.Engine.PropertyChangedCallback(e,t,this)}setHmiProps(e,t="HmiProps",i=!1){if(this.setProps(e,t,"HmiProps")&&i){if(this.Parent){this.notifyPropertyChanged(t,e,!1),t=t.indexOf(".")>0?t.slice(t.indexOf(".")+1):t;let i=this.Parent.RootScope.Internals.CompositionBindings;for(let n in i){let s=i[n];if("HmiProps"===s.Affects&&s.Item&&s.Item.InstanceId===this.InstanceId){let i=(s.Definition.DirectProperty?s.Definition.DirectProperty:s.Ref[".path"]?s.Ref[".path"].Name:"HmiProps")+(t?"."+t:""),n=i.match(/[^(\.|\'|\"|\[|\])]+/g);"LocalProps"===n[0]?this.Parent.setLocalProps(e,i):"ParamProps"===n[0]?this.Parent.setParamProps(e,i,!0):"HmiProps"===n[0]&&this.Parent.setHmiProps(e,i,!0)}}}else this.notifyPropertyChanged(t,e);this.update()}}setParamProps(e,t="ParamProps",i=!1){let n=this.setProps(e,t,"ParamProps");if(n&&i)if(this.Parent){this.notifyPropertyChanged(t,e,!1);for(let i=0;i<2;i++){let n=0===i?this.Parent.RootScope.Internals.CompositionBindings:this.Parent.RootScope.Internals.DataCompositionBindings,s=t.indexOf(".")>0?t.slice(t.indexOf(".")+1):t;for(let t in n){let i=n[t];if("ParamProps"===i.Affects&&i.Target===s&&i.Definition.Direct&&this.RootScope.Internals.TwoWays[s]&&i.Item&&i.Item.InstanceId===this.InstanceId){let t=s.indexOf(".")>0?s.slice(s.indexOf(".")):"",n=i.Definition.DirectProperty+t,o=n.match(/[^(\.|\'|\"|\[|\])]+/g);"LocalProps"===o[0]?this.Parent.setLocalProps(e,n):"ParamProps"===o[0]?this.Parent.setParamProps(e,n,!0):"HmiProps"===o[0]&&this.Parent.setHmiProps(e,n,!0)}}}}else 4!==this.PrimaryType&&3!==this.PrimaryType||"object"==typeof e||this.notifyPropertyChanged(t,e);n&&this.update(0,!1,this._hasClones)}setLocalProps(e,t="LocalProps"){this.setProps(e,t,"LocalProps")&&this.update()}setSysProps(e,t="SysProps"){this.setProps(e,t,"SysProps")}getProps(e){return e.match(/[^(\.|\'|\"|\[|\])]+/g).reduce((function(e,t){if(e)return e[t]}),this.RootScope.Properties)}updateProperty(e,t,i,n,s=[],o=!1){let d=!1;if(null!==e[t]&&void 0!==e[t]&&typeof e[t]!=typeof i&&a.Tracing.logFn(a.TraceLevel.Info,(()=>"Data type changed while update!")),u.ObservableArray.isArray(i)){let a=this;e[t]||(e[t]=new u.ObservableArray),i.forEach((function(r,l){a.updateProperty(e[t],l,i[l],n+"["+l+"]",s,o)&&(d=!0)}));let l=i.length;l<e[t].length&&(e[t].reduce(l),d=!0);let c=o?this.RootScope.Internals.DataLinks[n]:this.RootScope.Internals.Links[n];if(c){s.push(n);let i=!1;for(let e in c.Affects)c.Affects[e]instanceof r.CompositionLink&&(i=!0);i||e[t].balance()}else e[t].balance();return d}if("object"==typeof i&&null!==i){for(let r in i)if(i.hasOwnProperty(r)&&"."!==r[0]){let a=!1;if(e instanceof u.ObservableArray&&e.cursor<=t?a=e.extend():void 0===e[t]&&(e[t]={},a=!0),d=this.updateProperty(e[t],r,i[r],n+"."+r,s,o)||d,a)if(u.ObservableArray.isArray(e)){let t,i=this.getCollectionPath(e,n),s=this.getCollectionDataPath(e);s||(t=this.getFallbackParent(i)),l.DataPreprocessor.prepare(e,s?s.Parent:t,i)}else e[".path"]&&l.DataPreprocessor.prepare(e[t],e,e[".path"].Name+"."+t)}return(o?this.RootScope.Internals.DataLinks[n]:this.RootScope.Internals.Links[n])&&s.push(n),d}return e[t]!==i&&(e[t]=i,!0)}getCollectionPath(e,t){let i=e&&u.ObservableArray.isArray(e)&&e.length>0&&e[0][".path"]?e[0][".path"].Name:t;return i&&i.lastIndexOf("[")>0&&(i=i.substr(0,i.lastIndexOf("["))),i}getCollectionDataPath(e){return e&&u.ObservableArray.isArray(e)&&e.length>0?e[0][".path"]:void 0}getFallbackParent(e){return e.substr(0,e.lastIndexOf(".")).match(/[^(\.|\'|\"|\[|\])]+/g).reduce((function(e,t){return e[t]}),this.RootScope.Properties)}updateDataBindings(e,t=!1){let i=t?this.RootScope.Internals.DataLocalBindings:this.RootScope.Internals.DirtDataBag.Local;for(let e=0;e<i.length;e++){i[e].update(this.RootScope)}this.RootScope.Internals.DirtDataBag.LocalProcessed=i.length;let n=t?this.RootScope.Internals.DataFlexBindings:this.RootScope.Internals.DirtDataBag.Flex;for(let e=0;e<n.length;e++){n[e].update(this.RootScope)}this.RootScope.Internals.DirtDataBag.FlexProcessed=n.length;let s={},o=t?this.RootScope.Internals.DataNVEBindings:this.RootScope.Internals.DirtDataBag.NVE;for(let e=0;e<o.length;e++){let t=o[e];t.update(this.RootScope);let i=t.Target;for(;"Parent"in i;)i=i.Parent;s[i.InstanceId]=i}this.RootScope.Internals.DirtDataBag.NVEProcessed=o.length;for(let e in s)s[e].update();s={};let r=t?this.RootScope.Internals.DataCompositionBindings:this.RootScope.Internals.DirtDataBag.Composition;for(let e=0;e<r.length;e++){let t=r[e];t.Item||t.update(this.RootScope)}for(let e=0;e<r.length;e++){let t=r[e];t.Item&&(t.update(this.RootScope),s[t.Item.InstanceId]=t.Item)}this.RootScope.Internals.DirtDataBag.CompositionProcessed=r.length;for(let i in s)s[i].update(e,t);let a=t?this.RootScope.Internals.DataSVGBindings:this.RootScope.Internals.DirtDataBag.SVG;for(let e=0;e<a.length;e++){a[e].update(this.RootScope)}this.RootScope.Internals.DirtDataBag.SVGProcessed=a.length;let l=t?this.RootScope.Internals.DataConditionalBindings:this.RootScope.Internals.DirtDataBag.Conditional;for(let e=0;e<l.length;e++){l[e].update(this.RootScope,this._creator)}this.RootScope.Internals.DirtDataBag.ConditionalProcessed=l.length,this.RootScope.Internals.DirtDataBag.clear()}update(e=0,t=!1,i=!1){if(this._hasClones){for(let i in this.Clones){this.Clones[i].updateDataBindings(e,t)}if(!i)return}let n=t?this.RootScope.Internals.LocalBindings:this.RootScope.Internals.DirtBag.Local;for(let e=0;e<n.length;e++){n[e].update()}this.RootScope.Internals.DirtBag.LocalProcessed=n.length;let s=t?this.RootScope.Internals.FlexBindings:this.RootScope.Internals.DirtBag.Flex;for(let e=0;e<s.length;e++){s[e].update(this.RootScope)}this.RootScope.Internals.DirtBag.FlexProcessed=s.length;let o={},r=t?this.RootScope.Internals.NVEBindings:this.RootScope.Internals.DirtBag.NVE;for(let e=0;e<r.length;e++){let t=r[e];t.update(this.RootScope);let i=t.Target;for(;"Parent"in i;)i=i.Parent;o[i.InstanceId]=i}this.RootScope.Internals.DirtBag.NVEProcessed=r.length;for(let e in o)o[e].update();let a=t?this.RootScope.Internals.SVGBindings:this.RootScope.Internals.DirtBag.SVG;for(let e=0;e<a.length;e++){a[e].update(this.RootScope)}this.RootScope.Internals.DirtBag.SVGProcessed=a.length;let l=t?this.RootScope.Internals.ConditionalBindings:this.RootScope.Internals.DirtBag.Conditional;for(let e=0;e<l.length;e++){l[e].update(this.RootScope,this._creator)}this.RootScope.Internals.DirtBag.ConditionalProcessed=l.length,o={};let u=t?this.RootScope.Internals.CompositionBindings:this.RootScope.Internals.DirtBag.Composition;for(let e=0;e<u.length;e++){let t=u[e];t.Item||t.update(this.RootScope)}for(let e=0;e<u.length;e++){let t=u[e];t.Item&&(t.update(this.RootScope),o[t.Item.InstanceId]=t.Item)}this.RootScope.Internals.DirtBag.CompositionProcessed=u.length;for(let i in o)o[i].update(e,t);this.updateDataBindings(e,t),this.calculateFlexbox(e),this.RootScope.Internals.DirtBag.clear()}getFlexConnection(){let e=this.RootScope.Internals.FlexNodes;for(let t in e){let i=e[t];if(i.IsConnection)return i}return null}calculateFlexbox(e,t=!1){let i=!1,n=t?this.RootScope.Internals.FlexNodes:this.RootScope.Internals.DirtBag.FlexNode;for(let e in n){let s=n[e];!s.IsDirty&&!t||s.IsConnection?s.IsDirty&&s.IsConnection&&(i=s.apply(this.RootScope)||i):i=s.recalculate(this.RootScope)||i}i&&e<15&&this.update(++e)}unbind(e,t=-1,i=-1,n=!1){if(t>=0&&i>=0)for(let s=t;s<i;s++)this.unbind(e+"["+s+"]",-1,-1,n);else this.removeLinks(e,this.RootScope.Internals.Links,n),this.removeLinks(e,this.RootScope.Internals.LocalLinks,n),this._isClone&&this.removeLinks(e,this.RootScope.Internals.DataLinks,n)}removeLinks(e,t,i){for(let n in t)if(0===n.indexOf(e)){let e=t[n];for(let t in e.Affects)e.Affects[t].Definition.remove(e.Affects[t],this.RootScope,i)}}createSubtemplate(e,t,i,n=null,s=0,o=0){let r=this._template.GetComposition(t),a=document.createElementNS("http://www.w3.org/2000/svg","g"),l=new d.PublicScope(i);return l.HmiProps.Width=s,l.HmiProps.Height=o,l.Layout={ActualX:0,ActualY:0},this._creator.establishSingleCompositionEx(a,l,r,this._template,this.RootScope,this,null,-1,e,n)}clone(e=null){if(this._isClone)return a.Tracing.logFn(a.TraceLevel.Warning,(()=>"Do only clone the initial Item!")),null;let t=this._creator.establishSingleCompositionClone(null,this.RootScope,e,this._template,this,this.NVE);return this.Clones[t.InstanceId]=t,t}setDataContent(e,t="Content"){this.setData(e,t,"Content")}setDataColors(e,t="Colors"){this.setData(e,t,"Colors")}setData(e,t,i){if(this.SupportsData){let n=this.examinePath(!1,t,i);if(!n)return;if(this.updateProperty(n.start,n.suffix,e,t,n.bound,!0)){a.Tracing.logFn(a.TraceLevel.Info,(()=>"Setting '"+t+"' did mutate value(s) and affects "+n.bound.length+" binding target(s)"));for(let e in n.bound){let t=n.bound[e];for(let e in this.RootScope.Internals.DataLinks[t].Affects){const i=this.RootScope.Internals.DataLinks[t].Affects[e];i.IsDirty||(a.Tracing.logFn(a.TraceLevel.Info,(()=>this.RootScope.Internals.DataLinks[t].Affects[e].TargetName+" turns dirty (as parent)...")),i.IsDirty=!0,this.RootScope.Internals.DirtDataBag.push(i))}}}else a.Tracing.logFn(a.TraceLevel.Info,(()=>"Setting '"+t+"' did not mutate value(s)."))}else a.Tracing.logFn(a.TraceLevel.Warning,(()=>"Cannot set data on templates that have not been created through a NVE."))}}},6175:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ItemFactory=void 0;const n=i(3108),s=i(6050),o=i(3731);t.ItemFactory=class{static establishBinding(e,t,i){if(e.XPath){const r=s.XPath.getNode(e.XPath,i.RootNode);if(e instanceof o.HmiDefinition){const o=e.bind(r,t,i);if(e.needsInitialValue(i)){e.InitialValue=o,e.HasInitialValue=++i.Template.TreeModifications;const n=s.XPath.getNode(e.XPath,i.Template.Tree);e.resolve(n,t,!0)}else n.Tracing.logFn(n.TraceLevel.Info,(()=>"No need to update DOM."))}else e.bind(r,t,i);n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established SVG"+(e.IsDataBinding?" data-":" ")+"binding "+e.Expression))}else n.Tracing.logFn(n.TraceLevel.Warning,(()=>"No XPath for SVG"+(e.IsDataBinding?" data-":" ")+"binding "+e.Expression))}static establishBindings(e,t,i){for(let s=0;s<e.Bindings.length;s++){let o=e.Bindings[s];o.Depends?o.Depends.checkCondition(t,i)?this.establishBinding(o,t,i):n.Tracing.logFn(n.TraceLevel.Info,(()=>"Delayed binding "+o.Id+" due to condition")):this.establishBinding(o,t,i)}}static establishIfBindings(e,t,i){for(let s=0;s<e.Conditionals.length;s++){let o=e.Conditionals[s];o.Depends?o.Depends.checkCondition(t,i)?this.establishBinding(o,t,i):n.Tracing.logFn(n.TraceLevel.Info,(()=>"Delayed binding "+o.Id+" due to condition")):this.establishBinding(o,t,i)}}static establishDataBindings(e,t,i){if(!e.IsMaster||t.Data)for(let s=0;s<e.DataBindings.length;s++){let o=e.DataBindings[s];o.Depends?o.Depends.checkCondition(t,i)?this.establishBinding(o,t,i):n.Tracing.logFn(n.TraceLevel.Info,(()=>"Delayed data binding "+o.Id+" due to condition")):this.establishBinding(o,t,i)}else n.Tracing.logFn(n.TraceLevel.Info,(()=>"No data binding for master used for cloning."))}static establishParamProperties(e,t){for(var i in e.ParamProps)e.ParamProps[i].TwoWay&&(t.Internals.TwoWays[i]=!0),void 0!==t.Properties.ParamProps[i]?n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established ParamProps."+i+" with input value "+t.Properties.ParamProps[i])):(t.Properties.ParamProps[i]=e.ParamProps[i].Default,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established ParamProps."+i+" with default "+t.Properties.ParamProps[i])))}static establishLocalProperties(e,t,i,s=!1){var o=s&&e.IsMaster&&!!t.Data;if(s)for(var r in e.LocalProps){(a=e.LocalProps[r]).Static||a.DealsWithData&&o&&(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established bound local property LocalProps."+r)),t.Properties.LocalProps[r]=a.bind(t,i))}else for(var r in t.Properties.LocalProps={},e.LocalProps){var a;(a=e.LocalProps[r]).Static?(t.Properties.LocalProps[r]=a.InitialValue,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established unbound local property LocalProps."+r))):a.DealsWithData||o?o||(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established data-bound local property LocalProps."+r)),t.Properties.LocalProps[r]=a.InitialValue):(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Established bound local property LocalProps."+r)),t.Properties.LocalProps[r]=a.bind(t,i))}}}},9716:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionLink=void 0;const n=i(1537);class s{constructor(e,t){let i=null!=e.TemplateDef.Range.renderStart,n=null!=e.TemplateDef.Range.renderCount;this.renderStartNew=0,this.renderCountNew=-1,i&&(this.renderStartNew=e.TemplateDef.Range.renderStart.Static?parseInt(e.TemplateDef.Range.renderStart.InitialValue):parseInt(e.TemplateDef.Range.renderStart.resolve(t,!0,e)),(isNaN(this.renderStartNew)||this.renderStartNew<0)&&(this.renderStartNew=0)),n&&(this.renderCountNew=e.TemplateDef.Range.renderCount.Static?parseInt(e.TemplateDef.Range.renderCount.InitialValue):parseInt(e.TemplateDef.Range.renderCount.resolve(t,!0,e)),(isNaN(this.renderCountNew)||this.renderCountNew<0)&&(this.renderCountNew=-1))}}class o{constructor(e){let t=e.CollectionNode.firstChild,i=!1,n=["WebRTPUProps","item","RootScope","Properties","HmiProps"],s=n.length,o=!1,r=null;for(this.renderStartOld=0,this.renderCountOld=-1;null!=t;){o=!0,r=t;for(let e=0;e<s;e++){if(!r.hasOwnProperty(n[e])){o=!1;break}r=r[n[e]]}if(o&&(i=!0,null!=t.WebRTPUProps.item.RootScope.Properties.HmiProps.$renderStart?this.renderStartOld=t.WebRTPUProps.item.RootScope.Properties.HmiProps.$renderStart:i=i&&!1,null!=t.WebRTPUProps.item.RootScope.Properties.HmiProps.$renderCount?this.renderCountOld=t.WebRTPUProps.item.RootScope.Properties.HmiProps.$renderCount:i=i&&!1),!1!==i)break;t=t.firstChild}}}t.CompositionLink=class{constructor(e){this._oldRenderValues=null,this._newRenderValues=null,this.Target=e.Id,this.Definition=e,this.IsDirty=!1,this.Disabled=!1;let t=e.Affects;this.Affects=0===t?"ParamProps":2===t?"HmiProps":"Layout"}get TargetName(){return this.Affects+"."+this.Target}update(e){if(this.Disabled)return void(this.IsDirty=!1);let t;if(1===this.Definition.Affects)t=this.Definition.resolve(e,!0,this),this.Item.RootScope.Properties[this.Affects][this.Target]!==t&&(this.Item.RootScope.Properties[this.Affects][this.Target]=t);else if(0===this.Definition.Affects)t=this.Definition.resolve(e,!0,this),this.Item.RootScope.Properties[this.Affects][this.Target]!==t&&this.Item.setParamProps(t,"ParamProps."+this.Target);else if(3===this.Definition.Affects)this._rangeUpdate(e,e.Internals.Owner,this.getCollectionPath(e),!0);else if(this.Item)t=this.Definition.resolve(e,!0,this),this.Item.RootScope.Properties[this.Affects]!==t&&this.Item.setHmiProps(t);else{let i=this.getCollectionPath(),n=this.getCollectionLength(!1);t=this.Definition.resolve(e,!0,this);let s=this.getCollectionPath(),o=this.getCollectionLength(),r=e.Internals.Owner;if(i!==s){this.Flex&&this.Flex.removeChild(),r.unbind(i,-1,-1,!0);let t=this.Engine.composeCollection(this.TemplateDef,this.Template,e,r);this.CollectionNode.parentNode.replaceChild(t,this.CollectionNode)}else this._rangeUpdate(e,r,i,!1,n,o)||this.resetCollectionLength()}this.IsDirty=!1}_clearCollectionNode(e,t,i){let n=this.TemplateDef.HmiProps.resolve(e,!1),s=n?n.length:0,o=this._oldRenderValues.renderStartOld,r=this._oldRenderValues.renderCountOld<0?s:this._oldRenderValues.renderCountOld;o<s&&(o+r>=s&&(r=s-o),this.Flex&&this.Flex.reduceChildren(r),i&&t.unbind(i,o,o+r,!0))}_createCollectionNodeElements(e,t){let i=this.TemplateDef.HmiProps.resolve(t,!1),n=0,s=0,o=0,r=0,a=this.TemplateDef.HmiProps.resolve(t,!1),l=a?a.length:0;n=this._newRenderValues.renderStartNew,s=this._newRenderValues.renderCountNew,o=s<0?l:s,r=n+o;for(let o=n;o<r&&o<l;o++){let r=this.Engine.establishSingleComposition(this.TemplateDef,this.Template,t,e,this.Flex,i,o,n,n,s);this.CollectionNode.appendChild(r)}}_updateOldRenderValues(){this._oldRenderValues.renderStartOld=this._newRenderValues.renderStartNew,this._oldRenderValues.renderCountOld=this._newRenderValues.renderCountNew}_lengthValueChanged(e,t,i,n,o){let r=this.TemplateDef.HmiProps.resolve(i,!1),a=this._oldRenderValues.renderStartOld,l=this._oldRenderValues.renderCountOld<0?e:this._oldRenderValues.renderCountOld,u=this._oldRenderValues.renderCountOld<0?t:this._oldRenderValues.renderCountOld,d=0;if(0===e&&(this._newRenderValues=new s(this,i),a=this._newRenderValues.renderStartNew,l=this._newRenderValues.renderCountNew<0?e:this._newRenderValues.renderCountNew,u=this._newRenderValues.renderCountNew<0?t:this._newRenderValues.renderCountNew),a>=e?l=0:a+l>=e&&(l=e-a),a>=t?u=0:a+u>=t&&(u=t-a),d=u-l,d<0)d*=-1,this.Flex&&this.Flex.reduceChildren(d),n&&(0===t?o.unbind(n,0,e,!0):o.unbind(n,a+u,a+u+d,!0)),this._updateInstanceInfo(0,t,null,null);else{if(0===e)for(let e=a+l;e<a+l+d;e++){let t=this.Engine.establishSingleComposition(this.TemplateDef,this.Template,i,o,this.Flex,r,e,a,a,this._newRenderValues.renderCountNew);this.CollectionNode.appendChild(t)}else for(let e=a+l;e<a+l+d;e++){let t=this.Engine.establishSingleComposition(this.TemplateDef,this.Template,i,o,this.Flex,r,e,a,a,this._oldRenderValues.renderCountOld);this.CollectionNode.appendChild(t)}this._updateInstanceInfo(0,t,null,null)}0===t&&(this._oldRenderValues.renderStartOld=0)}_checkPath(){let e=this.CollectionNode.childNodes,t=["WebRTPUProps","item","RootScope","Properties","HmiProps"],i=t.length,n=!1,s=null;if(e.length>0&&e[0].childNodes.length>0){s=e[0].childNodes[0],n=!0;for(let e=0;e<i;e++){if(!s.hasOwnProperty(t[e])){n=!1;break}s=s[t[e]]}}return n}_updateInstanceInfo(e=null,t=null,i=null,n=null){let s=this.CollectionNode.childNodes,o=!1;if(o=this._checkPath(),o)for(let o=0;o<s.length;o++)null!==e&&s[o].childNodes[0].WebRTPUProps.item.setHmiProps(o+e,"HmiProps.$index"),null!==t&&s[o].childNodes[0].WebRTPUProps.item.setHmiProps(t,"HmiProps.$count"),null!==i&&s[o].childNodes[0].WebRTPUProps.item.setHmiProps(i,"HmiProps.$renderStart"),null!==n&&s[o].childNodes[0].WebRTPUProps.item.setHmiProps(n,"HmiProps.$renderCount"),s[o].childNodes[0].WebRTPUProps.item.update()}_rangeUpdate(e,t,i,n,r=0,a=0){let l=!0,u=!1;return null===this._oldRenderValues&&(this._oldRenderValues=new o(this)),n&&(this._newRenderValues=new s(this,e)),n?this._oldRenderValues.renderStartOld===this._newRenderValues.renderStartNew&&this._oldRenderValues.renderCountOld===this._newRenderValues.renderCountNew||(u=!0):r!==a?u=!0:l=!1,u&&(n?(this._clearCollectionNode(e,t,i),this._createCollectionNodeElements(t,e)):this._lengthValueChanged(r,a,e,i,t)),u&&n&&this._updateOldRenderValues(),l&&this.resetCollectionLength(),l}getCollectionPath(e=null){let t,i=null,s=!1;return null===e?(s=this.Ref&&n.ObservableArray.isArray(this.Ref)&&this.Ref.length>0,t=s?this.Ref[0][".path"].Name:void 0):(i=this.TemplateDef.HmiProps.resolve(e,!1),s=i&&n.ObservableArray.isArray(i)&&i.length>0,t=s?i[0][".path"].Name:void 0),t&&t.lastIndexOf("[")>0&&(t=t.substr(0,t.lastIndexOf("["))),t}getCollectionLength(e=!0){return this.Ref&&this.Ref instanceof n.ObservableArray?e?this.Ref.cursor:this.Ref.length:0}resetCollectionLength(){this.Ref&&this.Ref instanceof n.ObservableArray&&this.Ref.balance()}}},685:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionalLink=void 0;const n=i(3769),s=i(9022),o=i(3731),r=i(6175),a=i(7825),l=i(5974),u=i(867);t.ConditionalLink=class{constructor(e,t,i){this._defaultsResolved=!1,this.Target=i,this.Definition=e,this.IsDirty=!1,this._owner=t,this.State=i?n.LinkState.Established:n.LinkState.Pending}get TargetName(){return"<"+this.Target.localName+" if> "}evaluate(e,t){this._defaultsResolved||(this.Definition.resolveDefaults(e,t),this._defaultsResolved=!0),this.CurrentValue=this.Definition.evaluate(e)}setupDelayedComposition(e,t,i,n){let s=i.RootNode.getElementsByTagName("template-hint"),o=null;for(let t=s.length-1;t>=0;t--){let i=s[t];i.textContent==e.Id&&(o=i)}if(o){let s;o.hasAttribute("flex")&&(s=o.flex);let r=n.composeCollection(e,i.Template,t,i,s);r?o.parentNode.replaceChild(r,o):o.parentElement.removeChild(o)}}setupDelayedNve(e,t,i,n){let s=i.RootNode.getElementsByTagName("nve-hint"),o=null;for(let t=s.length-1;t>=0;t--){let i=s[t];i.textContent==e.Id&&(o=i)}o&&u.NveFactory.establishNVE(o,e,i.Template,t,i,n)}update(e,t){if(this.State==n.LinkState.Pending&&this._owner&&this.Definition.evaluate(e)){let u=[],d=[],c=[],h=[];for(let t=0;t<this.Definition.Dependents.length;t++){var i=this.Definition.Dependents[t];i instanceof o.HmiDefinition?i.DealsWithData?u.push(i):r.ItemFactory.establishBinding(i,e,this._owner):i instanceof a.TemplateDefinition?d.push(i):i instanceof s.ConditionalDefinition?c.push(i):i instanceof l.ElementDefinition&&h.push(i)}for(let i=0;i<h.length;i++)this.setupDelayedNve(h[i],e,this._owner,t);for(let t=0;t<u.length;t++)r.ItemFactory.establishBinding(u[t],e,this._owner);for(let i=0;i<d.length;i++)this.setupDelayedComposition(d[i],e,this._owner,t);for(let i=0;i<c.length;i++){r.ItemFactory.establishBinding(c[i],e,this._owner);const n=this._owner.RootScope.Internals.ConditionalBindingsMap[c[i].Id];n&&n.update(e,t)}this.State=n.LinkState.Established}this.Definition.resolve(this.Target,e),this.IsDirty=!1}}},1250:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Data=void 0;t.Data=class{constructor(e,t){this.Value=e,this.Affects=[],this.Affects.push(t)}}},3769:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkState=void 0,function(e){e[e.Pending=0]="Pending",e[e.Established=1]="Established"}(t.LinkState||(t.LinkState={}))},3478:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalLink=void 0;t.LocalLink=class{constructor(e,t){this.Target=e.Id,this.Definition=e,this.IsDirty=!1,this.Disabled=!1,this._ownerScope=t}get TargetName(){return"LocalProps."+this.Target}update(e){let t=e||this._ownerScope;if(this.Disabled)this.IsDirty=!1;else{var i=this.Definition.resolve(t);t.Properties.LocalProps[this.Target]!==i&&(t.Properties.LocalProps[this.Target]=i),this.IsDirty=!1}}}},6873:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureAttrLink=void 0;t.FeatureAttrLink=class{constructor(e,t){this.Target=e,this.Definition=t,this.IsDirty=!1}get TargetName(){return this.Definition.Id}update(e){let t=this.Definition.resolve(e);t!==this.Target.Attributes[this.Definition.Id]&&(this.Target.Attributes[this.Definition.Id]=t,this.Target.propertyChanged&&this.Target.propertyChanged(this.Definition.Id)),this.IsDirty=!1}}},3276:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SvgLink=void 0;t.SvgLink=class{constructor(e,t){this.Target=e,this.Definition=t,this.IsDirty=!1}get TargetName(){return"<"+this.Target.localName+" "+(this.Definition.OwnerAttribute?this.Definition.OwnerAttribute.localName:"")+"> "}update(e){this._lastValue=this.Definition.resolve(this.Target,e,!1,this._lastValue).v,this.IsDirty=!1}}},6993:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BuiltInContent=void 0;const n=i(5463),s=i(4587),o=i(3108);t.BuiltInContent=class{constructor(){this.Attributes={},this.Features=[],this.Templates=new n.Dictionary,this.Methods=new n.Dictionary}create(e){if(s.Engine.hasContent(e.PrimaryType,e.SecondaryType))this._item=e,this._content=s.Engine.getContent(e.PrimaryType,e.SecondaryType),this._dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this._dom.setAttribute("transform","translate("+this.Attributes.left+","+this.Attributes.top+")"),this._node=this._content.RequestContentCallback(e,this.Attributes.left,this.Attributes.top,this.Attributes.width,this.Attributes.height),this._dom.appendChild(this._node);else{var t="There is no item-specific content to show...";this._dom=document.createElementNS("http://www.w3.org/2000/svg","g");var i=document.createComment(t);this._dom.appendChild(i),o.Tracing.logFn(o.TraceLevel.Error,(()=>t+" PrimaryType: "+e.PrimaryType+" SecondaryType: "+e.SecondaryType))}return this._dom}remove(){}update(){this._dom.setAttribute("transform","translate("+this.Attributes.left+","+this.Attributes.top+")"),this._item&&this._content&&this._content.UpdateContentCallback(this._item,this.Attributes.left,this.Attributes.top,this.Attributes.width,this.Attributes.height,this._node)}}},5974:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ElementDefinition=void 0;const n=i(5463);t.ElementDefinition=class{constructor(e,t){this.Id=e,this.Type=t,this.Children=[],this.Attributes=new n.Dictionary,this.Events=new n.Dictionary,this.Templates=new n.Dictionary}}},3412:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ElementLink=void 0;t.ElementLink=class{constructor(e,t){this.Element=e,this.RootNode=t}}},1230:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureDefinition=void 0;const n=i(5463);t.FeatureDefinition=class{constructor(e){this.Type=e,this.Children=[],this.Attributes=new n.Dictionary,this.Templates=new n.Dictionary,this.Events=new n.Dictionary}}},867:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NveFactory=void 0;const n=i(7945),s=i(3108),o=i(3412);class r{static establishNVE(e,t,i,n,s,r){var a=document.createElementNS("http://www.w3.org/2000/svg","g"),l=this.expandNVE(t,i,n,s,r),u=l.create(s);a.appendChild(u),n.Internals.NVEs.push(new o.ElementLink(l,u)),e.parentNode.replaceChild(a,e)}static establishNVEs(e,t,i,n){if(e.UsesNVE())for(var o=i.RootNode.getElementsByTagName("nve-hint"),a=o.length-1;a>=0;a--){var l=o[a],u=e.GetNVE(l.textContent);u&&(u.Depends&&!u.Depends.checkCondition(t,i)?s.Tracing.logFn(s.TraceLevel.Info,(()=>"Delayed NVE "+u.Id+" due to condition")):r.establishNVE(l,u,e,t,i,n))}}static expandNVE(e,t,i,s,o){var r=o.createNVE(e.Type);for(var a in e.Attributes){var l=e.Attributes[a];l.Static?r.Attributes[a]=l.Value:r.Attributes[a]=l.bind(r,i,s)}if(r.Events)for(var u in e.Events)r.Events[u]=new n.EventImpl(parseInt(u),e.Events[u]);if(e.Templates)for(var d in e.Templates)r.Templates[d]=e.Templates[d];for(var c in e.Children){var h=this.expandNVE(e.Children[c],t,i,s,o);h.Parent=r,r.Features.push(h)}return r}}t.NveFactory=r},9022:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionalDefinition=void 0;const n=i(3108),s=i(1575),o=i(5167),r=i(4587),a=i(6768),l=i(6050),u=i(4667),d=i(685),c=i(3769);class h extends s.Definition{constructor(e,t,i,s=!1){super(),this.StaticValue=!0,this.Valid=!1,this.Id=o.GUID.create(),this.OwnerElement=e,this.OwnerAttribute=t,this.Expression=i.trim(),this.IsDataBinding=s,this.Dependents=[];let u="",d=e;if("{{"===this.Expression.substr(0,2)&&"}}"===this.Expression.substr(this.Expression.length-2,2))u=this.Expression.substr(2,this.Expression.length-4);else if("{"===this.Expression.substr(0,1)&&"}"===this.Expression.substr(this.Expression.length-1,1)){let e=this.Expression.substr(1,this.Expression.length-2).trim();e.indexOf(" ")<0?(r.Engine.CustomConstants.hasOwnProperty(e)?(this._expression=null,this.resolveCondition(d,r.Engine.CustomConstants[e])):(this._fastLane=e,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Property to be bound directly (no expression): "+this._fastLane))),this.Valid=!0):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Faulty direct binding (contains spaces, seems to be an expression?) => "+this.Expression)),u=""}if(""!==u)try{let e=a.Parser.parse(u);this._expression=e.simplify(r.Engine.CustomEnums);let t=this._expression.variables().length;0===t?(this.Valid=!0,this.StaticValue=this._expression.evaluate(),n.Tracing.logFn(n.TraceLevel.Info,(()=>"Binding has no bound properties, resolved text or content once!")),this._expression=null):(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Properties to be bound: "+this._expression.variables())),this.Valid=!0,1===t&&1===this._expression.numberOfTokens()&&(this._expression=null,this._fastLane=u.trim(),n.Tracing.logFn(n.TraceLevel.Info,(()=>"FastLane is used for: "+this._fastLane))))}catch(e){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Faulty binding expression => "+i))}this.Valid&&!this.Static&&(this.XPath=l.XPath.getPath(e))}resolveCondition(e,t){t?e.setAttribute("display","block"):e.setAttribute("display","none")}evaluate(e){return this._fastLane?this._resolveDirect(this._fastLane,e):this._expression.evaluate(this.IsDataBinding?e.Data:e.Properties)}resolve(e,t){var i=e;try{let n=this.evaluate(t);return this.resolveCondition(i,n),e}catch(e){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Error evaluating expression and/or setting result..."))}}checkCondition(e,t){const i=t.RootScope.Internals.ConditionalBindingsMap,n=i[this.Id];let s=!1;if(n)void 0===n.CurrentValue&&n.evaluate(e,t),s=n.CurrentValue;else{let n=new d.ConditionalLink(this,t);i[this.Id]=n,n.evaluate(e,t),s=n.CurrentValue;(this.DealsWithData?t.RootScope.Internals.DataConditionalBindings:t.RootScope.Internals.ConditionalBindings).push(n)}return s&&this.Depends&&(s=this.Depends.checkCondition(e,t)),s}setup(e,t,i){const n=i.RootScope.Internals.ConditionalBindingsMap,s=n[this.Id];if(s)this.checkCondition(t,i)&&(s.State=c.LinkState.Established),s.Target=e,this.sharedSetup(s,t);else{const s=new d.ConditionalLink(this,i,e);s.evaluate(t,i),s.CurrentValue||(s.State=c.LinkState.Pending),n[this.Id]=s,this.sharedSetup(s,t);(this.DealsWithData?i.RootScope.Internals.DataConditionalBindings:i.RootScope.Internals.ConditionalBindings).push(s)}}resolveDefaults(e,t){r.Engine.Options.checkProperties&&!this.IsDataBinding&&(this._fastLane?u.Defaults.resolveOne(this._fastLane,e,t):u.Defaults.resolve(this._expression,e,t))}bind(e,t,i){try{this.resolveDefaults(t,i),this.setup(this.resolve(e,t),t,i)}catch(e){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Not all bound properties could be resolved..."))}}}t.ConditionalDefinition=h},1575:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Definition=void 0;const n=i(3108),s=i(4587),o=i(1250),r=i(9716),a=i(6768);class l{constructor(){this.IsDataBinding=!1,this.DependsOnData=!1}get DealsWithData(){return this.IsDataBinding||this.DependsOnData}toString(){return this.Id}CheckDataDependency(e){const t=this.DependsOnDataBinding(e);return this.DependsOnData=t,t}DependsOnDataBinding(e){if(this._fastLane)return this.depends(this._fastLane,e);if(this._expression){const t=this._expression.variables(),i=t.length;for(let n=0;n<i;n++)if(this.depends(t[n],e))return!0}return!1}depends(e,t){if(e.startsWith("LocalProps.")){const i=e.substr(11);return t.LocalProps[i]&&t.LocalProps[i].DealsWithData}return!1}get Static(){return!this._expression&&!this._fastLane}get Direct(){return!!this._fastLane}get DirectProperty(){return this._fastLane}TransformLayoutProperties(e,t){let i=!1,n=!e&&t&&t.HasLayoutDimensions;if(this._expression){let t=this._expression.variables(),s=t.length;for(let o=0;o<s;o++){let s=t[o];"Layout.ActualWidth"===s?(e?(e.AddSubscription("ActualWidth"),this._expression.renameVariable("Layout.ActualWidth","Layout."+e.Id+"-ActualWidth")):n||this._expression.renameVariable("Layout.ActualWidth","HmiProps.Width"),i=!0):"Layout.ActualHeight"===s&&(e?(e.AddSubscription("ActualHeight"),this._expression.renameVariable("Layout.ActualHeight","Layout."+e.Id+"-ActualHeight")):n||this._expression.renameVariable("Layout.ActualHeight","HmiProps.Height"),i=!0)}}else this._fastLane&&("Layout.ActualWidth"===this._fastLane?(e?(e.AddSubscription("ActualWidth"),this._fastLane="Layout."+e.Id+"-ActualWidth"):n||(this._fastLane="HmiProps.Width"),i=!0):"Layout.ActualHeight"===this._fastLane&&(e?(e.AddSubscription("ActualHeight"),this._fastLane="Layout."+e.Id+"-ActualHeight"):n||(this._fastLane="HmiProps.Height"),i=!0));return i}sharedParse(e,t,i,o=(e=>e)){var r=null,l=this;if(this.Id=e,i){this.Valid=!1;var g=t.trim();if("{{"===g.substr(0,2)&&"}}"===g.substr(g.length-2,2))try{var p=g.substr(2,g.length-4),f=a.Parser.parse(p);this._expression=f.simplify(s.Engine.CustomEnums);var m=this._expression.variables().length;if(0===m)this.Valid=!0,r=this._expression.evaluate(),this._expression=null;else n.Tracing.logFn(n.TraceLevel.Info,(()=>"Properties to be bound: "+this._expression.variables())),this.Valid=!0,1===m&&1===this._expression.numberOfTokens()&&(this._expression=null,l._fastLane=p.trim(),n.Tracing.logFn(n.TraceLevel.Info,(()=>"FastLane is used for : "+l._fastLane)))}catch(i){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Faulty binding expression: "+e+" => "+t))}else if("{"===g.substr(0,1)&&"}"===g.substr(g.length-1,1)){var y=this instanceof d.ParamDefinition,G=this instanceof u.FeatureAttrDefinition,v=this instanceof c.LocalDefinition,Y=this instanceof h.FlexAttributeDefinition;if(y||G||v||Y){var S=g.substr(1,g.length-2).trim();S.indexOf(" ")<0?(s.Engine.CustomConstants.hasOwnProperty(S)?(this._expression=null,r=s.Engine.CustomConstants[S]):(l._fastLane=S,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Property to be bound directly (no expression): "+l._fastLane))),this.Valid=!0):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Faulty direct binding (contains spaces, seems to be an expression?) "+e+" => "+t))}else n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Trying to use direct binding syntax within unsupported attribute... (for/forEach/paramters only!)"))}}else this.Valid=!0,r=o(t);return r}static defaultSetter(e,t){return e.Value!==t&&(e.Value=t,!0)}static localSetter(e,t){var i=c.LocalDefinition.convert(t,typeof e.Value);return e.Value!==i&&(e.Value=i,!0)}_resolveDirect(e,t){var i=e.match(/[^(\.|\'|\"|\[|\])]+/g);if(!this.IsDataBinding&&"HmiProps"!==i[0]&&"LocalProps"!==i[0]&&"ParamProps"!==i[0]&&"SysProps"!==i[0]&&"Layout"!==i[0]||this.IsDataBinding&&"Content"!==i[0]&&"Colors"!==i[0])throw n.Tracing.logFn(n.TraceLevel.Error,(()=>"Invalid variable: "+e)),new Error;return i.reduce((function(e,t){return e&&void 0!==e[t]?e[t]:""===t?e:void 0}),this.IsDataBinding?t.Data:t.Properties)}_getLink(e,t){return this.IsDataBinding?t.Internals.DataLinks:e.startsWith("LocalProps.")?t.Internals.LocalLinks:t.Internals.Links}_setupOne(e,t,i){var s=this._getLink(e,i);if(s[e])s[e].Affects.push(t);else{var r=e.match(/[^(\.|\'|\"|\[|\])]+/g);""===r[r.length-1]&&r.pop(),(this.IsDataBinding||"HmiProps"!==r[0]&&"LocalProps"!==r[0]&&"ParamProps"!==r[0]&&"SysProps"!==r[0]&&"Layout"!==r[0])&&(!this.IsDataBinding||"Content"!==r[0]&&"Colors"!==r[0])||r.reduce((function(a,u,d,c){var h=e;if(d===c.length-1){"LocalProps"===r[0]&&a[".path"]&&n.Tracing.logFn(n.TraceLevel.Error,(()=>"LocalProp seems to have data leaking from a former HmiProps!"));let e=new o.Data(a[u],t);var g=Object.getOwnPropertyDescriptor(a,u);if(g&&!g.hasOwnProperty("value"))n.Tracing.logFn(n.TraceLevel.Error,(()=>"Trying to create getter/setter for already bound."));else{var p="LocalProps"===r[0]?l.localSetter:l.defaultSetter;s[h]=e,Object.defineProperty(a,u,{get:function(){return e.Value},set:function(t){if(p(e,t))for(var s in n.Tracing.logFn(n.TraceLevel.Info,(()=>"New value for "+h+": "+t)),e.Affects)e.Affects[s].IsDirty||(n.Tracing.logFn(n.TraceLevel.Info,(()=>e.Affects[s].TargetName+" turns dirty...")),e.Affects[s].IsDirty=!0,e.Affects[s].Definition.DealsWithData?i.Internals.DirtDataBag.push(e.Affects[s]):i.Internals.DirtBag.push(e.Affects[s]));else n.Tracing.logFn(n.TraceLevel.Info,(()=>"Value for "+h+" remained the same: "+t))}})}}return a[u]}),this.IsDataBinding?i.Data:i.Properties)}}sharedSetup(e,t){if(this._fastLane)this._setupOne(this._fastLane,e,t);else{var i=this._expression.variables();for(var n in i)this._setupOne(i[n],e,t)}}remove(e,t,i=!1){var s=this._fastLane?Array(this._fastLane):this._expression.variables();for(var o in s){var a=s[o],l=a.match(/[^(\.|\'|\"|\[|\])]+/g);if(""===l[l.length-1]&&l.pop(),!this.IsDataBinding&&("HmiProps"===l[0]||"LocalProps"===l[0]||"ParamProps"===l[0]||"SysProps"===l[0]||"Layout"===l[0])||this.IsDataBinding&&("Content"===l[0]||"Colors"===l[0])){var u=this._getLink(a,t);l.reduce((function(t,s,o,l){var d=a;if(o===l.length-1)if(u[d]){for(var c=u[d].Affects.length-1;c>=0;c--){u[d].Affects[c]===e&&(u[d].Affects.splice(c,1),e instanceof r.CompositionLink&&e.Item&&e.Item.remove(!1,!0,i))}0===u[d].Affects.length&&(delete u[d],Object.defineProperty(t,s,{value:t[s],writable:!0,enumerable:!0,configurable:!0}))}else n.Tracing.logFn(n.TraceLevel.Error,(()=>"No link related to binding... seems something went wrong!"));return t[s]}),this.IsDataBinding?t.Data:t.Properties)}}}}t.Definition=l;const u=i(3950),d=i(7053),c=i(4563),h=i(5679)},3950:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureAttrDefinition=void 0;const n=i(1575),s=i(2945),o=i(6873),r=i(4667),a=i(4587);class l extends n.Definition{constructor(e,t,i,n=!1){super(),this.Value=this.sharedParse(e,t,i),this.IsDataBinding=n}resolve(e){var t=this._fastLane?this._resolveDirect(this._fastLane,e):this._expression.evaluate(e.Properties);return"object"==typeof t&&(t=s.DataPreprocessor.clone(t)),t}setup(e,t){const i=new o.FeatureAttrLink(e,this);(i.Definition.DealsWithData?t.Internals.DataNVEBindings:t.Internals.NVEBindings).push(i),this.sharedSetup(i,t)}bind(e,t,i){return a.Engine.Options.checkProperties&&!this.IsDataBinding&&(this._fastLane?r.Defaults.resolveOne(this._fastLane,t,i):r.Defaults.resolve(this._expression,t,i)),this.setup(e,t),this.resolve(t)}}t.FeatureAttrDefinition=l},3731:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HmiDefinition=void 0;const n=i(1575),s=i(5167),o=i(3108),r=i(4587),a=i(3276),l=i(4667),u=i(6768),d=i(6050),c=i(9637),h=i(7760),g={width:!0,height:!0,r:!0,rx:!0,ry:!0};class p extends n.Definition{constructor(e,t,i,n=!1){super(),this.HasInitialValue=0,this.Valid=!1,this.Id=s.GUID.create(),this.OwnerAttribute=t,this.OwnerElement=e,this.Expression=i.trim(),this.IsDataBinding=n;let a="",l=e;if(!t||"d"!==t.localName&&"points"!==t.localName&&"transform"!==t.localName){if("{{"===this.Expression.substr(0,2)&&"}}"===this.Expression.substr(this.Expression.length-2,2))a=this.Expression.substr(2,this.Expression.length-4);else if("{"===this.Expression.substr(0,1)&&"}"===this.Expression.substr(this.Expression.length-1,1)){let e=this.Expression.substr(1,this.Expression.length-2).trim();e.indexOf(" ")<0?(r.Engine.CustomConstants.hasOwnProperty(e)?(this._expression=null,this.applyAttributeOrText(l,t,r.Engine.CustomConstants[e])):(this._fastLane=e,o.Tracing.logFn(o.TraceLevel.Info,(()=>"Property to be bound directly (no expression): "+this._fastLane))),this.Valid=!0):o.Tracing.logFn(o.TraceLevel.Warning,(()=>"Faulty direct binding (contains spaces, seems to be an expression?) => "+this.Expression)),a=""}}else{let e=this.Expression;e="{{"===e.substr(0,2)?e.replace("{{","("):"{"===e.substr(0,1)?e.replace("{","("):"'"+e,"}}"===e.substr(e.length-2)?(e=e.substr(0,e.length-2),e+=")"):"}"===e.substr(e.length-1)?(e=e.substr(0,e.length-1),e+=")"):e+="'",e=e.replace(/{{/g,"' + ("),e=e.replace(/}}/g,") + '"),e=e.replace(/{/g,"' + ("),a=e.replace(/}/g,") + '")}if(""!==a)try{let e=u.Parser.parse(a);this._expression=e.simplify(r.Engine.CustomEnums);let i=this._expression.variables().length;if(0===i){this.Valid=!0;let e=this._expression.evaluate();this.applyAttributeOrText(l,t,e),o.Tracing.logFn(o.TraceLevel.Info,(()=>"Binding has no bound properties, resolved text or content once!")),this._expression=null}else o.Tracing.logFn(o.TraceLevel.Info,(()=>"Properties to be bound: "+this._expression.variables())),this.Valid=!0,1===i&&1===this._expression.numberOfTokens()&&(this._expression=null,this._fastLane=a.trim(),o.Tracing.logFn(o.TraceLevel.Info,(()=>"FastLane is used for: "+this._fastLane)))}catch(e){o.Tracing.logFn(o.TraceLevel.Warning,(()=>"Faulty binding expression => "+i))}this.Valid&&!this.Static&&(this.XPath=d.XPath.getPath(e))}applyAttribute(e,t,i,n=!1){if(t.prefix.endsWith("xlink")){var s=r.Engine.XLinkTransformation,o="string"==typeof i&&i.startsWith("data:");e.setAttributeNS("http://www.w3.org/1999/xlink",t.localName,s&&!o?s(i):i)}else g[t.localName]&&i<0&&(i="0"),e.setAttribute(t.localName,i),"animate"!==e.tagName&&"animateTransform"!==e.tagName||("enabled"===t.localName&&c.Animations.applyStoryboardAttributes(e,i),"value"===t.localName&&(c.Animations.applyValueBasedAttributes(e,i),t.ownerElement.children.length>0&&"easing"===t.ownerElement.children[0].localName&&h.Easings.setEasingFunction(e,t.ownerElement,!1),e.beginElement()))}applyText(e,t){let i=document.createTextNode(t);return e.parentNode.insertBefore(i,e),i.parentNode.removeChild(e),i}setup(e,t){const i=new a.SvgLink(e,this);(i.Definition.DealsWithData?t.Internals.DataSVGBindings:t.Internals.SVGBindings).push(i),this.sharedSetup(i,t)}resolve(e,t,i,n){var s=e;try{var r=this._fastLane?this._resolveDirect(this._fastLane,t):this._expression.evaluate(this.IsDataBinding?t.Data:t.Properties);if(r!==n||i){var a=this.OwnerAttribute,l=this.applyAttributeOrText(s,a,r);return{n:l||e,v:r}}return{n:e,v:r}}catch(t){return o.Tracing.logFn(o.TraceLevel.Warning,(()=>"Error evaluating expression and/or setting result...")),{n:e,v:n}}}applyAttributeOrText(e,t,i){if(null!==t)this.applyAttribute(e,t,i);else{if("string"==typeof i&&(i=i.replace(/ /g," ")),!(e instanceof Text))return this.applyText(e,i);e.textContent=i}}bind(e,t,i){try{r.Engine.Options.checkProperties&&!this.IsDataBinding&&(this._fastLane?l.Defaults.resolveOne(this._fastLane,t,i):l.Defaults.resolve(this._expression,t,i));const n=this.resolve(e,t,this.needsInitialValue(i),this.InitialValue);return this.setup(n.n,t),n.v}catch(e){o.Tracing.logFn(o.TraceLevel.Warning,(()=>"Not all bound properties could be resolved..."))}}needsInitialValue(e){return 0==this.HasInitialValue||this.HasInitialValue>e.TreeModifications}}t.HmiDefinition=p},4563:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalDefinition=void 0;const n=i(1575),s=i(3478),o=i(2945),r=i(4667),a=i(4587);class l extends n.Definition{constructor(e,t,i,n){super(),this.InitialValue=this.sharedParse(e,t,i,(e=>l.convert(e,n)))}static _parseBoolean(e){if("string"==typeof e){if("true"===e)return!0;if("false"===e)return!1;var t=Number(e);return!isNaN(t)&&0!==t}return"boolean"==typeof e?e:"number"==typeof e&&(!isNaN(e)&&0!==e)}static convert(e,t){return"number"===t?Number(e):"boolean"===t?this._parseBoolean(e):e}resolve(e){var t=this._fastLane?this._resolveDirect(this._fastLane,e):this._expression.evaluate(e.Properties);return"object"==typeof t&&(t=o.DataPreprocessor.clone(t)),t}setup(e){const t=new s.LocalLink(this,e);(this.DealsWithData?e.Internals.DataLocalBindings:e.Internals.LocalBindings).push(t),this.sharedSetup(t,e)}bind(e,t){return a.Engine.Options.checkProperties&&!this.IsDataBinding&&(this._fastLane?r.Defaults.resolveOne(this._fastLane,e,t):r.Defaults.resolve(this._expression,e,t)),this.setup(e),this.resolve(e)}}t.LocalDefinition=l},7053:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParamDefinition=void 0;const n=i(1575),s=i(4563),o=i(9716),r=i(2945),a=i(4667),l=i(3108),u=i(4587);class d extends n.Definition{constructor(e,t,i,n,o=!1,r){super(),this.Affects=n,this.InitialValue=this.sharedParse(e,t,i,r?e=>s.LocalDefinition.convert(e,r):e=>e),this.IsDataBinding=o}resolve(e,t=!0,i=null){var n=this._fastLane?this._resolveDirect(this._fastLane,e):this._expression.evaluate(e.Properties);return"object"==typeof n&&(i&&(i.Ref=n),t&&(n=r.DataPreprocessor.clone(n))),n}setup(e){const t=new o.CompositionLink(this);return(t.Definition.DealsWithData?e.Internals.DataCompositionBindings:e.Internals.CompositionBindings).push(t),this.sharedSetup(t,e),t}bind(e,t){try{if(this.IsDataBinding){if(t.IsMasterInstance)return void l.Tracing.logFn(l.TraceLevel.Info,(()=>"No data binding on ParamProps for master used for cloning."))}else u.Engine.Options.checkProperties&&(this._fastLane?a.Defaults.resolveOne(this._fastLane,e,t):a.Defaults.resolve(this._expression,e,t));var i=this.setup(e);return{Link:i,Value:this.resolve(e,!0,i)}}catch(e){l.Tracing.logFn(l.TraceLevel.Warning,(()=>"Not all bound properties could be resolved... (composition)"))}}}t.ParamDefinition=d},7912:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Parameter=void 0;const n=i(4563);t.Parameter=class{constructor(e,t,i,s){this.Id=e,this.Default=n.LocalDefinition.convert(i,t),this.TwoWay=s}}},5796:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderingTemplate=void 0;const n=i(393),s=i(5463),o=i(3731),r=i(3269),a=i(9350),l=i(5167),u=i(9022);t.RenderingTemplate=class{constructor(e,t=!1,i=!1){this.TreeModifications=0,this.Info=new n.TemplateInfo,this.URI=e,this.IsMaster=t,this.IDs=new s.Dictionary,this.References=[],this.Conditionals=[],this.Bindings=[],this.DataBindings=[],this.LocalProps=new s.Dictionary,this.ParamProps=new s.Dictionary,this.Actions=new s.Dictionary,this.Events=[],this.NVEs=new s.Dictionary,this.Compositions=new s.Dictionary,this.FlexNodes=[],this.IsComposition=i}get CanConnectFlexNodes(){for(let e=0;e<this.FlexNodes.length;e++)if(this.FlexNodes[e].CanConnect)return!0;return!1}get HasLayoutDimensions(){return!this.IsMaster&&(5===this.Info.PrimaryType||2===this.Info.PrimaryType||0===this.Info.PrimaryType&&this.IsComposition)}GetNVE(e){return this.NVEs[e]}UsesNVE(){return Object.keys(this.NVEs).length>0}GetComposition(e){return this.Compositions[e]}UsesCompositions(){return Object.keys(this.Compositions).length>0}AddNVE(e,t){this.NVEs[e]=t}AddComposition(e,t){this.Compositions[e]=t}AddBinding(e,t,i,n=!1,s,r){n=n||t&&"hmi-data"===t.prefix.substr(0,8);let a=new o.HmiDefinition(e,t,i,n);r&&(a.Depends=r,r.Dependents.push(a)),a.TransformLayoutProperties(s,this),a.Valid&&!a.Static&&(a.CheckDataDependency(this),a.IsDataBinding?this.DataBindings.push(a):this.Bindings.push(a))}AddConditional(e,t,i,n,s){let o=new u.ConditionalDefinition(e,t,i);return o.TransformLayoutProperties(n,this),s&&(o.Depends=s,s.Dependents.push(o)),o.Valid&&!o.Static&&(o.CheckDataDependency(this),this.Conditionals.push(o)),o}ExistsId(e){return!!this.IDs[e]}GetId(e){return this.IDs[e]}AddId(e,t){return!this.ExistsId(e)&&(this.IDs[e]=new r.Id(t,e),!0)}AddReference(e,t,i){if(this.ExistsId(e)){var n=this.GetId(e);return this.References.push(new a.Reference(t,i,n)),n.IsReferenced=!0,!0}return!1}CleanUpReferences(){for(var e in this.IDs){var t=this.IDs[e];t.IsReferenced||t.Id.startsWith("TIFID_")||(t.Owner.removeAttribute("id"),delete this.IDs[e])}}CreateUniqueIDs(){var e=new l.GUID;for(var t in this.IDs){var i=this.IDs[t];if(i.IsReferenced){var n=e.Generate(t);i.Owner.setAttribute("id",n)}}for(var s=0;s<this.References.length;s++){var o,r=this.References[s];o="href"===r.OwnerAttribute.localName?"#"+e.Generate(r.Target.Id):"url(#"+e.Generate(r.Target.Id)+")";var a=r.OwnerAttribute.name.charAt(0)>="a"?r.OwnerAttribute.name:r.OwnerAttribute.name.toLowerCase();r.OwnerElement.setAttribute(a,o)}}}},3269:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Id=void 0;t.Id=class{constructor(e,t){this.Owner=e,this.Id=t,this.IsReferenced=!1}}},9350:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=void 0;t.Reference=class{constructor(e,t,i){this.OwnerElement=e,this.OwnerAttribute=t,this.Target=i}}},8080:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scope=t.DataScope=t.PublicScope=void 0;const n=i(4587),s=i(6873),o=i(3276),r=i(3478),a=i(9716),l=i(2706),u=i(1651),d=i(5463),c=i(685);class h{constructor(e={},t={}){this.HmiProps=e,this.ParamProps=t}}t.PublicScope=h;class g extends h{constructor(e={},t={},i={}){super(e,t),this.SysProps=g.initSystemProps(i),this.Converter=n.Engine.Converters}static initSystemProps(e){return e.HasFocus=!1,e}}class p{constructor(){this.Events=[],this.NVEs=[],this.FlexNodes=[],this.FlexBindings=[],this.DataFlexBindings=[],this.ConditionalBindingsMap=new d.Dictionary,this.ConditionalBindings=[],this.DataConditionalBindings=[],this.LocalBindings=[],this.DataLocalBindings=[],this.CompositionBindings=[],this.DataCompositionBindings=[],this.NVEBindings=[],this.DataNVEBindings=[],this.SVGBindings=[],this.DataSVGBindings=[],this.Links=new d.Dictionary,this.LocalLinks=new d.Dictionary,this.DataLinks=new d.Dictionary,this.TwoWays={},this.Owner=void 0,this.DirtBag=new f,this.DirtDataBag=new f}}class f{constructor(){this.Local=[],this.LocalProcessed=-1,this.Flex=[],this.FlexProcessed=-1,this.FlexNode=[],this.FlexNodeProcessed=-1,this.NVE=[],this.NVEProcessed=-1,this.SVG=[],this.SVGProcessed=-1,this.Conditional=[],this.ConditionalProcessed=-1,this.Composition=[],this.CompositionProcessed=-1}clear(){this.Local=this.LocalProcessed>=0&&this.LocalProcessed<this.Local.length?this.Local.slice(this.LocalProcessed):[],this.Flex=this.FlexProcessed>=0&&this.FlexProcessed<this.Flex.length?this.Flex.slice(this.FlexProcessed):[],this.FlexNode=this.FlexNodeProcessed>=0&&this.FlexNodeProcessed<this.FlexNode.length?this.FlexNode.slice(this.FlexNodeProcessed):[],this.NVE=this.NVEProcessed>=0&&this.NVEProcessed<this.NVE.length?this.NVE.slice(this.NVEProcessed):[],this.SVG=this.SVGProcessed>=0&&this.SVGProcessed<this.SVG.length?this.SVG.slice(this.SVGProcessed):[],this.Conditional=this.ConditionalProcessed>=0&&this.ConditionalProcessed<this.Conditional.length?this.Conditional.slice(this.ConditionalProcessed):[],this.Composition=this.CompositionProcessed>=0&&this.CompositionProcessed<this.Composition.length?this.Composition.slice(this.CompositionProcessed):[],this.LocalProcessed=this.FlexProcessed=this.FlexNodeProcessed=this.NVEProcessed=this.SVGProcessed=this.ConditionalProcessed=this.CompositionProcessed=-1}push(e){e instanceof r.LocalLink?this.Local.push(e):e instanceof u.FlexAttributeLink?this.Flex.push(e):e instanceof l.FlexNodeLink?this.FlexNode.push(e):e instanceof s.FeatureAttrLink?this.NVE.push(e):e instanceof o.SvgLink?this.SVG.push(e):e instanceof c.ConditionalLink?this.Conditional.push(e):e instanceof a.CompositionLink&&this.Composition.push(e)}}class m{constructor(e){this.Content=e,this.Converter=n.Engine.Converters}}t.DataScope=m;t.Scope=class{constructor(e={},t={},i={},n=void 0){this.Properties=new g(e,t,i),void 0!==n&&(this.Data=new m(n)),this.Internals=new p}}},393:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateInfo=void 0;const n=i(8946);t.TemplateInfo=class{constructor(){this.DataType="",this.FocusConfig=new n.FocusConfiguration(0,!1),this.UseLayoutProperties=!1}}},2138:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateParser=void 0;const n=i(3108),s=i(5167),o=i(7945),r=i(7825),a=i(7053),l=i(5974),u=i(1230),d=i(3950),c=i(4563),h=i(967),g=i(3008),p=i(7912),f=i(5654),m=i(4587),y=i(6064),G=i(5679),v=i(7745),Y=i(9637);class S{constructor(e,t){this._engine=e,this._registry=t}executeFlexAttribute(e,t,i,s,o){let r,a=!0;"{"===t.value[0]&&(a=!1);let l=null;if(e[S._expando])l=e[S._expando];else if(null!=e.parentNode&&e.parentNode[S._expando]){let t=e.parentNode[S._expando];o?(l=new y.FlexNodeDefinition(o,t),o.setAttribute("flex",l.Id)):l=new y.FlexNodeDefinition(e,t),e[S._expando]=l,r=l}else if(o&&null!=o.parentNode&&o.parentNode[S._expando]){let t=o.parentNode[S._expando];o?(l=new y.FlexNodeDefinition(o,t),o.setAttribute("flex",l.Id)):l=new y.FlexNodeDefinition(e,t),e[S._expando]=l,r=l}else o?(l=new y.FlexNodeDefinition(o),o.setAttribute("flex",l.Id)):l=new y.FlexNodeDefinition(e),e[S._expando]=l,r=l,i.FlexNodes.push(l);let u=new G.FlexAttributeDefinition(t.localName,t.value,!a);return u.Static&&u.Valid?l.AddAttribute(u.Id,u.Value):u.Valid?(u.TransformLayoutProperties(s,i),l.AddAttributeDefinition(u)):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid flexbox binding.")),e.removeAttributeNode(t),r}attributes(e,t,i,s){var r=!1;let a=i,l=s;for(var u=e.attributes.length-1;u>=0;u--){var d=e.attributes[u];if("hmi"===d.prefix){if("if"===d.localName){let n=t.AddConditional(e,d,d.value,i,s);if(n.Static&&!n.StaticValue)for(r=!0;e.firstChild;)e.removeChild(e.firstChild);else n.Static||(l=n)}else"changes"===d.localName&&"PLAINSVG "===d.value.toUpperCase()&&(r=!0);e.removeAttributeNode(d)}else if("hmi-flex"===d.prefix){let n=this.executeFlexAttribute(e,d,t,i);n&&(a=n)}else if("hmi-bind"===d.prefix||"hmi-bind--xlink"===d.prefix||"hmi-data-bind"===d.prefix)!e.parentNode||e.parentNode.parentNode||"width"!==d.localName&&"height"!==d.localName?t.AddBinding(e,d,d.value,!1,i,s):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Root element does not support bindings for width and height...")),e.removeAttributeNode(d);else if("hmi-event"===d.prefix){var c=0,h=d.value,g=d.value.match(/\(\#([^)]+)\)/);switch(g&&g.length>1&&g[1].length>0&&(h=g[1]),d.localName){case"mouseEnter":c=1;break;case"mouseHover":c=2;break;case"mouseLeave":c=3;break;case"wheel":c=4;break;case"up":c=11;break;case"down":c=10;break;case"tapped":c=12;break;case"pan":c=14;break;case"focusEnter":c=20;break;case"focusLeave":c=21;break;default:c=0}if(t.Actions[h]){var p=new o.EventImpl(c,t.Actions[h],e);t.Events.push(p)}else n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Event refers to unknown action."));e.removeAttributeNode(d)}else if("xlink"!==d.prefix&&d.prefix&&""!==d.prefix||"xmlns"===d.name)"xmlns"===d.prefix||"xmlns"===d.name?"xmlns"!==d.name&&"xlink"!==d.localName&&"hmi"!==d.localName&&"hmi-element"!==d.localName&&"hmi-feature"!==d.localName&&"hmi-bind"!==d.localName&&"hmi-bind--xlink"!==d.localName&&"hmi-event"!==d.localName&&"hmi-data-bind"!==d.localName&&"hmi-flex"!==d.localName&&"hmi-types"!==d.localName&&"hmi-animations"!==d.localName&&(n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Unsupported namespace definition: "+d.name)),e.removeAttributeNode(d)):(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Unsupported attributed: "+d.name)),e.removeAttributeNode(d));else if("id"===d.name)t.AddId(d.value,e)||(n.Tracing.logFn(n.TraceLevel.Warning,(()=>'Invalid ID "'+d.value+'" (Redefinition)')),e.removeAttributeNode(d));else if("style"===d.name)e.removeAttributeNode(d);else{var f=d.value.trim(),m=d.name.charAt(0)>="a"?d.name:d.name.toLowerCase();e.setAttribute(m,f);var y=void 0;"url("===f.substr(0,4)&&")"===f.substr(f.length-1)?(y='"'===(y=f.substr(4,f.length-5))[0]?y.substr(2,y.length-3):y.substr(1),t.AddReference(y,e,d)||(n.Tracing.logFn(n.TraceLevel.Warning,(()=>'Invalid URL delimiter to unknown ID "'+y+'"')),e.removeAttributeNode(d))):"href"===d.localName&&"#"===f.substr(0,1)&&(y=f.substr(1),t.AddReference(y,e,d)||(n.Tracing.logFn(n.TraceLevel.Warning,(()=>'Invalid use reference to unknown ID "'+y+'"')),e.removeAttributeNode(d)))}}return{isstatic:r,layoutnode:a,condition:l}}async createNVEDefinition(e,t,i,s=null,o,r){var a=s?new l.ElementDefinition(s,t):new u.FeatureDefinition(t),c=null;if(s&&r){const e=a;e.Depends=r,r.Dependents.push(e)}for(var h=e.attributes.length-1;h>=0;h--){var g=e.attributes[h];if("hmi-bind"===g.prefix||"hmi-data-bind"===g.prefix){const e="hmi-data-bind"===g.prefix;(c=new d.FeatureAttrDefinition(g.localName,g.value,!0,e)).Valid&&(e||c.CheckDataDependency(i),c.TransformLayoutProperties(o,i),a.Attributes[c.Id]=c)}else if("hmi-event"===g.prefix){var p=0,f=g.value,m=g.value.match(/\(\#([^)]+)\)/);switch(m&&m.length>1&&m[1].length>0&&(f=m[1]),g.localName){case"mouseEnter":p=1;break;case"mouseHover":p=2;break;case"mouseLeave":p=3;break;case"wheel":p=4;break;case"up":p=11;break;case"down":p=10;break;case"tapped":p=12;break;case"pan":p=14;break;default:p=0}i.Actions[f]?a.Events[p]=i.Actions[f]:n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Event refers to unknown action."))}else c=new d.FeatureAttrDefinition(g.localName,g.value,!1),a.Attributes[c.Id]=c}for(var y=0;y<e.childNodes.length;y++){var G=e.childNodes.item(y);if(1===G.nodeType&&"hmi-feature"===G.prefix)a.Children.push(await this.createNVEDefinition(G,G.localName,i,null,o,r));else if(1!==G.nodeType||"hmi"!==G.prefix||"inline"!==G.localName&&"include"!==G.localName){if(1===G.nodeType&&"hmi"===G.prefix&&("master-inline"===G.localName||"master-include"===G.localName)){s=await this.executeComposition(G,i);var v=i.GetComposition(s);if(v){var Y=this._registry.getTemplate(this.extractPrefix(i.URI)+v.Template);Y&&Y.Info?a.Templates[Y.Info.DataType]?n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Recursive registration of same data-type for template. Keeping first template!")):a.Templates[Y.Info.DataType]=s:n.Tracing.logFn(n.TraceLevel.Error,(()=>"Unknown error regarding template mentioned by composition object."))}else n.Tracing.logFn(n.TraceLevel.Error,(()=>"Template-Composition failed."))}}else n.Tracing.logFn(n.TraceLevel.Error,(()=>"<hmi:inline> and <hmi:include> have been removed, use <hmi:master-in... instead!"))}return a}async walk(e,t,i,o){var r=this.attributes(e,t,i,o);if(!(e.childNodes.length<=0||r.isstatic)){i=r.layoutnode,o=r.condition;for(var a=0;a<e.childNodes.length;a++){var l=e.childNodes.item(a);if(1!==l.nodeType&&3!==l.nodeType&&9!==l.nodeType)e.removeChild(l),a--;else if(l instanceof SVGElement)await this.walk(l,t,i,o);else if("hmi-element"===l.prefix)if(this._engine.hasNVE(l.localName)){var u=document.createElement("nve-hint"),d=s.GUID.create();u.textContent=d,e.replaceChild(u,l),t.AddNVE(d,await this.createNVEDefinition(l,l.localName,t,d,i,o))}else n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Unknown NVE... ignoring"));else if("hmi"===l.prefix){var h=!1;if("action"===l.localName)this.executeHmiAction(l,t);else if("self"===l.localName)this.executeHmiSelf(l,t);else if("text"===l.localName){h=!0;var g=l;if(g.getAttributeNode("hmi-bind:value"))t.AddBinding(g,null,g.getAttributeNode("hmi-bind:value").value,!1,i,o);else if(g.getAttributeNode("hmi-data-bind:value"))t.AddBinding(g,null,g.getAttributeNode("hmi-data-bind:value").value,!0,i,o);else if(g.getAttributeNode("value")){var p=document.createTextNode(g.getAttributeNode("value").value);e.insertBefore(p,l)}}else if("localDef"===l.localName){var y=l,G=y.getAttributeNode("name").value;if(t.LocalProps[G])n.Tracing.logFn(n.TraceLevel.Warning,(()=>'Invalid localDef ID "'+G+'" (Redefinition)'));else{var Y=y.getAttributeNode("type").value,S=null;if(y.getAttributeNode("hmi-bind:value"))(S=new c.LocalDefinition(G,y.getAttributeNode("hmi-bind:value").value,!0,Y)).Valid&&(S.CheckDataDependency(t),S.TransformLayoutProperties(i,t),t.LocalProps[G]=S);else if(y.getAttributeNode("hmi-data-bind:value"))(S=new c.LocalDefinition(G,y.getAttributeNode("hmi-data-bind:value").value,!0,Y)).IsDataBinding=!0,S.Valid&&(t.LocalProps[G]=S);else if(y.getAttributeNode("value"))S=new c.LocalDefinition(G,y.getAttributeNode("value").value,!1,Y),t.LocalProps[G]=S;else if(y.children.length>0)if(y.children.length>1)n.Tracing.logFn(n.TraceLevel.Error,(()=>"Arrays not yet supported!"));else{let e=y.children[0];if("hmi-types"!==e.prefix)n.Tracing.logFn(n.TraceLevel.Error,(()=>"Only well-known types supported yet!"));else if("font"===e.localName||"content"===e.localName||"padding"===e.localName){let i=m.Engine.DefaultResolver(e.localName[0].toUpperCase()+e.localName.slice(1)+"Part");for(let t=0;t<e.attributes.length;t++){let s=e.attributes[t];if("hmi-bind"===s.prefix||"hmi-data-bind"===s.prefix);else{let e=s.localName[0].toUpperCase()+s.localName.slice(1).replace(/(\-\w)/g,(function(e){return e[1].toUpperCase()}));if("boolean"==typeof i[e])i[e]=f.Parse.toBoolean(s.value);else if("number"==typeof i[e]){let t=Number(s.value);isNaN(t)&&m.Engine.PropertyMap[e]?t=v.Enums.resolve(m.Engine.PropertyMap[e],s.value):isNaN(t)&&n.Tracing.logFn(n.TraceLevel.Info,(()=>"Value NaN and no enum type known!")),i[e]=t}else i[e]=s.value}}S=new c.LocalDefinition(G,i,!1,Y),t.LocalProps[G]=S}else n.Tracing.logFn(n.TraceLevel.Error,(()=>"Unknown type."))}}}else"inline"===l.localName||"include"===l.localName?(await this.executeComposition(l,t,i,o),h=!0):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Unknown RTelement... ignored"));h||(e.removeChild(l),a--)}else"hmi-animations"===l.prefix&&this.executeHmiAnimations(l,t,!1,i,o)}}}extractPrefix(e){return e?e.substr(0,e.lastIndexOf("/")+1):""}async executeComposition(e,t,i,o){let l="inline"===e.localName||"master-inline"===e.localName,u=void 0!==e.attributes["hmi-bind:forEach"],d=!1,c=!1,h=s.GUID.create(),g=e.localName.startsWith("master");if(l){for(let i=0;i<e.childNodes.length;i++)if("template"===e.childNodes[i].localName){let s=e.childNodes[i],o=document.implementation.createDocumentType("svg","-//SIEMENS//DTD SVG 1.0 TIA-HMI//EN","http://tia.siemens.com/graphics/svg/1.8/dtd/svg18-hmi.dtd"),r=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);r.replaceChild(s.firstElementChild,r.documentElement),await this._registry.loadTemplateDocument(r,this.extractPrefix(t.URI)+h,!1,g,!0)||n.Tracing.logFn(n.TraceLevel.Error,(()=>"Could not load/parse inline template"))}}else{h=e.attributes.template.value;let i=this.extractPrefix(t.URI);this._registry.hasTemplate(i+h)||await this._registry.loadTemplateFromUrl(h,h,i,!1,g,!0)}var p=document.createElement("template-hint"),f=p.textContent=s.GUID.create();e.parentNode.replaceChild(p,e);var m=new r.TemplateDefinition(f,h,l,u);o&&(m.Depends[f]=o,o.Dependents.push(m)),t.AddComposition(f,m);for(var y=null,G=e.attributes.length-1;G>=0;G--){var v=e.attributes[G];if("hmi-flex"===v.prefix)e.localName.startsWith("master")?n.Tracing.logFn(n.TraceLevel.Warning,(()=>"<hmi:master-inline> and <hmi:master-include> do not support flexbox!")):this.executeFlexAttribute(e,v,t,i,p);else if("width"===v.localName||"height"===v.localName||"x"===v.localName||"y"===v.localName){let e="Actual"+v.localName[0].toUpperCase()+v.localName.substr(1);"hmi-bind"===v.prefix?(y=new a.ParamDefinition(e,v.value,!0,1,!1)).Valid&&(y.CheckDataDependency(t),y.TransformLayoutProperties(i,t),m.LayoutProps[e]=y):"hmi-data-bind"===v.prefix?(y=new a.ParamDefinition(e,v.value,!0,1,!0)).Valid&&(y.TransformLayoutProperties(i,t),m.LayoutProps[e]=y):(y=new a.ParamDefinition(e,v.value,!1,1),m.LayoutProps[e]=y)}else if("for"!==v.localName||u){if("forEach"===v.localName&&u){Y=void 0;v.prefix&&v.prefix.startsWith("hmi-bind")?Y=!1:v.prefix&&v.prefix.startsWith("hmi-data-bind")?Y=!0:n.Tracing.logFn(n.TraceLevel.Error,(()=>"Temple composition requires a binding for the primary scope!")),y=new a.ParamDefinition(v.localName,v.value,!0,2,Y),Y||y.CheckDataDependency(t),m.HmiProps=y}else if(("renderStart"===v.localName||"renderCount"===v.localName)&&u){+v.value>=0&&v.value,"hmi-bind"===v.prefix?(y=new a.ParamDefinition(v.localName,v.value,!0,3,!1)).Valid&&(y.CheckDataDependency(t),m.Range[v.localName]=y):"hmi-data-bind"===v.prefix?(y=new a.ParamDefinition(v.localName,v.value,!0,3,!0)).Valid&&(m.Range[v.localName]=y):(y=new a.ParamDefinition(v.localName,v.value,!1,3),m.Range[v.localName]=y),"renderStart"===v.localName?d=!0:c=!0}}else{var Y=void 0;v.prefix&&v.prefix.startsWith("hmi-bind")?Y=!1:v.prefix&&v.prefix.startsWith("hmi-data-bind")?Y=!0:n.Tracing.logFn(n.TraceLevel.Error,(()=>"Temple composition requires a binding for the primary scope!")),y=new a.ParamDefinition(v.localName,v.value,!0,2,Y),Y||y.CheckDataDependency(t),m.HmiProps=y}}!d&&u&&(y=new a.ParamDefinition("renderStart","0",!1,3),m.Range.renderStart=y),!c&&u&&(y=new a.ParamDefinition("renderCount","-1",!1,3),m.Range.renderCount=y);for(var S=0;S<e.children.length;S++)if("param"===e.children[S].localName){var D=e.children[S],F=D.attributes.name,x=D.attributes.value?D.attributes.value:D.attributes["hmi-bind:value"]?D.attributes["hmi-bind:value"]:D.attributes["hmi-data-bind:value"],b=D.attributes.type?D.attributes.type.value:void 0;"hmi-bind"===x.prefix?(y=new a.ParamDefinition(F.value,x.value,!0,0,!1,b)).Valid&&(y.CheckDataDependency(t),y.TransformLayoutProperties(i,t),m.ParamProps[F.value]=y):"hmi-data-bind"===x.prefix?(y=new a.ParamDefinition(F.value,x.value,!0,0,!0,b)).Valid&&(y.TransformLayoutProperties(i,t),m.ParamProps[F.value]=y):(y=new a.ParamDefinition(F.value,x.value,!1,0,!1,b),m.ParamProps[F.value]=y)}return f}executeHmiAnimations(e,t,i,s,o){for(let r=0;r<e.childNodes.length;r++){const a=e.childNodes.item(r);if(1===a.nodeType&&"hmi-animations"===a.prefix){if("storyboard"===a.localName){a.attributes.enabled||a.attributes["hmi-bind:enabled"]||a.attributes["hmi-bind-data:enabled"]?this.executeHmiAnimations(a,t,!0,s,o):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'enabled' missing."));continue}if(!a.attributes.target){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'target' missing."));continue}if(!a.attributes.attribute){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'attribute' missing."));continue}if("double-animation"===a.localName||"color-animation"===a.localName||"translation-animation"===a.localName||"rotate-animation"===a.localName||"scale-animation"===a.localName){if(!a.attributes.from){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'from' missing."));continue}if(!a.attributes.to){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'to' missing."));continue}if(!a.attributes.duration){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'duration' missing."));continue}Y.Animations.createTimeBasedAnimation(t,a,i,s,o)}else if("double-value-animation"===a.localName||"color-value-animation"===a.localName||"translation-value-animation"===a.localName||"rotate-value-animation"===a.localName||"scale-value-animation"===a.localName){if(!a.attributes.speed){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'speed' missing."));continue}if(!a.attributes.maxduration){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'maxduration' missing."));continue}if(!(a.attributes.value||a.attributes["hmi-bind:value"]||a.attributes["hmi-bind-data:value"])){n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory 'value' missing."));continue}Y.Animations.createValueBasedAnimation(t,a,s,o)}}else 3!==a.nodeType&&(8!==a.nodeType&&n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid child node"+(a.nodeName?" "+a.nodeName:""))),e.removeChild(a))}}executeHmiAction(e,t){if(e.attributes.id){var i=e.attributes.id.value,s=e.attributes.condition?e.attributes.condition.value:"true",o=e.attributes.trigger?e.attributes.trigger.value:"",r=!1;e.attributes["hmi-bind:condition"]&&(s=e.attributes["hmi-bind:condition"].value,r=!0);var a=!0;e.attributes["event-propagation"]&&(a="true"===e.attributes["event-propagation"].value);var l=new h.Action(i,o,s,r,a);l.Valid&&(t.Actions[i]=l);for(var u=e.childNodes.length-1;u>=0;u--){var d=e.childNodes.item(u);if(1!==d.nodeType||"hmi"!==d.prefix||"setProperty"!==d.localName&&"sendCommand"!==d.localName&&"sendEvent"!==d.localName&&"setCursor"!==d.localName&&"call"!==d.localName)3!==d.nodeType&&(n.Tracing.logFn(n.TraceLevel.Info,(()=>"Invalid child node.")),e.removeChild(d));else if(d.attributes.name){var c=d.attributes.name.value,p=d.attributes.condition?d.attributes.condition.value:"true",f=!1;d.attributes["hmi-bind:condition"]&&(p=d.attributes["hmi-bind:condition"].value,f=!0);var m=!1,y="";d.attributes.method?y=d.attributes.method.value:(y=d.attributes.value?d.attributes.value.value:"",d.attributes["hmi-bind:value"]&&(y=d.attributes["hmi-bind:value"].value,m=!0));var G="setProperty"===d.localName?1:"sendCommand"===d.localName?2:"sendEvent"===d.localName?3:"setCursor"===d.localName?4:"call"===d.localName?5:0,v=1!==G&&2!==G||!d.attributes.type?null:d.attributes.type.value,Y=new g.ActionElement(G,c,p,f,y,m,v);Y.Valid&&l.Elements.unshift(Y)}else n.Tracing.logFn(n.TraceLevel.Info,(()=>"Mandatory id and/or type missing."))}}else n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Anonymous action cannot be referenced..."))}executeHmiSelf(e,t){if(e.attributes.type){var i=e.attributes.type.value.toLowerCase(),s=i.indexOf(":");s>0?"item"===i.substr(0,s)?(t.Info.PrimaryType=1,t.Info.SecondaryType=i.substr(s+1)):"part"===i.substr(0,s)?(t.Info.PrimaryType=2,t.Info.SecondaryType=i.substr(s+1)):"system"===i.substr(0,s)?(t.Info.PrimaryType=5,t.Info.SecondaryType=i.substr(s+1)):(t.Info.PrimaryType=0,n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid type declaration... fallback to <custom>"))):"widget"===i?t.Info.PrimaryType=3:"symbol"===i?t.Info.PrimaryType=4:"custom"===i?t.Info.PrimaryType=0:(t.Info.PrimaryType=0,n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid type declaration... fallback to <custom>")))}else n.Tracing.logFn(n.TraceLevel.Error,(()=>"Mandatory type missing!"));e.attributes.name?t.Info.ID=e.attributes.name.value:n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory template id missing!")),e.attributes.displayName?t.Info.DisplayName=e.attributes.displayName.value:n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory template display name missing!")),e.attributes.version&&(t.Info.Version=e.attributes.version.value),e.attributes.performanceClass&&(t.Info.PerformanceClass=e.attributes.performanceClass.value.toUpperCase()),e.attributes.optimizations;for(var o=e.childNodes.length-1;o>=0;o--){var r=e.childNodes.item(o);if(1===r.nodeType&&"hmi"===r.prefix&&"paramDef"===r.localName)if(r.attributes.name&&r.attributes.type){var a=r.attributes.name.value;t.ParamProps[a]?n.Tracing.logFn(n.TraceLevel.Warning,(()=>'Invalid paramDef ID "'+a+'" (Redefinition)')):t.ParamProps[a]=new p.Parameter(a,r.attributes.type?r.attributes.type.value:"",r.attributes.default?r.attributes.default.value:null,!!r.attributes["two-way"]&&f.Parse.toBoolean(r.attributes["two-way"].value))}else n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory id and/or type missing on hmi:paramDef"));else 1===r.nodeType&&"hmi"===r.prefix&&"data"===r.localName?r.attributes.type?t.Info.DataType=r.attributes.type.value:n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Mandatory id and/or type missing on hmi:data")):1===r.nodeType&&"hmi"===r.prefix&&"focus"===r.localName?(r.attributes.focusVisual?t.Info.FocusConfig.Visual="local"===r.attributes.focusVisual.value?1:0:t.Info.FocusConfig.Visual=0,r.attributes.canFocus?t.Info.FocusConfig.CanFocus="true"===r.attributes.canFocus.value:t.Info.FocusConfig.CanFocus=!1):3!==r.nodeType&&(8!==r.nodeType&&n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid child node"+(r.nodeName?" "+r.nodeName:""))),e.removeChild(r))}}}t.TemplateParser=S,S._expando="fbox"},5200:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateRegistry=void 0;const n=i(3108),s=i(5463),o=i(5796),r=i(4587),a=i(2138);t.TemplateRegistry=class{constructor(e){this._templateRegistry=new s.Dictionary,this._domParser=new DOMParser,this._templatePreview=new s.Dictionary,this._templateParser=new a.TemplateParser(e,this)}_fileLoader(e){return r.Engine.Options.urlSuffix&&(e+=r.Engine.Options.urlSuffix),new Promise((function(t,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||0===n.status?""===this.responseText?i({message:"Template is empty. uri: "+e}):t(this.responseText):i({message:"Could not load template. uri: "+e}))};try{n.open("GET",e,!0),n.send()}catch(e){}}))}setFileLoader(e){this._fileLoader=e}hasTemplate(e){return!!this._templateRegistry[e]}getTemplate(e){return this._templateRegistry[e]}async loadTemplate(e,t,i=!1,s=!1,o=!1){if(this.hasTemplate(t))return n.Tracing.logFn(n.TraceLevel.Info,(()=>"There is already a template from "+t+" (1)")),!1;try{var r=this._domParser.parseFromString(e,"image/svg+xml");return r.doctype&&"svg"===r.doctype.name&&"-//SIEMENS//DTD SVG 1.0 TIA-HMI//EN"===r.doctype.publicId?n.Tracing.logFn(n.TraceLevel.Info,(()=>"Found valid document type declaration.")):n.Tracing.logFn(n.TraceLevel.Warning,(()=>"Invalid or missing document type declaration.")),await this.loadTemplateDocument(r,t,i,s,o)}catch(e){return!1}}async loadTemplateFromUrl(e,t,i,n=!1,s=!1,o=!1){var r=i?i+e:e;if(this._templatePreview[r])return this._templatePreview[r];var a=this,l=new Promise(((e,t)=>{this._fileLoader(r).then((async function(t){await a.loadTemplate(t,r,n,s,o),e(a.getTemplate(r))}),(function(e){t(e)}))}));return this._templatePreview[r]=l,l}addContainerBindings(e,t,i=!1){var n=function(i,n){var s=i.substr(0,i.indexOf(":")),o=e.lookupNamespaceURI(s);null===o&&(o="http://www.siemens.com/wincc/svg/bind",e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-bind",o)),e.setAttributeNS(o,i,"{{"+n+"}}");var r=e.attributes[i];t.AddBinding(e,r,r.value),e.removeAttributeNode(r)};t.HasLayoutDimensions?(n("hmi-bind:width","Layout.ActualWidth"),n("hmi-bind:height","Layout.ActualHeight"),i&&r.Engine.Options.svglessComposition?n("hmi-bind:transform","'translate(' + Layout.ActualX + ',' + Layout.ActualY + ')'"):(n("hmi-bind:x","Layout.ActualX"),n("hmi-bind:y","Layout.ActualY"))):(n("hmi-bind:width","HmiProps.Width"),n("hmi-bind:height","HmiProps.Height"))}finalizeFlexNodes(e){for(let t=e.FlexNodes.length-1;t>=0;t--)e.FlexNodes[t].transform()&&delete e.FlexNodes[t]}registerTemplate(e,t){var i=this._templateRegistry[e];null==i||null==i?(this._templateRegistry[e]=t,n.Tracing.logFn(n.TraceLevel.Info,(()=>"Registered template with id "+e+" with type="+t.Info.PrimaryType))):n.Tracing.logFn(n.TraceLevel.Info,(()=>"There is already a template with id "+e+" (2)"))}turnSvgIntoGroup(e){if(e.documentElement instanceof SVGSVGElement)try{let t=document.createElementNS("http://www.w3.org/2000/svg","g");for(let i=0;i<e.documentElement.attributes.length;i++){let n=e.documentElement.attributes[i];"xmlns"!==n.prefix&&t.setAttributeNS(n.namespaceURI,n.name,n.value)}for(;e.documentElement.children.length>0;){let i=e.documentElement.children[0];t.appendChild(e.documentElement.removeChild(i))}e.replaceChild(t,e.documentElement)}catch(e){console.log(e)}return e}async loadTemplateDocument(e,t,i=!1,s=!1,a=!1){if(this.hasTemplate(t))return n.Tracing.logFn(n.TraceLevel.Info,(()=>"There is already a template from "+t+" (1)")),!1;try{a&&r.Engine.Options.svglessComposition&&(e=this.turnSvgIntoGroup(e));var l=e.documentElement,u=new o.RenderingTemplate(t,s,a);return u.Tree=l,u.Info.UseLayoutProperties=i,await this._templateParser.walk(l,u),this.finalizeFlexNodes(u),this.addContainerBindings(l,u,a),u.CleanUpReferences(),this.registerTemplate(t,u),r.Engine.Options&&r.Engine.Options.minimalComposition,!0}catch(e){return n.Tracing.logFn(n.TraceLevel.Error,(()=>"Template could not be loaded: "+e)),!1}}}},3108:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Tracing=t.TraceLevel=void 0,function(e){e[e.None=0]="None",e[e.Error=10]="Error",e[e.TestCurrent=12]="TestCurrent",e[e.Performance=15]="Performance",e[e.Warning=20]="Warning",e[e.Test=35]="Test",e[e.Info=40]="Info",e[e.PerformanceLow=50]="PerformanceLow",e[e.All=99]="All"}(i=t.TraceLevel||(t.TraceLevel={}));class n{static logFn(e,t){e<=this.Level&&this.log(e,t())}}t.Tracing=n,n.Level=i.None}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.PublicScope=e.DataPreprocessor=e.Dictionary=e.ObservableArray=e.TraceLevel=e.Tracing=e.Engine=e.Yoga=void 0;const t=i(4587);Object.defineProperty(e,"Engine",{enumerable:!0,get:function(){return t.Engine}});const s=i(3108);Object.defineProperty(e,"Tracing",{enumerable:!0,get:function(){return s.Tracing}}),Object.defineProperty(e,"TraceLevel",{enumerable:!0,get:function(){return s.TraceLevel}});const o=i(1537);Object.defineProperty(e,"ObservableArray",{enumerable:!0,get:function(){return o.ObservableArray}});const r=i(5463);Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return r.Dictionary}});const a=i(2945);Object.defineProperty(e,"DataPreprocessor",{enumerable:!0,get:function(){return a.DataPreprocessor}});const l=i(8080);Object.defineProperty(e,"PublicScope",{enumerable:!0,get:function(){return l.PublicScope}});const u=i(6768);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return u.Parser}});const d=i(9229);e.Yoga=d})(),n})()));