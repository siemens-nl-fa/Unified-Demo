/*! SIMATIC WINCC UA/WebUX 3.1.64 WinCC Unified PC Runtime {%version%}, Copyright (C) Siemens AG 2023. All Rights Reserved. */
var PWC;(()=>{var e={337:function(e,t,i){var r,n;
/*!
 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
 * http://git.io/h4lmVg
 */r=function(){var e,t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e,i){if(t(e)&&(e=e.join("/")),"string"!=typeof e)throw new Error('invalid path "'+e+'"');return(e=(e=e.replace(/^\//,"").replace(/^cldr\//,"")).replace(/{[a-zA-Z]+}/g,(function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),i[e]}))).split("/")},r=function(e,t){var i,r;if(e.some)return e.some(t);for(i=0,r=e.length;i<r;i++)if(t(e[i],i,e))return!0;return!1},n=function(e,t,i,n){var a,o=i[0],s=i[1],l=e.localeSep,u=i[2],h=i.slice(3,4);return n=n||{},"und"!==o&&"Zzzz"!==s&&"ZZ"!==u?[o,s,u].concat(h):void 0!==t.get("supplemental/likelySubtags")?r([[o,s,u],[o,u],[o,s],[o],["und",s]],(function(e){return a=!/\b(Zzzz|ZZ)\b/.test(e.join(l))&&t.get(["supplemental/likelySubtags",e.join(l)])}))?(a=a.split(l),["und"!==o?o:a[0],"Zzzz"!==s?s:a[1],"ZZ"!==u?u:a[2]].concat(h)):n.force?t.get("supplemental/likelySubtags/und").split(l):void 0:void 0},a=function(e,t,i){var a,o=i[0],s=i[1],l=i[2],u=i[3];return r([[[o,"Zzzz","ZZ"],[o]],[[o,"Zzzz",l],[o,l]],[[o,s,"ZZ"],[o,s]]],(function(r){var o=n(e,t,r[0]);return a=r[1],o&&o[0]===i[0]&&o[1]===i[1]&&o[2]===i[2]}))?(u&&a.push(u),a):i},o=function(e){var t,i=[];return(t=(e=e.replace(/_/,"-")).split("-u-"))[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),i[4]=t[1][0]),null===(t=e.split("-t-")[0].match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(i[0]=t[10]||t[2]||"und",i[1]=t[4]||"Zzzz",i[2]=t[6]||"ZZ",t[7]&&t[7].length&&(i[3]=t[7].slice(1)),i)},s=function(e,t){var i,r;if(e.forEach)return e.forEach(t);for(i=0,r=e.length;i<r;i++)t(e[i],i,e)},l=function(e,t,i){var r=e._availableBundleMap,l=e._availableBundleMapQueue;return l.length&&(s(l,(function(i,s){var u,h,d,c;if(c=o(i),void 0===(h=n(e,t,c)))throw l.splice(s,1),new Error("Could not find likelySubtags for "+i);d=(d=a(e,t,h)).join(e.localeSep),(u=r[d])&&u.length<i.length||(r[d]=i)})),e._availableBundleMapQueue=[]),r[i]||null},u=function(e){var t,i=[];if(Object.keys)return Object.keys(e);for(t in e)i.push(t);return i},h=function(e,t){var i,r;return r=e+(t&&JSON?": "+JSON.stringify(t):""),(i=new Error(r)).code=e,s(u(t),(function(e){i[e]=t[e]})),i},d=function(e,t,i){if(!t)throw h(e,i)},c=function(e,t){d("E_MISSING_PARAMETER",void 0!==e,{name:t})},p=function(e,t,i,r){d("E_INVALID_PAR_TYPE",i,{expected:r,name:t,value:e})},m=function(e,i){p(e,i,"string"==typeof e||t(e),"String or Array")},g=function(e){return null!==e&&""+e=="[object Object]"},T=function(e,t){p(e,t,void 0===e||g(e),"Plain Object")},f=function(e,t){p(e,t,"string"==typeof e,"a string")},y=function(e,t){var i,r=e,n=t.length;for(i=0;i<n-1;i++)if(!(r=r[t[i]]))return;return r[t[i]]},D=function(e,t){var i,r=e._availableBundleMapQueue,n=y(t,["main"]);if(n)for(i in n)n.hasOwnProperty(i)&&"root"!==i&&-1===r.indexOf(i)&&r.push(i)},S=function(e){return t(e)?e:[e]},b=(e=function(){var i={},r=[].slice.call(arguments,0);return s(r,(function(r){var n;for(n in r)n in i&&"object"==typeof i[n]&&!t(i[n])?i[n]=e(i[n],r[n]):i[n]=r[n]})),i},e),C=function(e,t,i){var r,n,a;for(c(i[0],"json"),r=0;r<i.length;r++)for(a=S(i[r]),n=0;n<a.length;n++)T(a[n],"json"),t=b(t,a[n]),D(e,a[n]);return t},v=function(e,t,r){var n=i(t,r);return y(e._resolved,n)},P=function(e){this.init(e)};return P._alwaysArray=S,P._coreLoad=C,P._createError=h,P._itemGetResolved=v,P._jsonMerge=b,P._pathNormalize=i,P._resourceGet=y,P._validatePresence=c,P._validateType=p,P._validateTypePath=m,P._validateTypePlainObject=T,P._availableBundleMap={},P._availableBundleMapQueue=[],P._resolved={},P.localeSep="-",P.load=function(){P._resolved=C(P,P._resolved,arguments)},P.prototype.init=function(e){var t,i,r,s,u,h,d,p,m,g=P.localeSep,T="";c(e,"locale"),f(e,"locale"),5===(h=o(e)).length&&(T=g+"u"+g+(p=h.pop()),h[3]||h.pop()),m=h[3],i=(r=n(P,this,h,{force:!0})||h)[0],u=r[1],d=r[2],s=a(P,this,r).join(g),this.attributes=t={bundle:l(P,this,s),minLanguageId:s+T,maxLanguageId:r.join(g)+T,language:i,script:u,territory:d,region:d,variant:m},p&&("-"+p).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,(function(e,i,r){i?t["u"+i]=r:t["u"+e]=!0})),this.locale=e},P.prototype.get=function(e){return c(e,"path"),m(e,"path"),v(P,e,this.attributes)},P.prototype.main=function(e){return c(e,"path"),m(e,"path"),d("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=S(e),this.get(["main/{bundle}"].concat(e))},P},void 0===(n="function"==typeof r?r.call(t,i,t,e):r)||(e.exports=n)},256:(e,t,i)=>{var r,n,a;
/*!
 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
 * http://git.io/h4lmVg
 */n=[i(337)],r=function(e){var t,i=e._pathNormalize,r=e._validatePresence,n=e._validateType;
/*!
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */t=function(){function e(){}var t=e.prototype,i={};function r(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}return t.getListeners=function(e){var t,i,r=this._getEvents();if(e instanceof RegExp)for(i in t={},r)r.hasOwnProperty(i)&&e.test(i)&&(t[i]=r[i]);else t=r[e]||(r[e]=[]);return t},t.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},t.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},t.addListener=function(e,t){var i,n=this.getListenersAsObject(e),a="object"==typeof t;for(i in n)n.hasOwnProperty(i)&&-1===r(n[i],t)&&n[i].push(a?t:{listener:t,once:!1});return this},t.on=n("addListener"),t.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},t.once=n("addOnceListener"),t.defineEvent=function(e){return this.getListeners(e),this},t.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},t.removeListener=function(e,t){var i,n,a=this.getListenersAsObject(e);for(n in a)a.hasOwnProperty(n)&&-1!==(i=r(a[n],t))&&a[n].splice(i,1);return this},t.off=n("removeListener"),t.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},t.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},t.manipulateListeners=function(e,t,i){var r,n,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=i.length;r--;)a.call(this,t,i[r]);else for(r in t)t.hasOwnProperty(r)&&(n=t[r])&&("function"==typeof n?a.call(this,r,n):o.call(this,r,n));return this},t.removeEvent=function(e){var t,i=typeof e,r=this._getEvents();if("string"===i)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},t.removeAllListeners=n("removeEvent"),t.emitEvent=function(e,t){var i,r,n,a=this.getListenersAsObject(e);for(n in a)if(a.hasOwnProperty(n))for(r=a[n].length;r--;)!0===(i=a[n][r]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},t.trigger=n("emitEvent"),t.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},t.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},t._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=originalGlobalValue,e},e}();var a,o,s=function(e,t){n(e,t,void 0===e||"function"==typeof e,"Function")},l=new t;function u(e,t){n(e,t,"string"==typeof e||e instanceof RegExp,"String or RegExp")}function h(e,t){return function(i,n){return r(i,"event"),u(i,"event"),r(n,"listener"),s(n,"listener"),t[e].apply(t,arguments)}}function d(e){return h("off",e)}function c(e){return h("on",e)}function p(e){return h("once",e)}function m(){a=e.prototype.get,e.prototype.get=function(e){var t=a.apply(this,arguments);return e=i(e,this.attributes).join("/"),l.trigger("get",[e,t]),this.ee.trigger("get",[e,t]),t}}return e.off=d(l),e.on=c(l),e.once=p(l),o=e.prototype.init,e.prototype.init=function(){var e;this.ee=e=new t,this.off=d(e),this.on=c(e),this.once=p(e),o.apply(this,arguments)},e._eventInit=m,m(),e},void 0===(a="function"==typeof r?r.apply(t,n):r)||(e.exports=a)},567:(e,t,i)=>{var r,n,a;
/*!
 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
 * http://git.io/h4lmVg
 */n=[i(337)],void 0===(a="function"==typeof(r=function(e){var t=e._alwaysArray,i=function(e){var i,r;return(r=(i=function(i){return function(r){return r=t(r),e.get([i].concat(r))}})("supplemental")).weekData=i("supplemental/weekData"),r.weekData.firstDay=function(){return e.get("supplemental/weekData/firstDay/{territory}")||e.get("supplemental/weekData/firstDay/001")},r.weekData.minDays=function(){var t=e.get("supplemental/weekData/minDays/{territory}")||e.get("supplemental/weekData/minDays/001");return parseInt(t,10)},r.timeData=i("supplemental/timeData"),r.timeData.allowed=function(){return e.get("supplemental/timeData/{territory}/_allowed")||e.get("supplemental/timeData/001/_allowed")},r.timeData.preferred=function(){return e.get("supplemental/timeData/{territory}/_preferred")||e.get("supplemental/timeData/001/_preferred")},r},r=e.prototype.init;return e.prototype.init=function(){r.apply(this,arguments),this.supplemental=i(this)},e})?r.apply(t,n):r)||(e.exports=a)},322:(e,t,i)=>{var r,n,a;
/*!
 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
 * http://git.io/h4lmVg
 */n=[i(337)],void 0===(a="function"==typeof(r=function(e){var t,i=e._coreLoad,r=e._jsonMerge,n=e._pathNormalize,a=e._resourceGet,o=e._validatePresence,s=e._validateTypePath,l=function(e,t){var i,r;if("root"!==t)return i=n(["supplemental/parentLocales/parentLocale",t]),(r=a(e._resolved,i)||a(e._raw,i))?r:(r=t.substr(0,t.lastIndexOf(e.localeSep)))||"root"},u=function(e,t,i){var r,n=e,a=t.length;for(r=0;r<a-1;r++)n[t[r]]||(n[t[r]]={}),n=n[t[r]];n[t[r]]=i},h=(t=function(e,i,o,s,h){var d,c,p;if(void 0!==i&&i!==h)return d=n(o,s),void 0!==(p=a(e._resolved,d))&&"object"!=typeof p||(void 0===(p=a(e._raw,d))&&(c=l(e,i),p=t(e,c,o,r(s,{bundle:c}),i)),void 0!==p&&u(e._resolved,d,p)),p},t);return e._raw={},e.load=function(){e._raw=i(e,e._raw,arguments)},e.prototype.get=function(t){return o(t,"path"),s(t,"path"),h(e,this.attributes&&this.attributes.bundle||"",t,this.attributes)},e._eventInit&&e._eventInit(),e})?r.apply(t,n):r)||(e.exports=a)},155:(e,t,i)=>{
/*!
 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
 * http://git.io/h4lmVg
 */
e.exports=i(337),i(256),i(567),i(322)},874:function(e){var t,i,r=this&&this.__extends||(t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},t(e,i)},function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}),n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,n++)r[n]=a[o];return r};!function(e){!function(e){!function(e){!function(t){var i=function(){function t(){this.eventCbs={onAxisMouseOver:null,onAxisMouseOut:null,onPan:null,onMouseOver:null,onMouseOut:null,onTouchStart:null},this.dialsForPan=!1,this.PADDING_X=8,this.PADDING_Y=4,this.lineWidth=1,this.straightDialPos={staticPosAttr:"",staticPos:0,dynamicPosAttr:"",dynamicPos:0,posChangeOperator:1,dialLength:0,secondaryScalePosFilter:"inner end",orientation:""},this.alwaysShowRecent=!0,this.labelWidth=0,this.labelHeight=0,this.MajorTickSize=5,this.MinimumLabelSpace=10,this.MinorTickSize=3,this.MinorTickCount=0,this.LabelToMajorTickSpace=4,this.LabelToBorderSpace=8,this.zoomInOutCount=0,this.defaultFeaturesUsed=!1,this.straightDials=[],this.templateAttrCollection=[],this.templateAttributes={},this.templateFeatures=[],this.divisionFeatures=[],this.autoMeasureFeatures=[],this.gridlineAttributes={length:0,offset:0,condition:!0},this.auxiliaryTicks=[],this.gridlines=[],this.ticksFeatures=[],this.labelsFeatures=[],this.fontFeatures=[],this.minorGridLines=[]}return t.prototype.updateStraightDialAttributes=function(e){var t;for(t=0;t<this.straightDialCount;t++)this.straightDials[t].Attributes.length=this.straightDialPos.dialLength,this.straightDials[t].Attributes.orientation=this.straightDialPos.orientation,this.straightDials[t].Attributes[this.straightDialPos.dynamicPosAttr]=e+t*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength,this.straightDials[t].Attributes[this.straightDialPos.staticPosAttr]=this.straightDialPos.staticPos},t.prototype.createStraightDial=function(e){var t;for(t=0;t<this.straightDialCount;t++)this.straightDials[t].Attributes.length=this.straightDialPos.dialLength,this.straightDials[t].Attributes[this.straightDialPos.dynamicPosAttr]=e+t*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength,this.straightDials[t].Attributes[this.straightDialPos.staticPosAttr]=this.straightDialPos.staticPos,this.straightDials[t].create(this.trendView.RTPUItem)},t.prototype.updateStraightDialPos=function(t,i,r,n,a){return this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromLeft?(this.straightDialPos.dialLength=t.width=this.innerRect.width,this.straightDialPos.dynamicPos=t.left=this.innerRect.left,i=r.height,this.align===this.trendView.alignmentEnum.Top?(this.straightDialPos.staticPos=this.innerRect.top+this.innerRect.height,t.top=this.innerRect.top,t.height=r.top+i-this.innerRect.top):(this.straightDialPos.staticPos=this.innerRect.top+this.lineWidth,t.top=r.top,t.height=this.innerRect.top+this.innerRect.height-r.top),n=r.top-this.straightDialPos.staticPos):(this.straightDialPos.dialLength=t.height=this.innerRect.height,this.straightDialPos.dynamicPos=t.top=this.innerRect.top,i=r.width,this.align===this.trendView.alignmentEnum.Left?(this.straightDialPos.staticPos=this.innerRect.left+this.innerRect.width,t.left=this.innerRect.left,t.width=r.left+i-this.innerRect.left):(this.straightDialPos.staticPos=this.innerRect.left+this.lineWidth,t.left=r.left,t.width=this.innerRect.left+this.innerRect.width-r.left),n=r.left-this.straightDialPos.staticPos),{gridlineLength:i,offset:n,dynamicPos:this.dialsForPan?this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength:this.straightDialPos.dynamicPos}},t.prototype.getTrends=function(e){var t,i,r,n,a=[];for(t=[],r=(a=e?this.parentTrendWindow.trends:this.parentTrendWindow.drawableTrends).length,n=0;n<r;n++)i=a[n],(this.axisType===this.trendView.axisTypeEnum.xAxis?i.getXAxis():i.getYAxis())===this.config.Name&&t.push(i);return t},t.prototype.applyTemplateProperties=function(){},t.prototype.addFeaturesAndAttributes=function(t,i){var r,n,a;for(r in i)this.templateAttributes[r]=i[r];if(this.templateAttrCollection.push(i),(n=t.length)>0)if(1===n&&t[0]instanceof e.Features.AreaGridlines)this.gridlineFeature=t[0];else for(this.templateFeatures=t,a=n-1;a>=0;a--)if(t[a]instanceof e.Features.AreaGridlines){this.gridlineFeature=t[a];break}},t.prototype.addFeatures=function(t,i,r){var n,a,o,s,l;for(n=t.length,l=i,a=0;a<n;a++)(o=t[a])instanceof e.Features.AreaGridlines||(s=new o.constructor,l.Features.push(s),s.Parent=l,s.Attributes=o.Attributes,o instanceof e.Features.Structure.Division?this.divisionFeatures.push(s):o instanceof e.Features.Structure.AutoMeasure?r||this.autoMeasureFeatures.push(s):o instanceof e.Features.Shape.Ticks?this.ticksFeatures.push(o):o instanceof e.Features.Shape.Labels&&this.labelsFeatures.push(o),o.Features&&o.Features.length>0&&this.addFeatures(o.Features,s))},t.prototype.updateGridlineVisibility=function(){var e;for(e=0;e<this.gridlines.length;e++){var t=this.gridlines[e].dom;t&&(this.gridlineAttributes.condition?t.setAttributeNS(null,"visibility","inherit"):t.setAttributeNS(null,"visibility","hidden"))}},t.prototype.cleanScale=function(e){var t,i;for(this.gridlines=[],this.ticksFeatures=[],this.labelsFeatures=[],this.divisionFeatures=[],this.autoMeasureFeatures=[],this.fontFeatures=[],this.gridlineAttributes={length:this.gridlineAttributes.length,offset:this.gridlineAttributes.offset,condition:this.gridlineAttributes.condition},this.gridlineFeature=null,t=0;t<e;t++)(i=this.straightDials[t].Features[0]).remove(),i.Features=[];this.templateAttributes={},this.templateFeatures=[],this.templateAttrCollection=[]},t.prototype.enableAxesMove=function(){this.axisRect&&this._hammerMan&&(this._hammerMan.on(e.Data.HammerEvents.PAN,this.eventCbs.onPan),e.Features.Shape.SvgShape.AddSvgEvents(this.axisRect,{touchstart:this.eventCbs.onTouchStart,mouseover:this.eventCbs.onAxisMouseOver,mouseout:this.eventCbs.onAxisMouseOut}))},t.prototype.disableAxesMove=function(t,i){this.axisRect&&this._hammerMan&&(this._hammerMan.handlers.hasOwnProperty(e.Data.HammerEvents.PAN)&&this._hammerMan.off(e.Data.HammerEvents.PAN,this.eventCbs.onPan),e.Features.Shape.SvgShape.RemoveSvgEvents(this.axisRect,{touchstart:this.eventCbs.onTouchStart,mouseover:this.eventCbs.onAxisMouseOver,mouseout:this.eventCbs.onAxisMouseOut}),this.config.Type.indexOf("time")>-1?this.dialsForPan&&this.toggleDialsForPan():!1===t&&(0!==this.zoomInOutCount||void 0!==i&&-1!==i.tryAdd(this.config.Name)||this.invalidate(),this.endValueBuffer2&&(this.endValueBuffer=this.endValueBuffer2,this.startValueBuffer=this.startValueBuffer2,this.endValueBuffer2=null,this.startValueBuffer2=null)))},t.prototype.toggleDialsForPanWrapper=function(e){this.toggleDialsForPan=e},t.prototype._onAxisMouseOver=function(e){switch(this.axisType){case this.trendView.axisTypeEnum.xAxis:this.svgParent.style.cursor=this.trendView.isLeftOrRight()?"w-resize":"s-resize";break;case this.trendView.axisTypeEnum.yAxis:this.svgParent.style.cursor=this.trendView.isLeftOrRight()?"s-resize":"w-resize"}},t.prototype._onAxisMouseOut=function(e){this.svgParent.style.cursor="Default"},t.prototype.update=function(){var t,i,r,n,a,o,s,l,u=this.parentTrendWindow.getRect(),h=0,d=this.id+"clippath";if(i={left:0,height:0,top:0,width:0},d=d.replace(/\s+/g,""),this.config.Visible){if((t=this.trendView.SVGParent.getElementById(d)||e.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendView.SVGParent,"clipPath",d)).removeChild(t.lastChild),r=(l=this.updateStraightDialPos(i,r,u,h,s)).gridlineLength,h=l.offset,s=l.dynamicPos,this.isTimeAxis&&this.defaultFeaturesUsed)for(n=Math.floor(this.straightDialPos.dialLength/(1.5*this.bBoxText.width)),o=this.divisionFeatures.length,a=0;a<o;a++)this.divisionFeatures[a].Attributes.count=n;if(this.gridlineFeature&&(this.gridlineAttributes.length=r,this.gridlineAttributes.offset=h,this.minorGridLines.length>0&&this.updateMinorGridLine()),this.handleAuxiliaryTicks(r,h),e.Features.Shape.SvgShape.CreateSvgElement("rect",{x:i.left,y:i.top,width:i.width,height:i.height,appendTo:t}),e.Features.Shape.SvgShape.SetAttributes(this.axisRect,{rect:this.rect}),t=null,this.isTimeAxis)this.calculateAndUpdate(!0);else if(!1===this.calculateAndUpdate(!0))return!1;this.createStraightDial(s),this.config.DisplayName.trim().length>0&&this.drawAxisLabel()}else{if(this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromLeft?(this.straightDialPos.dialLength=i.width=this.innerRect.width,this.straightDialPos.dynamicPos=i.left=this.innerRect.left,this.align===this.trendView.alignmentEnum.Top?this.straightDialPos.staticPos=this.innerRect.top+this.innerRect.height:this.straightDialPos.staticPos=this.innerRect.top+this.lineWidth):(this.straightDialPos.dialLength=i.height=this.innerRect.height,this.straightDialPos.dynamicPos=i.top=this.innerRect.top,this.align===this.trendView.alignmentEnum.Left?this.straightDialPos.staticPos=this.innerRect.left+this.innerRect.width:this.straightDialPos.staticPos=this.innerRect.left+this.lineWidth),s=this.dialsForPan?this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength:this.straightDialPos.dynamicPos,this.isTimeAxis)this.calculateAndUpdate(!0);else if(!1===this.calculateAndUpdate(!0))return!1;this.createStraightDial(s)}return!0},t.prototype.handleAuxiliaryTicks=function(e,t){for(var i=0,r=this.auxiliaryTicks;i<r.length;i++){var n=r[i];n.Attributes.length=e,n.Attributes.offset=t}},t.prototype.pixelRangeToValueRange=function(e){var t=this.getValueFromPosition(0),i=this.getValueFromPosition(e);return Math.abs(i-t)},t.prototype.getPos=function(e){return{x:e.pointers[0].pageX,y:e.pointers[0].pageY}},t.prototype.initHammer=function(){this.Hammer=this.trendView.Hammer,this.Hammer&&(this.unInitHammer(),this._hammerMan=new this.Hammer.Manager(this.axisRect),this._hammerMan.add(new this.Hammer.Pan({event:e.Data.HammerEvents.PAN,pointers:1,direction:this.Hammer.DIRECTION_ALL,threshold:5})))},t.prototype.unInitHammer=function(){this._hammerMan&&(this._hammerMan.destroy(),this._hammerMan=null)},t.prototype.draw=function(){var t,i,r,n,a,o,s=0,l=0,u=0;this.domMethod(),t=this.parentTrendWindow.getRect(),n={left:0,height:0,top:0,width:0};var h=this.updateStraightDialPos(n,undefined,t,s,u),d=h.gridlineLength;if(s=h.offset,u=h.dynamicPos,this.updateStraightDialAttributes(u),this.isTimeAxis&&this.defaultFeaturesUsed)for(l=Math.floor(this.straightDialPos.dialLength/(1.5*this.bBoxText.width)),i=this.divisionFeatures.length,r=0;r<i;r++)this.divisionFeatures[r].Attributes.count=l;if(this.gridlineFeature&&(this.gridlineAttributes.length=d,this.gridlineAttributes.offset=s,this.minorGridLines.length>0&&this.updateMinorGridLine()),this.handleAuxiliaryTicks(d,s),this._clipPathId=this.id+"clippath",this._clipPathId=this._clipPathId.replace(/\s+/g,""),a=e.Features.Shape.SvgShape.CreateSvgElement("defs"),o=e.Features.Shape.SvgShape.CreateSvgElement("clipPath",{id:this._clipPathId,appendTo:a}),e.Features.Shape.SvgShape.CreateSvgElement("rect",{x:n.left,y:n.top,width:n.width,height:n.height,appendTo:o}),this.svgParent.appendChild(a),a=o=null,this._clipPathId="url(#"+this._clipPathId+")",this.dom.setAttributeNS(null,"clip-path",this._clipPathId),this.isTimeAxis)this.calculateAndUpdate(!0,!0);else if(!1===this.calculateAndUpdate(!0,!0))return!1;for(r=0;r<this.straightDialCount;r++)this.translateDom.appendChild(this.straightDials[r].create(this.trendView.RTPUItem));for(this.isTimeAxis&&((this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this),this.setTranslatableFeatures()),i=this.gridlines.length,r=0;r<i;r++){var c=this.gridlines[r];!c.idSet&&c.dom&&(c.dom.setAttributeNS(null,"id",this.gridlinesGroupId+r),c.idSet=!0)}for(this.setMinorGridLinesGroupId(),i=this.ticksFeatures.length,r=0;r<i;r++){var p=this.ticksFeatures[r];!p.idSet&&p.dom&&(p.dom.setAttributeNS(null,"id",this.ticksGroupId+r),p.idSet=!0)}for(i=this.labelsFeatures.length,r=0;r<i;r++){var m=this.labelsFeatures[r];!m.idSet&&m.dom&&(m.dom.setAttributeNS(null,"id",this.labelsGroupId+r),m.idSet=!0)}return this.HammerMethod(),!0},t.prototype.HammerMethod=function(){this.trendView.Hammer&&this.trendView.enabled&&this.initHammer(),this.trendView.isOnline()&&this.alwaysShowRecent||!this.isTimeAxis?this.trendView.moveAxes&&!this.isTimeAxis&&this.enableAxesMove():this.trendView.moveAxes&&this.enableAxesMove(),this.dom.appendChild(this.translateDom),this.dom.appendChild(this.axisRect),this.config.DisplayName.length>0&&this.drawAxisLabel(),this.svgParent.appendChild(this.dom)},t.prototype.domMethod=function(){if(void 0===this.dom?(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.dom.setAttributeNS(null,"id",this.id+"_group")):this.displayNameSvg&&(this.dom.removeChild(this.displayNameSvg),this.displayNameSvg=null),void 0===this.translateDom)this.translateDom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.translateDom.setAttributeNS(null,"id",this.id+"_translateGroup");else for(;this.translateDom.firstChild;)this.translateDom.removeChild(this.translateDom.firstChild);void 0===this.axisRect&&(this.axisRect=e.Features.Shape.SvgShape.CreateSvgElement("rect",{id:this.id+"_eventRect","data-tif-id":this.id,"fill-opacity":0,"stroke-width":0,"stroke-opacity":1,class:"lineColorClass"})),e.Features.Shape.SvgShape.SetAttributes(this.axisRect,{rect:this.rect})},t.prototype.drawInvisibleAxis=function(){var t,i;for(this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromLeft?(this.straightDialPos.dialLength=this.innerRect.width,this.straightDialPos.dynamicPos=this.innerRect.left,this.align===this.trendView.alignmentEnum.Top?this.straightDialPos.staticPos=this.innerRect.top+this.innerRect.height:this.straightDialPos.staticPos=this.innerRect.top+this.lineWidth):(this.straightDialPos.dialLength=this.innerRect.height,this.straightDialPos.dynamicPos=this.innerRect.top,this.align===this.trendView.alignmentEnum.Left?this.straightDialPos.staticPos=this.innerRect.left+this.innerRect.width:this.straightDialPos.staticPos=this.innerRect.left+this.lineWidth),i=this.dialsForPan?this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength:this.straightDialPos.dynamicPos,this.updateStraightDialAttributes(i),this.isTimeAxis&&this.calculateAndUpdate(!0,!0),t=0;t<this.straightDialCount;t++)this.straightDials[t].create(this.trendView.RTPUItem);return!(!this.isTimeAxis&&!1===this.calculateAndUpdate(!0,!0))},t.prototype.updateProperty=function(t,i){var r,n,a,o,s=!0,l=!1,u=e.Data.AxisPropId,h=e.Data.LabelFont,d=e.Data.ScaleMode;switch(t){case u.LabelFontName:case u.LabelFontUnderline:case u.LabelFontItalic:case u.LabelFontStrikeOut:r=h[t],this.config.LabelFont[r]=i,s=!0;break;case u.LabelFontSize:case u.LabelFontWeight:r=h[t],i>this.config.LabelFont[r]&&(l=!0),this.config.LabelFont[r]=i,s=!0;break;case u.ScaleMode:if(this.config.ScaleMode=i,this.trendWindowDrawable&&this.defaultFeaturesUsed){for(n=!!(i&d.Ticks),a=!!(i&d.Labels),o=0;o<this.labelsFeatures.length;o++)this.labelsFeatures[o].Attributes.condition=a,this.config.Visible&&this.labelsFeatures[o].applyVisibility();for(o=0;o<this.ticksFeatures.length;o++)this.ticksFeatures[o].Attributes.condition=n,this.config.Visible&&this.ticksFeatures[o].applyVisibility()}}if(s&&(this.updateRulerLabelFont&&this.updateRulerLabelFont(),this.defaultFeaturesUsed)){var c,p=void 0;for(c=this.fontFeatures.length,p=0;p<c;p++)this.fontFeatures[p].redraw();t!==u.LabelFontSize&&t!==u.LabelFontWeight&&t!==u.LabelFontName||(!1===this.trendView.allAreasDrawn&&!1===l?e.Data.PostPropertyUpdate.CreateDrawableCollection=!0:e.Data.PostPropertyUpdate.Redraw=!0)}},t.prototype.resetGridlineAttributes=function(){var t,i=this.gridlines.length;for(this.setGridlinesVisibility(),this.setMinorGridLinesVisibility(),this.gridlineAttributes={length:this.gridlineAttributes.length,offset:this.gridlineAttributes.offset,condition:this.gridlineAttributes.condition},this.gridlineAttributes=e.Utilities.mergeWithDefaults(this.gridlineAttributes,this.gridlineFeature.Attributes),this.gridlineAttributes.hasOwnProperty("stroke")||(this.gridlineAttributes.stroke=this.parentTrendWindow.coarseGridColor),t=0;t<i;t++)this.gridlines[t].Attributes=this.gridlineAttributes},t.prototype.addOrRemoveEventsForDisplayNameSVG=function(t){this.config.DisplayName.trim().length>0&&(t===this.config.DisplayName||this.addEventOnDisplayName?t===this.config.DisplayName&&this.addEventOnDisplayName&&(e.Features.Shape.SvgShape.RemoveSvgEvents(this.displayNameSvg,{mouseover:this.eventCbs.onMouseOver,mouseout:this.eventCbs.onMouseOut}),this.addEventOnDisplayName=!1):(e.Features.Shape.SvgShape.AddSvgEvents(this.displayNameSvg,{mouseover:this.eventCbs.onMouseOver,mouseout:this.eventCbs.onMouseOut}),this.addEventOnDisplayName=!0))},t.prototype.onMouseOver=function(t){var i;i={x:0,y:0},t.changedTouches?(i.x=t.changedTouches[0].pageX,i.y=t.changedTouches[0].pageY):(i.x=t.pageX,i.y=t.pageY),e.showTooltip({props:{ToolTipText:this.config.DisplayName}},i.x,i.y)},t.prototype.onMouseOut=function(t){e.hideTooltip()},t.prototype.onTouchStart=function(e){e.preventDefault()},t.prototype.createMinorGridLines=function(){var e,t;if(this.isTimeAxis)for(var i=0,r=this.divisionFeatures;i<r.length;i++)t=r[i],e=this.parentTrendWindow.verticalMinorGrid,this.minorGridLineHelper(t,e);else if(e=this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.verticalMinorGrid:this.parentTrendWindow.horizontalMinorGrid,this.config.AutoScaling)for(var n=0,a=this.autoMeasureFeatures;n<a.length;n++)t=a[n],this.minorGridLineHelper(t,e);else for(var o=0,s=this.divisionFeatures;o<s.length;o++)t=s[o],this.minorGridLineHelper(t,e)},t.prototype.minorGridLineHelper=function(t,i){var r,n;r=new e.Features.Shape.Ticks,n=new e.Features.Structure.Division,t.Features.push(n),n.Parent=t,r.Attributes={length:0,offset:0,stroke:e.getRGBAcolor(this.parentTrendWindow.config.MinorGridLinesColor),"stroke-width":1,condition:i,"position-filter":"inner"},r.Parent=n,n.Attributes={count:1},n.Features.push(r),this.minorGridLines.push(r)},t.prototype.updateMinorGridLine=function(){var e,t;this.isTimeAxis||this.config.AutoScaling?(t=Math.floor(this.straightDialPos.dialLength/(1.5*this.bBoxText.width)/2))<3&&(t=3):t=this.config.SubDivisionCount;for(var i=0,r=this.minorGridLines;i<r.length;i++)(e=r[i]).Attributes.offset=this.gridlineAttributes.offset,e.Attributes.length=this.gridlineAttributes.length,e.Parent.Attributes.count=t},t.prototype.updateMinorGridLineVisibility=function(){for(var e,t=0,i=this.minorGridLines;t<i.length;t++)(e=i[t]).dom&&(e.Attributes.condition?e.dom.setAttributeNS(null,"visibility","inherit"):e.dom.setAttributeNS(null,"visibility","hidden"))},t.prototype.redrawScale=function(){var e,t;for(e=0;e<this.straightDialCount;e++)(t=this.straightDials[e].Features[0]).draw(t.webRTPUItem,t.metaData)},t.prototype.setMinorGridLinesGroupId=function(){var e,t=this.minorGridLines.length;for(e=0;e<t;e++)!this.minorGridLines[e].idSet&&this.minorGridLines[e].dom&&(this.minorGridLines[e].dom.setAttributeNS(null,"id",this.minorGrdLinesGroupId+e),this.minorGridLines[e].idSet=!0)},t.prototype.cleanUp=function(){var e;for(e=0;e<this.straightDialCount;e++)this.straightDials[e].remove(),this.straightDials[e]=null;this.eventCbs.onAxisMouseOver=this.eventCbs.onAxisMouseOut=this.eventCbs.onPan=null,this.Hammer&&this.unInitHammer(),this.dom=this.translateDom=this.svgParent=this.axisRect=this.eventCbs=this.config=this.trendView=this.parentTrendWindow=this.matrix=this.rect=this.innerRect=this.straightDial=this.straightDials=this.templateAttributes=this.templateAttrCollection=this.templateFeatures=this.divisionFeatures=this.gridlineFeature=this.gridlines=this.ticksFeatures=this.labelsFeatures=this.fontFeatures=this.displayNameSvg=this.updateRulerLabelFont=this.gridlineAttributes=this.straightDialPos=this.minorGrdLinesGroupId=null,this.minorGridLines.length=0,this.autoMeasureFeatures=null},t}();t.AxisBase=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(t,i){this._trendCount=0,this._axisCount=0,this._animateTimeAxes=!1,this._axisAnimIntervals=[],this._calculateRulerData=!1,this.RULER_DATA_CALCULATION_INTERVAL=1e3,this.TREND_ANIM_INTERVAL=16.67,this._timeAxisAnimators=[],this._animFrameRequestor=e.AnimFrameRequestor,this._trendsToAnimate={},this._axisRangesToAnimate={},this._frameDetails={},this._rulerDataCalculator=i,this._frameDetails.lastTrendOrVACall=this._frameDetails.frameRequestTime=this._frameDetails.lastRulerDataCalc=+Date.now(),this._frameDetails.frameRequested=!1,this._frameDetails.lastTimeAxisCalls=[],this._rtoid=t+"_"+this._frameDetails.frameRequestTime}return t.prototype._trendAnimator=function(e){var t,i,r,n;for(i in this._trendsToAnimate)for(r=(t=this._trendsToAnimate[i]).callBacks.length,n=0;n<r;n++)if((r>3||e-t.startTimes[n]>300||!1===t.callBacks[n]())&&(t.callBacks.splice(n,1),t.recalculateCbs.splice(n,1),t.cleanUps[n](!0),t.cleanUps.splice(n,1),t.startTimes.splice(n,1),n--,0==--r&&(this._trendsToAnimate[i]=null,delete this._trendsToAnimate[i],0==--this._trendCount)))return t=null,!1;return t=null,!0},t.prototype._axisRangeAnimator=function(){var e,t;for(t in this._axisRangesToAnimate)if(!1===(e=this._axisRangesToAnimate[t]).callBack()&&(e.callBack=null,e.cleanUp=null,e.axisDetails=null,e=null,this._axisRangesToAnimate[t]=null,delete this._axisRangesToAnimate[t],0==--this._axisCount))return!1;return e=null,!0},t.prototype._escapeSlowAnimationFrames=function(){var e,t,i,r;for(t in this._trendsToAnimate)for(i=(e=this._trendsToAnimate[t]).callBacks.length,r=0;r<i;r++)r===i-1?e.cleanUps[r](!0):e.cleanUps[r](!1),e.callBacks.splice(r,1),e.recalculateCbs.splice(r,1),e.cleanUps.splice(r,1),e.startTimes.splice(r,1),r--,i--;e=null,this._trendsToAnimate={},this._trendCount=0},t.prototype._trendControlAnimator=function(){var e,t,i=+Date.now();e=!1,this._frameDetails.frameRequested=!1,(t=i-this._frameDetails.frameRequestTime)>500&&this._escapeSlowAnimationFrames(),(t=i-this._frameDetails.lastTrendOrVACall)>this.TREND_ANIM_INTERVAL?(this._trendCount>0&&this._trendAnimator(i)&&(e=!0),this._axisCount>0&&this._axisRangeAnimator()&&(e=!0),e&&(this._frameDetails.lastTrendOrVACall=i-t%this.TREND_ANIM_INTERVAL)):(this._axisCount>0||this._trendCount>0)&&(e=!0),this._animateTimeAxes&&(e=!0,this._timeAxisAnimators.forEach((function(e,r){(t=i-this._frameDetails.lastTimeAxisCalls[r])>this._axisAnimIntervals[r]&&(this._frameDetails.lastTimeAxisCalls[r]=i-t%this._axisAnimIntervals[r],e())}),this)),this._calculateRulerData&&((t=i-this._frameDetails.lastRulerDataCalc)>this.RULER_DATA_CALCULATION_INTERVAL?(this._rulerDataCalculator(),this._frameDetails.lastRulerDataCalc=i-t%this.RULER_DATA_CALCULATION_INTERVAL,this._calculateRulerData=!1):e=!0),e&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=i,this._frameDetails.frameRequested=!0)},t.prototype.addTrendAnimation=function(e,t,i,r){this._trendsToAnimate[e]?(this._trendsToAnimate[e].callBacks.push(t),this._trendsToAnimate[e].recalculateCbs.push(i),this._trendsToAnimate[e].cleanUps.push(r),this._trendsToAnimate[e].startTimes.push(+Date.now())):(this._trendsToAnimate[e]={callBacks:[t],recalculateCbs:[i],cleanUps:[r],startTimes:[+Date.now()]},1==++this._trendCount&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=+Date.now(),this._frameDetails.frameRequested=!0)),t=i=r=null},t.prototype.removeTrendAnimation=function(e){var t,i,r;if(r=this._trendsToAnimate[e]){for(t=r.callBacks.length,i=0;i<t;i++)r.cleanUps[i](!1),r.cleanUps[i]=null,r.callBacks[i]=null,r.recalculateCbs[i]=null,r.startTimes[i]=null;r=null,this._trendsToAnimate[e].callBacks=null,this._trendsToAnimate[e].recalculateCbs=null,this._trendsToAnimate[e].cleanUps=null,this._trendsToAnimate[e].startTimes=null,this._trendsToAnimate[e]=null,delete this._trendsToAnimate[e],--this._trendCount}},t.prototype.addValueAxisAnimation=function(e,t,i,r){var n;(n=this._axisRangesToAnimate[e])?n.axisDetails.newBeginValue===r.newBeginValue&&n.axisDetails.newEndValue===r.newEndValue||(n.cleanUp(),n.cleanUp=null,n.callBack=null,n.axisDetails=null,this._axisRangesToAnimate[e]={callBack:t,cleanUp:i,axisDetails:r}):(this._axisRangesToAnimate[e]={callBack:t,cleanUp:i,axisDetails:r},1==++this._axisCount&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=+Date.now(),this._frameDetails.frameRequested=!0)),t=i=n=null},t.prototype.removeValueAxisAnimation=function(e){var t;(t=this._axisRangesToAnimate[e])&&(t.cleanUp(),t.cleanUp=null,t.callBack=null,t.axisDetails=null,this._axisRangesToAnimate[e]=null,delete this._axisRangesToAnimate[e],--this._axisCount),t=null},t.prototype.startAxisTimer=function(e,t){var i=+Date.now();-1===this._timeAxisAnimators.indexOf(e)&&(this._timeAxisAnimators.push(e),this._frameDetails.lastTimeAxisCalls.push(i),this._axisAnimIntervals.push(t)),this._timeAxisAnimators.length>0&&(this._animateTimeAxes=!0,!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=i,this._frameDetails.frameRequested=!0))},t.prototype.removeAxisTimer=function(e){var t=this._timeAxisAnimators.indexOf(e);t>-1&&(this._timeAxisAnimators.splice(t,1),this._axisAnimIntervals.splice(t,1),this._frameDetails.lastTimeAxisCalls.splice(t,1)),0===this._timeAxisAnimators.length&&(this._animateTimeAxes=!1)},t.prototype.setAxisAnimInterval=function(e,t){var i=this._timeAxisAnimators.indexOf(t);i>-1&&(this._axisAnimIntervals[i]=e)},t.prototype.requestRulerDataCalculation=function(e){(this._calculateRulerData=e)&&!1===this._frameDetails.frameRequested&&(this._animFrameRequestor.requestAF(this._rtoid,this._trendControlAnimator.bind(this)),this._frameDetails.frameRequestTime=+Date.now(),this._frameDetails.frameRequested=!0)},t.prototype.recalculateAnimPaths=function(e){var t,i,r;if(t=this._trendsToAnimate[e])for(i=t.recalculateCbs.length,r=0;r<i;r++)t.recalculateCbs[r]();t=null},t.prototype.cleanAnimDOMClosures=function(){var e,t,i,r;for(r in this._trendsToAnimate){for(e=(i=this._trendsToAnimate[r]).callBacks.length,t=0;t<e;t++)i.cleanUps[t](!1),i.cleanUps[t]=null,i.callBacks[t]=null,i.recalculateCbs[t]=null,i.startTimes[t]=null;i=null,this._trendsToAnimate[r].callBacks=null,this._trendsToAnimate[r].recalculateCbs=null,this._trendsToAnimate[r].cleanUps=null,this._trendsToAnimate[r].startTimes=null,this._trendsToAnimate[r]=null,delete this._trendsToAnimate[r]}this._trendsToAnimate={},this._trendCount=0},t.prototype.cleanUp=function(){this._animFrameRequestor&&(this._animFrameRequestor.removeObj(this._rtoid),this._animFrameRequestor=null),this._trendsToAnimate={},this._axisRangesToAnimate={},this._trendCount=0,this._axisCount=0,this._animateTimeAxes=!1,this._calculateRulerData=!1,this._rulerDataCalculator=null,this._timeAxisAnimators=[]},t}();t.ChartAnimator=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){this.Attributes={},this.Features=new Array,this.defaults={}}return e.prototype.propertyChanged=function(e){},e.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove();if(this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}this.Templates=null,this.Parent=null,this.Attributes=null,this.webRTPUItem=null,this.Features=null,this.defaults=null},e.prototype.getAttribute=function(e){return this.Attributes[e]},e}();e.FeatureBase=t}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(){this._trendMode=e.getChromEnum("HmiTrendMode"),this._scalingType=e.getChromEnum("HmiScalingType"),this._rangeTypeEnum=e.getChromEnum("HmiTimeRangeType"),this.thresholdDefault={BeginValue:0,Color:4278190080,DisplayName:"",ElementID:0,EndValue:0,Name:"",ThresholdMode:0,Type:0,Value:0},this.EXPO_POSITION_LIMIT=1e6,this._TICKS_PER_MILLISECOND=1e4,this._EPOCH_DIFFERENCE=116444736e5,this.templateTrendAttrCollection=[],this.templateTrendAttributes={},this.templateMarkerAttrCollection=[],this.templateMarkerAttributes={},this.thresholds=[],this.lastTime=[],this.clearTagListOnDataReceived=!1,this.linesCollection=[],this.qualityLinesCollection=[],this.qualityMarkerPositionsCollection=[],this.markerPositionsCollection=[],this.pointsToAnimate=[],this.dataSourceX={Tag:"",TagDisplayName:""},this.dataSourceY={Tag:"",TagDisplayName:""},this.dataSource={Tag:"",TagDisplayName:""},this.midMarkerURLsArray=[],this.boundingValue=null}return t.prototype._applyGradientLimits=function(e,t,i){e.setAttributeNS(null,"x1",t.x1),e.setAttributeNS(null,"x2",t.x2),e.setAttributeNS(null,"y1",t.y1),e.setAttributeNS(null,"y2",t.y2),e.childNodes[0].setAttributeNS(null,"stop-color",this.fillColor),e.childNodes[1].setAttributeNS(null,"stop-color",this.alternateFillColor),e.childNodes[1].setAttributeNS(null,"offset",i)},t.prototype._applyBiGradient=function(e,t){this._applyGradientLimits(e,t,"100%"),e.childNodes[2]&&e.childNodes[2].parentNode.removeChild(e.childNodes[2])},t.prototype._applyTriGradient=function(t,i){var r;this._applyGradientLimits(t,i,"50%"),t.childNodes.length>2?t.childNodes[2].setAttributeNS(null,"stop-color",this.fillColor):((r=e.Features.Shape.SvgShape.CreateSvgElement("stop")).setAttributeNS(null,"offset","100%"),r.setAttributeNS(null,"stop-color",this.fillColor),t.appendChild(r))},t.prototype.updateColor=function(t,i,r,n){var a,o,s,l,u,h,d,c,p=this._trendMode;if(h=this.trendView.SVGParent,d=e.Features.Shape.SvgShape.updateDOMAttributes,c=e.Features.Shape.SvgShape.GetElementsByClassName,this.trendStyle===p.Value){if(s={stroke:r},(a=c(h,i+"_polylineClass_"+this.id,void 0))&&d(a,s),a=c(h,i+"_dispValueRect_"+this.id,void 0)){for(this.fill?s.fill=r:s.fill=this.parentTrendWindow.backColor,d(a,s),u=a.length,o=[],l=0;l<u;l++)o.push(a[l].nextSibling);d(o,s={fill:e.Utilities.getContrastColor(s.fill)})}}else this.trendStyle===p.Stepped?(a=c(h,i+"_polylineClass_"+this.id+"_dummy",void 0))&&d(a,{stroke:r}):(a=c(h,i+"_polylineClass_"+this.id,void 0))&&d(a,{stroke:r}),this.pointStyle!==e.getChromEnum("HmiMarkerType").None&&(a=h.getElementById(t)||e.Features.Shape.SvgShape.getElementByIDSafariHack(h,"marker",t))&&this.createPatternImage(a.childNodes[0],r,this.pointStyle),n&&this.fill&&this.svgGroup.trendFillPropertyGroup&&((a=c(this.svgGroup.trendFillPropertyGroup,i+"_fillPolylineClass_"+this.id,void 0))&&d(a,{fill:r}),(a=c(this.svgGroup.trendFillPropertyGroup,i+"_translateFillPolylineClass_"+this.id,void 0))&&d(a,{fill:r}))},t.prototype.createPatternImage=function(t,i,r){var n,a,o,s=document.createElement("canvas");if(s.setAttribute("width","30"),s.setAttribute("height","30"),s.setAttribute("style","position:absolute;"),r===(o=e.getChromEnum("HmiMarkerType")).Graphic)a=this.graphicMarkerSrc;else{switch((n=s.getContext("2d")).lineWidth=1.5,n.fillStyle=n.strokeStyle=i,r){case o.Point:n.beginPath(),n.arc(17,17,9,0,2*Math.PI),n.stroke(),n.fill();break;case o.Square:n.fillRect(0,0,400,400);break;case o.Circle:n.beginPath(),n.arc(15,15,11,0,2*Math.PI),n.stroke(),n.fill()}a=s.toDataURL("image/png").replace(/^base64,/,"")}t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),t=s=a=n=null},t.prototype.getPointElement=function(t,i){var r,n,a;n=(this.viewBoxDim-this.pointWidth)/2,a={height:this.pointWidth,width:this.pointWidth,style:"will-change:auto;",x:n,y:n,appendTo:t},r=e.Features.Shape.SvgShape.CreateSvgElement("image",a),this.createPatternImage(r,i,this.pointStyle),r=a=null},t.prototype.loadMarkerGraphic=function(){var t=this;e.Utilities.loadImage(this.trendView.RTPUItem.Store,this.markerGraphic,(function(i){var r,n,a,o;if(o=t.trendView.SVGParent,t.graphicMarkerSrc=i,t.visibility&&t.pointStyle===e.getChromEnum("HmiMarkerType").Graphic){for(a=t.thresholds.length,n=0;n<a;n++)(r=o.getElementById(t.thresholds[n].markerId))&&t.createPatternImage(r.childNodes[0],void 0,t.pointStyle);t.qualityVisualizationVisible&&((r=o.getElementById(t.uncertainQualityMarkerId))&&t.createPatternImage(r.childNodes[0],void 0,t.pointStyle),(r=o.getElementById(t.badQualityMarkerId))&&t.createPatternImage(r.childNodes[0],void 0,t.pointStyle)),t.parentTrendWindow.trendWindowDrawn&&t.parentTrendWindow.updateMarkerGraphic(t.partId)}t=null}))},t.prototype.getLineStyle=function(){var t=null,i=e.getChromEnum("HmiDashType");switch(this.lineStyle){case i.Dash:t="10,5";break;case i.Dot:t="5,5";break;case i.DashDot:t="5,5,10,5";break;case i.DashDotDot:t="10,5,5,5,5,5"}return t},t.prototype.getMinMaxThresholds=function(){var t,i,r,n=e.getChromEnum("HmiThresholdMode");for(i=this.thresholds.length,t={minimumValue:void 0,maximumValue:void 0,minimumColor:void 0,maximumColor:void 0},r=0;r<i;r++)void 0===t.minimumValue&&this.thresholds[r].thresholdMode===n.Minimum&&(t.minimumValue=this.thresholds[r].endValue,t.minimumColor=this.thresholds[r].color),void 0===t.maximumValue&&this.thresholds[r].thresholdMode===n.Maximum&&(t.maximumValue=this.thresholds[r].beginValue,t.maximumColor=this.thresholds[r].color);return t},t.prototype.createLinearGrad=function(){var t,i,r;return i=(t=e.Features.Shape.SvgShape.CreateSvgElement)("linearGradient"),r=t("stop"),i.setAttributeNS(null,"id","trendGrad_"+this.id),i.setAttributeNS(null,"x1","0%"),i.setAttributeNS(null,"x2","0%"),i.setAttributeNS(null,"y1","0%"),i.setAttributeNS(null,"y2","0%"),r.setAttributeNS(null,"offset","0%"),r.setAttributeNS(null,"stop-color",this.fillColor),i.appendChild(r),(r=t("stop")).setAttributeNS(null,"offset","0%"),r.setAttributeNS(null,"stop-color",this.alternateFillColor),i.appendChild(r),(r=t("stop")).setAttributeNS(null,"offset","100%"),r.setAttributeNS(null,"stop-color",this.fillColor),i.appendChild(r),this.setStopElements(i),i},t.prototype.setStopElements=function(t){var i,r=e.getChromEnum("HmiFillPattern");if(i=t||this.trendView.SVGParent.getElementById("trendGrad_"+this.id))switch(this.backFillPattern){case r.GradientHorizontal:this._applyBiGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"0%"});break;case r.GradientVertical:this._applyBiGradient(i,{x1:"0%",x2:"0%",y1:"0%",y2:"100%"});break;case r.GradientForwardDiagonal:this._applyBiGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"100%"});break;case r.GradientBackwardDiagonal:this._applyBiGradient(i,{x1:"100%",x2:"0%",y1:"0%",y2:"100%"});break;case r.GradientHorizontalTricolor:this._applyTriGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"0%"});break;case r.GradientVerticalTricolor:this._applyTriGradient(i,{x1:"0%",x2:"0%",y1:"0%",y2:"100%"});break;case r.GradientForwardDiagonalTricolor:this._applyTriGradient(i,{x1:"0%",x2:"100%",y1:"0%",y2:"100%"});break;case r.GradientBackwardDiagonalTricolor:this._applyTriGradient(i,{x1:"100%",x2:"0%",y1:"0%",y2:"100%"})}},t.prototype.updateTrendDisplayText=function(){var t,i;""===this.displayName?this.trendView.trendObjectType===e.Data.TrendObjectType.Online&&""!==this.dataSource.Tag?""!==this.cpmPath?this.trendDisplayText=this.cpmPath.split(".hierarchy")[1]+"."+this.dataSource.TagDisplayName.substring(this.dataSource.TagDisplayName.indexOf(".")+1):this.trendDisplayText=this.dataSource.TagDisplayName:this.trendView.trendObjectType!==e.Data.TrendObjectType.Function||""===this.dataSourceX.Tag&&""===this.dataSourceY.Tag?this.trendView.setTrendDisplayNames(this):(t=""!==this.cpmPathX?this.cpmPathX.split(".hierarchy")[1]+"."+this.dataSourceX.TagDisplayName.substring(this.dataSourceX.TagDisplayName.indexOf(".")+1):this.dataSourceX.TagDisplayName,i=""!==this.cpmPathY?this.cpmPathY.split(".hierarchy")[1]+"."+this.dataSourceY.TagDisplayName.substring(this.dataSourceY.TagDisplayName.indexOf(".")+1):this.dataSourceY.TagDisplayName,this.trendDisplayText=t+","+i):this.trendDisplayText=this.displayName},t.prototype.getRoundedTagPosition=function(e){return Math.round(100*e)/100},t.prototype.updateTrendAttrs=function(e){var t;for(t in e)""!==e[t]&&(this.templateTrendAttributes[t]=e[t]);this.templateTrendAttrCollection.push(e)},t.prototype.updateMarkerAttrs=function(e){var t;for(t in e)""!==e[t]&&(this.templateMarkerAttributes[t]=e[t]);this.templateMarkerAttrCollection.push(e)},t.prototype.removeTemplateAttrs=function(){this.templateTrendAttrCollection=[],this.templateTrendAttributes={},this.templateMarkerAttrCollection=[],this.templateMarkerAttributes={},this.tooltipFeature=null},t.prototype.updateTrendAttributes=function(e){var t,i,r;if(r=this.templateTrendAttrCollection.length,this.templateTrendAttributes.hasOwnProperty(e))for(t=0;t<r;t++)(i=this.templateTrendAttrCollection[t]).hasOwnProperty(e)&&(this.templateTrendAttributes[e]=i[e]);this.applyTrendTemplateProperties()},t.prototype.updateMarkerAttributes=function(e){var t,i,r;if(r=this.templateMarkerAttrCollection.length,this.templateMarkerAttributes.hasOwnProperty(e))for(t=0;t<r;t++)(i=this.templateMarkerAttrCollection[t]).hasOwnProperty(e)&&(this.templateMarkerAttributes[e]=i[e]);this.applyMarkerTemplateProperties()},t.prototype.applyTemplateProperties=function(){this.applyTrendTemplateProperties(),this.applyMarkerTemplateProperties()},t.prototype.applyTrendTemplateProperties=function(){var t,i,r;if(t=this.templateTrendAttributes,this.templateTrendAttributes={},r=this.trendStyle,void 0===t.interpolation)i=r;else switch(t.interpolation){case"none":i=e.getChromEnum("HmiTrendMode").Points;break;case"linear":i=e.getChromEnum("HmiTrendMode").Interpolated;break;default:i=e.getChromEnum("HmiTrendMode").Stepped}if(this.trendStyle!==i&&(this.OnUpdate(e.Data.TrendPropId.TrendMode,i),this.config.TrendMode=r),r=this.config.LineWidth,i=void 0===t["stroke-width"]?parseInt(r,10):parseInt(t["stroke-width"],10),this.lineWidth!==i&&(this.OnUpdate(e.Data.TrendPropId.LineWidth,i),this.config.LineWidth=r),r=this.config.LineColor,i=void 0===t.stroke?e.getRGBAcolor(r):t.stroke,this.color!==i&&(this.OnUpdate(e.Data.TrendPropId.LineColor,i),this.config.LineColor=r),r=this.config.BackFillPattern,void 0===t.fill)i=r;else if("transparent"===t.fill)i=e.getChromEnum("HmiFillPattern").Transparent;else i=r;this.backFillPattern!==i&&(this.OnUpdate(e.Data.TrendPropId.BackFillPattern,i),this.config.BackFillPattern=r),this.templateTrendAttributes=t},t.prototype.applyMarkerTemplateProperties=function(){var t,i,r;if(t=this.templateMarkerAttributes,this.templateMarkerAttributes={},r=this.config.MarkerType,void 0===t.type)i=r;else switch(t.type){case"none":i=e.getChromEnum("HmiMarkerType").None;break;case"point":i=e.getChromEnum("HmiMarkerType").Point;break;case"circle":i=e.getChromEnum("HmiMarkerType").Circle;break;case"square":i=e.getChromEnum("HmiMarkerType").Square;break;default:i=r}this.pointStyle!==i&&(this.OnUpdate(e.Data.TrendPropId.MarkerType,i),this.config.MarkerType=r),r=this.config.MarkerDimension,i=void 0===t.dimension?parseInt(r,10):parseInt(t.dimension,10),this.pointWidth!==i&&(this.OnUpdate(e.Data.TrendPropId.MarkerDimension,i),this.config.MarkerDimension=r),r=this.config.MarkerColor,i=void 0===t.color?e.getRGBAcolor(r):t.color,this.pointColor!==i&&(this.OnUpdate(e.Data.TrendPropId.MarkerColor,i),this.config.MarkerColor=r),this.templateMarkerAttributes=t},t.prototype.addTooltipInfo=function(e){this.tooltipFeature=e},t.prototype.RetrieveCachedTrendData=function(){var t=e.Data.TrendDataStore.retrieve(this.partId);t&&(this.tagList=t.tagList,this.linesCollection=t.linesCollection,this.qualityLinesCollection=t.qualityLinesCollection,this.boundingValue=t.boundingValue,this.markerPositionsCollection=t.markerPositionsCollection,this.qualityMarkerPositionsCollection=t.qualityMarkerPositionsCollection,this.retrieveCachedMinMax(t),this.tagList.items.length>0&&this._trendLimitObj.setThresholdFlags())},t.prototype.baseInitialize=function(t,i,r){this.config=t,this.config.ElementID&&(this.partId=this.config.ElementID),this.name="trend"+this.partId,this.displayName=this.config.DisplayName,this.trendDisplayText=this.displayName,r.visible&&0!==r.spacePortion?this.currentTrendWindow=r:this.currentTrendWindow=null,this.pbId="Trend"+ ++r.trendCount,this.trendWindow=r.config.Name,this.trendView=i,this.parentTrendWindow=r,this.id=(this.trendView.getControlName()+"_"+this.trendWindow+"_"+this.pbId).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.color=e.getRGBAcolor(this.config.LineColor),this.lineStyle=this.config.DashType,this.lineWidth=this.config.LineWidth,this.pointStyle=this.config.MarkerType,this.pointWidth=this.config.MarkerDimension,this.pointColor=e.getRGBAcolor(this.config.MarkerColor),this.markerGraphic=this.config.MarkerGraphic,this.graphicMarkerSrc="",this.pointStyle===e.getChromEnum("HmiMarkerType").Graphic&&this.loadMarkerGraphic(),this.fillColor=e.getRGBAcolor(this.config.BackColor),this.alternateFillColor=e.getRGBAcolor(this.config.AlternateBackColor),this.backFillPattern=this.config.BackFillPattern,this.fill=e.getChromEnum("HmiFillPattern").Transparent!==this.backFillPattern,this.fillURL=this.fill?0===this.backFillPattern?this.fillColor:"url(#trendGrad_"+this.id+")":"none",this.visibility=!!t.Visible,this.thresholdParts=this.config.Thresholds?this.config.Thresholds:this.thresholdDefault,this.qualityVisualization=this.config.QualityVisualization,this.qualityVisualizationVisible=this.qualityVisualization.Visible,this.uncertainQualityMarkerId="uncertainQualityMarker_"+this.id,this.uncertainQualityColor=e.getRGBAcolor(this.qualityVisualization.UncertainColor),this.badQualityMarkerId="badQualityMarker_"+this.id,this.badQualityColor=e.getRGBAcolor(this.qualityVisualization.BadColor),this.resetSVGGroup(),this.trendStyle=this.config.TrendMode,this.trendModeObj=null},t.prototype.setMarkers=function(){var t,i,r=this.linesCollection.length,n=e.Features.Shape.SvgShape.SetAttributes;if(this._trendLimitObj.initializeMarkers(),this.pointStyle===e.getChromEnum("HmiMarkerType").None){for(i=0;i<r;i++)this.markerPositionsCollection[i].markerStart=this.markerPositionsCollection[i].markerEnd="none",(t=this.linesCollection[i]).polyline&&n(t.polyline,{"marker-start":"none","marker-mid":"none","marker-end":"none"});for(r=this.qualityLinesCollection.length,i=0;i<r;i++)this.qualityMarkerPositionsCollection[i].markerStart=this.qualityMarkerPositionsCollection[i].markerEnd="none",(t=this.qualityLinesCollection[i]).polyline&&n(t.polyline,{"marker-start":"none","marker-mid":"none","marker-end":"none"})}else{for(this._trendLimitObj.setMarkers(),i=0;i<r;i++)(t=this.linesCollection[i]).polyline&&n(t.polyline,{"marker-start":this.markerPositionsCollection[i].markerStart,"marker-mid":this.midMarkerURLsArray[t.listType],"marker-end":this.markerPositionsCollection[i].markerEnd});for(this._trendLimitObj.createNewQualityCollection(),r=this.qualityLinesCollection.length,i=0;i<r;i++)(t=this.qualityLinesCollection[i]).polyline&&n(t.polyline,{"marker-start":this.qualityMarkerPositionsCollection[i].markerStart,"marker-mid":this.midMarkerURLsArray[t.listType],"marker-end":this.qualityMarkerPositionsCollection[i].markerEnd})}},t.prototype.removePointsBeforeTimeStamp=function(t,i){var r,n,a,o=this.linesCollection.length,s=this.trendView.trendObjectType===e.Data.TrendObjectType.Online;if(s&&this.trendStyle===this._trendMode.Value){for(n=0;n<o;n++)if(t<this.linesCollection[n].timeStamp){this.linesCollection.splice(0,n);break}}else{for(n=0;n<o;n++){if(a=(r=this.linesCollection[n]).removeBeforeTimeStamp(t),0!==r.items.length){a.length>0&&(this.markerPositionsCollection[n].markerStart=this.midMarkerURLsArray[r.listType],s&&i&&(r.setPoints=!0));break}r.polyline&&r.polyline.parentNode&&r.polyline.parentNode.removeChild(r.polyline),r.dummyPolyline&&r.dummyPolyline.parentNode&&r.dummyPolyline.parentNode.removeChild(r.dummyPolyline),r=null,this.linesCollection.splice(n,1),this.markerPositionsCollection.splice(n,1),--n,0===--o&&(this.linesCollection.currentTagList=null,this._trendLimitObj.clearTagList())}for(o=this.qualityLinesCollection.length,n=0;n<o;n++){if(a=(r=this.qualityLinesCollection[n]).removeBeforeTimeStamp(t),0!==r.items.length){a.length>0&&(this.qualityMarkerPositionsCollection[n].markerStart=this.midMarkerURLsArray[r.listType],i&&(r.setPoints=!0));break}r.polyline&&r.polyline.parentNode&&r.polyline.parentNode.removeChild(r.polyline),r.dummyPolyline&&r.dummyPolyline.parentNode&&r.dummyPolyline.parentNode.removeChild(r.dummyPolyline),this.qualityLinesCollection.splice(n,1),this.qualityMarkerPositionsCollection.splice(n,1),r=null,--n,--o}r=null}},t.prototype.OnUpdate=function(t,i){var r,n,a,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S,b,C="trendIndicator_"+this.id,v=this.svgGroup,P=e.Data.TrendPropId,_=this._trendMode;switch(a=(n=this.trendView).SVGParent,l=e.Features.Shape.SvgShape.updateDOMAttributes,!1,t){case P.TrendDescription:0===i&&(i=""),this.displayName=i,this.updateTrendDisplayText();break;case P.DisplayName:0===i&&(i=""),this.config.DisplayName=i,this.displayName=i,this.updateTrendDisplayText();break;case P.Visible:i^this.config.Visible&&(i?(this.config.Visible=!0,this.visibility=!0,this.fill&&this.trendStyle!==_.Value&&this.currentXAxis&&this.currentYAxis&&this.filledSVGCreation()):(this.config.Visible=!1,this.visibility=!1,this.clearTagList(),this.resetSVGGroup(),this.parentTrendWindow.removeSelectedTrend(),n.trendObjectType===e.Data.TrendObjectType.Online?this.currentYAxis&&(h=this.currentYAxis.axisPbId):this.currentYAxis&&this.currentXAxis?h=null:(h={},this.currentYAxis&&(h.yAxis=this.currentYAxis.axisPbId),this.currentXAxis&&(h.xAxis=this.currentXAxis.axisPbId))),n.createDrawableCollections(h),this.config.Visible?this.requestHistoricalData(!0,!0):e.Data.PostPropertyUpdate.SendHistoricalDataRequests?this.trendView.setRequestsForRemaningTags():this.trendView.requestHistoricalData(void 0,void 0,void 0,!0,!0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),(this.trendView.trendCompanionConstUpdate&&(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())||this.trendView.secondaryRulerToolTip)&&this.trendView.calculateRulerData();break;case P.LineColor:if(this.config.LineColor=i,void 0===this.templateTrendAttributes.stroke){if(f="string"==typeof i?i:e.getRGBAcolor(i),this.color=f,this.config.Visible)for((g=a.getElementById(C))&&g.setAttribute("stroke",f),p=this.thresholds.length,c=0;c<p;c++)this.thresholds[c].isNormal&&this.updateColor(void 0,c,f);this.currentTrendWindow}break;case P.DashType:this.lineStyle=i,this.trendStyle===_.Value&&(s=a.getElementById("DisplayValueRectGroup"+this.id)),this.config.Visible&&(T=this.getLineStyle(),v.trendPropertyGroup&&l(v.trendPropertyGroup,{"stroke-dasharray":T}),v.qualityGroup&&l(v.qualityGroup,{"stroke-dasharray":T}),s&&s.setAttribute("stroke-dasharray",T),(g=a.getElementById(C))&&g.setAttribute("stroke-dasharray",T));break;case P.LineWidth:this.config.LineWidth=i,void 0===this.templateTrendAttributes["stroke-width"]&&(this.lineWidth=i,this.config.Visible&&(this.trendStyle===_.Stepped?(v.dummyPolyLineGroup&&(v.dummyPolyLineGroup.setAttribute("stroke-width",this.lineWidth),v.polyLineGroup.setAttribute("stroke-width",0)),v.qualityDummyPolyLineGroup&&(v.qualityDummyPolyLineGroup.setAttribute("stroke-width",this.lineWidth+.8),v.qualityPolyLineGroup.setAttribute("stroke-width",0))):this.trendStyle!==_.Interpolated&&this.trendStyle!==_.Value||(v.polyLineGroup&&v.polyLineGroup.setAttribute("stroke-width",this.lineWidth),v.qualityPolyLineGroup&&v.qualityPolyLineGroup.setAttribute("stroke-width",this.lineWidth+.8)),n.trendObjectType===e.Data.TrendObjectType.Function&&void 0!==this.timeAxis&&""!==this.timeAxis&&n.setTrendIndicatorPoints(this.timeAxis,this.trendWindow),(g=a.getElementById(C))&&g.setAttribute("stroke-width",this.lineWidth),v.animationPathGroup&&v.animationPathGroup.setAttribute("stroke-width",this.lineWidth)));break;case P.MarkerGraphic:if(this.config.MarkerGraphic=i,this.markerGraphic=i,this.graphicMarkerSrc="",this.pointStyle===e.getChromEnum("HmiMarkerType").Graphic){for(p=this.thresholds.length,c=0;c<p;c++)(u=a.getElementById(this.thresholds[c].markerId))&&this.createPatternImage(u.childNodes[0],void 0,this.pointStyle);this.qualityVisualizationVisible&&((u=a.getElementById(this.uncertainQualityMarkerId))&&this.createPatternImage(u.childNodes[0],void 0,this.pointStyle),(u=a.getElementById(this.badQualityMarkerId))&&this.createPatternImage(u.childNodes[0],void 0,this.pointStyle)),this.loadMarkerGraphic()}break;case P.MarkerType:if(this.config.MarkerType=i,void 0===this.templateMarkerAttributes.type){for(D=this.pointStyle,this.pointStyle=i,this.pointStyle===e.getChromEnum("HmiMarkerType").Graphic&&""===this.graphicMarkerSrc&&this.loadMarkerGraphic(),p=this.thresholds.length,c=0;c<p;c++)(u=a.getElementById(this.thresholds[c].markerId))&&(u.firstChild&&u.removeChild(u.childNodes[0]),this.thresholds[c].isNormal?this.getPointElement(u,this.pointColor):this.getPointElement(u,this.thresholds[c].color));this.qualityVisualizationVisible&&((u=a.getElementById(this.uncertainQualityMarkerId))&&(u.firstChild&&u.removeChild(u.childNodes[0]),this.getPointElement(u,this.uncertainQualityColor)),(u=a.getElementById(this.badQualityMarkerId))&&(u.firstChild&&u.removeChild(u.childNodes[0]),this.getPointElement(u,this.badQualityColor))),D===e.getChromEnum("HmiMarkerType").None!=(this.pointStyle===e.getChromEnum("HmiMarkerType").None)&&this.trendStyle<this._trendMode.Value&&this.setMarkers(),this.currentTrendWindow}break;case P.MarkerDimension:if(this.config.MarkerDimension=parseInt(i,10),void 0===this.templateMarkerAttributes.dimension&&(this.pointWidth=this.config.MarkerDimension,this.viewBoxDim=this.pointWidth+1,y={viewBox:"0 0 "+this.viewBoxDim+" "+this.viewBoxDim,refX:this.viewBoxDim/2,refY:this.viewBoxDim/2,markerWidth:this.viewBoxDim,markerHeight:this.viewBoxDim},this.config.Visible)){for(p=this.thresholds.length,c=0;c<p;c++)(u=a.getElementById(this.thresholds[c].markerId))&&(l(u,y),u.firstChild&&(u.removeChild(u.childNodes[0]),this.thresholds[c].isNormal?this.getPointElement(u,this.pointColor):this.getPointElement(u,this.thresholds[c].color)));this.qualityVisualizationVisible&&((u=a.getElementById(this.uncertainQualityMarkerId))&&(l(u,y),u.firstChild&&(u.removeChild(u.childNodes[0]),this.getPointElement(u,this.uncertainQualityColor))),(u=a.getElementById(this.badQualityMarkerId))&&(l(u,y),u.firstChild&&(u.removeChild(u.childNodes[0]),this.getPointElement(u,this.badQualityColor))))}break;case P.MarkerColor:this.config.MarkerColor=i,void 0===this.templateMarkerAttributes.color&&(f="string"==typeof i?i:e.getRGBAcolor(i),this.pointColor=f,this.config.Visible&&this.pointStyle!==e.getChromEnum("HmiMarkerType").None&&(u=a.getElementById("thresholdMarker_"+e.getChromEnum("HmiThresholdMode").Normal+"_"+this.id))&&this.createPatternImage(u.childNodes[0],this.pointColor,this.pointStyle),this.currentTrendWindow);break;case P.BackFillPattern:if(this.config.BackFillPattern=i,void 0===this.templateTrendAttributes.fill){if(b=this.backFillPattern,n.trendObjectType===e.Data.TrendObjectType.Function)return;if(D=this.fill,this.backFillPattern=i,this.fill=e.getChromEnum("HmiFillPattern").Transparent!==this.backFillPattern,this.fillURL=this.fill?0===this.backFillPattern?this.fillColor:"url(#trendGrad_"+this.id+")":"none",this.config.Visible){if(this.trendStyle===_.Value){if(this.qualityVisualizationVisible&&(this.updateColor(void 0,this.thresholds.length+1,this.badQualityColor),this.updateColor(void 0,this.thresholds.length,this.uncertainQualityColor)),!(S=b>e.getChromEnum("HmiFillPattern").Transparent&&this.backFillPattern>e.getChromEnum("HmiFillPattern").Transparent)){for(d=[],m=this.thresholds.length,r=0;r<m;r++)if(this.thresholds[r].isNormal&&(g=e.Features.Shape.SvgShape.GetElementsByClassName(a,r+"_dispValueRect_"+this.id,void 0)))for(l(g,{fill:f=this.fill?this.fillURL:this.parentTrendWindow.backColor}),p=g.length,c=0;c<p;c++)d.push(g[c].nextSibling);d.length&&l(d,{fill:e.Utilities.getContrastColor(this.fill?this.fillColor:f)})}}else(S=b>e.getChromEnum("HmiFillPattern").Transparent&&this.backFillPattern>e.getChromEnum("HmiFillPattern").Transparent)||(this.fill?D?(o=a.getElementById("0_fillPolyline_"+this.id))&&o.setAttribute("fill",this.fillURL):this.filledSVGCreation():v.trendFillPropertyGroup&&(v.trendFillPropertyGroup.parentNode.removeChild(v.trendFillPropertyGroup),v.trendFillPropertyGroup=null,v.fillTranslateGroup=null));(S||this.fill&&this.backFillPattern>e.getChromEnum("HmiFillPattern").Transparent)&&this.setStopElements()}this.currentTrendWindow}break;case P.BackColor:if(D=this.fillColor,f=e.getRGBAcolor(i),this.fillColor=f,this.fill)if(this.backFillPattern===e.getChromEnum("HmiFillPattern").Solid){for(this.fillURL=this.fillColor,d=[],m=this.thresholds.length,r=0;r<m;r++)if(this.thresholds[r].isNormal)if(this.trendStyle===_.Value){if(g=e.Features.Shape.SvgShape.GetElementsByClassName(a,r+"_dispValueRect_"+this.id,void 0))for(l(g,{fill:this.fillURL}),p=g.length,c=0;c<p;c++)d.push(g[c].nextSibling)}else v.trendFillPropertyGroup&&(g=e.Features.Shape.SvgShape.GetElementsByClassName(v.trendFillPropertyGroup,r+"_fillPolylineClass_"+this.id,void 0))&&l(g,{fill:this.fillURL});d.length&&l(d,{fill:e.Utilities.getContrastColor(this.fillColor)}),(g=a.getElementById("filltrendIndicator_"+this.id))&&g.setAttribute("fill",this.fillURL)}else if(this.setStopElements(),this.trendStyle===_.Value&&e.Utilities.getContrastColor(D)!==(f=e.Utilities.getContrastColor(this.fillColor))){for(d=[],m=this.thresholds.length,r=0;r<m;r++)if(this.thresholds[r].isNormal&&(g=e.Features.Shape.SvgShape.GetElementsByClassName(a,r+"_dispValueRect_"+this.id,void 0)))for(p=g.length,c=0;c<p;c++)d.push(g[c].nextSibling);d.length&&l(d,{fill:f})}this.currentTrendWindow;break;case P.AlternateBackColor:f=e.getRGBAcolor(i),this.alternateFillColor=f,this.backFillPattern>e.getChromEnum("HmiFillPattern").Transparent&&this.setStopElements();break;case P.QualityVisualizationVisible:this.qualityVisualizationVisible=i,this.trendStyle===_.Value||i?(this._trendLimitObj.createNewLinesCollection(),n.getDrawableTrendByName(this.name)&&this.drawTrend(!n.isOnline())):(v.qualityGroup&&v.qualityGroup.parentNode.removeChild(v.qualityGroup),v.qualityGroup=null);break;case P.UncertainQualityColor:f=e.getRGBAcolor(i),this.uncertainQualityColor=f,this.config.Visible&&this.updateColor(this.uncertainQualityMarkerId,this.thresholds.length,this.uncertainQualityColor);break;case P.BadQualityColor:f=e.getRGBAcolor(i),this.badQualityColor=f,this.config.Visible&&this.updateColor(this.badQualityMarkerId,this.thresholds.length+1,this.badQualityColor);break;case P.ThresholdBeginValue:case P.ThresholdEndValue:case P.ThresholdName:case P.ThresholdDisplayName:case P.ThresholdColor:case P.ThresholdMode:case P.ThresholdValue:break;default:this.updateProperty(t,i)}a=null,g=null,C=null,o=null,v=null},t.prototype.resetSVGGroup=function(){this.svgGroup={trendPropertyGroup:null,animationPathGroup:null,trendFillPropertyGroup:null,polyLineGroup:null,qualityGroup:null,translateGroup:null,dummyPolyLineGroup:null,dummyTranslateGroup:null,qualityPolyLineGroup:null,qualityTranslateGroup:null,qualityDummyPolyLineGroup:null,qualityDummyTranslateGroup:null,fillTranslateGroup:null,trendSvgContainer:null,trendPlaceHolder:null},this.tooltipFeature&&(this.tooltipFeature.dom=null)},t.prototype.clearPolylines=function(e){var t,i,r=e.length;for(i=0;i<r;i++)(t=e[i]).polyline&&(t.polyline.parentNode&&t.polyline.parentNode.removeChild(t.polyline),t.polyline=null),t.dummyPolyline&&(t.dummyPolyline.parentNode&&t.dummyPolyline.parentNode.removeChild(t.dummyPolyline),t.dummyPolyline=null),t.items=[],t=null},t.prototype.cleanUpChildObj=function(){this.svgGroup=this.templateTrendAttributes=this.templateMarkerAttributes=this.config=this.trendView=this.parentTrendWindow=this.currentTrendWindow=this.currentXAxis=this.currentYAxis=this.rulerControlData=this._trendLimitObj=this.thresholdParts=this.qualityVisualization=this.trendModeObj=this.thresholds=this.linesCollection=this.markerPositionsCollection=this.qualityLinesCollection=this.qualityMarkerPositionsCollection=this.pointsToAnimate=this.tagList=this.templateMarkerAttrCollection=this.templateTrendAttrCollection=this.tooltipFeature=null},t}();t.TrendBase=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.store=function(t,i){e._storage[t]=i},e.retrieve=function(t){var i=e._storage[t];return e.clear(t),i},e.clear=function(t){e._storage[t]&&(e._storage[t]=null)},e._storage={},e}();e.TrendDataStore=t;var i=function(e,t,i,r,n){this.linesCollection=[],this.qualityLinesCollection=[],this.boundingValue=null,this.markerPositionsCollection=[],this.qualityMarkerPositionsCollection=[],this.tagList=e,this.linesCollection=t,this.qualityLinesCollection=i,this.markerPositionsCollection=r,this.qualityMarkerPositionsCollection=n};e.TrendData=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t._rangeType=e.getChromEnum("HmiTimeRangeType"),t.dataSourceX={Tag:"",TagDisplayName:""},t.dataSourceY={Tag:"",TagDisplayName:""},t.yminValTemp=null,t.ymaxValTemp=null,t.xminValTemp=null,t.xmaxValTemp=null,t.numberOfPoints=0,t.numberOfDummyPoints=0,t.numberOfQualityPoints=0,t.numberOfQualityDummyPoints=0,t.translateX=0,t.translateY=0,t.qualityTranslate=0,t.xminVal=null,t.xmaxVal=0,t.yminVal=null,t.ymaxVal=0,t.linesCollection=[],t.markerPositionsCollection=[],t.qualityLinesCollection=[],t.qualityMarkerPositionsCollection=[],t.pointsToAnimate=[],t.lastTime=[],t.clearTagListBeforeTimeStamp=!1,t.clearTagListOnDataReceived=!1,t.thresholdFills=[],t.historicalDataRequested=!1,t.previousYTagValueTemp=null,t.previousXTagValueTemp=null,t.previousYTagQualityTemp=null,t.previousXTagQualityTemp=null,t.isStartTimeModified=!1,t.clearWarningFlashing=function(){this._trendLimitObj.clearWarningFlashing()},t.clearDangerFlashing=function(){this._trendLimitObj.clearDangerFlashing()},t.cleanUp=function(){if(this.trendView.isStyleChange()){var t=new e.Data.TrendData(this.tagList,this.linesCollection,this.qualityLinesCollection,this.markerPositionsCollection,this.qualityMarkerPositionsCollection);t.xMinVal=this.xminVal,t.xMaxVal=this.xmaxVal,t.yMinVal=this.yminVal,t.yMaxVal=this.ymaxVal,t.boundingValue=this.boundingValue,e.Data.TrendDataStore.store(this.partId,t)}else this.clearTagList();this.oldTagList=null,this.dom=this.metaData=this.Attributes=this._lastTrendPointCalculated=this.thresholdFills=this.midMarkerURLsArray=this.boundingValue=this.currentTagList=this.dataSourceXProp=this.dataSourceYProp=this.dataSourceX=this.dataSourceY=this.matrix=this.fillMatrix=this.qualityMatrix=this._currentXAxis=this._currentXAxis=this._lastPointAddedToPoints=null,this.cleanUpChildObj()},t}return r(n,i),n.prototype.removeUnusedTimeValues=function(){var e,t,i,r,n,a=this.tagList,o=a.items,s=[],l=!1,u=!1,h=o.length;if(this.rangeType===this._rangeTypeEnum.PointCount){if((e=h-this.pointCount)>=0){for(i=0;i<e&&(l||this.xminVal!==o[i].xTagValue&&this.xmaxVal!==o[i].xTagValue||(l=!0,!u))&&(u||this.ymaxVal!==o[i].yTagValue&&this.yminVal!==o[i].yTagValue||(u=!0,!l));i++);r=a.items[h-this.pointCount].timeStamp,a.removeItems(h-this.pointCount),t=!0}}else if(0!==o.length){if(r=(new Date).getTime()-this.axisTimeRange,(n=(s=this.tagList.removeBeforeTimeStamp(r)).length)>0){if(this.tagList.items.length<1){var d=s[n-1];r=d.timeStamp,this.tagList.addToBeginning(d),n--}for(i=0;i<n;i++)t=!0,l||this.xminVal!==s[i].xTagValue&&this.xmaxVal!==s[i].xTagValue||(l=!0),u||this.ymaxVal!==s[i].yTagValue&&this.yminVal!==s[i].yTagValue||(u=!0)}s=[]}if(r&&t&&this.removePointsBeforeTimeStamp(r),(l||u)&&o.length>0)for(this.ymaxVal=this.yminVal=o[0].yTagValue,this.xmaxVal=this.xminVal=o[0].xTagValue,i=1;i<o.length;i++)this.yminVal>o[i].yTagValue&&(this.yminVal=o[i].yTagValue),this.ymaxVal<o[i].yTagValue&&(this.ymaxVal=o[i].yTagValue),this.xminVal>o[i].xTagValue&&(this.xminVal=o[i].xTagValue),this.xmaxVal<o[i].xTagValue&&(this.xmaxVal=o[i].xTagValue);return t},n.prototype.getXtagYtagPosition=function(e){null!==e.yTagValue&&(this.trendView.isLeftOrRight()?e.xTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(e.xTagValue)):e.yTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(e.xTagValue))),null!==e.xTagValue&&(this.trendView.isLeftOrRight()?e.yTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(e.yTagValue)):e.xTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(e.yTagValue)))},n.prototype._recalculateTagList=function(e){var t,i,r,n;for(t=e.items,this._clearNewPointsFromItems(t),r=t.length,i=0;i<r;++i)n=t[i],this.getXtagYtagPosition(n);this._recalculateNewTagList(t)},n.prototype._clearNewPointsFromItems=function(e){var t,i=e.length;for(t=0;t<i;++t)e[t].isNewConnectingPoint&&(e.splice(t,1),t--,i--)},n.prototype._recalculateNewTagList=function(e){var t,i,r,a=e.length,o=!1,s=!1,l=!1;for(t=0;t<a;++t)(i=e[t]).yTagPosition<-n.POLYLINE_LENGTH_LIMIT?(r=-n.POLYLINE_LENGTH_LIMIT,o=e[t+1]&&e[t+1].yTagPosition>r,s=e[t-1]&&e[t-1].yTagPosition>r,l=!0):i.yTagPosition>n.POLYLINE_LENGTH_LIMIT&&(r=n.POLYLINE_LENGTH_LIMIT,o=e[t+1]&&e[t+1].yTagPosition<r,s=e[t-1]&&e[t-1].yTagPosition<r,l=!0),l&&(t=this._calculateNewPoints(t,e,r,o,s,!1),a=e.length,l=!1);for(t=0;t<a;++t)(i=e[t]).xTagPosition<-n.POLYLINE_LENGTH_LIMIT?(r=-n.POLYLINE_LENGTH_LIMIT,o=e[t+1]&&e[t+1].xTagPosition>r,s=e[t-1]&&e[t-1].xTagPosition>r,l=!0):i.xTagPosition>n.POLYLINE_LENGTH_LIMIT&&(r=n.POLYLINE_LENGTH_LIMIT,o=e[t+1]&&e[t+1].xTagPosition<r,s=e[t-1]&&e[t-1].xTagPosition<r,l=!0),l&&(t=this._calculateNewPoints(t,e,r,o,s,!0),a=e.length,l=!1);i=null},n.prototype._resetMinMaxValues=function(){var e,t,i=this.tagList.items.length;for(this.yminVal=null,this.xmaxVal=null,this.xminVal=null,this.ymaxVal=null,t=0;t<i;t++)e=this.tagList.items[t],this.setXYminMaxValue(e)},n.prototype.setXYminMaxValue=function(e){(e.yTagValue<this.yminVal||null===this.yminVal)&&(this.yminVal=e.yTagValue),(e.yTagValue>this.ymaxVal||null===this.ymaxVal)&&(this.ymaxVal=e.yTagValue),(e.xTagValue<this.xminVal||null===this.xminVal)&&(this.xminVal=e.xTagValue),(e.xTagValue>this.xmaxVal||null===this.xmaxVal)&&(this.xmaxVal=e.xTagValue)},n.prototype._calculateNewPoints=function(e,t,i,r,n,a){var o=null,s=null,l=t.length,u=t[e];return l>1&&(0===e?r&&(s=this._getNewPointForXYTag(u,t[e+1],i,a)):e>0&&e+1<l?(n&&(o=this._getNewPointForXYTag(u,t[e-1],i,a)),r&&(s=this._getNewPointForXYTag(u,t[e+1],i,a))):n&&(o=this._getNewPointForXYTag(u,t[e-1],i,a)),null!==o&&null!==s?(t[e].xTagPosition=o.xTagPosition,t[e].yTagPosition=o.yTagPosition,t.splice(e+1,0,s),s.isNewConnectingPoint=!0,l++,e++):null!==o?(t[e].xTagPosition=o.xTagPosition,t[e].yTagPosition=o.yTagPosition):null!==s&&(t[e].xTagPosition=s.xTagPosition,t[e].yTagPosition=s.yTagPosition)),o=null,s=null,u=null,e},n.prototype._getNewPointForXYTag=function(e,i,r,n){var a,o,s,l,u,h,d,c=new t.Point,p=!1;return e.xTagPosition>i.xTagPosition?(o=e.xTagPosition,s=i.xTagPosition,e.yTagPosition>i.yTagPosition?(l=e.yTagPosition,u=i.yTagPosition,p=!0):(u=e.yTagPosition,l=i.yTagPosition,p=!1)):(s=e.xTagPosition,o=i.xTagPosition,e.yTagPosition>i.yTagPosition?(l=e.yTagPosition,u=i.yTagPosition,p=!1):(u=e.yTagPosition,l=i.yTagPosition,p=!0)),n?(a=r,d=u+(h=p?a-s:o-a)*(l-u)/(o-s)):(h=((d=r)-u)*(o-s)/(l-u),a=p?s+h:o-h),c.yTagValue=e.yTagValue,c.xTagValue=e.xTagValue,c.xTagPosition=a,c.yTagPosition=d,c.qualityCode=e.qualityCode,c.timeStamp=e.timeStamp,c},n.prototype.getPointWidth=function(){var t,i=e.getChromEnum("HmiMarkerType");switch(this.pointStyle){case i.Point:t=1;break;case i.None:t=0;break;case i.Square:case i.Circle:t=this.pointWidth}return t},n.prototype.getWidth=function(){return this.lineWidth>0&&this.trendStyle!==this._trendMode.Points?this.lineWidth:this.getPointWidth()},n.prototype._isAnimationNeeded=function(){var e=this.pointsToAnimate[0],t=this.pointsToAnimate[1],i=!1;return Math.abs(t.xTagPosition-e.xTagPosition)>5||Math.abs(t.yTagPosition-e.yTagPosition)>5?i=!0:(this.pointsToAnimate=[],this.linesCollection.length&&(this.trendModeObj.recalculateInterimPoints(),this.trendModeObj.updateTrend(!0))),i},n.prototype.clearTagList=function(e){e?(this.tagList.removeBeforeTimeStamp(this.clearTagListBeforeTimeStamp),this.removePointsBeforeTimeStamp(this.clearTagListBeforeTimeStamp),this.clearTagListBeforeTimeStamp=!1,this.xminVal=null,this.xmaxVal=0,this.yminVal=null,this.ymaxVal=0,this.yminValTemp=null,this.ymaxValTemp=null,this.xminValTemp=null,this.xmaxValTemp=null,this.lastTime=[]):(this.tagList.items=[],this.xminVal=null,this.xmaxVal=0,this.yminVal=null,this.ymaxVal=0,this.yminValTemp=null,this.ymaxValTemp=null,this.xminValTemp=null,this.xmaxValTemp=null,this.clearTagListBeforeTimeStamp=!1,this.clearTagListOnDataReceived=!1,this.clearPolylines(this.linesCollection),this.linesCollection=[],this.markerPositionsCollection=[],this.qualityLinesCollection=[],this.qualityMarkerPositionsCollection=[],this.pointsToAnimate=[],this._trendLimitObj.clearTagList(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[])},n.prototype.tryFillDisplayName=function(){var e=!0;return""===this.displayName&&(""!==this.dataSourceX.Tag&&""!==this.dataSourceY.Tag?this.trendDisplayText=this.dataSourceX.TagDisplayName+","+this.dataSourceY.TagDisplayName:e=!1),e},n.prototype.requestHistoricalData=function(t){var i,r,n,a=[],o=[],s=[],l=0,u=0,h=0,d=[],c=[];this.dataSourceX.Tag&&this.dataSourceY.Tag&&(this.clearTagListOnDataReceived=!0,i=this.calculateTimeRange(),n=(r=this.trendView.online?(new Date).getTime():this.rangeType===e.getChromEnum("HmiTimeRangeType").FromBeginToEnd?this.axisEndValue:this.isStartTimeModified?this.axisBeginValue+i:this.axisEndValueOnPaused)-i,this.rangeType===e.getChromEnum("HmiTimeRangeType").PointCount?(l=this.pointCount,this.trendView.online?(u=0,h=(r+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND):(u=(n+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND,h=0)):(u=(n+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND,h=(r+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND),a.push(u),a.push(u),o.push(h),o.push(h),d.push(l),d.push(l),s.push(this.dataSourceX.Tag),s.push(this.dataSourceY.Tag),c.push(this.partId),c.push(this.partId)),s.length&&(t?this.trendView.dp.addRequest(a,o,d,s,c,e.Data.BoundingFlags.NoBounding,!0,!0,t):this.trendView.dp.addRequest(a,o,d,s,c,e.Data.BoundingFlags.NoBounding,!0,void 0,t)),a=o=d=s=c=null},n.prototype.getBeginTimeUTC=function(t){return!this.loadDataImmediately&&this.bufferTime>t?(this.bufferTime+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND:(t+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND},n.prototype.invalidate=function(){var e,t,i,r,n=this.tagList.items,a=n.length;e=n[a-1],t=this.tagList.findIndexByTimeStamp(e.timeStamp),i=this.currentTrendWindow.getRect().left+this._currentXAxis.getPositionFromValue(e.xTagValue),-1!==t&&null!==(r=n[t]).yTagValue&&(r.xTagPosition=i),e=n[a-1],t=this.tagList.findIndexByTimeStamp(e.timeStamp),i=this.currentTrendWindow.getRect().top+this._currentYAxis.getPositionFromValue(e.yTagValue),-1!==t&&null!==(r=n[t]).xTagValue&&(r.yTagPosition=i)},n.prototype.calculateRulerValue=function(t){var i,r,n,a,o,s,l,u,h=e.getChromEnum("HmiTrendCompanionMode");if(this.trendView.trendCompanionMode===h.Ruler&&t){for(i=this._currentXAxis.getValueFromPosition(t.rulerPos.xPos),r=this._currentYAxis.getValueFromPosition(t.rulerPos.yPos),s=(this.getPointWidth()||1)/2,l=this._currentXAxis.pixelRangeToValueRange(s),u=this._currentYAxis.pixelRangeToValueRange(s),o=(n=this.trendView.online?this.tagList.items:this.oldTagList.items).length-1;o>=0;o--)if((a=n[o]).xTagValue>i-l&&a.xTagValue<i+l&&a.yTagValue>r-u&&a.yTagValue<r+u)return this.rulerControlData.interpolationFlag=!1,this.rulerControlData.xValue=a.xTagValue,void(this.rulerControlData.yValue=a.yTagValue);this.rulerControlData.interpolationFlag=!0,this.rulerControlData.xValue=i,this.rulerControlData.yValue=r}},n.prototype.onTagListChanged=function(i,r,n){var a,o,s,l,u=this.tagList.items,h={updateRequiredX:!1,updateRequiredY:!1},d=!1,c=!1,p=[],m=!1,g=0;if(r?u.length>0&&(g=u[u.length-1].timeStamp):(this.clearTagListOnDataReceived?(this.clearTagList(),this.clearTagListOnDataReceived=!1,u=this.tagList.items):this.clearTagListBeforeTimeStamp&&i.length>0&&(this.clearTagListBeforeTimeStamp=i[i.length-1].timeStamp+1,this.clearTagList(!0),this._resetMinMaxValues()),this.clearTagListBeforeTimeStamp=!1,u.length>0&&(g=u[u.length-1].timeStamp,m=i[0].timeStamp<u[0].timeStamp),!1===m&&this._trendLimitObj.setLimitBools()),!r&&m){for(l=u[0].timeStamp,this._trendLimitObj.setLimitBools(m),a=i.length-1;a>=0&&!(-1===this.tagList.findIndexByTimeStamp(i[a].timeStamp)&&i[a].timeStamp<l);--a);for(var T=[];a>=0;--a)(o=new t.Point).timeStamp=i[a].timeStamp,o.xTagValue=i[a].xTagValue,o.yTagValue=i[a].yTagValue,o.qualityCode=i[a].qualityCode,this.setXYminMaxValue(o),T.push(o),this._trendLimitObj.addLimitValuePointsBegin(o,0),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPointsBegin(o),o=null;this._trendLimitObj.updateTempTagList(),T.reverse(),this.tagList.addArrayToBeginning(T),T.length=0,T=null,(this.yminVal<this._currentYAxis.currentBeginValue||this.ymaxVal>this._currentYAxis.currentEndValue)&&(c=!0),(this.xminVal<this._currentXAxis.currentBeginValue||this.xmaxVal>this._currentXAxis.currentEndValue)&&(d=!0),this._trendLimitObj.setLimitBools()}else{for(u.length>0?a=0:((o=new t.Point).timeStamp=i[0].timeStamp,o.xTagValue=i[0].xTagValue,o.yTagValue=i[0].yTagValue,o.qualityCode=i[0].qualityCode,this.yminVal=this.ymaxVal=o.yTagValue,this.xminVal=this.xmaxVal=o.xTagValue,c=!0,d=!0,this.tagList.add(o),p.push(o),this._trendLimitObj.addLimitValuePoints(o,void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(o),a=1);a<i.length;++a){if(i[a].timeStamp<=g&&n!==e.Data.FunctionTrendDataStatus.tagXYRecieved)for(s=u.length-1;s>=0;s--)if(i[a].timeStamp===u[s].timeStamp){o=u[s],n===e.Data.FunctionTrendDataStatus.tagXRecieved?o.xTagValue=i[a].xTagValue:n===e.Data.FunctionTrendDataStatus.tagYRecieved&&(o.yTagValue=i[a].yTagValue);break}(!o||i[a].timeStamp>g)&&(o=new t.Point,this.tagList.add(o),this._trendLimitObj.addLimitValuePoints(o,void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(o),o.timeStamp=i[a].timeStamp,o.xTagValue=i[a].xTagValue,o.yTagValue=i[a].yTagValue,o.qualityCode=i[a].qualityCode),o.yTagValue<this.yminVal&&(this.yminVal=o.yTagValue),o.yTagValue>this.ymaxVal&&(this.ymaxVal=o.yTagValue),o.xTagValue<this.xminVal&&(this.xminVal=o.xTagValue),o.xTagValue>this.xmaxVal&&(this.xmaxVal=o.xTagValue),r&&this.trendView.online&&(this.trendStyle===this._trendMode.Points?p.push(o):u.length>1&&(0===this.pointsToAnimate.length&&this.pointsToAnimate.push(u[u.length-2]),this.pointsToAnimate.push(o)))}(this.yminVal<this._currentYAxis.currentBeginValue||this.ymaxVal>this._currentYAxis.currentEndValue)&&(c=!0),(this.xminVal<this._currentXAxis.currentBeginValue||this.xmaxVal>this._currentXAxis.currentEndValue)&&(d=!0)}return this.pointsToAnimate.length>0?this._isAnimationNeeded()&&(this._recalculateTagList({items:this.pointsToAnimate}),this.trendModeObj.animateTrend(this.createAnimTrendObject())):p.length>0&&(this._recalculateTagList({items:p}),this.linesCollection.length&&(this.linesCollection.length>1&&this.trendModeObj.recalculateInterimPoints(),this.trendModeObj.updateTrend(!0))),h.updateRequiredX=d,h.updateRequiredY=c,o=p=null,h},n.prototype.draw=function(e,t){if(this.metaData=t,void 0===this.dom)this.dom=document.createElementNS("http://www.w3.org/2000/svg","g");else for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);return this.drawTrend(this.trendView.trendTagListsSaved),this.dom},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.clearNewPoints=function(){var e,t,i=this.linesCollection.length;for(e=0;e<i;e++)t=this.linesCollection[e].items,this._clearNewPointsFromItems(t)},n.prototype.recalculateNewPoints=function(){var e,t,i;for(t=this.linesCollection.length,i=0;i<t;i++)e=this.linesCollection[i].items,this._recalculateNewTagList(e)},n.prototype.createAnimTrendObject=function(){var i={id:"animated_polyline_"+this.id+Date.now(),animatedTrend:!0,trendStyle:this._trendMode.Interpolated,trendLimitObject:null,tagList:new e.Data.GenericList,linesCollection:[],markerPositionsCollection:[],lastTime:[],points:[],midMarkerURLsArray:[],color:this.color,pointStyle:e.getChromEnum("HmiMarkerType").None,_trendMode:this._trendMode,trendView:this.trendView,_isLeftOrRight:this.trendView.isLeftOrRight(),svgGroup:{trendPropertyGroup:null,animationPathGroup:null,trendFillPropertyGroup:null,polyLineGroup:null,qualityGroup:null,translateGroup:null,dummyPolyLineGroup:null,dummyTranslateGroup:null,qualityPolyLineGroup:null,qualityTranslateGroup:null,qualityDummyPolyLineGroup:null,qualityDummyTranslateGroup:null,fillTranslateGroup:null},thresholdParts:this.thresholdParts,thresholdFills:[""],currentTrendWindow:this.currentTrendWindow,recalculateTagList:function(e){var t,i=this.linesCollection.length;for(t=0;t<i;t++)e._recalculateTagList(this.linesCollection[t])},cleanUp:function(){var e,t,i=this.linesCollection.length;for(e=0;e<i;e++)(t=this.linesCollection[e]).polyline&&(t.polyline.parentNode&&t.polyline.parentNode.removeChild(t.polyline),t.polyline=null),t.dummyPolyline&&(t.dummyPolyline.parentNode&&t.dummyPolyline.parentNode.removeChild(t.dummyPolyline),t.dummyPolyline=null),t.items=[],t=null;this.tagList.clear(),this.tagList=this.linesCollection=this.lastTime=this.midMarkerURLsArray=this.currentTrendWindow=this.trendView=this.svgGroup.trendPropertyGroup=this.svgGroup.animationPathGroup=this.svgGroup.trendFillPropertyGroup=this.svgGroup.polyLineGroup=this.svgGroup.qualityGroup=this.svgGroup.translateGroup=this.svgGroup.dummyPolyLineGroup=this.svgGroup.dummyTranslateGroup=this.svgGroup.qualityPolyLineGroup=this.svgGroup.qualityTranslateGroup=this.svgGroup.qualityDummyPolyLineGroup=this.svgGroup.qualityDummyTranslateGroup=this.svgGroup.trendSvgContainer=this.svgGroup.trendPlaceHolder=this.svgGroup.fillTranslateGroup=this.svgGroup=this.markerPositionsCollection=this.thresholdFills=this.thresholdParts=this.trendLimitObject=null}};return i.trendLimitObject=new t.TrendLimits(i),i.trendLimitObject.initialize(),i.midMarkerURLsArray=new Array(i.midMarkerURLsArray.length+1).join(" none").split(" ").slice(1),i},n.prototype.createPointCollection=function(e){var t,i,r,a,o,s,l,u,h,d="",c="",p="",m="";for(this.numberOfPoints=0,this.numberOfDummyPoints=0,this.numberOfQualityPoints=0,this.numberOfQualityDummyPoints=0,e?h=(t=this.oldTagList.items)[t.length-1]:this.lastTime.length>0&&(s=this.lastTime[0]),l=this.linesCollection.length,u=0;u<l;u++){for(i=(t=(r=this.linesCollection[u]).items).length,a=0;a<i;++a){if(null===(o=t[a]).xTagPosition||null===o.yTagPosition)return;if(o.timeStamp>s)break;if(o.xTagPosition<-n.POLYLINE_LENGTH_LIMIT?o.xTagPosition=-n.POLYLINE_LENGTH_LIMIT:o.xTagPosition>n.POLYLINE_LENGTH_LIMIT&&(o.xTagPosition=n.POLYLINE_LENGTH_LIMIT),o.yTagPosition<-n.POLYLINE_LENGTH_LIMIT?o.yTagPosition=-n.POLYLINE_LENGTH_LIMIT:o.yTagPosition>n.POLYLINE_LENGTH_LIMIT&&(o.yTagPosition=n.POLYLINE_LENGTH_LIMIT),d+=o.xTagPosition+","+o.yTagPosition+" ",this.trendStyle===this._trendMode.Stepped&&(c+=o.xTagPosition+","+o.yTagPosition+" ",t[a+1]&&h!==o&&(c+=t[a+1].xTagPosition+","+o.yTagPosition+" ")),h===o){u=l;break}}r.points=d,r.dummyPoints=c,this.numberOfPoints++,this.numberOfDummyPoints++,d="",c=""}if(o&&!this.animatedTrend&&(this._lastPointAddedToPoints=o),this.qualityVisualizationVisible)for(l=this.qualityLinesCollection.length,u=0;u<l;u++){for(i=(t=(r=this.qualityLinesCollection[u]).items).length,a=0;a<i&&!((o=t[a]).timeStamp>s);++a)if(p+=o.xTagPosition+","+o.yTagPosition+" ",this.trendStyle===this._trendMode.Stepped&&(m+=o.xTagPosition+","+o.yTagPosition+" ",t[a+1]&&h&&h.timeStamp!==o.timeStamp&&(m+=t[a+1].xTagPosition+","+o.yTagPosition+" ")),h&&h.timeStamp===o.timeStamp){u=l;break}r.points=p,r.dummyPoints=m,this.numberOfQualityPoints++,this.numberOfQualityDummyPoints++,p="",m=""}},n.prototype.getValueAxisScaleType=function(){return this._currentXAxis.scalingType},n.prototype.recalculateX=function(e){var t,i,r,n,a,o,s;for(e&&(s=this.oldTagList.items[this.oldTagList.items.length-1]),i=this.linesCollection.length,n=0;n<i;n++)for(a=(t=this.linesCollection[n].items).length,o=0;o<a;++o)if(null!==(r=t[o]).yTagValue&&(this.trendView.isLeftOrRight()?r.xTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(r.xTagValue)):r.yTagPosition=this.getRoundedTagPosition(this._currentXAxis.getPositionFromValue(r.xTagValue))),s&&s===r)return void(r=s=null);r=s=null},n.prototype.getXStartValue=function(){return this.trendView.online?this.xminVal:this.xminValTemp||this.xminVal},n.prototype.getYStartValue=function(){return this.trendView.online?this.yminVal:this.yminValTemp||this.yminVal},n.prototype.getYEndValue=function(){return this.trendView.online?this.ymaxVal:this.ymaxValTemp||this.ymaxVal},n.prototype.getXEndValue=function(){return this.trendView.online?this.xmaxVal:this.xmaxValTemp||this.xmaxVal},n.prototype.recalculateY=function(e){var t,i,r,n,a,o,s;for(e&&(n=this.oldTagList.items[this.oldTagList.items.length-1]),i=this.linesCollection.length,a=0;a<i;a++)for(o=(t=this.linesCollection[a].items).length,s=0;s<o;++s)if(null!==(r=t[s]).xTagValue&&(this.trendView.isLeftOrRight()?r.yTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(r.yTagValue)):r.xTagPosition=this.getRoundedTagPosition(this._currentYAxis.getPositionFromValue(r.yTagValue))),n&&n===r)return void(r=n=null);r=n=null},n.prototype.saveTagList=function(){var e,t=this.tagList.items.length;if(this.trendView.online)this.yminValTemp=null,this.ymaxValTemp=null,this.xminValTemp=null,this.xmaxValTemp=null,this.oldTagList.clear();else for(this.xminValTemp=this.xminVal,this.xmaxValTemp=this.xmaxVal,this.yminValTemp=this.yminVal,this.ymaxValTemp=this.ymaxVal,e=0;e<t;e++)this.oldTagList.update(this.tagList.items[e],e)},n.prototype.updateProperty=function(t,i){var r,n,a,o,s=e.Data.TrendPropId;switch(t){case s.RangeType:this.rangeType=i,this.handleRangeType();break;case s.TrendMode:this.handleTrendMode(i);break;case s.XValueAxis:this.handleXValueAxis(true,n,a,i);break;case s.YValueAxis:this.handleYValueAxis(true,n,a,i);break;case s.PointCount:this.handlePointCount(i);break;case s.BeginTime:"string"==typeof i?(i=new Date(i).getTime(),r=window.DatePrecise(i).getHrTime()):(r=(o=window.DatePrecise(i)).getHrTime(),i=o.getTime()),this.isStartTimeModified=!0,this.trendView.beginTimePropertyChanged=!0,this.config.BeginTime=r,this.axisBeginValue=i,this.handleAxisTimeRange();break;case s.EndTime:"string"==typeof i?(i=new Date(i).getTime(),r=window.DatePrecise(i).getHrTime()):(r=(o=window.DatePrecise(i)).getHrTime(),i=o.getTime()),this.config.EndTime=r,this.axisEndValue=i,this.handleAxisTimeRange();break;case s.TimeRangeBase:this.handleTimeRangeBase(i);break;case s.TimeRangeFactor:this.handleTimeRangeFactor(i);break;case s.TagNameX:this.handleTagNameX(i);break;case s.TagNameY:this.handleTagNameY(i)}},n.prototype.handleTagNameY=function(t){0!==t&&"*"!==t||(t=""),t!==this.dataSourceY.Tag&&(""!==this.bufferCpmPathY&&(this.cpmPathY=this.bufferCpmPathY,this.bufferCpmPathY=""),this.dataSourceY.Tag=this.dataSourceY.TagDisplayName=t,this.config.DataSourceY.Source=t,this.updateTrendDisplayText(),this.clearTagList(),this.trendView.getDrawableTrendByName(this.name)&&this.partId&&(""!==this.dataSourceX.Tag&&""!==this.dataSourceY.Tag&&(this.requestHistoricalData(!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),this.drawTrend(!this.trendView.online)))},n.prototype.handleTagNameX=function(t){0!==t&&"*"!==t||(t=""),t!==this.dataSourceX.Tag&&(""!==this.bufferCpmPathX&&(this.cpmPathX=this.bufferCpmPathX,this.bufferCpmPathX=""),this.dataSourceX.Tag=this.dataSourceX.TagDisplayName=t,this.config.DataSourceX.Source=t,this.updateTrendDisplayText(),this.clearTagList(),this.trendView.getDrawableTrendByName(this.name)&&this.partId&&(""!==this.dataSourceX.Tag&&""!==this.dataSourceY.Tag&&(this.requestHistoricalData(!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),this.drawTrend(!this.trendView.online)))},n.prototype.handleTimeRangeFactor=function(t){this.config.TimeRangeFactor=parseInt(t,10),this.rangeType===this._rangeTypeEnum.TimeRange&&(this.axisTimeRange=this.calculateTimeRange(),this.requestHistoricalData(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)},n.prototype.handleTimeRangeBase=function(t){this.config.TimeRangeBase=t||e.Data.RangeBase.Minute,this.rangeType===this._rangeTypeEnum.TimeRange&&(this.axisTimeRange=this.calculateTimeRange(),this.requestHistoricalData(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)},n.prototype.handleAxisTimeRange=function(){this.trendView.online&&(this.trendView.dp.pauseControl(),this.trendView.online=!1,this.trendView.setStartStop()),this.rangeType===this._rangeType.FromBeginToEnd&&(this.axisTimeRange=this.axisEndValue-this.axisBeginValue),this.requestHistoricalData(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0},n.prototype.handlePointCount=function(t){this.trendView.isOnline()&&1===this.config.PointCount&&(this.boundingValue=null),this.pointCount=parseInt(t,10),this.rangeType===this._rangeTypeEnum.PointCount&&(this.requestHistoricalData(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)},n.prototype.handleXValueAxis=function(t,i,r,n){i=!1,this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[],"string"==typeof n?(r=this.parentTrendWindow.getXAxisByName(n),this.xAxis=n):"number"==typeof n&&(this.xAxisPartId!==n?(this.xAxisPartId=n,r=this.trendView.getXAxisByPartId(n),this.xAxis=r?r.config.Name:""):t=!1),t&&(this._currentXAxis&&(i=!0,this.currentXAxis=this._currentXAxis=null),r?(this.currentXAxis=this._currentXAxis=r,i||this.trendView.setDrawableTrends(),r.invalidate(!1,!0)):i&&(this===this.trendWindow.selectedTrend&&this.parentTrendWindow.removeSelectedTrend(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.setDrawableTrends(),!1===this.trendView.allAreasDrawn&&this.parentTrendWindow.drawableTrends.length<4&&this.trendView.isLeftOrRight()&&(e.Data.PostPropertyUpdate.CreateDrawableCollection=!0)),this.parentTrendWindow.getRulerView().updateAssociatedAxes(),e.Data.PostPropertyUpdate.Redraw=!0)},n.prototype.handleYValueAxis=function(t,i,r,n){i=!1,this.trendView.trendControlAnimator.removeTrendAnimation(this.name),"string"==typeof n?(this.yAxis=n,r=this.parentTrendWindow.getYAxisByName(n)):"number"==typeof n&&(this.yAxisPartId!==n?(this.yAxisPartId=n,r=this.trendView.getYAxisByPartId(n),this.yAxis=r?r.config.Name:""):t=!1),t&&(this._currentYAxis&&(i=!0,this.currentYAxis=this._currentYAxis=null),r?(this.currentYAxis=this._currentYAxis=r,i||this.trendView.setDrawableTrends(),r.invalidate(!1,!0)):i&&(this===this.trendWindow.selectedTrend&&this.parentTrendWindow.removeSelectedTrend(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.setDrawableTrends(),!1===this.trendView.allAreasDrawn&&this.parentTrendWindow.drawableTrends.length<4&&this.trendView.isLeftOrRight()&&(e.Data.PostPropertyUpdate.CreateDrawableCollection=!0)),this.parentTrendWindow.getRulerView().updateAssociatedAxes(),e.Data.PostPropertyUpdate.Redraw=!0)},n.prototype.handleTrendMode=function(e){e>=this._trendMode.Bar&&(e=this._trendMode.Interpolated),this.config.TrendMode=e,void 0===this.templateTrendAttributes.interpolation&&(this.trendStyle=e,this.trendStyle===this._trendMode.Points&&(this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[]),this._trendLimitObj.createNewLinesCollection(),this.trendView.getDrawableTrendByName(this.name)&&this.drawTrend(!this.trendView.online))},n.prototype.handleRangeType=function(){switch(this.rangeType){case this._rangeType.TimeRange:this.axisTimeRange=this.calculateTimeRange();break;case this._rangeType.FromBeginToEnd:this.axisTimeRange=this.axisEndValue-this.axisBeginValue||e.Data.FileTime.Sec,this.trendView.online&&(this.trendView.dp.pauseControl(),this.trendView.online=!1,this.trendView.setStartStop())}this.requestHistoricalData(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0},n.prototype.matchAxis=function(e){var t;return e.axisType===this.trendView.axisTypeEnum.xAxis?(t=this.config.XValueAxis,this._isDrawableXAxis(t,e)):(t=this.config.YValueAxis,this._isDrawableYAxis(t,e))},n.prototype._isDrawableXAxis=function(e,t){var i=!1;return this.currentXAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.xAxis=t.config.Name,this.currentXAxis=this._currentXAxis=t,this.visibility&&this.currentYAxis&&(i=!0)),i},n.prototype._isDrawableYAxis=function(e,t){var i=!1;return this.currentYAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.yAxis=t.config.Name,this.currentYAxis=this._currentYAxis=t,this.visibility&&this.currentXAxis&&(i=!0)),i},n.prototype.drawTrend=function(e){this.trendModeObj.renderTrend(e),this.tagList.items.length>0&&this.trendView.isStyleChange()&&(this._currentXAxis.invalidate(!1,!0),this._currentYAxis.invalidate(!1,!0))},n.prototype.calculateTimeRange=function(t){var i;if(!t&&this.rangeType===this._rangeType.FromBeginToEnd)return this.axisEndValue-this.axisBeginValue;switch(this.config.TimeRangeBase===e.Data.RangeBase.Undefined&&(this.config.TimeRangeBase=e.Data.RangeBase.Minute),this.config.TimeRangeBase){case 1:case"1":i=e.Data.FileTime.MS;break;case 2:case"2":i=e.Data.FileTime.Sec;break;case 3:case"3":i=e.Data.FileTime.Minute;break;case 4:case"4":i=e.Data.FileTime.Hour;break;case 5:case"5":i=e.Data.FileTime.Day;break;case 6:case"6":i=e.Data.FileTime.Month;break;case 7:case"7":i=e.Data.FileTime.Year}return i*this.config.TimeRangeFactor},n.prototype.initialize=function(i,r,n){var a,o;this.baseInitialize(i,n,r),this.trendStyle>=e.getChromEnum("HmiTrendMode").Bar&&(this.trendStyle=e.getChromEnum("HmiTrendMode").Interpolated),this.trendModeObj=new t.LinearStepMode(this),this.viewBoxDim=parseInt(this.pointWidth,10)+1,this.dataSourceXProp=this.config.DataSourceX,this.dataSourceX.Tag=this.dataSourceXProp.Source,""===this.dataSourceX.Tag?this.dataSourceX.TagDisplayName="":this.dataSourceX.TagDisplayName="...",this.dataSourceYProp=this.config.DataSourceY,this.dataSourceY.Tag=this.dataSourceYProp.Source,""===this.dataSourceY.Tag?this.dataSourceY.TagDisplayName="":this.dataSourceY.TagDisplayName="...",this.xAxisPartId=null,this.yAxisPartId=null,this.cpmPathX="",this.cpmPathY="",this.bufferCpmPathX="",this.bufferCpmPathY="","string"==typeof(a=this.config.XValueAxis)?(this.xAxis=a,a=r.getXAxisByName(a)):"number"==typeof a&&(this.xAxisPartId=a,a=r.getXAxisByPartId(a),this.xAxis=a?a.config.Name:""),this.currentXAxis=this._currentXAxis=a,"string"==typeof(a=this.config.YValueAxis)?(this.yAxis=a,a=r.getYAxisByName(a)):"number"==typeof a&&(this.yAxis=a,a=r.getYAxisByPartId(a),this.yAxis=a?a.config.Name:""),this.currentYAxis=this._currentYAxis=a,this.rulerControlData={},this.rangeType=this.config.RangeType,this.config.TimeRangeBase===e.Data.RangeBase.Undefined&&(this.config.TimeRangeBase=e.Data.RangeBase.Minute),this.axisBeginValue=new window.DatePrecise(this.config.BeginTime).getTime(),this.axisEndValue=new window.DatePrecise(this.config.EndTime).getTime(),o=this.calculateTimeRange(!0),0===this.axisBeginValue?(this.axisEndValue=0===this.axisEndValue?(new Date).getTime():this.axisEndValue,this.axisBeginValue=this.axisEndValue-o):this.axisEndValue=0!==this.axisEndValue?this.axisEndValue:this.axisBeginValue+o,this.config.RangeType===e.getChromEnum("HmiTimeRangeType").TimeRange?this.axisTimeRange=this.calculateTimeRange():this.axisTimeRange=this.axisEndValue-this.axisBeginValue||e.Data.FileTime.Sec,this.trendView.online||(this.axisEndValueOnPaused=(new Date).getTime()),this.oldTagList=new e.Data.GenericList,this.pointCount=this.config.PointCount,this.loadDataImmediately=this.config.ShowLoggedDataImmediately,this.loadDataImmediately||(this.bufferTime=(new Date).getTime()),this.tagList=new e.Data.GenericList,this._trendLimitObj=new t.TrendLimits(this),this._trendLimitObj.initialize(),this.RetrieveCachedTrendData()},n.prototype.resetMinAndMaxValue=function(e){var t,i,r,n,a=this.getValueAxisScaleType();if(t=this.tagList.items,e===this.trendView.axisTypeEnum.xAxis)for(this.xminVal=this.xmaxVal=null,i=t.length,r=0;r<i;r++)n=t[r],(a===this._scalingType.Linear||a===this._scalingType.Logarithmic&&n.xTagValue>0||a===this._scalingType.NegativeLogarithmic&&n.xTagValue<0)&&((n.xTagValue<this.xminVal||null===this.xminVal)&&(this.xminVal=n.xTagValue),(n.xTagValue>this.xmaxVal||null===this.xmaxVal)&&(this.xmaxVal=n.xTagValue));else for(this.yminVal=this.ymaxVal=null,i=t.length,r=0;r<i;r++)n=t[r],(a===this._scalingType.Linear||a===this._scalingType.Logarithmic&&n.yTagValue>0||a===this._scalingType.NegativeLogarithmic&&n.yTagValue<0)&&((n.yTagValue<this.yminVal||null===this.yminVal)&&(this.yminVal=n.yTagValue),(n.yTagValue>this.ymaxVal||null===this.ymaxVal)&&(this.ymaxVal=n.yTagValue))},n.prototype.retrieveCachedMinMax=function(e){this.xminVal=e.xMinVal,this.xmaxVal=e.xMaxVal,this.yminVal=e.yMinVal,this.ymaxVal=e.yMaxVal},n.prototype.getExportData=function(){var e,t,i,r,n=(t=this.oldTagList.items).length;for((r=[]).push({x:this.trendDisplayText,y:this.trendDisplayText}),i=0;i<n;i++)e=t[i],r.push({x:e.xTagValue,y:e.yTagValue});return r},n.prototype.handleFlashing=function(){this._trendLimitObj.handleFlashing()},n.prototype.getXAxis=function(){return this.xAxis},n.prototype.getYAxis=function(){return this.yAxis},n.prototype.setLastTrendPoint=function(e){this._lastTrendPointCalculated=e,this.endBoundingValue&&(this.endBoundingValue.yTagValue=this._lastTrendPointCalculated.yTagValue,this.endBoundingValue.yTagPosition=this._lastTrendPointCalculated.yTagPosition,this.endBoundingValue.qualityCode=this._lastTrendPointCalculated.qualityCode)},n.prototype.searchforposition=function(e,t,i,r,n,a){var o,s,l=0,u=0,h=0;for(l=0;l<e;l++)if(null!==(o=t.items[l]).qualityCode&&a.x>=o.xTagPosition+i-n&&a.x<=o.xTagPosition+i+n&&a.y>=o.yTagPosition+r-n&&a.y<=o.yTagPosition+r+n)return u=o.xTagPosition+i,h=o.yTagPosition+r,(s={}).trendPoint=o,s.markerX=u,s.markerY=h,s.isMarkerArea=!0,s;return!1},n.prototype.filledSVGCreation=function(){},n.POLYLINE_LENGTH_LIMIT=1e6,n}(t.TrendBase);t.FunctionTrend=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(e){this.trendAreaConfigs=[],this.allAreasDrawn=!1,this.trendAreas=[],this.pixelsInTrendAreas=0,this._drawableTrendAreas=[],this._drawableTrends=[],this._trends=[],this._validTrends=[],this._undrawnTrendData={},this._resubTimeoutID=null,this._invalidateCheckArray={},this._disconnectedDataSources={},this.initialized=!1,this.trendCompanion=!1,this.trendCompanionConstUpdate=!1,this.trendCompanionMode=null,this.moveAxes=!1,this.moveTrendArea=!1,this.isMoveButtonClicked=!1,this.zoomInOut=!1,this.zoomInOutX=!1,this.zoomInOutY=!1,this.zoomArea=!1,this.isZooming=!1,this.oneToOneView=!1,this.redrawForScrollbars=!1,this.yAxesScrollbar=!1,this.forceTimeAxisDrawn=!1,this.newlyDrawnTrendWindowIndex=null,this.layoutBalancerId=null,this.propertyUpdateInProgress=!1,this.modifiedProperty=[],this.dirtyList=[],this.zoomAxis=!1,this.beginTimePropertyChanged=!1,this.chart=e}return t.prototype.create=function(t){return this.RTPUItem=t,this.rtoid=this.RTPUItem.Store.rtoid,this.areaSpacing=this.chart.Attributes["area-spacing"],this.online=e.Utilities.convertToBool(this.chart.getAttribute("online")),this.shiftAxes=e.Utilities.convertToBool(this.chart.getAttribute("shift-axes")),this.showRuler=e.Utilities.convertToBool(this.chart.getAttribute("show-ruler")),this.currProjectVersion=e.Utilities.getProjectMajorVersion(this.RTPUItem),this.height=parseFloat(this.chart.getAttribute("height")),this.width=parseFloat(this.chart.getAttribute("width")),this._setDataProviderEvents(t),this.trendControlAnimator||(this.trendControlAnimator=new e.ChartElements.ChartAnimator(this.rtoid,this._rulerCalculatorWrapper.bind(this))),null===this.layoutBalancerId&&(this.layoutBalancerId=e.ChartBalancer.registerChart(this.rtoid,[this.redraw.bind(this),this.onUpdate.bind(this)])),this.enabled=this.RTPUItem.Store.props.Enabled,this.config=this.chart.Attributes.config,t.RootNode.setAttribute("id",this.config.Name),Array.isArray(this.config)?this.trendAreaConfigs=this.config:this.trendAreaConfigs.push(this.config),this.maxLabel=e.getTextByID("TBID_Trend_MaxLabel"),this.minLabel=e.getTextByID("TBID_Trend_MinLabel"),this.isLeftOrRight()?(this.alignmentEnum=e.Data.GraphAlignment=e.Data.GraphAlignmentForLeftAndRight,this.axisTypeEnum=e.Data.AxisTypeForLeftAndRight):(this.alignmentEnum=e.Data.GraphAlignment=e.Data.GraphAlignmentForTopAndBottom,this.axisTypeEnum=e.Data.AxisTypeForTopAndBottom),this.trendAreaConfigs.forEach((function(e){this._initGraphArea(e)}),this),this.setTrendDisplayNames(),this._drawFeatures(),this.matchAxes(!0),this.initializeAxisFeatures(),this.initializeTimeAxis(),this.chart.dom||(this.chart.dom=e.Features.Shape.SvgShape.CreateSvgElement("svg"),this.SVGParent=this.chart.dom,this.createParentWindow()),this.layouter=new e.Features.Structure.ChartLayouter(this),this.height>0&&this.width>0&&this.updateLayout(),this.matchRuler(),this.matchGraphs(!0),this.getShowRuler()&&this.enableDisableRuler(),e.isAppModeRuntime()&&(this.getXAxes().length>0&&(this.layoutDrawn&&this.setAnimationFactors(),this.isOnline()&&this.startAxisTimer()),this.forceTimeAxisDrawn=!0,this.requestHistoricalData(),this.forceTimeAxisDrawn=!1,this._initHammer()),this.dp&&"function"==typeof this.dp.onChartCreated&&this.dp.isControlInitialized&&this.dp.onChartCreated(),this.chart.dom},t.prototype._drawFeatures=function(){var t,i,r=this.chart.Features.length;for(t=0;t<r;t++)(i=this.chart.Features[t])instanceof e.Features.Rulers?this.rulerFeature=i:i instanceof e.Features.Graphs&&(this.graphsFeature=i),i.draw(this.RTPUItem,this.data)},t.prototype._initGraphArea=function(t){var i=new e.ChartElements.GraphArea;i.init(t,this),this.trendAreas.push(i),t.Visible&&0!==t.SizeFactor&&(i.index=this._drawableTrendAreas.length,this._drawableTrendAreas.push(i)),i.initTrendsAndAxes(),this._trends=this._trends.concat(i.trends),this._drawableTrends=this._drawableTrends.concat(i.drawableTrends),this._validTrends=this._validTrends.concat(i.drawableTrends),this.setXAxes(this.getXAxes().concat(i.getXAxes())),this.setYAxes(this.getYAxes().concat(i.getYAxes()))},t.prototype._initHammer=function(){if(this.Hammer=window.Hammer,this.Hammer){var e,t=void 0,i=void 0,r=void 0,n=void 0;if(e=this._drawableTrendAreas.length,this.layoutDrawn&&this.enabled){for(i=0;i<e;++i)this._drawableTrendAreas[i].trendWindowDrawn&&this._drawableTrendAreas[i].initHammer();for(e=(r=this.getXAxes()).length,i=0;i<e;++i)(t=r[i]).parentTrendWindow.trendWindowDrawn&&t.config.Visible&&t.initHammer();for(e=(n=this.getYAxes()).length,i=0;i<e;++i)(t=n[i]).parentTrendWindow.trendWindowDrawn&&t.config.Visible&&t.initHammer();t=null}}},t.prototype._unInitHammer=function(){if(this.Hammer){var e,t,i,r=void 0;for(e=this._drawableTrendAreas.length,r=0;r<e;++r)this._drawableTrendAreas[r].unInitHammer();for(e=(t=this.getXAxes()).length,r=0;r<e;++r)t[r].unInitHammer();for(e=(i=this.getYAxes()).length,r=0;r<e;++r)i[r].unInitHammer();null}},t.prototype._setDataProviderBaseEvents=function(){var t=e.Data.ZoomMoveOperationVars;this.dp.register("onDataReceived",this.onDataReceived.bind(this)),this.dp.register("onHistoricalDataReceived",this.onHistoricalDataReceived.bind(this)),this.dp.register("setTagNames",this.setTagNames.bind(this)),this.dp.register("getDataForExport",this.getDataForExport.bind(this)),this.dp.register("getTrendDataForRuler",this._getRulerData.bind(this)),this.dp.register("setTrendCompanionship",this._setTrendCompanionship.bind(this)),this.dp.register("setTrendCompanionMode",this._setTrendCompanionMode.bind(this)),this.dp.register("onZoomAreaCommand",this.setZoomAndMove.bind(this,t.zoomArea)),this.dp.register("onZoomPlusMinusCommand",this.setZoomAndMove.bind(this,t.zoomInOut)),this.dp.register("onOriginalViewCommand",this.resetZoom.bind(this)),this.dp.register("onMoveAxesAreaCommand",this.setMoveAxes.bind(this)),this.dp.register("onMoveAreaCommand",this.setZoomAndMove.bind(this,t.moveTrendArea)),this.dp.register("getCurrentBeginAndEndTime",this._getEndTimeToCurr.bind(this)),this.dp.register("getCurrentBeginAndEndValue",this._getCurrStartEndValue.bind(this)),this.dp.register("moveTrendDown",this._moveTrendDown.bind(this)),this.dp.register("updateTrendProperties",this._updateTrendProperties.bind(this)),this.dp.register("addRemainingTagRequests",this._addRemainingTagRequests.bind(this)),this.dp.register("onLanguageChanged",this._handleLanguageChange.bind(this)),this.dp.register("clearAllTagList",this.clearAllTagList.bind(this)),this.dp.register("onEnabledChanged",this.onEnabledChanged.bind(this)),this.dp.register("setOriginalViewByCosideringAllCharts",this.setOriginalViewByCosideringAllCharts.bind(this))},t.prototype.getDataForExport=function(){var e,t;e=[];var i=this.getDrawableTrend(),r=i.length;for(t=0;t<r;t++)e.push(i[t].getExportData());return e},t.prototype.onDataReceived=function(e){this.onRead(e)},t.prototype.onHistoricalDataReceived=function(e){this.onHistoricalRead(e)},t.prototype.createParentWindow=function(){var t,i=e.Features.Shape.SvgShape.CreateSvgElement("g",{class:"trendViewSvgClass",id:this.getControlName()}),r=this.getTrend(),n=r.length;for(this.trendControlAnimator&&this.trendControlAnimator.cleanAnimDOMClosures();this.chart.dom&&this.chart.dom.lastChild;)this.chart.dom.removeChild(this.chart.dom.lastChild);for(t=0;t<n;t++)r[t].resetSVGGroup();this.svgToolTipHighLighterGroup=null,this.svgTooltipGroup=null,this.removeScrollbars(),this.chart.dom||(this.chart.dom=e.Features.Shape.SvgShape.CreateSvgElement("svg"),this.SVGParent=this.chart.dom),this.chart.dom.appendChild(i)},t.prototype.matchAxes=function(t,i,r){var n,a,o=this.chart.Features.length,s=i||this.trendAreas;for(a=0;a<o;a++)(n=this.chart.Features[a])instanceof e.Features.Axes&&n.matchAxes(s,r);if(t){for(o=s.length,a=0;a<o;a++)s[a].getXAxes().concat(s[a].getYAxes()).forEach((function(e){e.applyTemplateProperties()}))}},t.prototype.unmatchAxes=function(t,i){var r,n,a=this.chart.Features.length;for(n=0;n<a;n++)(r=this.chart.Features[n])instanceof e.Features.Axes&&r.unmatchAxes(i);if(t){var o=i||this.trendAreas;for(a=o.length,n=0;n<a;n++)o[n].getXAxes().concat(o[n].getYAxes()).forEach((function(e){e.applyTemplateProperties()}))}},t.prototype.matchGraphs=function(t,i){var r,n,a=this.chart.Features.length,o=i||this.trendAreas;for(n=0;n<a;n++)(r=this.chart.Features[n])instanceof e.Features.Graphs&&r.matchGraphs(o);if(t)for(a=o.length,n=0;n<a;n++)o[n].trends.forEach((function(e){e.applyTemplateProperties()}))},t.prototype.unmatchGraphs=function(t,i){var r,n,a=this.chart.Features.length;for(n=0;n<a;n++)(r=this.chart.Features[n])instanceof e.Features.Graphs&&r.unmatchGraphs(i);if(t){var o=i||this.trendAreas;for(a=o.length,n=0;n<a;n++)o[n].trends.forEach((function(e){e.applyTemplateProperties()}))}},t.prototype.matchRuler=function(t){var i,r,n,a=t||this.trendAreas;if(this.rulerFeature)for(this.rulerFeature.templatePropertyCheck(a),n=this.rulerFeature.Features.length,r=0;r<n;r++)(i=this.rulerFeature.Features[r])instanceof e.Features.RulerIndicator&&i.matchRuler(a,this.RTPUItem,this.isLeftOrRight())},t.prototype.initializeAxisFeatures=function(){var e,t=this.trendAreas.length;for(e=0;e<t;e++)this.trendAreas[e].initializeAxisFeatures()},t.prototype._rulerCalculatorWrapper=function(){this.needsRulerDataCalc()&&this.calculateRulerData()},t.prototype.calculateRulerData=function(e,t){this.dp.takeRulerData([e,t]),this.secondaryRulerToolTip&&this.updateRulerToolTip()},t.prototype._getRulerData=function(t,i){var r,n,a,o,s,l,u,h,d,c=this._drawableTrendAreas.length,p=!1,m=!1,g=e.getChromEnum("HmiTrendInfoBlock"),T=e.Data.TagValueSuffix.Interpolated;if(a=[],i)(d=this.getDrawableTrendWindowByName(i))&&d.setRulerValue();else for(r=0;r<c;r++)this._drawableTrendAreas[r].trendWindowDrawn&&this._drawableTrendAreas[r].setRulerValue(t);if(this.trendCompanionConstUpdate){if(c=this._trends.length,!1===(s=this.dp.getRulerColumns()))return;for(l=s.length,r=0;r<c;r++)if((n=this._trends[r]).visibility&&n.parentTrendWindow.visible){for(o=this.getDrawableTrendByName(n.name)?n.rulerControlData:this.trendObjectType===e.Data.TrendObjectType.Function?{yValue:"",xValue:""}:{value:"",dateTime:"",lowerLimitValue:"",lowerLimitDateTime:"",upperLimitValue:"",upperLimitDateTime:"",minimum:"",minimumTimeStamp:"",maximum:"",maximumTimeStamp:"",average:"",standardDeviation:"",integral:"",weightedAverage:"",duration:"",numberOfValues:"",foreColor:"",backColor:"",exponentialnotaion:"",sum:""},h={},u=0;u<l;u++)switch(h[s[u].source]={},s[u].source){case g.Name:h[s[u].source].value=n.trendDisplayText;break;case g.Index:h[s[u].source].value=n.index+"";break;case g.Label:this.currProjectVersion>=17||""===this.currProjectVersion?h[s[u].source].value=n.config.DisplayName:h[s[u].source].value=n.displayName;break;case g.Show:h[s[u].source].value="X";break;case g.TagNameY:this.trendObjectType===e.Data.TrendObjectType.Function?h[s[u].source].value=n.dataSourceY.TagDisplayName:h[s[u].source].value=n.dataSource.TagDisplayName;break;case g.TagNameX:this.trendObjectType===e.Data.TrendObjectType.Function?h[s[u].source].value=n.dataSourceX.TagDisplayName:h[s[u].source].value="";break;case g.YValue:this.trendObjectType===e.Data.TrendObjectType.Function?(!0===o.interpolationFlag&&(h[s[u].source].interpolatedPt=" i."),h[s[u].source].value=o.yValue):("string"==typeof o.value?(""!==o.value&&(-1!==o.value.indexOf(T)&&(p=!0),m=o.value.split(" "),o.value=m.shift(),m=" "+m.join(" ")),h[s[u].source].value=o.value):"number"==typeof o.value?h[s[u].source].value=o.value:"object"==typeof o.value&&o.value.length>0&&(h[s[u].source].value=e.getTextByID("TBID_Trend_MinLabel")+":"+o.value[0]+","+e.getTextByID("TBID_Trend_MaxLabel")+":"+o.value[1]),m&&(h[s[u].source].interpolatedPt=m,m=!1));break;case g.XValueOrTimestamp:this.trendObjectType===e.Data.TrendObjectType.Function?(!0===o.interpolationFlag&&(h[s[u].source].interpolatedPt=" i."),h[s[u].source].value=o.xValue):("string"==typeof o.value&&""!==o.value&&-1!==o.value.indexOf(T)&&(p=!0),p&&(p=!1,h[s[u].source].interpolatedPt=T),h[s[u].source].value=o.dateTime);break;case g.AreaName:h[s[u].source].value=n.parentTrendWindow.config.Name;break;case g.YValueLowerLimit:"string"==typeof o.lowerLimitValue?(""!==o.lowerLimitValue&&(-1!==o.lowerLimitValue.indexOf(T)&&(p=!0),m=o.lowerLimitValue.split(" "),o.lowerLimitValue=m.shift(),m=" "+m.join(" ")),h[s[u].source].value=o.lowerLimitValue):"number"==typeof o.lowerLimitValue?h[s[u].source].value=o.lowerLimitValue:"object"==typeof o.lowerLimitValue&&o.lowerLimitValue.length>0&&(h[s[u].source].value=e.getTextByID("TBID_Trend_MinLabel")+":"+o.lowerLimitValue[0]+","+e.getTextByID("TBID_Trend_MaxLabel")+":"+o.lowerLimitValue[1]),m&&(h[s[u].source].interpolatedPt=m,m=!1);break;case g.TimestampLowerLimit:"string"==typeof o.lowerLimitValue&&""!==o.lowerLimitValue&&-1!==o.lowerLimitValue.indexOf(T)&&(p=!0),p&&(p=!1,h[s[u].source].interpolatedPt=T),h[s[u].source].value=o.lowerLimitDateTime;break;case g.YValueUpperLimit:"string"==typeof o.upperLimitValue?(""!==o.upperLimitValue&&(-1!==o.upperLimitValue.indexOf(T)&&(p=!0),m=o.upperLimitValue.split(" "),o.upperLimitValue=m.shift(),m=" "+m.join(" ")),h[s[u].source].value=o.upperLimitValue):"number"==typeof o.upperLimitValue?h[s[u].source].value=o.upperLimitValue:"object"==typeof o.upperLimitValue&&o.upperLimitValue.length>0&&(h[s[u].source].value=e.getTextByID("TBID_Trend_MinLabel")+":"+o.upperLimitValue[0]+","+e.getTextByID("TBID_Trend_MaxLabel")+":"+o.upperLimitValue[1]),m&&(h[s[u].source].interpolatedPt=m,m=!1);break;case g.TimestampUpperLimit:"string"==typeof o.upperLimitValue&&""!==o.upperLimitValue&&-1!==o.upperLimitValue.indexOf(T)&&(p=!0),p&&(p=!1,h[s[u].source].interpolatedPt=T),h[s[u].source].value=o.upperLimitDateTime;break;case g.AreaNameLL:case g.AreaNameHL:h[s[u].source].value="";break;case g.Minimum:h[s[u].source].value=o.minimum;break;case g.MinimumTimestamp:h[s[u].source].value=o.minimumTimeStamp;break;case g.Maximum:h[s[u].source].value=o.maximum;break;case g.MaximumTimestamp:h[s[u].source].value=o.maximumTimeStamp;break;case g.Average:h[s[u].source].value=o.average;break;case g.Sum:h[s[u].source].value=o.sum;break;case g.StandardDeviation:h[s[u].source].value=o.standardDeviation;break;case g.Integral:h[s[u].source].value=o.integral;break;case g.WeightedAverageValue:h[s[u].source].value=o.weightedAverage;break;case g.Duration:h[s[u].source].value=o.duration;break;case g.NumberOfValues:h[s[u].source].value=o.numberOfValues}h.foreColor=n.color,h.backColor=n.parentTrendWindow.backColor,a.push(h)}}return a},t.prototype._setTrendCompanionship=function(t){var i=e.getChromEnum("HmiTrendCompanionMode");this.trendCompanion=t,this.trendCompanionConstUpdate=this.trendCompanion&&this.trendCompanionMode!==i.StatisticResult},t.prototype._setTrendCompanionMode=function(t){var i=e.getChromEnum("HmiTrendCompanionMode");this.trendCompanionMode=t,this.trendCompanionConstUpdate=this.trendCompanion&&t!==i.StatisticResult},t.prototype.setMoveAxes=function(){this.moveAxes=!this.moveAxes,this.moveAxes?this.enableAxesMove():this.disableAxesMove()},t.prototype.setZoomAndMove=function(t){var i;(i=e.Data.ZoomMoveOperationVars[t])?(this[i]=!this[i],this[i]?this._enableZoomMoveEvents(i):(this.isMoveButtonClicked="moveTrendArea"===i,this.isZooming=!1,this.disableTrendAreaMove(!this.isOnline()))):this._disableZoomMoveEvents()},t.prototype._enableZoomMoveEvents=function(t){var i,r=!0,n=!0,a=e.Data.ZoomMoveOperationVars;for(i in a)this.hasOwnProperty(i)&&i!==t&&this[i]&&(this[i]=!1,this._disableZoomMoveOperation(a[i]),r=!1);r&&(this.isZooming=!0,this.isOnline()&&(n=!1,this.trendObjectType===e.Data.TrendObjectType.Online&&(this.chart.Attributes.online=this.online=!1,this.setStartStop())),this.enableTrendAreaMove(n))},t.prototype._disableZoomMoveEvents=function(){var t,i=!1,r=e.Data.ZoomMoveOperationVars;for(t in r)this.hasOwnProperty(t)&&this[t]&&(this[t]=!1,this._disableZoomMoveOperation(r[t]),i=!0);i?(this.isZooming=!1,this.disableTrendAreaMove()):this.enableDisablePinchAndScroll(!1)},t.prototype._disableZoomMoveOperation=function(t){var i=e.Data.ZoomMoveOperationVars;switch(t){case i.moveTrendArea:this.dp.switchOffMoveTrendArea();break;case i.zoomArea:this.dp.switchOffZoomArea();break;case i.zoomInOut:this.dp.switchOffZoomPlusMinus();break;case i.zoomInOutX:this.trendObjectType===e.Data.TrendObjectType.Function?this.dp.switchOffZoomXAxisPlusMinus():this.dp.switchOffZoomTimeAxisPlusMinus();break;case i.zoomInOutY:this.trendObjectType===e.Data.TrendObjectType.Function?this.dp.switchOffZoomYAxisPlusMinus():this.dp.switchOffZoomValuesAxisPlusMinus()}},t.prototype.enableTrendAreaMove=function(e){var t,i,r=null;for(i=this._drawableTrendAreas.length,t=0;t<i;t++)(r=this._drawableTrendAreas[t]).trendWindowDrawn&&r.enableTrendAreaMove(e);r=null},t.prototype.disableTrendAreaMove=function(t){var i,r,n,a=null,o=new e.Data.GenericList,s=new e.Data.GenericList;for(n=!this.isOnline()&&this.moveAxes,r=this._drawableTrendAreas.length,i=0;i<r;i++)(a=this._drawableTrendAreas[i]).trendWindowDrawn&&a.disableTrendAreaMove(n,t,o,s);this.trendObjectType===e.Data.TrendObjectType.Function&&this.getShowRuler()&&this.trendCompanionConstUpdate&&this.calculateRulerData(),o.clear(),o=null,s.clear(),s=null,a=null},t.prototype._moveTrendDown=function(e){var t,i,r,n,a=!1;return(t=this.getTrendWindowByPartId(e.TrendArea))&&(i=t.moveTrendDown(e.Trend))&&(a=!0,n=this._trends.indexOf(i),r=this._trends[n+1],this._trends[n]=r,this._trends[n+1]=i,r.index=n,i.index=n+1,(n=this._drawableTrends.indexOf(i))>-1&&r===this._drawableTrends[n+1]&&(this._drawableTrends[n]=this._drawableTrends[n+1],this._drawableTrends[n+1]=i),this.unmatchGraphs(!1,[i.parentTrendWindow]),this.matchGraphs(!0,[i.parentTrendWindow]),i.config.Visible&&r.config.Visible&&this.needsRulerDataCalc()&&this.calculateRulerData()),a},t.prototype._updateTrendProperties=function(t,i,r){var n,a;(n=this.getTrendByPartId(t))&&(1===(i=i.split(".")).length?a=e.Data.TrendPropId[i[0]]:2===i.length&&e.Data[i[0]]&&(a=e.Data[i[0]][i[1]]),void 0!==a&&(n.OnUpdate(a,r),e.Data.PostPropertyUpdate.CreateDrawableCollection?(this.createDrawableCollections(),e.Data.PostPropertyUpdate.CreateDrawableCollection=!1):e.Data.PostPropertyUpdate.Redraw?this.redraw():e.Data.PostPropertyUpdate.Update&&this.onUpdate(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests&&e.isAppModeRuntime()&&this.dp.sendRequest(),e.Data.PostPropertyUpdate.Redraw=!1,e.Data.PostPropertyUpdate.Update=!1,e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1))},t.prototype._offlineRead=function(t){if(!1===this.isOnline()){var i,r=void 0,n=void 0,a=void 0,o=void 0,s=void 0,l=void 0;for(n in r=new e.Data.GenericList,this._invalidateCheckArray)(a=this.getDrawableTrendByName(n))&&(o=this.getDrawableTrendWindowByName(a.trendWindow))&&o.trendWindowDrawn&&(a.invalidate(!0)||this._invalidateCheckArray[a.name].yAxisUpdateRequired)&&(r.tryAdd(a.currentYAxis.axisPbId),this._invalidateCheckArray[a.name].yAxisUpdateRequired=!1);for(i=r.items.length,l=0;l<i;l++)s=this.getYAxisByPbId(r.items[l]),this.moveAxes||this.moveTrendArea||0!==s.zoomInOutCount||s.invalidate(void 0,!0);t&&this.needsRulerDataCalc()&&this.trendControlAnimator.requestRulerDataCalculation(!0),r.clear(),r=null,s=null,o=null}},t.prototype._addRemainingTagRequests=function(t,i,r,n,a,o){var s,l,u={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]};if(u.beginTime=t,u.endTime=i,u.points=n,u.clientHandles=a,u.aggMode=o,e.isAppModeRuntime())for(s=0;s<this._drawableTrendAreas.length;s++)(l=this._drawableTrendAreas[s]).trendWindowDrawn&&l.requestHistoricalData(u,r)},t.prototype._arrangeResubscriptionForPixels=function(){this.isOnline()?this.requestHistoricalData(!1,void 0,void 0,!0,!0,!0):this.requestHistoricalData(!1,void 0,void 0,!0,void 0,!0),!1===e.Data.PostPropertyUpdate.SendHistoricalDataRequests&&(e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this._resubTimeoutID=setTimeout(this._sendRequests.bind(this),0)),this.zoomAxis&&(this.zoomAxis=!1)},t.prototype._sendRequests=function(){this._resubTimeoutID=null,e.Data.PostPropertyUpdate.SendHistoricalDataRequests&&(e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1,this.dp.sendRequest())},t.prototype._handleLanguageChange=function(){var e,t,i;for(t=this._drawableTrendAreas.length,e=0;e<t;e++)(i=this._drawableTrendAreas[e]).trendWindowDrawn&&i.handleLanguageChange()},t.prototype.setRequestsForRemaningTags=function(){this.dp.addRequest([],[],[],[],[],void 0,void 0,void 0,!0)},t.prototype.removeFromUndrawnData=function(e){this._undrawnTrendData[e]&&delete this._undrawnTrendData[e]},t.prototype.removeFromDisconnectedSources=function(e){delete this._disconnectedDataSources[e]},t.prototype.getControlName=function(){return this.rtoid},t.prototype.getLineWidth=function(){return 0},t.prototype.getLineColor=function(){return"rgba(0,0,0,1)"},t.prototype.isOnline=function(){return this.online},t.prototype.isLeftOrRight=function(){return!this.shiftAxes},t.prototype.getShowRuler=function(){return this.showRuler},t.prototype.isEnabled=function(){return this.RTPUItem.Store.props.Enabled},t.prototype.getDrawableTrendWindow=function(e){return void 0===e?this._drawableTrendAreas:this._drawableTrendAreas[e]},t.prototype.getDrawableTrendWindowCount=function(){return this._drawableTrendAreas.length},t.prototype.getTrendWindowByName=function(e){var t,i=null;for(t=0;t<this.trendAreas.length;t++)if(this.trendAreas[t].config.Name===e){i=this.trendAreas[t];break}return i},t.prototype.getTrendWindow=function(e){return void 0===e?this.trendAreas:this.trendAreas[e]},t.prototype.getTrend=function(e){return void 0!==e?this._trends[e]:this._trends},t.prototype.getDrawableTrend=function(e){return void 0!==e?this._drawableTrends[e]:this._drawableTrends},t.prototype.setTrendsCollection=function(e){this._trends=e},t.prototype.setDrawableTrendsCollection=function(e){this._drawableTrends=e,this._validTrends=e},t.prototype.redraw=function(){var t=this.pixelsInTrendAreas;e.Data.GraphAlignment=this.alignmentEnum,this.createParentWindow(),this.layouter&&(this.drawLayout(),this.drawTrends(),!1!==e.Data.PostPropertyUpdate.DoNotRequestData||t===this.pixelsInTrendAreas&&!this.zoomAxis||this._arrangeResubscriptionForPixels())},t.prototype.onUpdate=function(){var t=this.pixelsInTrendAreas,i=this.chart.dom.parentNode;e.Data.GraphAlignment=this.alignmentEnum,this.layouter&&(i&&i.removeChild(this.chart.dom),this.updateLayout()?(this.drawTrends(),i&&i.appendChild(this.chart.dom)):(i&&i.appendChild(this.chart.dom),this.createDrawableCollections()),this.calculateRulerData(),!1!==e.Data.PostPropertyUpdate.DoNotRequestData||t===this.pixelsInTrendAreas&&!this.zoomAxis||this._arrangeResubscriptionForPixels())},t.prototype.updateLayout=function(){return this.updateLayout=function(){var t;return(t=this.layouter.updateLayout())&&this._balanceXAxisWidths(),e.ChartBalancer.balanceCharts(this.rtoid,this.layoutBalancerId,1),t},this.initLayoutAndTrends()},t.prototype.initLayoutAndTrends=function(){var t,i,r=this.drawLayout(),n=this._drawableTrendAreas.length;for(this._drawableTrends=[],t=0;t<n;t++)(i=this._drawableTrendAreas[t]).trendWindowDrawn?(this._drawableTrends=this._drawableTrends.concat(i.drawableTrends),this.initializeRunningTimeAxes(i)):i.clearDrawableTrends();return this.requestHistoricalData(void 0,void 0,void 0,!0,!0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,r},t.prototype._balanceXAxisWidths=function(){var e,t,i,r,n=this._drawableTrendAreas.length;for(i=this.isLeftOrRight(),t=0;t<n;t++)if(this._drawableTrendAreas[t].trendWindowDrawn){for(e=i?"width":"height",this.pixelsInTrendAreas=this._drawableTrendAreas[t].getRect()[e],n=(r=this.getXAxes()).length,t=0;t<n;t++)r[t].innerRect[e]=this.pixelsInTrendAreas;break}},t.prototype.drawTrends=function(){var e,t;for(t=this._drawableTrendAreas.length,e=0;e<t;e++)this._drawableTrendAreas[e].drawTrends()},t.prototype.getXAxisByPbId=function(e){var t,i,r,n,a=null;for(i=(n=this.getXAxes()).length,t=0;t<i;t++)if((r=n[t]).axisPbId===e){a=r;break}return a},t.prototype.getYAxisByPbId=function(e){var t,i,r,n=null;for(i=(r=this.getYAxes()).length,t=0;t<i;t++)if(r[t].axisPbId===e){n=r[t];break}return n},t.prototype.getTrendByPartId=function(e){var t,i,r=null;for(i=this._trends.length,t=0;t<i;t++)if(this._trends[t].partId===e){r=this._trends[t];break}return r},t.prototype.getDrawableTrendByName=function(e){var t,i,r=null;for(i=this._drawableTrends.length,t=0;t<i;t++)if(this._drawableTrends[t].name===e){r=this._drawableTrends[t];break}return r},t.prototype.getDrawableTrendByPartId=function(e){var t;return this._drawableTrendAreas.length>0&&(t=this._drawableTrendAreas[0].idToDrawableTrendMap[e]),t},t.prototype.getDrawableTrendWindowByName=function(e){var t,i,r=null;for(i=this._drawableTrendAreas.length,t=0;t<i;t++)if(this._drawableTrendAreas[t].config.Name===e){r=this._drawableTrendAreas[t];break}return r},t.prototype.getTrendWindowByPartId=function(e){var t,i,r=null;for(i=this.trendAreas.length,t=0;t<i;t++)if(this.trendAreas[t].config.ElementID===e){r=this.trendAreas[t];break}return r},t.prototype.getXAxisByPartId=function(e){var t,i,r,n=null;for(i=(r=this.getXAxes()).length,t=0;t<i;t++)if(r[t].config.ElementID===e){n=r[t];break}return n},t.prototype.getYAxisByPartId=function(e){var t,i,r,n=null;for(i=(r=this.getYAxes()).length,t=0;t<i;t++)if(r[t].config.ElementID===e){n=r[t];break}return n},t.prototype.updateRulerToolTipPosition=function(){var e,t;for(t=this.getDrawableTrendWindow(),e=0;e<t.length;e++)t[e].updateRulerToolTipPosition()},t.prototype.updateRulerToolTip=function(){var e,t;for(t=this.getDrawableTrendWindow(),e=0;e<t.length;e++)t[e].updateRulerToolTip()},t.prototype.setDrawableTrends=function(t){var i,r,n,a,o,s,l=[],u=[];if(a=(o=this.getTrendWindow()).length,t){for(l=t,i=0;i<a;i++)o[i].initTrendColl();for(r=0;r<l.length;r++)(n=l[r]).index=n.parentTrendWindow.trends.length,n.parentTrendWindow.trends.push(n),n.parentTrendWindow.trendWindowDrawn&&n.visibility&&n.currentXAxis&&n.currentYAxis&&(u.push(n),n.parentTrendWindow.drawableTrends.push(n))}else for(i=0;i<a;i++)(s=o[i]).createDrawableTrendsCollection(),l=l.concat(s.trends),s.trendWindowDrawn?u=u.concat(s.drawableTrends):s.clearDrawableTrends();this.setTrendsCollection(l),this.setDrawableTrendsCollection(u),this.needsRulerDataCalc()&&e.isAppModeRuntime()&&this.calculateRulerData()},t.prototype.updateOrientationProperties=function(){var t,i,r,n=0;for(this.isLeftOrRight()?(this.alignmentEnum=e.Data.GraphAlignmentForLeftAndRight,this.axisTypeEnum=e.Data.AxisTypeForLeftAndRight):(this.alignmentEnum=e.Data.GraphAlignmentForTopAndBottom,this.axisTypeEnum=e.Data.AxisTypeForTopAndBottom),i=this.trendAreas.length,n=0;n<i;n++)this.trendAreas[n].setIsLeftOrRight(this.isLeftOrRight());for(r=this.axisTypeEnum,i=(t=this.getXAxes()).length,n=0;n<i;n++)t[n].axisType=r.xAxis,t[n].onShiftAxesChange();for(i=(t=this.getYAxes()).length,n=0;n<i;n++)t[n].axisType=r.yAxis,t[n].align=t[n].align===e.Data.GraphAlignmentForLeftAndRight.Left?e.Data.GraphAlignmentForLeftAndRight.Right:e.Data.GraphAlignmentForLeftAndRight.Left,t[n].onShiftAxesChange()},t.prototype.resetRulerIndicators=function(){var t,i,r=0;for(i=this.trendAreas.length,r=0;r<i;r++)this.trendAreas[r].resetRulerPosition();if(this.trendObjectType===e.Data.TrendObjectType.Online)for(i=(t=this.getTrend()).length,r=0;r<i;r++)t[r].resetSecondaryTooltip()},t.prototype.updateRulerOrientation=function(){var e,t=0;for(e=this.trendAreas.length,t=0;t<e;t++)this.trendAreas[t].updateRulerOrientation(this.isLeftOrRight())},t.prototype.saveTrendWindowIndex=function(e){this.newlyDrawnTrendWindowIndex=e},t.prototype.resize=function(){this.trendObjectType===e.Data.TrendObjectType.Function&&!this.shiftAxes&&this.dp&&this.dp.reArrangeTrendAreas&&this.dp.reArrangeTrendAreas(this.trendAreas[0].config.ElementID,!1),e.isAppModeRuntime()?(e.Data.PostPropertyUpdate.DoNotRequestData=!0,this.onUpdate(),e.Data.PostPropertyUpdate.DoNotRequestData=!1):this.createDrawableCollections(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests&&e.isAppModeRuntime()&&(this.dp.sendRequest(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1),this.trendObjectType===e.Data.TrendObjectType.Online&&this.layoutDrawn&&this.getDrawableTrendWindowCount()>0&&this.setAnimationFactors()},t.prototype.update=function(){var t,i;if(this.propertyUpdateInProgress=!0,i=this.isLeftOrRight(),this.resizeControl&&this.trendAreaConfigs.length>0&&(this.resize(),this.secondaryRulerToolTip&&this.trendObjectType===e.Data.TrendObjectType.Online&&this.updateRulerToolTipPosition(),this.resizeControl=!1),this.dirtyList.length>0){for(t=0;t<this.dirtyList.length;t++)this.handleChartAttributeChange(this.dirtyList[t]);this.dirtyList=[]}if(this.modifiedProperty.length>0){for(t=0;t<this.modifiedProperty.length;t++)this.handlePropertyChange(this.modifiedProperty[t]);this.modifiedProperty=[]}e.Data.PostPropertyUpdate.CreateDrawableCollection?(this.createDrawableCollections(),e.Data.PostPropertyUpdate.CreateDrawableCollection=!1):e.Data.PostPropertyUpdate.Redraw?this.redraw():e.Data.PostPropertyUpdate.Update&&this.onUpdate(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests&&e.isAppModeRuntime()&&(this.trendObjectType===e.Data.TrendObjectType.Function&&this.beginTimePropertyChanged&&(this.resetIsStartTimeModifiedProperty(),this.beginTimePropertyChanged=!1),this.dp.sendRequest()),i!==this.isLeftOrRight()&&this.secondaryRulerToolTip&&this.updateRulerToolTip(),this.propertyUpdateInProgress=!1,e.Data.PostPropertyUpdate.Redraw=!1,e.Data.PostPropertyUpdate.Update=!1,e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1},t.prototype.setSecondaryRulerToolTip=function(e){this.secondaryRulerToolTip=e,e&&this.secondaryRulerIndicatorFeature&&!this.secondaryRulerIndicatorFeature.myTemplate&&this.secondaryRulerIndicatorFeature.loadSecondaryToolTip(this.RTPUItem,this.trendAreas,this)},t.prototype.enableDisableRuler=function(){var t,i,r,n=!1;for(this.getShowRuler()?(!this.isOnline()&&e.isAppModeRuntime()&&this.trendObjectType===e.Data.TrendObjectType.Online?this.setSecondaryRulerToolTip(!0):this.setSecondaryRulerToolTip(!1),t="showRuler",n=this.trendCompanionConstUpdate||this.secondaryRulerToolTip):(this.getShowStatisticRuler()&&(n=this.trendCompanionConstUpdate),this.setSecondaryRulerToolTip(!1),t="hideRuler"),r=this._drawableTrendAreas.length,i=0;i<r;i++)this._drawableTrendAreas[i].trendWindowDrawn&&this._drawableTrendAreas[i][t]();n&&this.calculateRulerData()},t.prototype.propertyChanged=function(t){var i,r=e.Data.ChartTemplateAttributes;switch(t){case r.TimeZone:case r.ShowStatisticRulers:case r.ShowRuler:case r.AreaSpacing:case r.Online:case r.ShiftAxes:this.dirtyList.push({propertyName:t,updatedValue:this.chart.Attributes[t]});break;case r.ActualHeight:i=parseFloat(this.chart.Attributes.height),this.height!==i&&(this.height=i,this.resizeControl=!0);break;case r.ActualWidth:i=parseFloat(this.chart.Attributes.width),this.width!==i&&(this.width=i,this.resizeControl=!0);break;case r.Config:this.findAndUpdateModifiedProp(this.chart.Attributes[t],this.config,t)}},t.prototype.createNewTrendArea=function(t){var i,r,n,a;if(this.trendAreaConfigs.push(t),this._initGraphArea(t),n=this.trendAreas.length-1,i=this.trendAreas[n],this.matchAxes(!0,this.trendAreas,n),i.initializeAxisFeatures(),this.trendObjectType===e.Data.TrendObjectType.Online)for(a=(r=i.getXAxes()).length,n=0;n<a;n++)r[n].initializeBeginEndTimes();this.matchGraphs(!0,[i]),this.matchRuler([i])},t.prototype.removeTrendArea=function(t){var i,r,n=this.trendAreas.length,a=!1;for(i=0;i<n;i++)if(this.trendAreas[i].config.ElementID===t){this.unmatchGraphs(!1),this.unmatchAxes(!1),r=this.trendAreas[i],this.trendAreas.splice(i,1),(i=this._drawableTrendAreas.indexOf(r))>-1&&this._drawableTrendAreas.splice(i,1),(i=this.trendAreaConfigs.indexOf(r.config))>-1&&this.trendAreaConfigs.splice(i,1),r.cleanUp(),a=!0;break}if(a){for(this._trends=[],this._drawableTrends=[],this._validTrends=[],this.setXAxes([]),this.setYAxes([]),n=this.trendAreas.length,i=0;i<n;i++)r=this.trendAreas[i],this._trends=this._trends.concat(r.trends),this._drawableTrends=this._drawableTrends.concat(r.drawableTrends),this._validTrends=this._validTrends.concat(r.drawableTrends),this.setXAxes(this.getXAxes().concat(r.getXAxes())),this.setYAxes(this.getYAxes().concat(r.getYAxes()));this.matchGraphs(!0),this.matchAxes(!0),this.initializeAxisFeatures(),this.needsRulerDataCalc()&&this.calculateRulerData(),this.allAreasDrawn?e.Data.PostPropertyUpdate.Redraw=!0:e.Data.PostPropertyUpdate.CreateDrawableCollection=!0}},t.prototype.removeTrendFromCollections=function(e){var t;(t=this._trends.indexOf(e))>-1&&this._trends.splice(t,1),(t=this._drawableTrends.indexOf(e))>-1&&(this._drawableTrends.splice(t,1),(t=this._validTrends.indexOf(e))>-1&&this._validTrends.splice(t,1))},t.prototype.removeVAFromCollections=function(e,t){var i;(i=e.indexOf(t))>-1&&e.splice(i,1)},t.prototype.removeTAFromCollections=function(t,i){var r;(r=t.indexOf(i))>-1&&t.splice(r,1),e.isAppModeRuntime()&&(this.layoutDrawn&&this.setAnimationFactors(),this.isOnline()&&0===t.length&&this.removeAxisTimer())},t.prototype.addVAToCollections=function(e,t){-1===e.indexOf(t)&&e.push(t)},t.prototype.createOrBufferTrendArea=function(t){var i;return void 0!==t.Name&&""!==t.Name&&(this.createNewTrendArea(t),e.Data.PostPropertyUpdate.CreateDrawableCollection=!0,i=!0),i},t.prototype.createOrBufferPart=function(t,i,r){var n,a=!1;switch(t.Type){case"TrendAreaPart":case"FunctionTrendAreaPart":this.createOrBufferTrendArea(t);break;case"TrendPart":case"FunctionTrendPart":(n=this.getTrendWindowByPartId(r))&&(n.addNewTrend(t),e.Data.PostPropertyUpdate.Redraw=!0);break;case"YValueAxisPart":(n=this.getTrendWindowByPartId(r))&&void 0!==t.Name&&""!==t.Name&&(this.addVAToCollections(this.getYAxes(),n.addNewAxis(t,i)),e.Data.PostPropertyUpdate.Redraw=!0);break;case"XValueAxisPart":(n=this.getTrendWindowByPartId(r))&&void 0!==t.Name&&""!==t.Name&&(this.addVAToCollections(this.getXAxes(),n.addNewAxis(t,i)),e.Data.PostPropertyUpdate.Redraw=!0);break;case"TimeAxisPart":(n=this.getTrendWindowByPartId(r))&&void 0!==t.Name&&""!==t.Name&&(this.addTAToCollections(n.addNewAxis(t,i)),e.Data.PostPropertyUpdate.Redraw=!0);break;default:a=!0}return a},t.prototype.removePart=function(t,i,r){var n,a,o=!1;switch(t.Type){case"TrendAreaPart":case"FunctionTrendAreaPart":this.removeTrendArea(t.ElementID);break;case"TrendPart":case"FunctionTrendPart":(n=this.getTrendWindowByPartId(r))&&((a=n.removeTrend(t.ElementID))&&this.removeTrendFromCollections(a),e.Data.PostPropertyUpdate.Redraw=!0);break;case"YValueAxisPart":(n=this.getTrendWindowByPartId(r))&&(a=n.removeAxis(t.ElementID,i))&&(this.removeVAFromCollections(this.getYAxes(),a),e.Data.PostPropertyUpdate.Redraw=!0);break;case"XValueAxisPart":(n=this.getTrendWindowByPartId(r))&&(a=n.removeAxis(t.ElementID,i))&&(this.removeVAFromCollections(this.getXAxes(),a),e.Data.PostPropertyUpdate.Redraw=!0);break;case"TimeAxisPart":(n=this.getTrendWindowByPartId(r))&&(a=n.removeAxis(t.ElementID,i))&&(this.removeTAFromCollections(this.getXAxes(),a),this.allAreasDrawn?e.Data.PostPropertyUpdate.Redraw=!0:e.Data.PostPropertyUpdate.CreateDrawableCollection=!0);break;default:o=!0}return o},t.prototype.updateArrayPart=function(e,t,i,r){var n,a;if(e.length>t.length)for(n=e.length,a=0;a<n;a++)0===t.filter((function(t){return t.ElementID===e[a].ElementID})).length&&this.createOrBufferPart(e[a],i,r)&&t.push(e[a]);else for(a=t.length-1;a>=0;a--)0===e.filter((function(e){return e.ElementID===t[a].ElementID})).length&&this.removePart(t[a],i,r)&&t.splice(a,1)},t.prototype.findAndUpdateModifiedProp=function(e,t,i,r){var n;if(Array.isArray(e)&&e.length!==t.length)this.updateArrayPart(e,t,i.split(".").pop(),r);else for(n in e)"object"==typeof e[n]?this.updateObjInObj(e,t,n,i):e[n]!==t[n]&&this.modifiedProperty.push({propertyName:n,updatedValue:e[n],path:i})},t.prototype.updateObjInObj=function(e,t,i,r){"EndTime"===i||"BeginTime"===i?e[i][0]===t[i][0]&&e[i][1]===t[i][1]||this.modifiedProperty.push({propertyName:i,updatedValue:e[i],path:r}):(void 0===t[i]&&(Array.isArray(e)?t[i]=[]:t[i]={}),this.findAndUpdateModifiedProp(e[i],t[i],r+"."+i,e.ElementID))},t.prototype.setObjectToUpdate=function(t,i,r){var n,a,o=e.Data.TrendViewPartType;switch(t){case o.Trends:case o.FunctionTrends:n=this.trendAreas[r].trends,a="trendToUpdate";break;case o.Config:n=this.trendAreas,a="trendWindowToUpdate";break;case o.BottomTimeAxes:case o.BottomValueAxes:n=this.trendAreas[r].bottomAxes,a="xAxisToUpdate";break;case o.TopTimeAxes:case o.TopValueAxes:n=this.trendAreas[r].topAxes,a="xAxisToUpdate";break;case o.LeftValueAxes:n=this.trendAreas[r].leftAxes,a="yAxisToUpdate";break;case o.RightValueAxes:n=this.trendAreas[r].rightAxes,a="yAxisToUpdate";break;default:return}n[i]&&(this[a]=n[i])},t.prototype.updateProperty=function(t,i,r,n){var a,o=e.Data.ElementId;switch(t){case o.Trend:(a=this.trendToUpdate)&&(a.OnUpdate(i,r),e.isAppModeRuntime()&&this.calculateRulerData());break;case o.XAxis:(a=this.xAxisToUpdate)&&a.OnUpdate(i,r);break;case o.YAxis:(a=this.yAxisToUpdate)&&a.OnUpdate(i,r,n);break;case o.TrendWindow:(a=this.trendWindowToUpdate)&&a.OnUpdate(i,r)}},t.prototype.handleChartAttributeChange=function(t){var i,r=e.Data.ChartTemplateAttributes;switch(t.propertyName){case r.AreaSpacing:i=parseInt(t.updatedValue,10),this.areaSpacing!==i&&(this.allAreasDrawn?e.Data.PostPropertyUpdate.Redraw=!0:i<this.areaSpacing&&(e.Data.PostPropertyUpdate.CreateDrawableCollection=!0),this.areaSpacing=i);break;case r.Online:i=e.Utilities.convertToBool(this.chart.getAttribute("online")),this.online!==i&&(this.online=i,this.setStartStop());break;case r.ShiftAxes:i=e.Utilities.convertToBool(this.chart.getAttribute("shift-axes")),this.shiftAxes!==i&&(this.shiftAxes=i,this.updateOrientationProperties(),this.trendObjectType===e.Data.TrendObjectType.Function&&this.updateRulerOrientation(),this.resetRulerIndicators(),this.allAreasDrawn?e.Data.PostPropertyUpdate.Redraw=!0:e.Data.PostPropertyUpdate.CreateDrawableCollection=!0);break;case r.ShowRuler:i=e.Utilities.convertToBool(this.chart.getAttribute("show-ruler")),this.showRuler!==i&&(this.showRuler=i,this.enableDisableRuler())}},t.prototype.handlePropertyChange=function(t){var i,r,n;(i=t.path)&&(r=(n=i.split("."))[0])===e.Data.TrendViewPartType.Config&&(isNaN(n[1])&&n.splice(1,0,"0"),2===n.length||"Ruler"===(r=n[2])||"StatisticRulers"===r?this._updateConfigPart(t,n,r):this._findAndUpdateObject(t,n)),this.updatePropInConfig(t.propertyName,t.updatedValue,i)},t.prototype._updateConfigPart=function(t,i,r){var n,a,o,s,l;l=parseInt(i[1],10),this.setObjectToUpdate(e.Data.TrendViewPartType.Config,l,null),n=i.length>2?e.Data[r]:e.Data.TrendWindowPropId,o=t.propertyName,s=t.updatedValue,(a=n[o])&&this.updateProperty(e.Data.ElementId.TrendWindow,a,s)},t.prototype._findAndUpdateObject=function(t,i){var r,n,a,o,s,l,u=e.Data.TrendViewPartType;switch(l=i[2],s=parseInt(i[3],10),this.setObjectToUpdate(l,s,parseInt(i[1],10)),l){case u.Trends:case u.FunctionTrends:r=5===i.length?e.Data[i[4]]:e.Data.TrendPropId,a=t.propertyName,o=t.updatedValue,(n=r[a])&&this.updateProperty(e.Data.ElementId.Trend,n,o);break;case u.BottomTimeAxes:case u.TopTimeAxes:case u.BottomValueAxes:case u.TopValueAxes:r=5===i.length?e.Data[i[4]]:e.Data.AxisPropId,a=t.propertyName,o=t.updatedValue,(n=r[a])&&this.updateProperty(e.Data.ElementId.XAxis,n,o);break;case u.LeftValueAxes:case u.RightValueAxes:a=t.propertyName,o=t.updatedValue,5===i.length?r=e.Data[i[4]]:6===i.length?(a=i[4],r=e.Data.AxisPropId):r=e.Data.AxisPropId,(n=r[a])&&this.updateProperty(e.Data.ElementId.YAxis,n,o,{modifiedProp:t.propertyName,pathItems:i.slice(4)})}},t.prototype.updatePropInConfig=function(e,t,i){var r,n,a=[];if("config"===i)this.config[e]=t;else{for(r=this.config,a=i.split("."),n=1;n<a.length;n++)r=r[a[n]];r[e]=t}return a},t.prototype.setTrendDisplayNames=function(t){var i,r,n,a,o,s,l,u;for(s=[],r=(i=this.getTrend()).length,n=0;n<r;n++)s.push(i[n].trendDisplayText);if(o=e.getTextByID("TBID_TrendPB_Trend_NewTrendName"),t){for(a=t,l=0;l<r;++l)if(u=o+(l+1),-1===s.indexOf(u)){a.trendDisplayText=u;break}}else for(n=0;n<r;++n)if(!1===(a=i[n]).tryFillDisplayName())for(l=0;l<r;++l)if(u=o+(l+1),-1===s.indexOf(u)){a.trendDisplayText=u,s[n]=u;break}},t.prototype.enableDisablePinchAndScroll=function(e){var t,i,r;for(i=(t=this.getDrawableTrendWindow()).length,r=0;r<i;r++)t[r].trendWindowDrawn&&t[r].enableDisablePinchAndScroll(e)},t.prototype.enableDisableOriginalView=function(){var e;e=-1!=this.dp.callFunction("setOriginalViewByCosideringAllCharts").indexOf(!0),this.dp.enableDisableOriginalView(e)},t.prototype.setOriginalViewByCosideringAllCharts=function(){var e,t,i,r,n=!1;for(e=(r=this.getYAxes()).length,t=0;t<e;t++)if(r[t].zoomInOutCount>0){n=!0;break}if(!n)for(e=(i=this.getXAxes()).length,t=0;t<e;t++)if(i[t].zoomInOutCount>0){n=!0;break}return n&&!this.oneToOneView?this.oneToOneView=!0:!n&&this.oneToOneView&&(this.oneToOneView=!1),this.oneToOneView},t.prototype.hasVerticalScrollbar=function(){var e,t,i,r,n;for(i=this._drawableTrendAreas.length,this.yAxesScrollbar=!1,e=0;e<i;e++)for(n=(r=this._drawableTrendAreas[e].getYAxes()).length,t=0;t<n;t++)if(r[t].zoomInOutCount>0){this.yAxesScrollbar=!0;break}},t.prototype.removeScrollbars=function(){var e,t;for(e=0;e<this._drawableTrendAreas.length;e++)(t=this._drawableTrendAreas[e]).trendWindowDrawn&&t.removeScrollbars()},t.prototype.resetTrendsCollection=function(){var e,t,i,r;for(t=this.trendAreas.length,i=[],r=[],e=0;e<t;e++)i=i.concat(this.trendAreas[e].trends),r=r.concat(this.trendAreas[e].drawableTrends);this.setTrendsCollection(i),this.setDrawableTrendsCollection(r)},t.prototype.graphsSelectionChanged=function(){var e,t;for(t=this.trendAreas.length,e=0;e<t;e++)this.trendAreas[e].graphsSelectionChanged()},t.prototype.updateDrawableTrends=function(e){var t,i,r,n=null,a=this.trendAreas.length;for(t=0;t<a;t++){if((n=this.trendAreas[t]).config.Visible&&0!==n.config.SizeFactor)n.trendWindowDrawn||e.push(n.config.Name),n.index=this._drawableTrendAreas.length,this._drawableTrendAreas.push(n),n.createDrawableTrendsCollection();else for(n.setLayoutSuccess(!1),n.clearDrawableTrends(),r=n.trends.length,i=0;i<r;i++)n.trends[i].currentTrendWindow=null;this._drawableTrends=this._drawableTrends.concat(n.drawableTrends)}},t.prototype.isStyleChange=function(){var e=!1;return this.dp&&"function"==typeof this.dp.isStyleChange&&(e=this.dp.isStyleChange()),e},t.prototype.initializeTimeAxis=function(){this.trendObjectType===e.Data.TrendObjectType.Online&&this.getXAxes().forEach((function(e){e.initializeBeginEndTimes()}))},t.prototype.initializeRunningTimeAxes=function(t){if(this.trendObjectType===e.Data.TrendObjectType.Online){t.getXAxes().forEach((function(e){this._runningTimeAxesList.tryAdd(e.axisPbId)}),this)}},t.prototype.remove=function(){this.layouter.cleanUp(),this.dp&&(this.dp.unRegister&&!this.isStyleChange()&&this.dp.unRegister(),this.dp=null),e.ChartBalancer.unregister(this.rtoid,this.layoutBalancerId),this._resubTimeoutID&&(clearTimeout(this._resubTimeoutID),this._resubTimeoutID=null),Array.isArray(this.config)?this.trendAreaConfigs=this.config=[]:(this.trendAreaConfigs=[],this.config={}),this.trendAreas=[],this._drawableTrendAreas=[],this._drawableTrends=[],this._trends=[],this._validTrends=[],this.modifiedProperty=[],this.dirtyList=[],this._undrawnTrendData={},this._invalidateCheckArray={},this._disconnectedDataSources={},this.layoutDrawn=this.layoutBalancerId=this.SVGParent=this.rulerFeature=this.graphsFeature=this.featureList=this.Hammer=this.trendControlAnimator=this.layouter=this.svgToolTipHighLighterGroup=this.svgTooltipGroup=this.toolTipHighlighterCircle=this.toolTipHighlighterRect=this.data=null},t.prototype.clearDrawableTrendAreas=function(){this._drawableTrendAreas.length=0},t.prototype.clearAllTagList=function(){var e,t,i;for(t=0;t<this._drawableTrendAreas.length;t++)for(e=this._drawableTrendAreas[t],i=0;i<e.drawableTrends.length;i++)e.drawableTrends[i].clearTagList()},t.prototype.onEnabledChanged=function(){this.enabled=this.RTPUItem.Store.props.Enabled,this.enabled?this._initHammer():this._unInitHammer()},t.prototype.onModified=function(){},t.prototype.resetIsStartTimeModifiedProperty=function(){},t.EPOCH_DIFFERENCE=116444736e5,t.TICKS_PER_MILLISECOND=1e4,t.EXPO_POSITION_LIMIT=1e6,t}();e.TrendViewBase=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i._xAxes=[],i._yAxes=[],i._updateObject={},i._getQualityCode=e.Utilities.getQualityOfValue,i.trendTagListsSaved=!1,i}return r(i,t),i.prototype.addToUndrawnData=function(e,t){this._undrawnTrendData[e]?this._undrawnTrendData[e].tagValues=this._undrawnTrendData[e].tagValues.concat(t):this._undrawnTrendData[e]={tagValues:t}},i.prototype._onRedraw=function(){var t,i,r,n,a,o,s,l=new e.Data.GenericList,u=new e.Data.GenericList;for(t=0;t<this._drawableTrendAreas.length;t++){for(i=(a=this._drawableTrendAreas[t]).drawableTrends.length,o=s=!1,r=0;r<i;r++)n=a.drawableTrends[r],this.online&&(this._updateObject[n.name]&&this._updateObject[n.name].updateRequiredY&&(this.moveAxes||this.moveTrendArea||-1!==u.tryAdd(n.yAxis)||n.currentYAxis.invalidate(n.currentYAxis.zoomInOutCount>0,!0)&&(s=!0)),this._updateObject[n.name]&&this._updateObject[n.name].updateRequiredX&&(this.moveAxes||this.moveTrendArea||-1!==l.tryAdd(n.xAxis)||n.currentXAxis.invalidate(n.currentXAxis.zoomInOutCount>0,!0)&&(o=!0)));u.clear(),l.clear(),i>0&&(o||s)&&a.resetTrendWindow(o,s)}this.showRuler&&this.trendCompanionConstUpdate&&this.online&&this.trendControlAnimator.requestRulerDataCalculation(!0),this._updateObject={},l=null,u=null},i.prototype.startAxisTimer=function(){this._leastTimeAxisAnimInterval=1e3,this.trendControlAnimator.startAxisTimer(this._boundAxisAnim,this._leastTimeAxisAnimInterval)},i.prototype.removeAxisTimer=function(){this.trendControlAnimator.removeAxisTimer(this._boundAxisAnim)},i.prototype.addTAToCollections=function(){},i.prototype.setTagNames=function(e){var t,i,r,n=this._trends.length;if(null!==e.TagNameData)for(t=0;t<n;t++)r=!1,(i=e.TagNameData[this._trends[t].dataSourceX.Tag])&&(this._trends[t].dataSourceX.TagDisplayName=i[0],null===i[1]?this._trends[t].cpmPathX="":this._trends[t].cpmPathX=i[1],r=!0),(i=e.TagNameData[this._trends[t].dataSourceY.Tag])&&(this._trends[t].dataSourceY.TagDisplayName=i[0],null===i[1]?this._trends[t].cpmPathY="":this._trends[t].cpmPathY=i[1],r=!0),r&&this._trends[t].updateTrendDisplayText()},i.prototype._getEndTimeToCurr=function(e){var t,i,r,n,a,o=(new Date).getTime(),s=this._trends.length;for(r=[],t=0;t<s;t++)n=(i=this._trends[t]).axisBeginValue,a=i.axisEndValue,e||i.rangeType!==i._rangeType.TimeRange||(n=o-i.calculateTimeRange(),a=o),r.push({elementID:i.config.ElementID,currentBeginTime:n,currentEndTime:a});return r},i.prototype._getCurrStartEndValue=function(){var e,t,i,r,n,a,o=this._xAxes.length,s=this._yAxes.length;for(r=[],i=0;i<o;i++)n=(e=this._xAxes[i]).currentBeginValue,a=e.currentEndValue,r.push({elementID:e.config.ElementID,currentBeginValue:n,currentEndValue:a});for(i=0;i<s;i++)n=(t=this._yAxes[i]).currentBeginValue,a=t.currentEndValue,r.push({elementID:t.config.ElementID,currentBeginValue:n,currentEndValue:a});return r},i.prototype._setDataProviderEvents=function(i){var r;this.dp||(this.dp=i.Store.control.handler.getDataProvider(i.Store),this.dp&&this.dp.register&&(t.prototype._setDataProviderBaseEvents.call(this),r=e.Data.ZoomMoveOperationVars,this.dp.register("onZoomXAxisPlusMinusCommand",this.setZoomAndMove.bind(this,r.zoomInOutX)),this.dp.register("onZoomYAxisPlusMinusCommand",this.setZoomAndMove.bind(this,r.zoomInOutY)),this.dp.register("onRedraw",this._onRedraw.bind(this))))},i.prototype.onRead=function(t){var i,r,n,a,o,s,l,u,h,d,c,p,m,g,T,f,y,D=t.length,S=[];for(i=0;i<D;i++)if(f=[],this._drawableTrendAreas.length>0&&(n=this._drawableTrendAreas[0].idToDrawableTrendMap[Object.keys(t[i])[0]])&&t[i][n.partId]){for(h=(r=t[i][n.partId]).value,l=r.timeStamp,u=r.quality,p=!1,d=(s=r.tag).length,m=0;m<d;m++)if(s[m]===n.dataSourceY.Tag&&-1===f.indexOf(m)){for(f.push(m),y=e.Data.FunctionTrendDataStatus.tagYRecieved,(c=new e.ChartElements.Point).yTagValue=h[m],c.timeStamp=l[m],n.previousYTagQualityTemp=c.qualityCode=this._getQualityCode(u[m]),n.previousYTagValueTemp=c.yTagValue,o=s.length,g=0;g<o;g++)if(s[g]===n.dataSourceX.Tag&&-1===f.indexOf(g)){f.push(g),y=e.Data.FunctionTrendDataStatus.tagXYRecieved,n.previousXTagValueTemp=h[g],n.previousXTagQualityTemp=this._getQualityCode(u[g]),l[g]>c.timeStamp&&(c.timeStamp=l[g]);break}c.xTagValue=n.previousXTagValueTemp,c.qualityCode>n.previousXTagQualityTemp&&(c.qualityCode=n.previousXTagQualityTemp),null!==c.xTagValue&&null!==c.yTagValue&&S.push(c),c=null,p=!0}if(!p)for(o=s.length,m=0;m<o;m++)if(s[m]===n.dataSourceX.Tag&&-1===f.indexOf(m)){f.push(m),y=e.Data.FunctionTrendDataStatus.tagXRecieved,n.previousXTagValueTemp=h[m],n.previousXTagQualityTemp=this._getQualityCode(u[m]),(c=new e.ChartElements.Point).xTagValue=n.previousXTagValueTemp,c.yTagValue=n.previousYTagValueTemp,c.timeStamp=l[m],n.previousYTagQualityTemp&&n.previousYTagQualityTemp>n.previousXTagQualityTemp?c.qualityCode=n.previousXTagQualityTemp:c.qualityCode=n.previousYTagQualityTemp,null!==c.xTagValue&&null!==c.yTagValue&&S.push(c),c=null;break}S.length&&(!1===n.parentTrendWindow.trendWindowDrawn?this.addToUndrawnData(n.partId,S):(a=n.onTagListChanged(S,!0,y),this._updateObject[n.name]?(!1===this._updateObject[n.name].updateRequiredY&&(this._updateObject[n.name].updateRequiredY=a.updateRequiredY),!1===this._updateObject[n.name].updateRequiredX&&(this._updateObject[n.name].updateRequiredX=a.updateRequiredX)):this._updateObject[n.name]=a,(a.updateRequiredY||a.updateRequiredX)&&(T=!0))),S=[]}T&&this._onRedraw()},i.prototype.onHistoricalRead=function(t){var i,r,n,a,o,s,l,u,h,d,c,p,m,g,T,f=[],y=[],D=[],S=[],b=[],C={},v=new e.Data.GenericList,P=new e.Data.GenericList,_=new e.Data.GenericList,A=[],w=[],x=[],V=[],E=[],I={};for(p in t)if(this._drawableTrendAreas.length>0&&(m=this._drawableTrendAreas[0].idToDrawableTrendMap[p])&&t[m.partId])for(T in t[m.partId]){if(E=t[m.partId][T],void 0===I[m.partId]&&(I[m.partId]={tagValueArrY:null,tagValueArrX:null}),E.tagArray,f=E.yvalue,A=E.xvalue,w=E.quality,Array.isArray(f)){for(d=f.length,r=0;r<d;r++)c=new e.ChartElements.Point,"tagValueArrY"===T?c.yTagValue=f[r]:c.xTagValue=f[r],c.timeStamp=A[r],c.qualityCode=this._getQualityCode(w[r]),S.push(c);c&&"tagValueArrY"===T?m.previousYTagValueTemp=c.yTagValue:c&&"tagValueArrX"===T&&(m.previousXTagValueTemp=c.xTagValue)}if(I[m.partId][T]=S,I[m.partId].tagValueArrY&&I[m.partId].tagValueArrX){if(y=I[m.partId].tagValueArrY,(D=I[m.partId].tagValueArrX).length>0&&y.length>0)for(n=l=a=g=null,length=D.length,d=y.length,i=r=0;i<length||r<d;)(o=D[i]?D[i].timeStamp:null)===(s=y[r]?y[r].timeStamp:null)?(y[r].xTagValue=D[i].xTagValue,g=y[r].qualityCode,a=D[i].qualityCode,y[r].qualityCode>D[i].qualityCode&&(y[r].qualityCode=D[i].qualityCode),b.push(y[r]),n=y[r].xTagValue,l=y[r].yTagValue,i++,r++):null===s||null!==o&&o<s?(a=D[i].qualityCode,null!==l&&(D[i].yTagValue=l,D[i].qualityCode>g&&(D[i].qualityCode=g),b.push(D[i])),n=D[i].xTagValue,i++):(g=y[r].qualityCode,null!==n&&(y[r].xTagValue=n,y[r].qualityCode>a&&(y[r].qualityCode=a),b.push(y[r])),l=y[r].yTagValue,r++);I[m.partId].tagValueArrX=null,I[m.partId].tagValueArrY=null,I[m.partId]=null,delete I[m.partId]}b.length&&(C=m.onTagListChanged(b,!1),(u=m.currentTrendWindow)&&u.trendWindowDrawn&&(_.tryAdd(m.trendWindow),C.updateRequiredY&&(this.moveAxes||this.moveTrendArea||v.tryAdd(m.currentYAxis.axisPbId))),C.updateRequiredX&&(this.moveAxes||this.moveTrendArea||P.tryAdd(m.currentXAxis.axisPbId)),b=[]),S=[],y=[],D=[]}for(d=P.items.length,i=0;i<d;i++)(h=this.getXAxisByPbId(P.items[i])).invalidate(h.zoomInOutCount>0)&&-1!==(r=_.findIndexByName(h.trendWindow))&&(x[r]=!0);for(d=v.items.length,i=0;i<d;i++)(h=this.getYAxisByPbId(v.items[i])).invalidate(h.zoomInOutCount>0)&&-1!==(r=_.findIndexByName(h.trendWindow))&&(V[r]=!0);for(d=_.items.length,i=0;i<d;i++)(u=this.getDrawableTrendWindowByName(_.items[i]))&&u.resetTrendWindow(x[i],V[i]);P.clear(),v.clear(),_.clear(),x=[],V=[],P=null,v=null,_=null,E=m=u=I=c=null},i.prototype.resetZoom=function(t){var i,r,n=new e.Data.GenericList,a=!1;for(this.oneToOneView=!1,this.dp&&this.dp.enableDisableOriginalView(!1),i=this._yAxes.length,r=0;r<i;r++)this._yAxes[r].resetZoom(n);for(i=this._xAxes.length,r=0;r<i;r++)this._xAxes[r].resetZoom(n);for(r=0;r<n.items.length;r++)this.getTrendWindowByName(n.items[r]).resetZoomCount(),a=!0;a&&this.redraw(),this.needsRulerDataCalc()&&this.calculateRulerData(),n.clear(),n=null},i.prototype.create=function(i){return this.trendObjectType=e.Data.TrendObjectType.Function,this._boundAxisAnim=this.handleTimeChange.bind(this),t.prototype.create.call(this,i)},i.prototype.setAnimationFactors=function(){},i.prototype.needsRulerDataCalc=function(){return this.getShowRuler()},i.prototype.handleTimeChange=function(){var e,t=this._drawableTrends.length,i=!1;for(e=0;e<t;e++)this._drawableTrends[e].removeUnusedTimeValues()&&(i=!0);return!!i&&(this._invalidateAllAxes(),this.drawTrends(),!0)},i.prototype.addToDisconnectedSources=function(){},i.prototype.createDrawableCollections=function(t){var i,r,n,a,o,s=null,l={},u=!1;this._drawableTrendAreas=[],this._drawableTrends=[],this._validTrends=[],o=[],this.updateDrawableTrends(o),t&&(t.yAxis&&this.getYAxisByPbId(t.yAxis).invalidate(),t.xAxis&&this.getXAxisByPbId(t.xAxis).invalidate()),this.createParentWindow(),this.drawLayout(),this._drawableTrends=[];var h=this._drawableTrendAreas.length;for(i=0;i<h;i++)(s=this._drawableTrendAreas[i]).trendWindowDrawn?(this._drawableTrends=this._drawableTrends.concat(s.drawableTrends),this._validTrends=this._validTrends.concat(s.drawableTrends),o.indexOf(s.name)>-1&&(this.requestHistoricalData(s.name),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)):(s.clearDrawableTrends(),s.stopValueAxisAnimation());for(r in null!==this.newlyDrawnTrendWindowIndex&&(this.requestHistoricalData(this._drawableTrendAreas[this.newlyDrawnTrendWindowIndex].config.Name),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.newlyDrawnTrendWindowIndex=null),this.drawTrends(),this._undrawnTrendData)this._undrawnTrendData.hasOwnProperty(r)&&(n=this.getDrawableTrendByPartId(parseInt(r,10)))&&(l=this._undrawnTrendData[r],delete this._undrawnTrendData[r],a=n.onTagListChanged(l.tagValues,!0),u=!0,this._updateObject[n.name]?(!1===this._updateObject[n.name].updateRequiredY&&(this._updateObject[n.name].updateRequiredY=a.updateRequiredY),!1===this._updateObject[n.name].updateRequiredX&&(this._updateObject[n.name].updateRequiredX=a.updateRequiredX)):this._updateObject[n.name]=a,l=null);u&&this._onRedraw()},i.prototype.createDrawableTrendsCollection=function(){var e,t=this._drawableTrendAreas.length;for(this._drawableTrends=[],e=0;e<t;e++)this._drawableTrendAreas[e].trendWindowDrawn&&(this._drawableTrends=this._drawableTrends.concat(this._drawableTrendAreas[e].drawableTrends))},i.prototype.setStartStop=function(){var t=e.isAppModeRuntime();this.isOnline()?(this.isZooming||this.enableDisablePinchAndScroll(!1),this.saveTrendTagLists(),this.handleTimeChange()||(this._invalidateAllAxes(),this.drawTrends()),t&&this.startAxisTimer()):(!this.isZooming&&t&&this.enableDisablePinchAndScroll(!0),this.saveTrendTagLists(),this.removeAxisTimer())},i.prototype.saveTrendTagLists=function(){var e,t,i=this._drawableTrends.length;for(this.trendTagListsSaved=!this.online,e=0;e<i;e++)(t=this._drawableTrends[e]).saveTagList(),this.isOnline()||(t.axisEndValueOnPaused=(new Date).getTime())},i.prototype._invalidateAllAxes=function(){var e,t,i,r;for(t=(e=this.getXAxes()).length,r=0;r<t;r++)(i=e[r]).invalidate(i.zoomInOutCount>0);for(t=(e=this.getYAxes()).length,r=0;r<t;r++)(i=e[r]).invalidate(i.zoomInOutCount>0)},i.prototype.getShowStatisticRuler=function(){return!1},i.prototype.disableAxesMove=function(){var t,i,r,n,a=null,o=null,s=new e.Data.GenericList;for(i=this._yAxes.length,t=0;t<i;t++)a=this._yAxes[t],this.getDrawableTrendWindowByName(a.trendWindow)&&a.config.Visible&&a.disableAxesMove(!this.enabled||this.moveTrendArea,s);for(s.clear(),i=this._xAxes.length,t=0;t<i;t++)a=this._xAxes[t],this.getDrawableTrendWindowByName(a.trendWindow)&&a.config.Visible&&a.disableAxesMove(this.moveTrendArea,s);if(s.clear(),!this.moveTrendArea){for(n=this._drawableTrendAreas.length,r=0;r<n;r++)(o=this._drawableTrendAreas[r]).trendWindowDrawn&&o.resetTrendWindow();this.needsRulerDataCalc()&&this.calculateRulerData()}a=o=null,s=null},i.prototype.enableAxesMove=function(){var e,t,i=null;for(t=this._xAxes.length,e=0;e<t;e++)i=this._xAxes[e],this.getDrawableTrendWindowByName(i.trendWindow)&&i.config.Visible&&i.enableAxesMove();for(t=this._yAxes.length,e=0;e<t;e++)i=this._yAxes[e],this.getDrawableTrendWindowByName(i.trendWindow)&&i.config.Visible&&i.enableAxesMove()},i.prototype.getXAxes=function(){return this._xAxes},i.prototype.getYAxes=function(){return this._yAxes},i.prototype.setXAxes=function(e){this._xAxes=e},i.prototype.setYAxes=function(e){this._yAxes=e},i.prototype.remove=function(){var e,i=this.trendAreas.length;for(e=0;e<i;e++)this.trendAreas[e].cleanUp(),this.trendAreas[e]=null;this.trendControlAnimator.cleanUp(),this._xAxes=[],this._yAxes=[],t.prototype.remove.call(this)},i.prototype.requestHistoricalData=function(t){var i,r,n=this._drawableTrendAreas.length,a=[],o={beginTime:[],endTime:[],points:[],clientHandles:[]};if(e.isAppModeRuntime()){for(i=0;i<n;i++)r=this._drawableTrendAreas[i],t&&r.config.Name!==t||r.trendWindowDrawn&&r.requestHistoricalData(o,a);a.length&&this.dp&&this.dp.requestData(o.beginTime,o.endTime,o.points,a,o.clientHandles,e.Data.MoveToType.MoveToSpecifiedTime)}},i.prototype.drawLayout=function(){var t;return t=this.layouter.drawLayout(this.chart.dom),(this.layoutDrawn=t)&&this._balanceXAxisWidths(),e.ChartBalancer.balanceCharts(this.rtoid,this.layoutBalancerId,0),t},i.prototype.resetIsStartTimeModifiedProperty=function(){var e,t,i,r;for(e=0;e<this._drawableTrendAreas.length;e++)for(r=(i=this._drawableTrendAreas[e]).drawableTrends.length,t=0;t<r;t++)i.drawableTrends[t].isStartTimeModified=!1},i}(e.TrendViewBase);e.FunctionTrendView=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(){this.drawableTrends=[],this.trends=[],this.bottomAxes=[],this.topAxes=[],this.rightAxes=[],this.leftAxes=[],this.templateStroke=!1,this.templateStrokeWidth=!1,this.vertGridTranslate=0,this.horizGridTranslate=0,this.trendCount=0,this._rect=null,this._horizontalElementsGroup=null,this._verticalElementsGroup=null,this._xAxisCollection=[],this._yAxisCollection=[],this._trendsCollection=[],this._displayValueRectFlag=!1,this._currentDragPoint={x:0,y:0},this._deltaX=0,this._deltaY=0,this._zoomRect=null,this._zoomRectStartPt=null,this._zoomXCount=0,this._zoomYCount=0,this._zoomScale=1,this._invertColor=e.Utilities.getInvertedColor,this.enableDisablePinchAndScroll=null,this.enableTrendAreaMove=null}return i.prototype._createAxes=function(){var e,i,r,n,a,o,s,l=0;for(r=this._trendView.axisTypeEnum,s=this.getIsLeftOrRight(),this.bottomAxes=[],(e=this.config["Bottom"+this._xAxisElementType])&&(l=e.length),o=s?this._trendView.alignmentEnum.Bottom:this._trendView.alignmentEnum.Left,i=0;i<l;i++)void 0===(n=e[i]).LabelFont&&(n.LabelFont=this._trendView.RTPUItem.Store.props.Font),(a=new t[this._xAxisElementClass]).align=o,a.init(n,this._trendView,this,r.xAxis),this.bottomAxes.push(a);for(this.topAxes=[],l=0,(e=this.config["Top"+this._xAxisElementType])&&(l=e.length),o=s?this._trendView.alignmentEnum.Top:this._trendView.alignmentEnum.Right,i=0;i<l;i++)void 0===(n=e[i]).LabelFont&&(n.LabelFont=this._trendView.RTPUItem.Store.props.Font),(a=new t[this._xAxisElementClass]).align=o,a.init(n,this._trendView,this,r.xAxis),this.topAxes.push(a);for(this.leftAxes=[],l=0,(e=this.config.LeftValueAxes)&&(l=e.length),o=s?this._trendView.alignmentEnum.Left:this._trendView.alignmentEnum.Top,i=0;i<l;++i)void 0===(n=e[i]).LabelFont&&(n.LabelFont=this._trendView.RTPUItem.Store.props.Font),(a=new t.ValueAxis).align=o,a.init(n,this._trendView,this,r.yAxis),this.leftAxes.push(a);for(this.rightAxes=[],l=0,(e=this.config.RightValueAxes)&&(l=e.length),o=s?this._trendView.alignmentEnum.Right:this._trendView.alignmentEnum.Bottom,i=0;i<l;++i)void 0===(n=e[i]).LabelFont&&(n.LabelFont=this._trendView.RTPUItem.Store.props.Font),(a=new t.ValueAxis).align=o,a.init(n,this._trendView,this,r.yAxis),this.rightAxes.push(a)},i.prototype._createTrends=function(){var i,r,n,a,o=0,s=0;for(this.initTrendColl(),o=0,(i=this.config[this._trendElementName])&&(o=i.length),r=0;r<o;++r)n=i[r],(a=new t[this._trendElementClass]).initialize(n,this,this._trendView),a.index=r,this.trends.push(a),this.idToTrendMap[a.partId]=a,!this.visible||a.currentXAxis&&a.currentYAxis&&!a.tagInvalid||(this._trendView.trendObjectType===e.Data.TrendObjectType.Online?this._trendView.addToDisconnectedSources(a.name,a.dataSource.Tag):this._trendView.addToDisconnectedSources(a.name,a.dataSourceY.Tag,a.dataSourceX.Tag)),a.trendStyle===e.getChromEnum("HmiTrendMode").Value&&(this._displayValueRectFlag=!0),this.visible&&0!==this.config.SizeFactor&&a.config.Visible&&a.currentXAxis&&a.currentYAxis&&(this.addToDrawableTrends(a),this._trendView.trendObjectType===e.Data.TrendObjectType.Function?this.config.SelectedFunctionTrend===a.config.ElementID&&(this.selectedTrend=a,this._ruler.setMinMaxRulerTrend()):this.config.SelectedTrend===a.config.ElementID&&(this.selectedTrend=a,this._ruler.setMinMaxRulerTrend())),a.config.Visible&&s++;this.config.VisibleTrendCount=s,this._trendView.RTPUItem.setHmiProps(s,"HmiProps.VisibleTrendCount")},i.prototype._zoomInOut=function(t){var i,r;i=this._zoomInOutXAxis(t,!1),((r=this._zoomInOutYAxis(t,!1))||i)&&(this._trendView.redrawForScrollbars?(e.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,e.Data.PostPropertyUpdate.DoNotRequestData=!1):this.resetTrendWindow(i,r),this._afterZoomFunc(i))},i.prototype._zoomInOutXAxis=function(t,r){var n,a,o,s,l=!1;for(a=this._isLeftOrRight?this._currentDragPoint.x:this._currentDragPoint.y,this.config.Name,s=(o=this.getXAxes()).length,n=0;n<s;n++)o[n].zoomInOut(a,t)&&(l=!0);return l&&((t===i.LEFT_CLICK&&1==++this._zoomXCount||t===i.RIGHT_CLICK&&0==--this._zoomXCount)&&(this._trendView.redrawForScrollbars=!0),r?(this._trendView.redrawForScrollbars?(e.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,e.Data.PostPropertyUpdate.DoNotRequestData=!1):this.resetTrendWindow(l),this._afterZoomFunc(!0)):this._trendView.needsRulerDataCalc()&&this._trendView.calculateRulerData()),l},i.prototype._zoomInOutYAxis=function(t,r){var n,a,o,s,l=!0,u=!1;for(o=(a=this.getYAxes()).length,s=this._isLeftOrRight?this._currentDragPoint.y:this._currentDragPoint.x,n=0;n<o;n++)a[n].zoomInOut(s,t)&&(u=!0);return u&&this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(l=!1),u&&((t===i.LEFT_CLICK&&1==++this._zoomYCount||t===i.RIGHT_CLICK&&0==--this._zoomYCount)&&(this._trendView.redrawForScrollbars=!0),r&&(this._trendView.redrawForScrollbars?(e.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,e.Data.PostPropertyUpdate.DoNotRequestData=!1):this.resetTrendWindow(null,u)),this._trendView.needsRulerDataCalc()&&l&&this._trendView.calculateRulerData()),u},i.prototype._initZoomRect=function(t){var i,r,n;n=t?.2:.5,i=this._zoomRectStartPt.x,r=this._zoomRectStartPt.y,this._zoomRect=e.Features.Shape.SvgShape.CreateSvgElement("rect",{fill:this._invertColor(this.backColor),"fill-opacity":n,"stroke-width":0,x:i,y:r,width:0,height:0}),this._eventFocusElements.appendChild(this._zoomRect)},i.prototype._updateZoomRect=function(e,t){var i,r,n,a,o,s;i=this._innerRect.left,r=this._innerRect.left+this._innerRect.width,n=this._innerRect.top,a=this._innerRect.top+this._innerRect.height,this._currentDragPoint.x<i?this._currentDragPoint.x=i:this._currentDragPoint.x>r&&(this._currentDragPoint.x=r),this._currentDragPoint.y<n?this._currentDragPoint.y=n:this._currentDragPoint.y>a&&(this._currentDragPoint.y=a),o=this._currentDragPoint.y-this._zoomRectStartPt.y,s=this._currentDragPoint.x-this._zoomRectStartPt.x,this._trendView.zoomInOutX||t?this._isLeftOrRight?o=this._innerRect.height:s=this._innerRect.width:(this._trendView.zoomInOutY||e)&&(this._isLeftOrRight?s=this._innerRect.width:o=this._innerRect.height),s<0?(this._zoomRect.setAttributeNS(null,"x",this._currentDragPoint.x),s=Math.abs(s)):this._zoomRect.setAttributeNS(null,"x",this._zoomRectStartPt.x),o<0?(this._zoomRect.setAttributeNS(null,"y",this._currentDragPoint.y),o=Math.abs(o)):this._zoomRect.setAttributeNS(null,"y",this._zoomRectStartPt.y),this._zoomRect.setAttributeNS(null,"height",o),this._zoomRect.setAttributeNS(null,"width",s)},i.prototype._setAxesZoomed=function(){var e,t,i=this.getXAxes(),r=i.length;for(this._zoomXCount=0,this._zoomYCount=0,t=0;t<r;t++)this._zoomXCount=(e=i[t].zoomInOutCount)>this._zoomXCount?e:this._zoomXCount;for(r=(i=this.getYAxes()).length,t=0;t<r;t++)this._zoomYCount=(e=i[t].zoomInOutCount)>this._zoomYCount?e:this._zoomYCount},i.prototype._getPos=function(e){var t;return(t={x:0,y:0}).x=e.pointers[0].clientX,t.y=e.pointers[0].clientY,t},i.prototype.getRulerView=function(){return this._ruler},i.prototype.moveToPerc=function(t,i,r,n,a,o){var s,l,u,h,d,c=e.Data.TextOrientation;for(l=(s=i===this._trendView.axisTypeEnum.yAxis?this.getYAxes():this.getXAxes()).length,u=0;u<l;u++)(h=s[u]).zoomInOutCount>0&&(h.moveToPerc(t),r&&(d=h.textOrientation===c.FromRight||h.textOrientation===c.FromBottom?n:!n,h.requestHistoricalData(d,a,o,!0)))},i.prototype.zoomArea=function(){var e,t,i,r,n,a,o,s,l,u,h,d=!1,c=!1;if(o=(a=Number(this._zoomRect.getAttribute("x")))+Number(this._zoomRect.getAttribute("width")),s=(n=Number(this._zoomRect.getAttribute("y")))+Number(this._zoomRect.getAttribute("height")),this._trendView.isLeftOrRight()?(e=a,t=o,i=s,r=n):(e=n,t=s,i=a,r=o),this._currentDragPoint={x:0,y:0},this._zoomRectStartPt=null,this._eventFocusElements.removeChild(this._zoomRect),this._zoomRect=null,!this._trendView.zoomInOutY)for(h=(u=this.getXAxes()).length,l=0;l<h;l++)u[l].zoomArea(e,t)&&(d=!0);if(!this._trendView.zoomInOutX)for(h=(u=this.getYAxes()).length,l=0;l<h;l++)u[l].zoomArea(i,r)&&(c=!0);(d||c)&&(this._zoomXCount&&this._zoomYCount||(this._trendView.redrawForScrollbars=!0),this._setAxesZoomed(),this._trendView.redrawForScrollbars||this.resetTrendWindow(d,c),this._afterZoomFunc(d))},i.prototype.pinchScrollZoom=function(e,t){var r,n,a,o,s,l,u,h,d=!1,c=!1;if(r=t/this._zoomScale,h=!this._zoomXCount||!this._zoomYCount,this._zoomScale=t,this._currentDragPoint.x=e.x*this._innerRect.width+this._innerRect.left,this._currentDragPoint.y=e.y*this._innerRect.height+this._innerRect.top,t<1){if(u=i.RIGHT_CLICK,!this._zoomXCount&&!this._zoomYCount)return}else{if(!(t>1))return;u=i.LEFT_CLICK}for(this._isLeftOrRight?(n=this._currentDragPoint.x-this._innerRect.left,a=this._currentDragPoint.y-this._innerRect.top):(a=this._currentDragPoint.x-this._innerRect.left,n=this._currentDragPoint.y-this._innerRect.top),l=(s=this.getXAxes()).length,o=0;o<l;o++)s[o].zoomByScale(n,r)&&(d=!0);for(l=(s=this.getYAxes()).length,o=0;o<l;o++)s[o].zoomByScale(a,r)&&(c=!0);(d||c)&&(this._setAxesZoomed(),(u===i.LEFT_CLICK&&h||u===i.RIGHT_CLICK&&(!this._zoomXCount||!this._zoomYCount))&&(this._trendView.redrawForScrollbars=!0),this._trendView.redrawForScrollbars||this.resetTrendWindow(d,c),this._afterZoomFunc(d))},i.prototype._afterZoomFunc=function(t){var i=!0;this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(t?(this._trendView.forceTimeAxisDrawn=!0,this._trendView.requestHistoricalData(!0,this.config.Name),this._trendView.forceTimeAxisDrawn=!1):i=!1),this._trendView.needsRulerDataCalc()&&i&&this._trendView.calculateRulerData()},i.prototype.onPinchScrollEnd=function(){this._zoomScale=1},i.prototype.doPinchScrollZoom=function(t,i){var r;r={x:0,y:0},this._currentDragPoint=t,this._eventManager.translateCoordinates(this._currentDragPoint),r.x=(this._currentDragPoint.x-this._innerRect.left)/this._innerRect.width,r.y=(this._currentDragPoint.y-this._innerRect.top)/this._innerRect.height,this.pinchScrollZoom(r,i),this._trendView.redrawForScrollbars&&(e.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.redrawForScrollbars=!1,e.Data.PostPropertyUpdate.DoNotRequestData=!1)},i.prototype.endPinchScrollZoom=function(){this.onPinchScrollEnd()},i.prototype.onSingleTap=function(e){var t,r=i.LEFT_CLICK;t=e.pointers[0],"mouse"===e.pointerType&&t.which===i.LEFT_CLICK&&(t.altKey||t.shiftKey)&&(r=i.RIGHT_CLICK),this._currentDragPoint=this._getPos(e),this._eventManager.translateCoordinates(this._currentDragPoint),this._trendView.zoomInOut?this._zoomInOut(r):this._trendView.zoomInOutX?this._zoomInOutXAxis(r,!0):this._trendView.zoomInOutY&&this._zoomInOutYAxis(r,!0)},i.prototype.twoFingerSingleTap=function(e,t){this._currentDragPoint=t?e:this._getPos(e),this._eventManager.translateCoordinates(this._currentDragPoint),this._trendView.zoomInOut?this._zoomInOut(i.RIGHT_CLICK):this._trendView.zoomInOutX?this._zoomInOutXAxis(i.RIGHT_CLICK,!0):this._trendView.zoomInOutY&&this._zoomInOutYAxis(i.RIGHT_CLICK,!0)},i.prototype.onPan=function(t){var i,r,n;if(t.preventDefault(),this._trendView.moveTrendArea)if(t.eventType===this.Hammer.INPUT_MOVE)this._panMoveForMoveArea(t);else{if(this._trendView.trendObjectType===e.Data.TrendObjectType.Online)for(this._trendView.dp.sendRequest(),n=(i=this.getXAxes()).length,r=0;r<n;r++)i[r].switchOffPanDials();this._deltaX=0,this._deltaY=0}else(this._trendView.zoomArea||this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&(t.eventType===this.Hammer.INPUT_MOVE?this._panMoveForZooming(t):t.eventType===this.Hammer.INPUT_END&&(this.zoomArea(),this._trendView.redrawForScrollbars&&(e.Data.PostPropertyUpdate.DoNotRequestData=!0,this._trendView.onUpdate(),this._trendView.secondaryRulerToolTip&&this._trendView.calculateRulerData(),this._trendView.redrawForScrollbars=!1,e.Data.PostPropertyUpdate.DoNotRequestData=!1)))},i.prototype._panMoveForMoveArea=function(t){var i,r,n,a,o,s,l,u=null,h=null,d=!1,c=1,p={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]};if(l=[0],c<1&&-1===navigator.appName.indexOf("Microsoft")||(c=1),r=this._getPos(t),this._deltaX=t.deltaX-this._deltaX,this._deltaY=t.deltaY-this._deltaY,this._currentDragPoint.x=r.x-this._deltaX/c,this._currentDragPoint.y=r.y-this._deltaY/c,this._deltaX=t.deltaX,this._deltaY=t.deltaY,this._isLeftOrRight?this._deltaX:this._deltaY){for(d=!0,s=(n=this.getXAxes()).length,o=0;o<s;o++)u=n[o],i=this._isLeftOrRight?u.calculateAxisMoveEndValues(r.x,this._currentDragPoint.x):u.calculateAxisMoveEndValues(r.y,this._currentDragPoint.y),this._trendView.trendObjectType===e.Data.TrendObjectType.Online?u.requestHistoricalData(i,p,l):u.calculateAndUpdate();p.chromIds.length&&this._trendView.dp.addRequest(p.beginTime,p.endTime,p.points,p.chromIds,p.clientHandles,l[0],p.aggMode,!0)}if(this._isLeftOrRight?this._deltaY:this._deltaX)for(this._trendView.trendObjectType===e.Data.TrendObjectType.Function&&(d=!0),s=(a=this.getYAxes()).length,o=0;o<s;o++)h=a[o],this._isLeftOrRight?h.calculateAxisMoveEndValues(r.y,this._currentDragPoint.y):h.calculateAxisMoveEndValues(r.x,this._currentDragPoint.x),h.invalidated=!0,h.calculateAndUpdate();if(this._trendView.trendObjectType===e.Data.TrendObjectType.Function)this.resetTrendWindow();else{var m=void 0;for(o=this.drawableTrends.length-1;o>=0;o--)(m=this.drawableTrends[o]).recalculateWithTranslate(),m.trendModeObj.updateTrend()}this._trendView.needsRulerDataCalc()&&d&&this._trendView.calculateRulerData(),p.endTime=[],p.beginTime=[],p.chromIds=[],p.points=[],p.clientHandles=[],p.aggMode=[]},i.prototype._panMoveForZooming=function(e){this._currentDragPoint=this._getPos(e),this._eventManager.translateCoordinates(this._currentDragPoint),this._zoomRect||(this._zoomRectStartPt=this._currentDragPoint,this._zoomRectStartPt.x-=e.deltaX,this._zoomRectStartPt.y-=e.deltaY,this._trendView.zoomInOutX?this._isLeftOrRight?this._zoomRectStartPt.y=this._innerRect.top:this._zoomRectStartPt.x=this._innerRect.left:this._trendView.zoomInOutY&&(this._isLeftOrRight?this._zoomRectStartPt.x=this._innerRect.left:this._zoomRectStartPt.y=this._innerRect.top),this._initZoomRect()),this._updateZoomRect()},i.prototype.setIsLeftOrRight=function(e){this._isLeftOrRight=e,this._eventManager.setIsLeftOrRight(e)},i.prototype.getMinMaxRulerWidth=function(){var e,t;return e=0,this._ruler.isMinMaxRulerEnabled()&&this.selectedTrend&&(t=this.selectedTrend.currentYAxis)&&(e=this._isLeftOrRight?this._ruler.minMaxTextBBox.width+t.MajorTickSize+t.LabelToMajorTickSpace+this._trendView.getLineWidth()+t.LabelToBorderSpace:2*this._ruler.minMaxTextBBox.height+t.MajorTickSize+t.LabelToMajorTickSpace+this._trendView.getLineWidth()+t.LabelToBorderSpace),e},i.prototype.getRulerHandleWidthHeight=function(){var e;return(e=this._ruler.getRulerHandleWidthHeight()).xAxesCount=this.topAxes.length+this.bottomAxes.length,e.yAxesCount=this.leftAxes.length+this.rightAxes.length,e},i.prototype.minMaxRulerEnabled=function(){return this._ruler.isMinMaxRulerEnabled()},i.prototype.init=function(t,r){if(t){var n=e.getChromEnum("HmiGridLine");this._trendView=r,this._trendView.trendObjectType===e.Data.TrendObjectType.Online?(this._parentCollectionName="TrendAreas",this._elementName="TrendAreaPart",this._trendElementName="Trends",this._trendElementClass="OnlineTrend",this._xAxisElementType="TimeAxes",this._xAxisElementClass="TimeAxis"):(this._parentCollectionName="FunctionTrendAreas",this._elementName="FunctionTrendAreaPart",this._trendElementName="FunctionTrends",this._trendElementClass="FunctionTrend",this._xAxisElementType="ValueAxes",this._xAxisElementClass="ValueAxis"),void 0===t[this._trendElementName]&&(t[this._trendElementName]=[]),void 0===t.LeftValueAxes&&(t.LeftValueAxes=[]),void 0===t.RightValueAxes&&(t.RightValueAxes=[]),void 0===t["Bottom"+this._xAxisElementType]&&(t["Bottom"+this._xAxisElementType]=[]),void 0===t["Top"+this._xAxisElementType]&&(t["Top"+this._xAxisElementType]=[]),this.config=t,this.verticalMajorGrid=(n.VerticalMajor&this.config.GridLines)===n.VerticalMajor,this.horizontalMajorGrid=(n.HorizontalMajor&this.config.GridLines)===n.HorizontalMajor,this.horizontalMinorGrid=(n.HorizontalMinor&this.config.GridLines)===n.HorizontalMinor,this.verticalMinorGrid=(n.VerticalMinor&this.config.GridLines)===n.VerticalMinor,this.coarseGridColor=e.getRGBAcolor(this.config.MajorGridLinesColor),this.fineGridColor=e.getRGBAcolor(this.config.MinorGridLinesColor),this.backColor=e.getRGBAcolor(this.config.BackColor),this.visible=this.config.Visible,this.spacePortion=this.config.SizeFactor,this._isLeftOrRight=r.isLeftOrRight(),this._lineWidth=this._trendView.getLineWidth(),this.ruler=this.config.Ruler,this.rulerColor=e.getRGBAcolor(this.ruler.Color),this.rulerColor2=e.getRGBAcolor(e.getDarkercolor(this.ruler.Color,i.COLOR_SHADE_CONST)),this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(this.statisticRulers=this.config.StatisticRulers,this.statisticRulerColor=e.getRGBAcolor(this.statisticRulers.Color),this.statisticRulerColor2=e.getRGBAcolor(e.getDarkercolor(this.statisticRulers.Color,i.COLOR_SHADE_CONST))),this._id=(this._trendView.getControlName()+"_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this._clipPathId=this._id+"_clipPath",this._verticalRulerClipPathId=this._id+"_verticalRuler_clipPath",this._trendView.trendObjectType===e.Data.TrendObjectType.Function&&(this._horizontalRulerClipPathId=this._id+"_horizontalRuler_clipPath"),this._eventRectId=this._id+"_eventRect",this._ruler=new e.ChartElements.RulerView(this._trendView,this,this._id),this._eventManager=new e.ChartElements.TrendWindowEventManager(this._trendView,this,this._id,this._ruler),this._eventManager.init()}this.vertGridTranslate=0,this.horizGridTranslate=0,this.topAxes=[],this.bottomAxes=[],this.leftAxes=[],this.rightAxes=[],this.initTrendColl()},i.prototype.initTrendsAndAxes=function(){this._createAxes(),this._createTrends(),!this.selectedTrend&&this.drawableTrends.length>0&&(this.selectedTrend=this.drawableTrends[0],this._trendView.trendObjectType===e.Data.TrendObjectType.Function?this.config.SelectedFunctionTrend=this.selectedTrend.config.ElementID:this.config.SelectedTrend=this.selectedTrend.config.ElementID,this._ruler.setMinMaxRulerTrend()),this._ruler.updateAssociatedAxes(),this._ruler.setRulerHandleDim()},i.prototype.initializeAxisFeatures=function(){var e,t,i;for(t=(e=this.leftAxes).length,i=0;i<t;i++)e[i].initScaleFeatures();for(t=(e=this.rightAxes).length,i=0;i<t;i++)e[i].initScaleFeatures();for(t=(e=this.topAxes).length,i=0;i<t;i++)e[i].initScaleFeatures();for(t=(e=this.bottomAxes).length,i=0;i<t;i++)e[i].initScaleFeatures()},i.prototype.graphsSelectionChanged=function(){var t,i;t=this._trendView.graphsFeature,this.selectedTrend&&(t.bringOnTop&&!1===t.keepSelection&&this.selectedTrend!==this.trends[0]&&(i=this.config[this._trendElementName].indexOf(this.selectedTrend.config),this.config[this._trendElementName].splice(i,1),this.config[this._trendElementName].unshift(this.selectedTrend.config),i=this.drawableTrends.indexOf(this.selectedTrend),this.drawableTrends.splice(i,1),this.drawableTrends.unshift(this.selectedTrend),i=this.trends.indexOf(this.selectedTrend),this.trends.splice(i,1),this.trends.unshift(this.selectedTrend)),this.selectedTrend.trendStyle===e.getChromEnum("HmiTrendMode").Value?this.setTrendDisplayValuePositions():this.cleanTrendsForReorder(),this.drawTrends())},i.prototype.setSelectedTrend=function(t){var i,r,n,a=this._trendView.trendObjectType===e.Data.TrendObjectType.Online,o=this._trendView.trendObjectType===e.Data.TrendObjectType.Function,s=!1,l=!1,u=!1,h=!1,d=!1;(r=this.drawableTrends[t])&&r!==this.selectedTrend&&(this.selectedTrend&&(void 0===(i=this.selectedTrend.getMinMaxThresholds()).maximumValue&&void 0===i.minimumValue||(s=!0),this.selectedTrend.trendStyle===e.getChromEnum("HmiTrendMode").Value?d=!0:h=!0),this.selectedTrend=r,void 0===(i=this.selectedTrend.getMinMaxThresholds()).maximumValue&&void 0===i.minimumValue||(l=!0),this._trendView.graphsFeature&&this._trendView.graphsFeature.bringOnTop&&(u=!0,!1===this._trendView.graphsFeature.keepSelection&&(d=h=!1,n=this.config[this._trendElementName].indexOf(this.selectedTrend.config),this.config[this._trendElementName].splice(n,1),this.config[this._trendElementName].unshift(this.selectedTrend.config),this.drawableTrends.splice(t,1),this.drawableTrends.unshift(this.selectedTrend),n=this.trends.indexOf(this.selectedTrend),this.trends.splice(n,1),this.trends.unshift(this.selectedTrend),this._trendView.dp.moveTrendTopMost(this.selectedTrend.config.ElementID),this._trendView.resetTrendsCollection(),this._trendView.unmatchGraphs(!1,[this]),this._trendView.matchGraphs(!0,[this]))),this.selectedTrend.trendStyle===e.getChromEnum("HmiTrendMode").Value?d=!0:h=!0),this.resetGridLines(),this._ruler.setMinMaxRulerTrend(),s!==l?u?e.Data.PostPropertyUpdate.Redraw=!0:e.Data.PostPropertyUpdate.Update=!0:u&&(h&&this.cleanTrendsForReorder(),d&&this.setTrendDisplayValuePositions(),this.drawTrends()),this._ruler.updateMinMaxRulers(),r=null,(a&&(this._trendView.currProjectVersion>=17||""===this._trendView.currProjectVersion)||o)&&(this._ruler.updateAssociatedAxes(),this._ruler.updateVerticalRulerLabels()),o&&this._ruler._rulerHoriz.updateRuler()},i.prototype.resetGridLines=function(){var e,t,i,r="selected";for(i=(t=this.getYAxes()).length,e=0;e<i;e++)t[e].gridlineFeature&&t[e].gridlineFeature.Attributes.show===r&&(t[e].resetGridlineAttributes(),t[e].calculateAndUpdate());for(i=(t=this.getXAxes()).length,e=0;e<i;e++)t[e].gridlineFeature&&t[e].gridlineFeature.Attributes.show===r&&(t[e].resetGridlineAttributes(),t[e].calculateAndUpdate())},i.prototype.cleanTrendsForReorder=function(){var e,t,i;for(t=this.drawableTrends.length,e=0;e<t;e++)(i=this.drawableTrends[e].svgGroup.trendPlaceHolder)&&this._eventFocusElements.contains(i)&&this._eventFocusElements.removeChild(i)},i.prototype.createDrawableTrendsCollection=function(){var e,t,i;for(e=this.trends.length,this.clearDrawableTrends(),t=0;t<e;++t)i=this.trends[t],this.config.Visible&&0!==this.config.SizeFactor?i.currentTrendWindow=this:i.currentTrendWindow=null,i.config.Visible&&i.currentXAxis&&i.currentYAxis&&this.addToDrawableTrends(i);null===this.selectedTrend&&this.drawableTrends.length>0&&(this.selectedTrend=this.drawableTrends[0],this._ruler.setMinMaxRulerTrend())},i.prototype.drawTrends=function(){var t,i,r,n,a;for(n=(r=this._trendView.graphsFeature)&&r.bringOnTop&&r.keepSelection,t=this.drawableTrends.length-1;t>=0;t--)i=this.drawableTrends[t],n&&i===this.selectedTrend?a=i:this._trendView.trendObjectType===e.Data.TrendObjectType.Function?(i.clearNewPoints(),i.recalculateX(this._trendView.trendTagListsSaved),i.recalculateY(this._trendView.trendTagListsSaved),i.recalculateNewPoints(),i.draw(this._trendView.trendTagListsSaved)):(i.recalculate(),i.draw(!1));a&&(this._trendView.trendObjectType===e.Data.TrendObjectType.Function?(a.clearNewPoints(),a.recalculateX(this._trendView.trendTagListsSaved),a.recalculateY(this._trendView.trendTagListsSaved),a.recalculateNewPoints(),a.draw(this._trendView.trendTagListsSaved)):(a.recalculate(),a.draw(!1))),i=a=null},i.prototype.stopValueAxisAnimation=function(){var t,i;for(t=this.leftAxes.length,i=0;i<t;i++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.leftAxes[i].axisPbId);for(t=this.rightAxes.length,i=0;i<t;i++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.rightAxes[i].axisPbId);if(this._trendView.trendObjectType===e.Data.TrendObjectType.Function){for(t=this.bottomAxes.length,i=0;i<t;i++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.bottomAxes[i].axisPbId);for(t=this.topAxes.length,i=0;i<t;i++)this._trendView.trendControlAnimator.removeValueAxisAnimation(this.topAxes[i].axisPbId)}},i.prototype.getXAxisByName=function(e){var t,i,r;for(i=(r=this.bottomAxes.concat(this.topAxes)).length,t=0;t<i;t++)if(r[t].config.Name===e)return r[t];return null},i.prototype.getYAxisByName=function(e){var t,i,r;for(i=(r=this.rightAxes.concat(this.leftAxes)).length,t=0;t<i;t++)if(r[t].config.Name===e)return r[t];return null},i.prototype.getXAxisByPartId=function(e){var t,i,r;for(i=(r=this.bottomAxes.concat(this.topAxes)).length,t=0;t<i;t++)if(r[t].config.ElementID===e)return r[t];return null},i.prototype.getYAxisByPartId=function(e){var t,i,r;for(i=(r=this.rightAxes.concat(this.leftAxes)).length,t=0;t<i;t++)if(r[t].config.ElementID===e)return r[t];return null},i.prototype.moveTrendDown=function(t){var i,r,n,a,o,s=0,l=!0,u=!0;return a=(n=this._trendView.graphsFeature)&&n.bringOnTop,o=this._trendView.trendObjectType===e.Data.TrendObjectType.Function?this.config.SelectedFunctionTrend:this.config.SelectedTrend,i=this.trends.length,(r=this.idToTrendMap[t])&&(s=this.trends.indexOf(r)),s<i-1&&(t===o?a&&(n.keepSelection?u=!1:l=!1):this.trends[s+1].config.ElementID===this.config.SelectedTrend&&a&&(u=!1),l&&(r=this.config[this._trendElementName][s],this.config[this._trendElementName][s]=this.config[this._trendElementName][s+1],this.config[this._trendElementName][s+1]=r,r=this.trends[s],this.trends[s]=this.trends[s+1],this.trends[s+1]=r,(s=this.drawableTrends.indexOf(r))>-1&&s<this.drawableTrends.length-1&&(this.drawableTrends[s]=this.drawableTrends[s+1],this.drawableTrends[s+1]=r,u&&r.trendModeObj.swapWithNextTrend(this.drawableTrends[s])))),r},i.prototype.updateTrendsInConfig=function(e){var t;t=this.config[this._trendElementName].splice(e).concat(this.config[this._trendElementName]),this.config[this._trendElementName]=t},i.prototype.getBackColor=function(){return this.backColor},i.prototype.setTrendDisplayValuePositions=function(t){var i,r,n,a,o,s,l,u,h,d,c,p;if((a=(i=t||this.drawableTrends).length)>0)for((p=this._trendView.graphsFeature)&&p.bringOnTop&&p.keepSelection&&this.selectedTrend&&(r=i.indexOf(this.selectedTrend))>0&&((i=i.slice(0)).splice(r,1),i.unshift(this.selectedTrend)),c=i[0].currentYAxis.bBoxText.height,this._isLeftOrRight?(u=(l=this._innerRect.top)+this._innerRect.height,o=l+c,s=2.5*c):(o=(u=(l=this._innerRect.left)+this._innerRect.width)-c,s=-1*c,h=1.5*c/2),r=0;r<a;++r)(n=i[r]).trendStyle===e.getChromEnum("HmiTrendMode").Value&&(d=n.getDisplayValueWidth(),this._isLeftOrRight?h=1.5*d/2:o-=1.5*d,n.displayValueAttr={start:l,end:u,position:o,positionToBoxCoord:h,height:1.5*c,width:1.5*d},o+=s)},i.prototype.onValueTrendModePositionChange=function(t){var i,r,n,a,o,s,l,u=0,h=0;for(r=[],(l=this._trendView.graphsFeature)&&l.bringOnTop&&l.keepSelection&&this.selectedTrend&&(n=this.drawableTrends.indexOf(this.selectedTrend))>0?((i=this.drawableTrends.slice(0)).splice(n,1),i.unshift(this.selectedTrend)):i=this.drawableTrends,o=s=i.length,n=0;n<s;n++)(a=i[n]).name===t&&(o=n,h=r.length),a.trendStyle===e.getChromEnum("HmiTrendMode").Value&&(r.push(a),u=n);return r.length>0&&o<=u?(this.setTrendDisplayValuePositions(r),r=r.slice(h)):r=[],r},i.prototype.getXAxes=function(){return this.topAxes?this.topAxes.concat(this.bottomAxes):this.bottomAxes},i.prototype.getYAxes=function(){return this.leftAxes?this.leftAxes.concat(this.rightAxes):this.rightAxes},i.prototype.getAxesZoomed=function(){return{xZoomed:this._zoomXCount,yZoomed:this._trendView.yAxesScrollbar}},i.prototype.setXZoomCount=function(e){this._zoomXCount+=e},i.prototype.resetZoomCount=function(){this._zoomXCount>0&&this._eventManager.removeHScroll(),this._zoomYCount>0&&this._eventManager.removeVScroll(),this._zoomXCount=0,this._zoomYCount=0,this._zoomScale=1},i.prototype.removeScrollbars=function(){this._eventManager.removeHScroll(),this._eventManager.removeVScroll(),this.scrollBarGroup=null},i.prototype.createDisplayValueRectParentGroup=function(){this._displayValueRectParentGroup=e.Features.Shape.SvgShape.CreateSvgElement("g",{id:"DisplayValueRectParentGroup_"+this._id,"text-anchor":"middle"}),this._eventFocusElements.appendChild(this._displayValueRectParentGroup)},i.prototype.draw=function(t,i){var r,n;return n=e.Features.Shape.SvgShape.CreateSvgElement,this._trendView.getLineColor(),this._lineWidth,r=n("defs",{appendTo:this._svgParent}),this._clipPath=n("clipPath",{id:this._clipPathId,appendTo:r}),this._verticalRulerClipPath=n("clipPath",{id:this._verticalRulerClipPathId,appendTo:r}),this._horizontalRulerClipPath=n("clipPath",{id:this._horizontalRulerClipPathId,appendTo:r}),this._trendWindowElements=n("g",{id:this._id+"_trendWindowElements","clip-path":"url(#"+this._clipPathId+")",appendTo:this._svgParent}),this._eventFocusElements=n("g",{id:this._id+"_eventFocusElements","clip-path":"url(#"+this._clipPathId+")",appendTo:this._svgParent}),this._horizontalElementsGroup=n("g",{id:this._id+"_HorizontalElements",transform:"translate(0,0)",appendTo:this._trendWindowElements}),this.horizMatrix=this._horizontalElementsGroup.transform.baseVal.getItem(0).matrix,this._verticalElementsGroup=n("g",{id:this._id+"_VerticalElements",transform:"translate(0,0)",appendTo:this._trendWindowElements}),this.vertMatrix=this._verticalElementsGroup.transform.baseVal.getItem(0).matrix,this._eventRect=n("rect",{id:this._eventRectId,"data-tif-id":this._eventRectId,stroke:"none","fill-opacity":0}),this._trendView.Hammer&&e.isAppModeRuntime()&&this._trendView.isEnabled()&&this.initHammer(),this._eventFocusElements.appendChild(this._eventRect),this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&this._displayValueRectFlag&&this.createDisplayValueRectParentGroup(),e.isAppModeRuntime()?(this._eventManager.drawRuler(),this._trendView.getShowRuler()?this._ruler.showRuler():this._ruler.hideRuler(),this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(this._trendView.getShowStatisticRuler()?this.showStatisticRuler():this._ruler.hideStatisticRuler())):(this._ruler.draw(),this._trendView.getShowRuler()?this._ruler.showRuler():this._ruler.hideRuler(),this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(this._trendView.getShowStatisticRuler()?this.showStatisticRuler():this._ruler.hideStatisticRuler())),this.update(),r=null,this._svgParent},i.prototype.initHammer=function(){this.Hammer=this._trendView.Hammer,this._eventManager.initHammer(),this._trendView.isZooming?this.enableTrendAreaMove():this._trendView.isOnline()||this.enableDisablePinchAndScroll(!0)},i.prototype.unInitHammer=function(){this._eventManager.unInitHammer()},i.prototype.setLayoutSuccess=function(e){var t,i;if(this.trendWindowDrawn!==e){for(this.trendWindowDrawn=e,i=this.leftAxes.length,t=0;t<i;t++)this.leftAxes[t].trendWindowDrawable=e;for(i=this.rightAxes.length,t=0;t<i;t++)this.rightAxes[t].trendWindowDrawable=e;for(i=this.bottomAxes.length,t=0;t<i;t++)this.bottomAxes[t].trendWindowDrawable=e;for(i=this.topAxes.length,t=0;t<i;t++)this.topAxes[t].trendWindowDrawable=e}},i.prototype.update=function(){var t;t=e.Features.Shape.SvgShape.SetAttributes,this._clipPath.lastChild&&this._clipPath.removeChild(this._clipPath.lastChild),this._trendDrawableAreaRect=e.Features.Shape.SvgShape.CreateSvgElement("rect",{rect:this._innerRect,appendTo:this._clipPath}),this._updateClipRects(),t(this._eventRect,{rect:this._innerRect}),this._ruler.setRulerHandleDim(),this._ruler.update(),this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&this.setTrendDisplayValuePositions(),this.trendWindowDrawn},i.prototype.updateMarkerGraphic=function(e){},i.prototype.drawScrollbars=function(){this._eventManager.drawScrollbars(this._zoomXCount,this._zoomYCount)},i.prototype.updateScrollbars=function(){this._eventManager.updateScrollbars(this._zoomXCount,this._zoomYCount)},i.prototype.drawHorizScrollbar=function(e){return this._eventManager.drawHorizScrollbar(e,this._zoomXCount,this.scrollBarGroup)},i.prototype.drawVertScrollbar=function(){return this._eventManager.drawVertScrollbar(this._zoomYCount,this.scrollBarGroup)},i.prototype.updateHorizScrollbar=function(){return this._eventManager.updateHorizScrollbar(this._zoomXCount)},i.prototype.updateVertScrollbar=function(){return this._eventManager.updateVertScrollbar(this._zoomYCount)},i.prototype.setScrollbarRef=function(e,t){e&&(this._horizontalScrollbar=e),t&&(this._verticalScrollbar=t)},i.prototype.setRect=function(e,t){this._rect=e,this._innerRect=t},i.prototype.getClipPathId=function(){return this._clipPathId},i.prototype.getHorizontalRulerClipPathId=function(){return this._horizontalRulerClipPathId},i.prototype.getVerticalRulerClipPathId=function(){return this._verticalRulerClipPathId},i.prototype.getEventRectId=function(){return this._eventRectId},i.prototype.getRect=function(){return this._innerRect},i.prototype.getDisplayValueRectParentGroup=function(){return this._displayValueRectParentGroup},i.prototype.setSVG=function(e,t){this._svgParent=e,this._svgParent.setAttribute("id",this._id),this._trendWindowRect=t,this._trendWindowRect.setAttribute("id",this._id+"_rect")},i.prototype.getSVG=function(){return this._svgParent},i.prototype.getEventSVG=function(){return this._eventFocusElements},i.prototype.getElement=function(){return this._trendWindowElements},i.prototype.getDrawableAreaRect=function(){return this._trendDrawableAreaRect},i.prototype.getEventRect=function(){return this._eventRect},i.prototype.getTrendViewLineColor=function(){return this._trendView.getLineColor()},i.prototype.getRedrawForScrollbars=function(){return this._trendView.redrawForScrollbars},i.prototype.getTrendViewLineWidth=function(){return this._trendView.getLineWidth()},i.prototype.isOnlineTrendControl=function(){return this._trendView.trendObjectType===e.Data.TrendObjectType.Online},i.prototype.disableTrendAreaMove=function(t,i,r,n){var a,o,s,l;if(this._eventManager.disableTrendAreaMove(i),!1===t&&this.drawableTrends.length>0){for(l=(a=this.getYAxes()).length,s=0;s<l;s++)0===(o=a[s]).zoomInOutCount&&(this._trendView.isMoveButtonClicked||this._trendView.isOnline())&&-1===r.tryAdd(o.config.Name)&&o.invalidate(),o.endValueBuffer2&&(o.endValueBuffer=o.endValueBuffer2,o.startValueBuffer=o.startValueBuffer2,o.endValueBuffer2=null,o.startValueBuffer2=null);if(this._trendView.trendObjectType===e.Data.TrendObjectType.Function)for(l=(a=this.getXAxes()).length,s=0;s<l;s++)0===(o=a[s]).zoomInOutCount&&-1===n.tryAdd(o.config.Name)&&o.invalidate();this.resetTrendWindow()}},i.prototype._reDrawFTC=function(e,t){var i,r,n,a;if(this.trendWindowDrawn)for(this._lineWidth=this._trendView.getLineWidth(),n=this.drawableTrends.length,i=0;i<n;i++)r=this.drawableTrends[i],a=!1,this._trendView.trendTagListsSaved&&r.oldTagList&&(a=!0),r.clearNewPoints(),e&&r.getXAxis()===e&&r.recalculateX(a),t&&r.getYAxis()===t&&r.recalculateY(a),r.recalculateNewPoints(),r.trendModeObj.updateTrend(a)},i.prototype._reDrawOTC=function(e,t){var i,r,n,a;if(this.trendWindowDrawn)for(this._lineWidth=this._trendView.getLineWidth(),n=this.drawableTrends.length,i=0;i<n;i++)r=this.drawableTrends[i],a=void 0,this._trendView.isOnline()?(a=!0,e&&r.getXAxis()===e&&(r.recalculateX(),a=void 0),t&&r.getYAxis()===t&&(r.recalculateY(),a=void 0)):e&&r.getXAxis()===e||t&&r.getYAxis()===t?r.recalculate():a=!0,r.trendModeObj.updateTrend(a)},i.prototype.reDraw=function(t,i){this._trendView.trendObjectType===e.Data.TrendObjectType.Online?this._reDrawOTC(t,i):this._reDrawFTC(t,i)},i.prototype.resetTrendWindow=function(t,i,r){var n,a,o,s;if(this._trendView.trendObjectType===e.Data.TrendObjectType.Function){if(t)for(this._zoomXCount=0,s=(o=this.getXAxes()).length,n=0;n<s;n++)(a=o[n]).zoomInOutCount>this._zoomXCount&&(this._zoomXCount=a.zoomInOutCount);if(i)for(this._zoomYCount=0,s=(o=this.getYAxes()).length,n=0;n<s;n++)(a=o[n]).zoomInOutCount>this._zoomYCount&&(this._zoomYCount=a.zoomInOutCount);r=this.drawableTrends}else r||(r=this.drawableTrends);this._recalculateXY(r,t,i)},i.prototype._recalculateXY=function(t,i,r){var n,a,o;for(n=t.length-1;n>=0;n--)a=t[n],this._trendView.trendObjectType===e.Data.TrendObjectType.Function?(o=!1,this._trendView.trendTagListsSaved&&a.oldTagList&&(o=!0),a.clearNewPoints(),a.recalculateX(o),a.recalculateY(o),a.recalculateNewPoints()):a.recalculate(o),a.trendModeObj.updateTrend(o);i&&this.drawHorizScrollbar(),r&&this.drawVertScrollbar(),t=null},i.prototype.rollTrendWindowWithTime=function(e){var t,i;for(t=this.drawableTrends.length-1;t>=0;t--)i=this.drawableTrends[t],e.indexOf(i.currentXAxis.axisPbId)>-1&&(i.recalculateWithRollingTime(),i.trendModeObj.updateTrend(!1))},i.prototype.setRulerValue=function(t){var i,r,n,a=e.getChromEnum("HmiTrendCompanionMode");!1===t?i=!1:(i={rulerPos:"",statRulerPos:""},this._trendView.trendObjectType===e.Data.TrendObjectType.Function?(r=this._ruler.getVertRulerPos(),n=this._ruler.getHorizRulerPos(),i.rulerPos={xPos:r,yPos:n}):((this._trendView.trendCompanionMode===a.Ruler||this._trendView.secondaryRulerToolTip)&&(i.rulerPos=this._ruler.getVertRulerPos()),this._trendView.trendCompanionMode!==a.StatisticArea&&this._trendView.trendCompanionMode!==a.StatisticResult||(i.statRulerPos=this._ruler.getStatisticRulerPos()))),this._calculateRulerValue(i)},i.prototype._calculateRulerValue=function(e){var t,i=this.drawableTrends.length;if(!e||e.rulerPos||e.statRulerPos)for(t=0;t<i;t++)this.drawableTrends[t].calculateRulerValue(e)},i.prototype.hideRuler=function(){var e;for(this._ruler.hideRuler(),e=0;e<this.trendCount;e++)this.hideRulerToolTip(this.trends[e]);this._trendView.getShowStatisticRuler()||this._eventManager.disableRulerEvents()},i.prototype.showRuler=function(){this._ruler.showRuler(),this._trendView.getShowStatisticRuler()||this._eventManager.enableRulerEvents()},i.prototype.hideStatisticRuler=function(){this._ruler.hideStatisticRuler(),this._trendView.getShowRuler()||this._eventManager.disableRulerEvents()},i.prototype.showStatisticRuler=function(){this._rulerIndicatorFeature&&this._rulerIndicatorFeature.loadStatisticRulerIndicator(this,this._trendView),this._ruler.showStatisticRuler(),this._trendView.getShowRuler()||this._eventManager.enableRulerEvents()},i.prototype.setRulerIndicatorFeature=function(e){this._rulerIndicatorFeature=e},i.prototype.updateRulerLabel=function(t){var i=this._trendView.trendObjectType===e.Data.TrendObjectType.Online,r=this._trendView.trendObjectType===e.Data.TrendObjectType.Function;i&&(this._trendView.currProjectVersion>=17||""===this._trendView.currProjectVersion)||r?t.axisType===this._trendView.axisTypeEnum.xAxis?this.selectedTrend&&t===this.selectedTrend.currentXAxis&&this._ruler.updateVerticalRulerLabels():this.selectedTrend&&t===this.selectedTrend.currentYAxis&&this._ruler.updateHorizontalRulerLabels():t.axisType===this._trendView.axisTypeEnum.xAxis?t===this.getXAxes()[0]&&this._ruler.updateVerticalRulerLabels():t===this.getYAxes()[0]&&this._ruler.updateHorizontalRulerLabels()},i.prototype.updateRulerOrientation=function(e){this._ruler.updateRulerOrientation(e)},i.prototype.removeSelectedTrend=function(){this.selectedTrend=null,this._ruler.setMinMaxRulerTrend()},i.prototype.updateRelatedTrends=function(e,t){this._trendView.setDrawableTrends()},i.prototype.updateRulerExtent=function(){this._trendView.getDrawableTrendWindowByName(this.config.Name)&&this.trendWindowDrawn&&(this._updateClipRects(),this._ruler.updateExtent())},i.prototype._updateClipRects=function(){var t,i,r,n={left:0,top:0,width:0,height:0},a={left:0,top:0,width:0,height:0};if(t=this.getMinMaxRulerWidth(),r=e.Features.Shape.SvgShape.CreateSvgElement,this._trendView.rulerFeature){var o;o=this._trendView.rulerFeature.Attributes,i=this.getRulerBounds(parseInt(o["high-extension"],10),parseInt(o["low-extension"],10))}else i=this.getRulerBounds(0,0);this._isLeftOrRight?(n.left=this._innerRect.left,n.width=this._innerRect.width,n.top=i.top,n.height=i.height,a.top=this._innerRect.top,a.height=this._innerRect.height,a.left=i.left,a.width=t?this.getMinMaxRulerExtent()-i.left+t:i.width):(n.left=i.left,n.width=i.width,n.top=this._innerRect.top,n.height=this._innerRect.height,a.left=this._innerRect.left,a.width=this._innerRect.width,t?(a.top=this.getMinMaxRulerExtent()-t,a.height=i.bottom-a.top):(a.top=i.top,a.height=i.height)),this._verticalRulerClipPath.lastChild&&this._verticalRulerClipPath.removeChild(this._verticalRulerClipPath.lastChild),r("rect",{rect:n,appendTo:this._verticalRulerClipPath}),this._horizontalRulerClipPath.lastChild&&this._horizontalRulerClipPath.removeChild(this._horizontalRulerClipPath.lastChild),r("rect",{rect:a,appendTo:this._horizontalRulerClipPath}),n=a=null},i.prototype.updateScrollBarAndRulerColor=function(){},i.prototype.addNewTrend=function(i){var r,n={TrendId:i.ElementID,TrendAreaId:this._trendView.config.ElementID};(r=new t[this._trendElementClass]).initialize(i,this,this._trendView),this.trends.push(r),this.idToTrendMap[r.partId]=r,void 0===this.config[this._trendElementName]&&(this.config[this._trendElementName]=[]),this.config[this._trendElementName].push(i),this._trendView.matchGraphs(!0,[this]),this._trendView.secondaryRulerIndicatorFeature&&this._trendView.secondaryRulerIndicatorFeature.addSecondaryToolTip(r),this.visible&&(r.currentXAxis&&r.currentYAxis&&!r.tagInvalid||(this._trendView.trendObjectType===e.Data.TrendObjectType.Online?this._trendView.addToDisconnectedSources(r.name,r.dataSource.Tag):this._trendView.addToDisconnectedSources(r.name,r.dataSourceY.Tag,r.dataSourceX.Tag)),0!==this.spacePortion&&r.visibility&&r.currentXAxis&&r.currentYAxis&&this.addToDrawableTrends(r)),this._trendView.setDrawableTrends(),void 0===i.DisplayName&&this._trendView.setTrendDisplayNames(),this._trendView.requestHistoricalData(void 0,void 0,void 0,!0,!0,!0),this._trendView.dp.sendRequest(),this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&e.isAppModeRuntime()&&this._trendView.dp.requestForStoredData(n,!0)},i.prototype.removeTrend=function(e){var t,i=this.idToTrendMap[e];return i&&(t=this.trends.indexOf(i),this._trendView.unmatchGraphs(!1,[this]),this.trends.splice(t,1),this.config[this._trendElementName].splice(t,1),delete this.idToTrendMap[e],(t=this.drawableTrends.indexOf(i))>-1&&(this.drawableTrends.splice(t,1),this.selectedTrend===i&&(this.selectedTrend=null,this.drawableTrends.length>0&&this.setSelectedTrend(0),this._ruler.setMinMaxRulerTrend()),delete this.idToDrawableTrendMap[e]),i.cleanUp(),this._trendView.trendCompanionConstUpdate&&(this._trendView.getShowRuler()||this._trendView.getShowStatisticRuler())&&this._trendView.calculateRulerData(),this.updateRulerToolTip(i),this._trendView.matchGraphs(!0,[this])),i},i.prototype.addNewAxis=function(i,r){var n,a,o,s,l,u=!1;for(n=this._trendView.axisTypeEnum,o=this.getIsLeftOrRight(),r==="Bottom"+this._xAxisElementType?(a=new t[this._xAxisElementClass],i.Position=1,this._updateBottomAxis(o,a,i,n)):r==="Top"+this._xAxisElementType?(a=new t[this._xAxisElementClass],i.Position=0,this._updateTopAxis(o,a,i,n)):"LeftValueAxes"===r?(a=new t.ValueAxis,i.Position=0,this._updateLeftAxis(o,a,i,n)):(a=new t.ValueAxis,i.Position=1,this._updateRightAxis(o,a,i,n)),void 0===this.config[r]&&(this.config[r]=[]),this.config[r].push(i),this._trendView.matchAxes(!0,this._trendView.trendAreas,this._trendView.trendAreas.indexOf(this)),a.initScaleFeatures(),this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&a.axisType===n.xAxis&&a.initializeBeginEndTimes(),s=this.trends.length,l=0;l<s;l++)u=this.trends[l].matchAxis(a)||u;return u&&this._trendView.setDrawableTrends(),a},i.prototype._updateRightAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Right:this._trendView.alignmentEnum.Bottom,t.init(i,this._trendView,this,r.yAxis),this.rightAxes.push(t)},i.prototype._updateLeftAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Left:this._trendView.alignmentEnum.Top,t.init(i,this._trendView,this,r.yAxis),this.leftAxes.push(t)},i.prototype._updateTopAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Top:this._trendView.alignmentEnum.Right,t.init(i,this._trendView,this,r.xAxis),this.topAxes.push(t),this._ruler.setRulerHandleDim(),this._ruler.updateAssociatedAxes()},i.prototype._updateBottomAxis=function(e,t,i,r){t.align=e?this._trendView.alignmentEnum.Bottom:this._trendView.alignmentEnum.Left,t.init(i,this._trendView,this,r.xAxis),this.bottomAxes.push(t),this._ruler.setRulerHandleDim(),this._ruler.updateAssociatedAxes()},i.prototype.removeAxis=function(e,t){var i,r,n,a,o;for(t==="Bottom"+this._xAxisElementType?(r=this.bottomAxes,a="Bottom"+this._xAxisElementType):t==="Top"+this._xAxisElementType?(r=this.topAxes,a="Top"+this._xAxisElementType):"LeftValueAxes"===t?(r=this.leftAxes,a="LeftValueAxes"):(r=this.rightAxes,a="RightValueAxes"),i=r.length,n=0;n<i;n++)if(r[n].config.ElementID===e){this._trendView.unmatchAxes(!1,[this]),o=r[n],r.splice(n,1),this.config[a].splice(n,1),this._ruler.setRulerHandleDim(),this._ruler.updateAssociatedAxes(),this.updateRelatedTrends(o.axisType,o.config.Name),o.cleanUp(),this._trendView.matchAxes(!0,this._trendView.trendAreas,this._trendView.trendAreas.indexOf(this)),this.initializeAxisFeatures();break}return o},i.prototype._setGridLinesProp=function(t){var i=e.getChromEnum("HmiGridLine"),r=i.None;this.verticalMajorGrid&&(r+=i.VerticalMajor),this.horizontalMajorGrid&&(r+=i.HorizontalMajor),this.verticalMinorGrid&&(r+=i.VerticalMinor),this.horizontalMinorGrid&&(r+=i.HorizontalMinor),this.config.GridLines=r},i.prototype.requestHistoricalData=function(t,i,r,n){var a,o,s,l,u,h,d,c,p,m,g;for(h=Math.floor(this._trendView.pixelsInTrendAreas),l=this.drawableTrends.length,u=0;u<l;u++)a=(s=this.drawableTrends[u]).currentXAxis,n&&a.axisPbId!==n||(-1===t.clientHandles.indexOf(s.partId)&&(this._trendView.trendObjectType===e.Data.TrendObjectType.Online?""!==s.dataSource.Tag&&void 0!==s.dataSource.Tag&&(s.clearTagListBeforeTimeStamp=!0,a.config.RangeType!==e.getChromEnum("HmiTimeRangeType").PointCount||0!==a.zoomInOutCount||r?(o=h,s.updateBeginTime(t.beginTime),t.endTime.push((a.currentEndValue+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND)):(o=a.config.PointCount,this._trendView.isOnline()&&a.alwaysShowRecent?(s.loadDataImmediately?t.beginTime.push(0):t.beginTime.push((s.bufferTime+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND),t.endTime.push((a.currentEndValue+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND)):(s.updateBeginTime(t.beginTime),t.endTime.push(0)),a.timeAxisDrawn=this._trendView.forceTimeAxisDrawn),t.points.push(o),i.push(s.dataSource.Tag),t.clientHandles.push(s.partId),void 0!==s.aggregationMode&&t.aggMode.push(s.aggregationMode),s.historicalDataRequested=!0):(o=0,void 0!==s.dataSourceX.Tag&&void 0!==s.dataSourceY.Tag&&""!==s.dataSourceX.Tag&&""!==s.dataSourceY.Tag&&(s.clearTagListBeforeTimeStamp=!0,p=s.calculateTimeRange(),g=(m=this._trendView.online?(new Date).getTime():s.axisEndValueOnPaused)-p,s.rangeType===e.getChromEnum("HmiTimeRangeType").PointCount?(o=s.pointCount,this._trendView.online?(d=s.loadDataImmediately?0:(s.bufferTime+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND,c=(m+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND):(d=s.getBeginTimeUTC(g),c=0)):(d=s.getBeginTimeUTC(g),c=(m+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND),t.beginTime.push(d),t.beginTime.push(d),t.endTime.push(c),t.endTime.push(c),t.points.push(o),t.points.push(o),i.push(s.dataSourceX.Tag),i.push(s.dataSourceY.Tag),t.clientHandles.push(s.partId),t.clientHandles.push(s.partId)))),s.loadDataImmediately=!0);this._trendView.moveToType=e.Data.MoveToType.NoMove},i.prototype.OnUpdate=function(t,r){var n,a,o,s,l,u,h,d=!1,c=e.Data.TrendWindowPropId,p=e.getChromEnum("HmiGridLine");switch(t){case c.Name:return this._trendView.getTrendWindowByName(r);case c.Visible:if(this.config.Visible=r?1:0,this.visible=r,r)this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(this._zoomXCount>0&&(d=!0),setTimeout(function(){this._trendView.forceTimeAxisDrawn=!0,this._trendView.requestHistoricalData(d,this.config.Name,null,!0,!0,!0),this._trendView.forceTimeAxisDrawn=!1,this._trendView.dp.sendRequest()}.bind(this),0));else for(u=this.drawableTrends.length,l=0;l<u;l++)this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(this._trendView.removeFromInvalidateCheckArray(this.drawableTrends[l].name),this._trendView.removeFromUndrawnData(this.drawableTrends[l].partId)),this._trendView.trendControlAnimator.removeTrendAnimation(this.drawableTrends[l].name);e.Data.PostPropertyUpdate.CreateDrawableCollection=!0,e.isAppModeRuntime()&&this._trendView.calculateRulerData();break;case c.RulerColor:a=e.getRGBAcolor(r),o=r,this.rulerColor=a,this.rulerColor2=e.getDarkercolor(r,i.COLOR_SHADE_CONST),this.ruler.Color=o,this._ruler.onUpdate(t);break;case c.RulerWidth:this.ruler.Width=parseInt(r,10),this._ruler.onUpdate(t);break;case c.StatisticRulerColor:a=e.getRGBAcolor(r),o=r,this.statisticRulerColor=a,this.statisticRulerColor2=e.getDarkercolor(o,i.COLOR_SHADE_CONST),this.statisticRulers.Color=o,this._ruler.onUpdate(t);break;case c.StatisticRulerWidth:this.statisticRulers.Width=parseInt(r,10),this._ruler.onUpdate(t);break;case c.MajorGridLinesColor:for(a=e.getRGBAcolor(r),o=r,this.config.MajorGridLinesColor=o,this.coarseGridColor=a,u=(s=this.getXAxes().concat(this.getYAxes())).length,l=0;l<u;l++)(h=s[l]).gridlineFeature&&!h.gridlineFeature.Attributes.hasOwnProperty("stroke")&&(h.gridlineAttributes.stroke=a,this.config.Visible&&h.gridlines.forEach((function(e){e.draw(e.webRTPUItem,e.metaData)})));break;case c.MinorGridLinesColor:for(a=e.getRGBAcolor(r),this.config.MinorGridLinesColor=r,u=(s=this.getXAxes().concat(this.getYAxes())).length,l=0;l<u;l++)(h=s[l]).minorGridLines.length>0&&this.config.Visible&&h.minorGridLines.forEach((function(e){e.Attributes.stroke=a,e.draw(e.webRTPUItem,e.metaData)}));break;case c.BackColor:a=e.getRGBAcolor(r),o=r,this.config.BackColor=o,this.backColor=a,this.config.Visible&&this.trendWindowDrawn&&this._trendWindowRect.setAttribute("fill",a);break;case c.SizeFactor:this.config.SizeFactor=this.spacePortion=parseInt(r,10),e.Data.PostPropertyUpdate.CreateDrawableCollection=!0;break;case c.GridLines:for(this.config.GridLines=r,this.verticalMajorGrid=(p.VerticalMajor&r)===p.VerticalMajor,this.horizontalMajorGrid=(p.HorizontalMajor&r)===p.HorizontalMajor,this.verticalMinorGrid=(p.VerticalMinor&r)===p.VerticalMinor,this.horizontalMinorGrid=(p.HorizontalMinor&r)===p.HorizontalMinor,u=(s=this.getXAxes()).length,l=0;l<u;l++)s[l].gridlineFeature&&(s[l].setGridlinesVisibility(),s[l].setMinorGridLinesVisibility(),this.config.Visible&&(s[l].updateGridlineVisibility(),s[l].updateMinorGridLineVisibility()));for(u=(s=this.getYAxes()).length,l=0;l<u;l++)s[l].gridlineFeature&&(s[l].setGridlinesVisibility(),s[l].setMinorGridLinesVisibility(),this.config.Visible&&(s[l].updateGridlineVisibility(),s[l].updateMinorGridLineVisibility()));break;case c.SelectedTrend:this.config.SelectedTrend!==r&&(n=this.idToDrawableTrendMap[r])&&(this.config.SelectedTrend=r,this.setSelectedTrend(this.drawableTrends.indexOf(n)));break;case c.SelectedFunctionTrend:this.config.SelectedFunctionTrend!==r&&(n=this.idToDrawableTrendMap[r])&&(this.config.SelectedFunctionTrend=r,this.setSelectedTrend(this.drawableTrends.indexOf(n)))}},i.prototype.updateTimeAxesToCurrentTime=function(){var e,t,i,r,n,a;for(i=(t=this.getXAxes()).length,n=(new Date).getTime(),e=0;e<i;e++)(r=t[e]).alwaysShowRecent&&(a=r.calculateTimeRange(),r.currentEndValue=n,r.currentBeginValue=r.currentEndValue-a);r=null},i.prototype.handleLanguageChange=function(){var t,i,r,n;for(r=(i=this.getYAxes()).length,t=0;t<r;t++)i[t].calculateAndUpdate();for(r=(i=this.getXAxes()).length,t=0;t<r;t++)i[t].calculateAndUpdate();for(r=(i=this.drawableTrends).length,t=0;t<r;t++)n=i[t],this._trendView.trendObjectType===e.Data.TrendObjectType.Function?(n.recalculateX(),n.recalculateY(),n.trendModeObj.updateTrend(this._trendView.trendTagListsSaved&&n.oldTagList)):(n.recalculate(),n.trendModeObj.updateTrend())},i.prototype.getIsLeftOrRight=function(){return this._trendView.isLeftOrRight()},i.prototype.updateRulerToolTipPosition=function(){var t;for(t=0;t<this.trendCount;t++)this.trends[t].trendStyle!==e.getChromEnum("HmiTrendMode").Value&&this.trends[t].updateRulerToolTipPosition()},i.prototype.updateRulerToolTip=function(t){var i;if(t)t.trendStyle===e.getChromEnum("HmiTrendMode").Value||this._trendView.isOnline()?this.hideRulerToolTip(t):this.showRulerToolTip(t);else for(i=0;i<this.trendCount;i++)this.trends[i].trendStyle===e.getChromEnum("HmiTrendMode").Value||this._trendView.isOnline()?this.hideRulerToolTip(this.trends[i]):this.showRulerToolTip(this.trends[i])},i.prototype.showRulerToolTip=function(e){var t,i,r,n,a,o,s,l;if(r=e.rulerControlData?e.rulerControlData.toolTipValue:"",l=this._ruler.getRulerType().regularvertical.getRulerPos(),r&&"object"==typeof r)for(i=r.length,t=0;t<i;t++)n=r[t]+"",e&&e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[t]&&(0===t?e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("id",e.id+"_min_secondaryIndicator"):e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("id",e.id+"_max_secondaryIndicator")),e.useOldStyle?this.updateSecToolTip(e,n,t,!1,l):this.updateSecToolTipNew(e,n,t,!1,l);else if(r&&"object"!=typeof r)r+="",e&&e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[0]&&e.secondaryRulerToolTipTemplate[0].RootNode.parentNode.setAttribute("id",e.id+"_regular_secondaryIndicator"),e.useOldStyle?this.updateSecToolTip(e,r,0,!0,l):this.updateSecToolTipNew(e,r,0,!0,l);else{if(e.secondaryRulerToolTipTemplate)for(t=0;t<e.secondaryRulerToolTipTemplate.length;t++)e.secondaryRulerToolTipTemplate[t]&&e.hideToolTip[t]&&(e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[t]=!1);e.useOldStyle&&(a=e.rulerContentWidth,o=l-e.rulerContentWidth/2,s=l+e.rulerContentWidth/2,this._trendView.isLeftOrRight()?o<=this._innerRect.left?e.setRulerPosition(l,a,this._innerRect.left,!0):s>=this._innerRect.left+this._innerRect.width?e.setRulerPosition(l,a,this._innerRect.left+this._innerRect.width,!1):e.rulerPosition=0:o<=this._innerRect.top?e.setRulerPosition(l,a,this._innerRect.top,!0):s>=this._innerRect.top+this._innerRect.height?e.setRulerPosition(l,a,this._innerRect.top+this._innerRect.height,!1):e.rulerPosition=0)}e.prevPos=l},i.prototype.updateSecToolTip=function(t,i,r,n,a){var o,s,l,u,h,d,c,p;if(u=t._currentValueAxis.config.LabelFont,h=t._currentValueAxis.measurementUnit,5,(s=(i.indexOf(".")>-1?Number(i.split("i")[0]).toFixed(3):i.split("i")[0]).trim()+" "+h).length<=5?(l=e.getTextWidth("123456",u),d=e.getTextHeight("123456",u)):(l=e.getTextWidth(s+" ",u),d=e.getTextHeight(s+"  ",u),l+=5),c=t._currentValueAxis.getPositionFromValue(i.split("i")[0].trim()),t.secondaryRulerToolTipTemplate&&t.secondaryRulerToolTipTemplate[r]&&t.config.Visible)t.secondaryRulerToolTipTemplate[r].setDataContent({Text1:s}),t.hideToolTip[r]||(t.secondaryRulerToolTipTemplate[r].RootNode.parentNode.setAttribute("display","inherit"),t.hideToolTip[r]=!0),t.secondaryRulerToolTipTemplate[r].setHmiProps(l,"HmiProps.Width"),t.secondaryRulerToolTipTemplate[r].setHmiProps(d,"HmiProps.Height"),t.secondaryRulerToolTipTemplate[r].setHmiProps(u,"HmiProps.Font"),t.secondaryRulerToolTipTemplate[r].update(),this._trendView.isLeftOrRight()?(p="translate("+a+","+c+")",t.secondaryRulerToolTipTemplate[r].RootNode.setAttribute("width",2*l)):(p="translate("+c+","+a+")",t.secondaryRulerToolTipTemplate[r].RootNode.setAttribute("width",2.25*l)),t.secondaryRulerToolTipTemplate[r].RootNode.setAttribute("height",10*d),this._ruler.flipRulerSecondaryText(t.secondaryRulerToolTipTemplate[r],p,t,a,l,d),this._trendView.isLeftOrRight()?(t.secondaryRulerToolTipTemplate[r].RootNode.setAttribute("x",0),t.secondaryRulerToolTipTemplate[r].RootNode.setAttribute("y",.75*-d)):(t.secondaryRulerToolTipTemplate[r].RootNode.setAttribute("x",-2*d),t.secondaryRulerToolTipTemplate[r].RootNode.setAttribute("y",-d/2)),n&&t.secondaryRulerToolTipTemplate[1]&&(t.secondaryRulerToolTipTemplate[1].RootNode.parentNode.setAttribute("display","none"),t.hideToolTip[1]=!1);else if(n&&t.secondaryRulerToolTipTemplate)for(o=0;o<t.secondaryRulerToolTipTemplate.length;o++)t.secondaryRulerToolTipTemplate[o]&&t.hideToolTip[o]&&(t.secondaryRulerToolTipTemplate[o].RootNode.parentNode.setAttribute("display","none"),t.hideToolTip[o]=!1);else t.secondaryRulerToolTipTemplate&&t.secondaryRulerToolTipTemplate[r]&&t.hideToolTip[r]&&(t.secondaryRulerToolTipTemplate[r].RootNode.parentNode.setAttribute("display","none"),t.hideToolTip[r]=!1)},i.prototype.updateSecToolTipNew=function(e,t,i,r,n){var a,o,s,l,u,h,d,c;if(s=e._currentValueAxis.config.LabelFont,l=e._currentValueAxis.measurementUnit,o=((c=t.split(/[iub]/i)[0].trim()).indexOf(".")>-1||t.indexOf("i")>-1||t.indexOf("u")>-1?Number(c).toFixed(3):c).trim()+" "+l,u=e._currentValueAxis.getPositionFromValue(c),e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[i]&&e.config.Visible)e.secondaryRulerToolTipTemplate[i].setDataContent({Text1:o}),e.hideToolTip[i]||(e.secondaryRulerToolTipTemplate[i].RootNode.parentNode.setAttribute("display","inherit"),e.hideToolTip[i]=!0),this._trendView.isLeftOrRight()?(h=e.rulerContentWidth,e.rulerContentWidth>this._innerRect.width?(h=this._innerRect.width,e.secondaryRulerToolTipTemplate[i].setHmiProps(h,"HmiProps.Width"),e.contentWidthModified=!0):e.contentWidthModified&&(e.secondaryRulerToolTipTemplate[i].setHmiProps(h,"HmiProps.Width"),e.contentWidthModified=!1),d=n+h/2,n-h/2<this._innerRect.left?(0===i&&e.setRulerPosition(n,h,this._innerRect.left,!0),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",this._innerRect.left),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition")):d>this._innerRect.left+this._innerRect.width?(0===i&&e.setRulerPosition(n,h,this._innerRect.left+this._innerRect.width,!1),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",this._innerRect.left+this._innerRect.width-h),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition")):(e.rulerPosition=0,e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",n-h/2),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition")),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",u-e.rulerContentHeight/2)):(h=e.rulerContentHeight,e.rulerContentHeight>this._innerRect.height?(h=this._innerRect.height,e.secondaryRulerToolTipTemplate[i].setHmiProps(h,"HmiProps.Height"),e.contentHeightModified=!0):e.contentHeightModified&&(e.secondaryRulerToolTipTemplate[i].setHmiProps(h,"HmiProps.Height"),e.contentHeightModified=!1),d=n+h/2,n-h/2<this._innerRect.top?(0===i&&e.setRulerPosition(n,h,this._innerRect.top,!0),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",this._innerRect.top),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition")):d>this._innerRect.top+this._innerRect.height?(0===i&&e.setRulerPosition(n,h,this._innerRect.top+this._innerRect.height,!1),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",this._innerRect.top+this._innerRect.height-h),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition")):(e.rulerPosition=0,e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("y",n-h/2),e.secondaryRulerToolTipTemplate[i].setHmiProps(e.rulerPosition,"HmiProps.RulerPosition")),e.secondaryRulerToolTipTemplate[i].RootNode.setAttribute("x",u-e.rulerContentHeight/2)),e.secondaryRulerToolTipTemplate[i].setHmiProps(s,"HmiProps.Font"),e.secondaryRulerToolTipTemplate[i].update(),r&&e.secondaryRulerToolTipTemplate[1]&&(e.secondaryRulerToolTipTemplate[1].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[1]=!1);else if(r&&e.secondaryRulerToolTipTemplate)for(a=0;a<e.secondaryRulerToolTipTemplate.length;a++)e.secondaryRulerToolTipTemplate[a]&&e.hideToolTip[a]&&(e.secondaryRulerToolTipTemplate[a].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[a]=!1);else e.secondaryRulerToolTipTemplate&&e.secondaryRulerToolTipTemplate[i]&&e.hideToolTip[i]&&(e.secondaryRulerToolTipTemplate[i].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[i]=!1)},i.prototype.hideRulerToolTip=function(e){var t,i;if(e.secondaryRulerToolTipTemplate)for(i=e.secondaryRulerToolTipTemplate.length,t=0;t<i;t++)e.secondaryRulerToolTipTemplate[t]&&(e.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("display","none"),e.hideToolTip[t]=!1)},i.prototype.getTrendView=function(){return this._trendView},i.prototype.resetRulerPosition=function(){this._ruler.resetRulerPosition()},i.prototype.setSecondaryIndicatorData=function(e){this.getRulerView().getRulerType().regularvertical._rulerElementsGroup.appendChild(e)},i.prototype.initTrendColl=function(){this.trends=[],this.idToTrendMap={},this.drawableTrends=[],this.idToDrawableTrendMap={}},i.prototype.clearDrawableTrends=function(){this.drawableTrends.length=0,this.idToDrawableTrendMap=null,this.idToDrawableTrendMap={}},i.prototype.addToDrawableTrends=function(e){this.drawableTrends.push(e),this.idToDrawableTrendMap[e.config.ElementID]=e},i.prototype.cleanUp=function(){var e,t;for(t=this.topAxes.length,e=0;e<t;e++)this.topAxes[e].cleanUp(),this.topAxes[e]=null;for(t=this.bottomAxes.length,e=0;e<t;e++)this.bottomAxes[e].cleanUp(),this.bottomAxes[e]=null;for(t=this.leftAxes.length,e=0;e<t;e++)this.leftAxes[e].cleanUp(),this.leftAxes[e]=null;for(t=this.rightAxes.length,e=0;e<t;e++)this.rightAxes[e].cleanUp(),this.rightAxes[e]=null;for(t=this.trends.length,e=0;e<t;e++)this.trends[e].cleanUp(),this.trends[e]=null;for(var i in this.idToTrendMap)delete this.idToTrendMap[i];for(var i in this.idToDrawableTrendMap)delete this.idToDrawableTrendMap[i];this._ruler.cleanUp(),this._ruler=null,this.metaData=this.config=this.getMinMaxRulerExtent=this.getRulerBounds=this.drawableTrends=this.trends=this.selectedTrend=this.bottomAxes=this.topAxes=this.rightAxes=this.leftAxes=this.ruler=this.statisticRulers=this.horizMatrix=this.vertMatrix=this.idToTrendMap=this.Hammer=this._invertColor=this._xAxisCollection=this._yAxisCollection=this._trendsCollection=this._trendWindowElements=this._horizontalElementsGroup=this._verticalElementsGroup=this._eventFocusElements=this._displayValueRectParentGroup=this._currentDragPoint=this.scrollBarGroup=this._verticalScrollbar=this.idToDrawableTrendMap=this._horizontalScrollbar=null,this._eventManager.cleanUp(),this._eventManager=null,this.selectedTrend=null,this._svgParent=this._rect=this._innerRect=this._eventRect=this._trendWindowRect=this._trendDrawableAreaRect=this._clipPath=this._horizontalRulerClipPath=this._verticalRulerClipPath=this._trendView=null},i.LEFT_CLICK=1,i.RIGHT_CLICK=3,i.COLOR_SHADE_CONST=.7,i}();t.GraphArea=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e){this.trendObj=e}return i.prototype.renderTrend=function(t){var i,r,n,a,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S=0,b=0,C=0,v=0,P=this.trendObj.svgGroup.trendSvgContainer,_=this.trendObj.svgGroup.trendPlaceHolder,A=e.getChromEnum("HmiTrendMode"),w=e.Data.TrendPolylineGroup;for(m=e.Features.Shape.SvgShape.CreateSvgElement,D=this.trendObj.svgGroup,_||(this.trendObj.svgGroup.trendPlaceHolder=_=m("g",{id:"trendSVGPlaceHolder_"+this.trendObj.id})),P||(this.trendObj.svgGroup.trendSvgContainer=P=m("g",{id:"trendSVGGroup_"+this.trendObj.id,appendTo:_})),this.trendObj.trendView.trendControlAnimator&&this.trendObj.trendView.trendControlAnimator.recalculateAnimPaths(this.trendObj.name),this.trendObj.createPointCollection(t),(i=this.trendObj.currentTrendWindow.getEventSVG())&&!i.contains(_)&&i.appendChild(_),d=this.trendObj.lineWidth,h=this.trendObj.getLineStyle(),D.trendPropertyGroup&&(D.trendPropertyGroup.parentNode.removeChild(D.trendPropertyGroup),D.trendPropertyGroup=null),D.trendPropertyGroup=m("g",{id:"TrendPropertyGroup"+this.trendObj.id,"stroke-dasharray":h}),D.animationPathGroup||(D.animationPathGroup=m("g",{id:"AnimationPathGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":d})),D.translateGroup&&(D.translateGroup.parentNode.removeChild(D.translateGroup),D.translateGroup=null),D.polyLineGroup&&(D.polyLineGroup.parentNode.removeChild(D.polyLineGroup),D.polyLineGroup=null),D.fillTranslateGroup&&(D.fillTranslateGroup.parentNode.removeChild(D.fillTranslateGroup),D.fillTranslateGroup=null),D.trendFillPropertyGroup&&(D.trendFillPropertyGroup.parentNode.removeChild(D.trendFillPropertyGroup),D.trendFillPropertyGroup=null),D.dummyTranslateGroup&&(D.dummyTranslateGroup.parentNode.removeChild(D.dummyTranslateGroup),D.dummyTranslateGroup=null),D.dummyPolyLineGroup&&(D.dummyPolyLineGroup.parentNode.removeChild(D.dummyPolyLineGroup),D.dummyPolyLineGroup=null),this.trendObj.qualityVisualizationVisible&&(D.qualityGroup&&(D.qualityGroup.parentNode.removeChild(D.qualityGroup),D.qualityGroup=null),D.qualityGroup=m("g",{id:"QualityGroup"+this.trendObj.id,"stroke-dasharray":h,visibility:"visible"})),l=m("defs",{id:"defs_"+this.trendObj.id,appendTo:D.trendPropertyGroup}),g={id:"",viewBox:"0 0 "+this.trendObj.viewBoxDim+" "+this.trendObj.viewBoxDim,refX:this.trendObj.viewBoxDim/2,refY:this.trendObj.viewBoxDim/2,markerWidth:this.trendObj.viewBoxDim,markerHeight:this.trendObj.viewBoxDim,orient:"0",markerUnits:"userSpaceOnUse",appendTo:l},l.appendChild(this.trendObj.createLinearGrad()),a=this.trendObj.thresholds?this.trendObj.thresholds.length:0,r=0;r<a;r++)g.id=this.trendObj.thresholds[r].markerId,y=m("marker",g),this.trendObj.thresholds[r].isNormal?this.trendObj.getPointElement(y,this.trendObj.pointColor):this.trendObj.getPointElement(y,this.trendObj.thresholds[r].color);switch(this.trendObj.qualityVisualizationVisible&&(g.id=this.trendObj.uncertainQualityMarkerId,s=m("marker",g),this.trendObj.getPointElement(s,this.trendObj.uncertainQualityColor),g.id=this.trendObj.badQualityMarkerId,s=m("marker",g),this.trendObj.getPointElement(s,this.trendObj.badQualityColor)),this.trendObj.trendView.isLeftOrRight()?(S=this.trendObj.translateX,C=this.trendObj.qualityTranslate):(b=this.trendObj.translateX,v=this.trendObj.qualityTranslate),this.trendObj.trendStyle){case A.Stepped:case A.Points:case A.Interpolated:if(this.trendObj.trendStyle===A.Stepped){for(D.dummyPolyLineGroup=m("g",{id:"DummyPolyLineGroup"+this.trendObj.id,"stroke-width":d,"stroke-dasharray":"inherit",appendTo:D.trendPropertyGroup}),D.dummyTranslateGroup=m("g",{id:"DummyTranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+S+","+b+")",appendTo:D.dummyPolyLineGroup}),this.trendObj.dummyMatrix=D.dummyTranslateGroup.transform.baseVal.getItem(0).matrix,a=this.trendObj.numberOfDummyPoints,r=0;r<a;r++)T=this.trendObj.linesCollection[r].listType,c=this.trendObj.thresholds[T].isNormal?this.trendObj.color:this.trendObj.thresholds[T].color,this.trendObj.linesCollection[r].translate?(u=D.dummyTranslateGroup,this.trendObj.linesCollection[r].dummyParentGroupType=w.TranslateGroup):(u=D.dummyPolyLineGroup,this.trendObj.linesCollection[r].dummyParentGroupType=w.NormalGroup),this.trendObj.linesCollection[r].dummyPolyline=m("polyline",{points:this.trendObj.linesCollection[r].dummyPoints,"stroke-dasharray":"inherit",id:T+"_polyline_"+this.trendObj.id+"_dummy_"+r,class:T+"_polylineClass_"+this.trendObj.id+"_dummy",fill:"none",stroke:c,"stroke-width":"inherit",appendTo:u});if(this.trendObj.qualityVisualizationVisible)for(D.qualityDummyTranslateGroup&&(D.qualityDummyTranslateGroup.parentNode.removeChild(D.qualityDummyTranslateGroup),D.qualityDummyTranslateGroup=null),D.qualityDummyPolyLineGroup&&(D.qualityDummyPolyLineGroup.parentNode.removeChild(D.qualityDummyPolyLineGroup),D.qualityDummyPolyLineGroup=null),D.qualityDummyPolyLineGroup=m("g",{id:"QualityDummyPolyLineGroup"+this.trendObj.id,"stroke-width":d+.8,"stroke-dasharray":"inherit",visibility:"inherit",appendTo:D.qualityGroup}),D.qualityDummyTranslateGroup=m("g",{id:"QualityDummyTranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+C+","+v+")",visibility:"inherit",appendTo:D.qualityDummyPolyLineGroup}),this.trendObj.qualityDummyMatrix=D.qualityDummyTranslateGroup.transform.baseVal.getItem(0).matrix,a=this.trendObj.numberOfQualityDummyPoints,r=0;r<a;r++)(T=this.trendObj.qualityLinesCollection[r].listType)===(o=this.trendObj.thresholds.length)+1?c=this.trendObj.badQualityColor:T===o&&(c=this.trendObj.uncertainQualityColor),this.trendObj.qualityLinesCollection[r].translate?(u=D.qualityDummyTranslateGroup,this.trendObj.qualityLinesCollection[r].dummyParentGroupType=w.TranslateGroup):(u=D.qualityDummyPolyLineGroup,this.trendObj.qualityLinesCollection[r].dummyParentGroupType=w.NormalGroup),this.trendObj.qualityLinesCollection[r].dummyPolyline=m("polyline",{points:this.trendObj.qualityLinesCollection[r].dummyPoints,"stroke-dasharray":"inherit",id:T+"_polyline_"+this.trendObj.id+"_dummy_"+r,class:T+"_polylineClass_"+this.trendObj.id+"_dummy",fill:"none",stroke:c,"stroke-width":"inherit",appendTo:u})}for(this.trendObj.trendStyle!==A.Stepped&&this.trendObj.trendStyle!==A.Points||(d=0),D.polyLineGroup=m("g",{id:"PolyLineGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":d,appendTo:D.trendPropertyGroup}),D.translateGroup=m("g",{id:"TranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+S+","+b+")",appendTo:D.polyLineGroup}),this.trendObj.matrix=D.translateGroup.transform.baseVal.getItem(0).matrix,a=this.trendObj.numberOfPoints,r=0;r<a;r++)T=this.trendObj.linesCollection[r].listType,c=this.trendObj.thresholds[T].isNormal?this.trendObj.color:this.trendObj.thresholds[T].color,this.trendObj.linesCollection[r].translate?(u=D.translateGroup,this.trendObj.linesCollection[r].parentGroupType=w.TranslateGroup):(u=D.polyLineGroup,this.trendObj.linesCollection[r].parentGroupType=w.NormalGroup),f=this.trendObj.midMarkerURLsArray[T],n=this.trendObj.linesCollection[r].points,this.trendObj.linesCollection[r].polyline=m("polyline",{points:n,"stroke-dasharray":"inherit",id:T+"_polyline_"+this.trendObj.id+"_"+r,class:T+"_polylineClass_"+this.trendObj.id,fill:"none",stroke:c,"stroke-width":"inherit","marker-start":this.trendObj.markerPositionsCollection[r].markerStart,"marker-mid":f,"marker-end":this.trendObj.markerPositionsCollection[r].markerEnd,appendTo:u});if(this.trendObj.qualityVisualizationVisible)for(0!==d&&(d+=.8),D.qualityTranslateGroup&&(D.qualityTranslateGroup.parentNode.removeChild(D.qualityTranslateGroup),D.qualityTranslateGroup=null),D.qualityPolyLineGroup&&(D.qualityPolyLineGroup.parentNode.removeChild(D.qualityPolyLineGroup),D.qualityPolyLineGroup=null),D.qualityPolyLineGroup=m("g",{id:"QualityPolyLineGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":d,visibility:"inherit",appendTo:D.qualityGroup}),D.qualityTranslateGroup=m("g",{id:"QualityTranslateGroup"+this.trendObj.id,"stroke-width":"inherit","stroke-dasharray":"inherit",transform:"translate("+C+","+v+")",visibility:"inherit",appendTo:D.qualityPolyLineGroup}),this.trendObj.qualityMatrix=D.qualityTranslateGroup.transform.baseVal.getItem(0).matrix,a=this.trendObj.numberOfQualityPoints,r=0;r<a;r++)(T=this.trendObj.qualityLinesCollection[r].listType)===(o=this.trendObj.thresholds.length)+1?c=this.trendObj.badQualityColor:T===o&&(c=this.trendObj.uncertainQualityColor),this.trendObj.qualityLinesCollection[r].translate?(u=D.qualityTranslateGroup,this.trendObj.qualityLinesCollection[r].parentGroupType=w.TranslateGroup):(u=D.qualityPolyLineGroup,this.trendObj.qualityLinesCollection[r].parentGroupType=w.NormalGroup),f=this.trendObj.midMarkerURLsArray[T],n=this.trendObj.qualityLinesCollection[r].points,this.trendObj.qualityLinesCollection[r].polyline=m("polyline",{points:n,"stroke-dasharray":"inherit",id:T+"_polyline_"+this.trendObj.id+"_"+r,class:T+"_polylineClass_"+this.trendObj.id,fill:"none",stroke:c,"stroke-width":"inherit","marker-start":this.trendObj.qualityMarkerPositionsCollection[r].markerStart,"marker-mid":f,"marker-end":this.trendObj.qualityMarkerPositionsCollection[r].markerEnd,appendTo:u});this.trendObj.fill&&(D.trendFillPropertyGroup=this.trendObj.trendModeObj.createFillGroup())}if(this.trendObj.currentYAxis.config&&this.trendObj.currentYAxis.config.Visible)switch(d=this.trendObj.lineWidth,this.trendObj.trendStyle){case A.Points:case A.Stepped:case A.Interpolated:this.trendObj.trendStyle===A.Points&&(d=0),(p=this.trendObj.currentYAxis.trendIndicatorRectClippathIds[this.trendObj.currentXAxis.id])&&(this.trendObj.fill&&""!==this.trendObj.dummyTrendIndicatorFill&&m("polyline",{points:this.trendObj.dummyTrendIndicatorFill,id:"filltrendIndicator_"+this.trendObj.id,fill:this.trendObj.fillURL,stroke:"none","clip-path":p,appendTo:this.trendObj.currentYAxis.trendIndicatorGroup}),m("polyline",{points:this.trendObj.trendIndicatorPoints,id:"trendIndicator_"+this.trendObj.id,fill:this.trendObj.fillURL,stroke:this.trendObj.color,"stroke-dasharray":h,"stroke-width":d,"marker-start":"none","marker-mid":"url(#thresholdMarker_"+e.getChromEnum("HmiThresholdMode").Normal+"_"+this.trendObj.id+")","marker-end":"none","clip-path":p,appendTo:this.trendObj.currentYAxis.trendIndicatorGroup}))}P.appendChild(D.trendPropertyGroup),D.trendPropertyGroup.appendChild(D.animationPathGroup),this.trendObj.qualityVisualizationVisible&&P.appendChild(D.qualityGroup),D.trendFillPropertyGroup&&P.insertBefore(D.trendFillPropertyGroup,D.trendPropertyGroup),l=null,u=null},i.prototype.createFillGroup=function(t){var i,r,n,a,o;return i=t||this.trendObj,r=e.Features.Shape.SvgShape.CreateSvgElement,o=i.svgGroup,i.trendView.isLeftOrRight()?(n=i.translateX,a=i.translateY):(a=i.translateX,n=i.translateY),o.fillTranslateGroup&&(o.fillTranslateGroup.parentNode.removeChild(o.fillTranslateGroup),o.fillTranslateGroup=null),o.trendFillPropertyGroup&&(o.trendFillPropertyGroup.parentNode.removeChild(o.trendFillPropertyGroup),o.trendFillPropertyGroup=null),o.trendFillPropertyGroup=r("g",{id:"TrendFillPropertyGroup"+i.id}),o.fillTranslateGroup=r("g",{id:"FillTranslateGroup"+i.id,"stroke-dasharray":"inherit","stroke-width":0,transform:"translate("+n+","+a+")",appendTo:o.trendFillPropertyGroup}),i.matrix&&(i.fillMatrix=o.fillTranslateGroup.transform.baseVal.getItem(0).matrix),this._createThresholdFillGroup(i),o.trendFillPropertyGroup},i.prototype._createThresholdFillGroup=function(t){var i,r,n,a=e.Features.Shape.SvgShape.CreateSvgElement,o=t.svgGroup,s=t.thresholds.length;for(i=0;i<s;i++)t.thresholdFills[i]&&(r=t.thresholds[i].type,n=t.thresholds[i].isNormal?t.fillURL:t.thresholds[i].fill,""!==t.thresholdFills[i].fill&&a("polyline",{points:t.thresholdFills[i].fill,id:r+"_fillPolyline_"+t.id,class:r+"_fillPolylineClass_"+t.id,stroke:"none",fill:n,ignoreEvent:!0,appendTo:o.trendFillPropertyGroup}),""!==t.thresholdFills[i].translateFill&&a("polyline",{points:t.thresholdFills[i].translateFill,id:r+"_translateFillPolyline_"+t.id,class:r+"_translateFillPolyline_"+t.id,stroke:"none",fill:n,ignoreEvent:!0,appendTo:o.fillTranslateGroup}))},i.prototype.recalculateInterimPoints=function(){var e,t,i,r,n,a,o=1e6;for(r=this.trendObj.linesCollection.length,t=0;t<r;t++)if(!this.trendObj.linesCollection[t].translate)for(a=[0,(i=this.trendObj.linesCollection[t].items).length-1],e=0;e<2;++e)null===(n=i[a[e]]).xTagPosition&&(n.xTagPosition=this.trendObj.currentXAxis.getPositionFromValue(n.xTagValue),n.xTagPosition<-1e6?n.xTagPosition=-1e6:n.xTagPosition>o&&(n.xTagPosition=o)),null===n.yTagPosition&&(n.yTagPosition=this.trendObj.currentYAxis.getPositionFromValue(n.yTagValue),n.yTagPosition<-1e6?n.yTagPosition=-1e6:n.yTagPosition>o&&(n.yTagPosition=o));a=i=null},i.prototype.animateTrend=function(i,r,n){var a,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S,b,C=1,v=[],P=null,_=n,A=this.trendObj.trendView.trendObjectType===e.Data.TrendObjectType.Online&&this.trendObj.trendView.isOnline();b=this.trendObj;for(a=0;a<this.trendObj.pointsToAnimate.length;a++)c=new t.Point,D=this.trendObj.pointsToAnimate[a],c.timeStamp=D.timeStamp,c.xTagValue=D.xTagValue,c.yTagValue=D.yTagValue,c.xTagPosition=D.xTagPosition,c.yTagPosition=D.yTagPosition,c.qualityCode=2,v.push(c);c=v[0],(D=new t.Point).qualityCode=2,(a=10/(v.length-1))<2?a=2:a%2==1&&a--,s=a/2,this.trendObj.pointsToAnimate=[],c=v[0],D.yTagValue=c.yTagValue,(y=i).tagList.items.push(c),y.trendLimitObject.addLimitValuePoints(c,void 0,!1),i=null,this.trendObj.fill&&(m=this.trendObj.trendModeObj.createFillGroup(y),this.trendObj.svgGroup.animationPathGroup.appendChild(m)),p=e.Features.Shape.SvgShape.CreateSvgElement("g",{id:"AnimationPathGroup"+y.id,"stroke-dasharray":"inherit","stroke-width":"inherit",appendTo:this.trendObj.svgGroup.animationPathGroup}),(f=!r)&&(P=v[0].timeStamp,this.trendObj.lastTime.push(P)),g=function(){p&&o>0&&(y.recalculateTagList(b),b.createPointCollection.call(y),b.trendModeObj.updatePolylines(p,!1,y),y.fill&&b.trendModeObj.updateFillPolyLines(y))},T=function(e){var t;p&&b.svgGroup.animationPathGroup.removeChild(p),m&&m.parentNode&&m.parentNode.removeChild(m),null!=P&&(P===b.lastTime[0]?b.lastTime.shift():(P=b.lastTime.indexOf(P))>-1&&b.lastTime.splice(0,P+1),P=null),_&&(_(),_=null),e&&b.trendModeObj.trendObj.tagList.items.length>=1&&null!==(t=b.trendModeObj.trendObj.tagList.items[b.trendModeObj.trendObj.tagList.items.length-1]).xTagPosition&&null!==t.yTagPosition&&(b.trendModeObj.trendObj.setLastTrendPoint(t),b.trendModeObj.updateTrend(!1===b.trendView.isOnline())),y.cleanUp(),y=null,D=null,p=null,m=null,v=null,c=null,o=null,g=null,T=null},o=0,C=1,c=v[0],(l=v[C].xTagValue-c.xTagValue)===1/0?l=1797e305:l===-1/0&&(l=-1797e305),(u=v[C].yTagValue-c.yTagValue)===1/0?u=1797e305:u===-1/0&&(u=-1797e305),A||b.trendStyle===e.getChromEnum("HmiTrendMode").Interpolated?(h=l/a,d=u/a):(h=l/s,d=u/s),A&&(D.xTagValue=v[C].xTagValue,b.trendStyle===e.getChromEnum("HmiTrendMode").Stepped&&((S=new t.Point).xTagValue=D.xTagValue,S.yTagValue=c.yTagValue,S.qualityCode=2,y.tagList.items.push(S),y.trendLimitObject.addLimitValuePoints(S,void 0,!1))),y.tagList.items.push(D),y.trendLimitObject.addLimitValuePoints(D,void 0,!1),this.trendObj.trendView.trendControlAnimator.addTrendAnimation(this.trendObj.name,(function(){if(++o%a==0){if(o=0,c=v[C],C++,D.xTagValue=c.xTagValue,D.yTagValue=c.yTagValue,D.yTagPosition=null,D.xTagPosition=null,y.tagList.items.pop(),y.tagList.items.push(c),y.tagList.items.push(D),!(C<v.length))return b.svgGroup.animationPathGroup.removeChild(p),p=null,m&&m.parentNode&&m.parentNode.removeChild(m),m=null,f&&(P===b.lastTime[0]?b.lastTime.shift():(P=b.lastTime.indexOf(P))>-1&&b.lastTime.splice(0,P+1),P=null),b.trendView.isOnline()||b.trendView.trendObjectType!==e.Data.TrendObjectType.Online?b.recalculateInterimPoints():(b.fill&&b.setLastPointRecalculated(c),b.endBoundingValue&&(b.endBoundingValue.yTagValue=c.yTagValue,b.endBoundingValue.yTagPosition=c.yTagPosition),b.recalculate()),_&&(_(),_=null),!1;A=!1,(l=v[C].xTagValue-c.xTagValue)===1/0?l=1797e305:l===-1/0&&(l=-1797e305),(u=v[C].yTagValue-c.yTagValue)===1/0?u=1797e305:u===-1/0&&(u=-1797e305),b.trendStyle===e.getChromEnum("HmiTrendMode").Interpolated?(h=l/a,d=u/a):(h=l/s,d=u/s),y.trendLimitObject.createNewLinesCollection()}else b.trendStyle===e.getChromEnum("HmiTrendMode").Interpolated||A?(A||(D.xTagValue=c.xTagValue+o*h),D.yTagValue=c.yTagValue+o*d,D.yTagPosition=null,D.xTagPosition=null,y.trendLimitObject.removeLastPoint(),y.trendLimitObject.addLimitValuePoints(D,void 0,!1)):(o===s?(y.tagList.items.pop(),(S=new t.Point).xTagValue=v[C].xTagValue,S.yTagValue=c.yTagValue,S.qualityCode=2,y.tagList.items.push(S),y.trendLimitObject.removeLastPoint(),y.trendLimitObject.addLimitValuePoints(S,void 0,!1),S=null,D.xTagValue=v[C].xTagValue,D.yTagValue=c.yTagValue,D.yTagPosition=null,D.xTagPosition=null,y.tagList.items.push(D)):(o<s?(D.xTagValue=c.xTagValue+o*h,D.yTagValue=c.yTagValue,D.yTagPosition=null,D.xTagPosition=null):(D.xTagValue=v[C].xTagValue,D.yTagValue=c.yTagValue+(o-s)*d,D.yTagPosition=null,D.xTagPosition=null),y.trendLimitObject.removeLastPoint()),y.trendLimitObject.addLimitValuePoints(D,void 0,!1));y.recalculateTagList(b),b.createPointCollection.call(y),b.trendModeObj.updatePolylines(p,!1,y),y.fill&&b.trendModeObj.updateFillPolyLines(y)}),g,T)},i.prototype.updateTrend=function(e){var t;t=this.trendObj.svgGroup,this.trendObj.trendView.trendControlAnimator&&this.trendObj.trendView.trendControlAnimator.recalculateAnimPaths(this.trendObj.name),this.trendObj.createPointCollection(e),this.updatePolylines(t.polyLineGroup,!0),this.trendObj.fill&&this.trendObj.trendModeObj.updateFillPolyLines(),t.trendPropertyGroup&&t.animationPathGroup&&t.animationPathGroup.parentNode!==t.trendPropertyGroup&&t.trendPropertyGroup.appendChild(t.animationPathGroup),window.navigator.msSaveBlob&&(t.trendPlaceHolder.removeChild(t.trendSvgContainer),t.trendPlaceHolder.appendChild(t.trendSvgContainer))},i.prototype.updatePolylines=function(t,i,r){var n,a,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S,b,C=!1,v=e.getChromEnum("HmiTrendMode"),P=e.Data.TrendPolylineGroup;if(n=r||this.trendObj,l=e.Features.Shape.SvgShape.CreateSvgElement,b=n.svgGroup,n.trendView.isLeftOrRight()?(T=n.translateX,f=n.translateY,y=n.qualityTranslate,D=0):(f=n.translateX,T=n.translateY,D=n.qualityTranslate,y=0),C=n.pointStyle!==e.getChromEnum("HmiMarkerType").None,n.trendStyle===v.Stepped){for(n.dummyMatrix&&(n.dummyMatrix.e=T,n.dummyMatrix.f=f),o=n.numberOfDummyPoints,a=0;a<o;a++)(p=(d=n.linesCollection[a]).dummyPolyline)?d.translate?d.dummyParentGroupType===P.NormalGroup?(p.parentNode.removeChild(p),b.dummyTranslateGroup.appendChild(p),d.dummyParentGroupType=P.TranslateGroup,p.setAttribute("points",d.dummyPoints)):d.setPoints&&p.setAttribute("points",d.dummyPoints):(d.dummyParentGroupType===P.TranslateGroup&&(n.translateX>0||n.translateY>0)&&(p.parentNode.removeChild(p),b.dummyPolyLineGroup.appendChild(p),d.dummyParentGroupType=P.NormalGroup),p.setAttribute("points",d.dummyPoints)):(d.translate?(S=b.dummyTranslateGroup,d.dummyParentGroupType=P.TranslateGroup):(S=b.dummyPolyLineGroup,d.dummyParentGroupType=P.NormalGroup),h=(u=n.thresholds[n.linesCollection[a].listType]).type,c=u.isNormal?n.color:u.color,d.dummyPolyline=l("polyline",{points:d.dummyPoints,"stroke-dasharray":"inherit",id:h+"_polyline_"+n.id+"_dummy_"+a,class:h+"_polylineClass_"+n.id+"_dummy",fill:"none",stroke:c,"stroke-width":"inherit",appendTo:S}));if(b.trendPropertyGroup.removeChild(b.dummyPolyLineGroup),b.trendPropertyGroup.appendChild(b.dummyPolyLineGroup),b.trendPropertyGroup.removeChild(b.polyLineGroup),b.trendPropertyGroup.appendChild(b.polyLineGroup),n.qualityVisualizationVisible){for(n.qualityDummyMatrix&&(n.qualityDummyMatrix.e=y,n.qualityDummyMatrix.f=D),o=n.numberOfQualityDummyPoints,a=0;a<o;a++)(p=(d=n.qualityLinesCollection[a]).dummyPolyline)?d.translate?d.dummyParentGroupType===P.NormalGroup?(p.parentNode.removeChild(p),b.qualityDummyTranslateGroup.appendChild(p),d.dummyParentGroupType=P.TranslateGroup,p.setAttribute("points",d.dummyPoints)):d.setPoints&&p.setAttribute("points",d.dummyPoints):(d.dummyParentGroupType===P.TranslateGroup&&n.qualityTranslate>0&&(p.parentNode.removeChild(p),b.qualityDummyPolyLineGroup.appendChild(p),d.dummyParentGroupType=P.NormalGroup),p.setAttribute("points",d.dummyPoints)):(d.translate?(S=b.qualityDummyTranslateGroup,d.dummyParentGroupType=P.TranslateGroup):(S=b.qualityDummyPolyLineGroup,d.dummyParentGroupType=P.NormalGroup),(h=d.listType)===(s=n.thresholds.length)+1?c=n.badQualityColor:h===s&&(c=n.uncertainQualityColor),d.dummyPolyline=l("polyline",{points:d.dummyPoints,"stroke-dasharray":"inherit",id:h+"_polyline_"+n.id+"_dummy_"+a,class:h+"_polylineClass_"+n.id+"_dummy",fill:"none",stroke:c,"stroke-width":"inherit",appendTo:S}));b.qualityGroup.removeChild(b.qualityDummyPolyLineGroup),b.qualityGroup.appendChild(b.qualityDummyPolyLineGroup),b.qualityGroup.removeChild(b.qualityPolyLineGroup),b.qualityGroup.appendChild(b.qualityPolyLineGroup)}}for(n.matrix&&(n.matrix.e!==T&&(n.matrix.e=T),n.matrix.f!==f&&(n.matrix.f=f)),n.svgGroup.polyLineGroup&&(n.svgGroup.polyLineGroup.style.display="none"),o=n.numberOfPoints,a=0;a<o;a++)n.midMarkerURLsArray&&n.linesCollection&&n.linesCollection[a]&&(m=n.midMarkerURLsArray[n.linesCollection[a].listType]),(g=(d=n.linesCollection[a]).polyline)?d.translate?d.parentGroupType===P.NormalGroup?(g.parentNode.removeChild(g),b.translateGroup.appendChild(g),d.parentGroupType=P.TranslateGroup,g.setAttribute("points",d.points),d.setPoints=!d.pointsComplete,C&&g.setAttribute("marker-end",n.markerPositionsCollection[a].markerEnd)):d.setPoints&&(g.setAttribute("points",d.points),d.setPoints=!d.pointsComplete,C&&g.setAttribute("marker-end",n.markerPositionsCollection[a].markerEnd)):(d.parentGroupType===P.TranslateGroup&&(n.translateX>0||n.translateY>0)&&(g.parentNode.removeChild(g),t.appendChild(g),d.parentGroupType=P.NormalGroup),g.setAttribute("points",d.points),d.setPoints=!d.pointsComplete,C&&g.setAttribute("marker-end",n.markerPositionsCollection[a].markerEnd)):(d.translate?(S=b.translateGroup,d.parentGroupType=P.TranslateGroup):(S=t,d.parentGroupType=P.NormalGroup),h=(u=n.thresholds[d.listType]).type,c=u.isNormal?n.color:u.color,d.polyline=l("polyline",{points:d.points,"stroke-dasharray":"inherit",id:h+"_polyline_"+n.id+"_"+a,class:h+"_polylineClass_"+n.id,fill:"none",stroke:c,"stroke-width":"inherit",appendTo:S}),C&&(d.polyline.setAttribute("marker-start",n.markerPositionsCollection[a].markerStart),d.polyline.setAttribute("marker-mid",m),d.polyline.setAttribute("marker-end",n.markerPositionsCollection[a].markerEnd)),d.setPoints=!d.pointsComplete);if(n.svgGroup.polyLineGroup&&(n.svgGroup.polyLineGroup.style.display="block"),n.qualityVisualizationVisible)for(n.qualityMatrix&&(n.qualityMatrix.e!==y&&(n.qualityMatrix.e=y),n.qualityMatrix.f!==D&&(n.qualityMatrix.f=D)),o=n.numberOfQualityPoints,a=0;a<o;a++)(g=(d=n.qualityLinesCollection[a]).polyline)?d.translate?d.parentGroupType===P.NormalGroup?(g.parentNode.removeChild(g),b.qualityTranslateGroup.appendChild(g),d.parentGroupType=P.TranslateGroup,g.setAttribute("points",d.points),d.setPoints=!d.pointsComplete,C&&g.setAttribute("marker-end",n.qualityMarkerPositionsCollection[a].markerEnd)):d.setPoints&&(g.setAttribute("points",d.points),d.setPoints=!d.pointsComplete,C&&g.setAttribute("marker-end",n.qualityMarkerPositionsCollection[a].markerEnd)):(d.parentGroupType===P.TranslateGroup&&n.qualityTranslate>0&&(g.parentNode.removeChild(g),b.qualityPolyLineGroup.appendChild(g),d.parentGroupType=P.NormalGroup),g.setAttribute("points",d.points),d.setPoints=!d.pointsComplete,C&&g.setAttribute("marker-end",n.qualityMarkerPositionsCollection[a].markerEnd)):(d.translate?(S=b.qualityTranslateGroup,d.parentGroupType=P.TranslateGroup):(S=b.qualityPolyLineGroup,d.parentGroupType=P.NormalGroup),h=d.listType,m=n.midMarkerURLsArray[h],h===(s=n.thresholds.length)+1?c=n.badQualityColor:h===s&&(c=n.uncertainQualityColor),d.polyline=l("polyline",{points:d.points,"stroke-dasharray":"inherit",id:h+"_polyline_"+n.id+"_"+a,class:h+"_polylineClass_"+n.id,fill:"none",stroke:c,"stroke-width":"inherit",appendTo:S}),C&&(d.polyline.setAttribute("marker-start",n.qualityMarkerPositionsCollection[a].markerStart),d.polyline.setAttribute("marker-mid",m),d.polyline.setAttribute("marker-end",n.qualityMarkerPositionsCollection[a].markerEnd)),d.setPoints=!d.pointsComplete);d=null,S=null},i.prototype.updateFillPolyLines=function(t){var i,r,n,a,o,s,l;for(i=t||this.trendObj,r=e.Features.Shape.SvgShape.CreateSvgElement,i.fillMatrix&&(i.fillMatrix.e=i.matrix.e,i.fillMatrix.f=i.matrix.f),o=i.thresholds.length,a=0;a<o;a++)s=i.thresholds[a].type,l=i.thresholds[a].isNormal?i.fillURL:i.thresholds[a].fill,(n=i.trendView.SVGParent.getElementById(s+"_fillPolyline_"+i.id)||e.Features.Shape.SvgShape.getElementByIDSafariHack(i.trendView.SVGParent,"polyline",s+"_fillPolyline_"+i.id))?(n.setAttribute("points",i.thresholdFills[a].fill),n.setAttribute("fill",l)):i.thresholdFills[a]&&""!==i.thresholdFills[a].fill&&r("polyline",{points:i.thresholdFills[a].fill,id:s+"_fillPolyline_"+i.id,class:s+"_fillPolylineClass_"+i.id,fill:l,stroke:"none",ignoreEvent:!0,appendTo:i.svgGroup.trendFillPropertyGroup}),(n=i.trendView.SVGParent.getElementById(s+"_translateFillPolyline_"+i.id)||e.Features.Shape.SvgShape.getElementByIDSafariHack(i.trendView.SVGParent,"polyline",s+"_translateFillPolyline_"+i.id))?(n.setAttribute("points",i.thresholdFills[a].translateFill),n.setAttribute("fill",l)):i.thresholdFills[a]&&""!==i.thresholdFills[a].translateFill&&r("polyline",{points:i.thresholdFills[a].translateFill,id:s+"_translateFillPolyline_"+i.id,class:s+"_translateFillPolyline_"+i.id,fill:l,stroke:"none",ignoreEvent:!0,appendTo:i.svgGroup.fillTranslateGroup})},i.prototype.swapWithNextTrend=function(e){var t=this.trendObj.currentTrendWindow.getEventSVG(),i=this.trendObj.svgGroup.trendPlaceHolder,r=e.svgGroup.trendPlaceHolder;i&&r&&t.insertBefore(i,r),t=null,i=null,r=null},i.prototype.cleanup=function(){this.trendObj=null},i}();t.LinearStepMode=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t._getQualityOfValue=e.Utilities.getQualityOfValue,t._maxDispVal="",t.hideToolTip=[!1,!1],t.dataSource={Tag:"",TagDisplayName:""},t.thresholds=[],t.trendIndicatorPoints="",t.dummyTrendIndicatorFill="",t.rulerContentWidth=0,t.rulerContentHeight=0,t.contentWidthModified=!1,t.contentHeightModified=!1,t.useOldStyle=!1,t.rulerPosition=0,t.prevPos=-1,t.matrix=null,t.dummyMatrix=null,t.fillMatrix=null,t.qualityMatrix=null,t.qualityDummyMatrix=null,t.translateX=0,t.translateY=0,t.qualityTranslate=0,t.numberOfPoints=0,t.numberOfDummyPoints=0,t.numberOfQualityPoints=0,t.numberOfQualityDummyPoints=0,t.thresholdFills=[],t.createPointsWithEndBound=!1,t.currentTagList=null,t.currentMarkerPositions=null,t.historicalDataRequested=!1,t.historicalDataReceived=!1,t.clearTagListBeforeTimeStamp=!1,t.clearTagListAfterTimeStamp=0,t.minVal=null,t.maxVal=null,t.defaults={},t}return r(n,i),n.prototype.commonUpdateForSecToolTipTemplate=function(e,t,i,r,n,a,o){var s,l;this.trendView.isLeftOrRight()?(l="x",s="y"):(l="y",s="x"),e.pos1<t?(0===i&&this.setRulerPosition(r,n,t,!0),this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(l,t),this.secondaryRulerToolTipTemplate[i].setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")):e.pos2>a?(0===i&&this.setRulerPosition(r,n,a,!1),this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(l,a-n),this.secondaryRulerToolTipTemplate[i].setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")):(this.rulerPosition=0,this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(l,r-n/2),this.secondaryRulerToolTipTemplate[i].setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")),this.secondaryRulerToolTipTemplate[i].RootNode.setAttribute(s,o-this.rulerContentHeight/2)},n.prototype.draw=function(e,t){if(this.metaData=t,void 0===this.dom)this.dom=document.createElementNS("http://www.w3.org/2000/svg","g");else for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);return this.drawTrend(!1),this.dom},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.calculateRulerValue=function(e){var t=!1;this.boundingValue&&(0===this.tagList.items.length||this.boundingValue.timeStamp<this.tagList.items[0].timeStamp)&&(this.tagList.addToBeginning(this.boundingValue),t=!0),this.createPointsWithEndBound&&this.tagList.add(this.endBoundingValue),this._updateRulerControlData(e),this._updateStaticRulerControlData(e),t&&this.tagList.items.shift(),this.createPointsWithEndBound&&this.tagList.items.pop()},n.prototype._updateRulerControlData=function(t){var i,r,n,a,o,s,l=e.getChromEnum("HmiTrendCompanionMode");(this.trendView.trendCompanionMode===l.Ruler||this.trendView.secondaryRulerToolTip)&&(!1===t||""===this.dataSource.Tag?this.rulerControlData={value:"",dateTime:"",toolTipValue:""}:(a=this._currentTimeAxis.pixelRangeToValueRange(1),n=t.rulerPos,o=(i=this._currentTimeAxis.getValueFromPosition(n))+a,s=i-a,r=this.tagList.getValueFromTimeStamp(i,s,o,this.trendStyle),this.trendStyle===e.getChromEnum("HmiTrendMode").Points&&"string"==typeof r&&""!==r&&-1!==r.indexOf("i")?this.rulerControlData.toolTipValue="":this.rulerControlData.toolTipValue=r,this.rulerControlData.value=r,this.rulerControlData.dateTime=i))},n.prototype._updateStaticRulerControlData=function(t){var i,r,n,a,o,s,l,u,h=e.getChromEnum("HmiTrendCompanionMode");this.trendView.trendCompanionMode===h.StatisticArea?!1===t||""===this.dataSource.Tag?this.rulerControlData={lowerLimitValue:"",lowerLimitDateTime:"",upperLimitValue:"",upperLimitDateTime:""}:(s=this._currentTimeAxis.pixelRangeToValueRange(1),a=t.statRulerPos.lowerLimit,l=(i=this._currentTimeAxis.getValueFromPosition(a))+s,u=i-s,n=this.tagList.getValueFromTimeStamp(i,u,l,this.trendStyle),this.rulerControlData.lowerLimitValue=n,this.rulerControlData.lowerLimitDateTime=i,a=t.statRulerPos.upperLimit,l=(i=this._currentTimeAxis.getValueFromPosition(a))+s,u=i-s,n=this.tagList.getValueFromTimeStamp(i,u,l,this.trendStyle),this.rulerControlData.upperLimitValue=n,this.rulerControlData.upperLimitDateTime=i):this.trendView.trendCompanionMode===h.StatisticResult&&(!1===t||""===this.dataSource.Tag?this.rulerControlData={lowerLimitDateTime:"",upperLimitDateTime:"",minimum:"",minimumTimeStamp:"",maximum:"",maximumTimeStamp:"",average:"",standardDeviation:"",integral:"",weightedAverage:"",duration:"",numberOfValues:"",sum:""}:this.trendView.calculateStatistics&&(i=this._currentTimeAxis.getValueFromPosition(t.statRulerPos.lowerLimit),r=this._currentTimeAxis.getValueFromPosition(t.statRulerPos.upperLimit),this.rulerControlData=i>r?this.tagList.getStatistics(r,i):this.tagList.getStatistics(i,r),this.rulerControlData.duration=Math.abs(i-r)/1e3,(o=this.rulerControlData).lowerLimitDateTime=i,o.upperLimitDateTime=r))},n.prototype.clearTagList=function(e){e?(this.tagList.removeBeforeTimeStamp(this.clearTagListBeforeTimeStamp),this.removePointsBeforeTimeStamp(this.clearTagListBeforeTimeStamp,null),this.minVal=null,this.maxVal=null,this.boundingValue=null,this.endBoundingValue&&this.endBoundingValue.timeStamp<this.clearTagListBeforeTimeStamp&&(this.endBoundingValue=null,this.createPointsWithEndBound=!1),this.lastTime=[],this.clearTagListBeforeTimeStamp=!1):(this.tagList.items=[],this.minVal=null,this.maxVal=null,this.boundingValue=null,this.endBoundingValue=null,this.createPointsWithEndBound=!1,this.clearTagListBeforeTimeStamp=!1,this.clearTagListOnDataReceived=!1,this.clearPolylines(this.linesCollection),this.linesCollection=[],this.markerPositionsCollection=[],this.clearPolylines(this.qualityLinesCollection),this.qualityLinesCollection=[],this.qualityMarkerPositionsCollection=[],this._trendLimitObj.clearAllThresholdFills(),this._trendLimitObj.clearTagList(),this.trendView.removeFromInvalidateCheckArray(this.name),this.trendView.removeFromUndrawnData(this.partId),this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.trendView.removeFromDisconnectedSources(this.name),this.lastTime=[])},n.prototype.getExportData=function(){var e,t,i,r,n,a=this.tagList.items,o=a.length;for(n=[],this._currentTimeAxis.zoomInOutCount>0?(e=this._currentTimeAxis.startValueBuffer,t=this._currentTimeAxis.endValueBuffer):(e=this._currentTimeAxis.currentBeginValue,t=this._currentTimeAxis.currentEndValue),n.push({x:this.trendDisplayText,y:this.trendDisplayText,outputFormat:this._currentTimeAxis.outputFormat}),r=0;r<o&&!((i=a[r]).timeStamp>t);r++)i.timeStamp>=e&&n.push({x:i.timeStamp,y:i.yTagValue});return n},n.prototype.initialize=function(i,r,n){var a;this.baseInitialize(i,n,r),this.trendStyle<e.getChromEnum("HmiTrendMode").Bar?this.trendModeObj=new t.LinearStepMode(this):(this.trendStyle=e.getChromEnum("HmiTrendMode").Value,this.trendModeObj=new t.ValueTrendMode(this)),this.config.AggregationMode&&(this.aggregationMode=this.config.AggregationMode),this.viewBoxDim=parseInt(this.pointWidth,10)+1,this.dataSourceProp=this.config.DataSourceY,this.dataSource.Tag=this.dataSourceProp.Source,""===this.dataSource.Tag?this.dataSource.TagDisplayName="":this.dataSource.TagDisplayName="...",this.cpmPath="",this.timeAxisPartId=null,this.valueAxisPartId=null,this.cpmPath="",this.bufferCpmPath="","string"==typeof(a=this.config.TimeAxis)?(this.timeAxis=a,a=r.getXAxisByName(a)):"number"==typeof a&&(this.timeAxisPartId=a,a=r.getXAxisByPartId(a),this.timeAxis=a?a.config.Name:""),this.currentXAxis=this._currentTimeAxis=a,"string"==typeof(a=this.config.YValueAxis)?(this.valueAxis=a,a=r.getYAxisByName(a)):"number"==typeof a&&(this.valueAxisPartId=a,a=r.getYAxisByPartId(a),this.valueAxis=a?a.config.Name:""),this.currentYAxis=this._currentValueAxis=a,this.loadDataImmediately=this.config.ShowLoggedDataImmediately,this.loadDataImmediately||(this.bufferTime=(new Date).getTime()),this.rulerControlData={},this.tagList=new e.Data.GenericList,this._trendLimitObj=new t.TrendLimits(this),this._trendLimitObj.initialize(),this.RetrieveCachedTrendData()},n.prototype.matchAxis=function(e){var t;return e.axisType===this.trendView.axisTypeEnum.xAxis?(t=this.config.TimeAxis,this._isDrawableXAxis(t,e)):(t=this.config.YValueAxis,this._isDrawableYAxis(t,e))},n.prototype._isDrawableXAxis=function(e,t){var i=!1;return this.currentXAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.timeAxis=t.config.Name,this.currentXAxis=this._currentTimeAxis=t,this.visibility&&this.currentYAxis&&(i=!0)),i},n.prototype._isDrawableYAxis=function(e,t){var i=!1;return this.currentYAxis||""===e||("string"==typeof e&&e===t.config.Name||"number"==typeof e&&e===t.config.ElementID)&&(this.valueAxis=t.config.Name,this.currentYAxis=this._currentValueAxis=t,this.visibility&&this.currentXAxis&&(i=!0)),i},n.prototype._removeUnusedTimeValues=function(){var e,i,r,n,a,o,s=this.tagList,l=s.items,u=0,h=this.boundingValue,d=[],c=!1;if(this._currentTimeAxis){if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount){for(e=0,u=l.length-1;u>=0;u--)if(l[u].timeStamp<=this._currentTimeAxis.currentEndValue){e=u+1;break}if((n=e-this._currentTimeAxis.config.PointCount)>0){for(u=0;u<n;u++)if(i=l[u].yTagValue,c||this.minVal===i||this.maxVal===i){c=!0;break}this._currentTimeAxis.isPointCountForceAnim=!0,this.trendView.trendControlAnimator.removeValueAxisAnimation(this._currentTimeAxis.axisPbId),this.boundingValue=l[n-1],a=this.boundingValue.timeStamp,s.removeItems(n),this.removePointsBeforeTimeStamp(a,!1),l[l.length-1].timeStamp-this.boundingValue.timeStamp<t.TimeAxis.MIN_AXIS_RANGE&&(this.boundingValue.xTagValue=this.boundingValue.timeStamp=0),this._currentTimeAxis.currentBeginValue<this.boundingValue.timeStamp&&(this._currentTimeAxis.isPointCountForceAnim=!0),this._currentTimeAxis.alignToCurrentTime(Date.now())}}else if((this.trendStyle===this._trendMode.Value||this.linesCollection.length>1&&this.linesCollection[1].items[0].timeStamp<this._currentTimeAxis.currentBeginValue||1===this.linesCollection.length)&&(d=s.removeBeforeTimeStamp(this._currentTimeAxis.currentBeginValue))[(o=d.length)-1]){if(h=this.boundingValue,this.boundingValue=d[o-1],a=this.boundingValue.timeStamp,!h||h.yTagValue!==this.minVal&&h.yTagValue!==this.maxVal){for(u=0;u<o;u++)if((i=d[u].yTagValue)===this.minVal||i===this.maxVal){c=!0;break}}else c=!0;this.removePointsBeforeTimeStamp(a,!1)}if(c)switch(e=l.length,this.maxVal=this.minVal=null,this._currentValueAxis.config.ScalingType){case this._scalingType.Linear:for(this.boundingValue?(this.maxVal=this.minVal=this.boundingValue.yTagValue,u=0):e>0&&(this.maxVal=this.minVal=l[0].yTagValue,u=1);u<e;u++)i=l[u].yTagValue,this.minVal>i&&(this.minVal=i),this.maxVal<i&&(this.maxVal=i);break;case this._scalingType.Logarithmic:for(this.boundingValue&&this.boundingValue.yTagValue>0&&(this.maxVal=this.minVal=this.boundingValue.yTagValue),u=0;u<e;u++)r=l[u].yTagValue,(this.minVal>r||null===this.minVal)&&r>0&&(this.minVal=r),(this.maxVal<r||null===this.maxVal)&&r>0&&(this.maxVal=r);break;case this._scalingType.NegativeLogarithmic:for(this.boundingValue&&this.boundingValue.yTagValue<0&&(this.maxVal=this.minVal=this.boundingValue.yTagValue),u=0;u<e;u++)r=l[u].yTagValue,(this.minVal>r||null===this.minVal)&&r<0&&(this.minVal=r),(this.maxVal<r||null===this.maxVal)&&r<0&&(this.maxVal=r)}return d=null,s=null,l=null,h=null,c&&this.linesCollection.length>0}},n.prototype._removePointsAfterTimeStamp=function(e){var t,i,r,n;if(t=this.linesCollection.length,this.trendStyle===this._trendMode.Value){for(i=0;i<t;i++)if(e<this.linesCollection[i].timeStamp){this.linesCollection.splice(i);break}}else{for(i=t-1;i>=0;i--){if(r=(n=this.linesCollection[i]).removeAfterTimeStamp(e),0!==n.items.length){r.length>0&&(this.markerPositionsCollection[i].markerEnd=this.midMarkerURLsArray[n.listType],n.setPoints=!0);break}n.polyline&&n.polyline.parentNode&&n.polyline.parentNode.removeChild(n.polyline),n.dummyPolyline&&n.dummyPolyline.parentNode&&n.dummyPolyline.parentNode.removeChild(n.dummyPolyline),this.linesCollection.splice(i,1),this.markerPositionsCollection.splice(i,1)}for(i=(t=this.qualityLinesCollection.length)-1;i>=0;i--){if(r=(n=this.qualityLinesCollection[i]).removeAfterTimeStamp(e),0!==n.items.length){r.length>0&&(this.qualityMarkerPositionsCollection[i].markerEnd=this.midMarkerURLsArray[n.listType],n.setPoints=!0);break}n.polyline&&n.polyline.parentNode&&n.polyline.parentNode.removeChild(n.polyline),n.dummyPolyline&&n.dummyPolyline.parentNode&&n.dummyPolyline.parentNode.removeChild(n.dummyPolyline),this.qualityLinesCollection.splice(i,1),this.qualityMarkerPositionsCollection.splice(i,1)}n=null}r=null},n.prototype._recalculate=function(e,t,i){var r,n,a;void 0===t&&(t=0),void 0===i&&(i=0);var o=(r=e.items).length,s=this._currentValueAxis.invalidated;for(a=0;a<o;++a)n=r[a],this._recalculatePointXPos(n,t),(s||null===n.yTagPosition)&&this._recalculatePointYPos(n,i);r=null},n.prototype._recalculatePointXPos=function(e,t){void 0===t&&(t=0);var i=this._currentTimeAxis.getPositionFromValue(e.xTagValue);e.xTagPosition=this.getRoundedTagPosition(i-t),e.xTagPosition<-this.EXPO_POSITION_LIMIT?e.xTagPosition=-this.EXPO_POSITION_LIMIT:e.xTagPosition>this.EXPO_POSITION_LIMIT&&(e.xTagPosition=this.EXPO_POSITION_LIMIT)},n.prototype._recalculatePointYPos=function(e,t){void 0===t&&(t=0);var i=this._currentValueAxis.getPositionFromValue(e.yTagValue);e.yTagPosition=this.getRoundedTagPosition(i-t),e.yTagPosition<-this.EXPO_POSITION_LIMIT?e.yTagPosition=-this.EXPO_POSITION_LIMIT:e.yTagPosition>this.EXPO_POSITION_LIMIT&&(e.yTagPosition=this.EXPO_POSITION_LIMIT)},n.prototype._isAnimationNeeded=function(){var e,t=!1,i=this.pointsToAnimate[0],r=this.pointsToAnimate[1];return Math.abs(r.xTagPosition-i.xTagPosition)>5||Math.abs(r.yTagPosition-i.yTagPosition)>5?t=!0:(this.pointsToAnimate=[],this.linesCollection.length&&(this.trendModeObj.recalculateInterimPoints(),!1===this.trendView.isOnline()&&this.endBoundingValue&&(e=this.linesCollection.currentTagList.items[this.linesCollection.currentTagList.items.length-1])&&(this.endBoundingValue.yTagValue=e.yTagValue,this.endBoundingValue.yTagPosition=e.yTagPosition,this.endBoundingValue.qualityCode=e.qualityCode),this.trendModeObj.updateTrend(!0))),t},n.prototype._recreateDisplayValues=function(){var t,i,r,n,a,o,s,l,u,h,d,c,p,m,g,T,f="",y=1,D=0,S=!1,b="",C=this.trendView.isLeftOrRight();if(h=[],this._currentTimeAxis&&this._currentTimeAxis.ticksFeatures.length>0)for(t=0;t<this._currentTimeAxis.ticksFeatures.length;t++)for(u=(l=this._currentTimeAxis.ticksFeatures[t]).Parent.getPoles(),l.applyFilters(u),i=0;i<u.length;i++)u[i].isVisible&&h.push(u[i]);if(h.length>0){for(s=h.length,this.linesCollection=[],this.boundingValue&&(this.tagList.items.length>0&&this.boundingValue.timeStamp<this.tagList.items[0].timeStamp||0===this.tagList.items.length)&&(this.tagList.items.unshift(this.boundingValue),S=!0),p=this.displayValueAttr.positionToBoxCoord,t=0;t<s;t++)if(l=h[t])if("object"!=typeof(r=this.tagList.getValueFromTimeStamp(l.value,void 0,void 0,this.trendStyle))&&""!==r)r=(r=r.toString()).split(" "),n=Number(r[0]),r[0]=this._currentValueAxis.getDisplayValue(r[0]),(r=r.join(" ")).length>f.length&&(f=r),C?g=(T=e.Utilities.preprocessCoordinateForSVG(l.x)+this._currentTimeAxis.translate)+","+this.displayValueAttr.start+" "+T+","+this.displayValueAttr.end+" ":(T=e.Utilities.preprocessCoordinateForSVG(l.y)+this._currentTimeAxis.translate,g=this.displayValueAttr.start+","+T+" "+this.displayValueAttr.end+","+T+" "),m=T-p,this.linesCollection.push({displayValue:r,value:n,lineType:this._getLineLimitTypeFromDisplayValue(r,n),timeStamp:l.value,positionFromTick:m,trendLinePoints:g});else if("object"==typeof r){for(d=r.length,b="",i=0;i<d;i++)r[i]=r[i].toString(),c=r[i].split(" "),n=Number(c[0]),c[0]=this._currentValueAxis.getDisplayValue(c[0]),c=c.join(" "),(b+=0==i?e.getTextByID("TBID_Trend_MinLabel")+":"+c:", "+e.getTextByID("TBID_Trend_MaxLabel")+":"+c).length>f.length&&(f=b);C?g=(T=e.Utilities.preprocessCoordinateForSVG(l.x)+this._currentTimeAxis.translate)+","+this.displayValueAttr.start+" "+T+","+this.displayValueAttr.end+" ":(T=e.Utilities.preprocessCoordinateForSVG(l.y)+this._currentTimeAxis.translate,g=this.displayValueAttr.start+","+T+" "+this.displayValueAttr.end+","+T+" "),m=T-p,this.linesCollection.push({displayValue:b,value:n,lineType:this._getLineLimitTypeFromDisplayValue(c,n),timeStamp:l.value,positionFromTick:m,trendLinePoints:g})}if(C){if(f.length!==this._maxDispVal.length&&(this._maxDispVal=f,this.displayValueAttr.width=1.5*this.getDisplayValueWidth(),this.displayValueAttr.positionToBoxCoord=this.displayValueAttr.width/2),this.linesCollection.length>1){for(a=Math.abs(this.linesCollection[1].positionFromTick-this.linesCollection[0].positionFromTick);a*y<this.displayValueAttr.width;)y++;D=y-1}for(t=0;t<this.linesCollection.length;t++)++D===y?(D=0,this.linesCollection[t].positionFromTick+=p-this.displayValueAttr.positionToBoxCoord):(this.linesCollection.splice(t,1),t--)}else if(f.length!==this._maxDispVal.length)if(this._maxDispVal=f,(o=this.currentTrendWindow.onValueTrendModePositionChange(this.name)).length)for(t=o.length-1;t>=1;t--)o[t].draw(!this.trendView.isOnline());else this.displayValueAttr.width=1.5*this.getDisplayValueWidth();S&&this.tagList.items.shift()}},n.prototype._getLineLimitTypeFromDisplayValue=function(t,i){var r=e.Data.TagValueSuffix;return this.qualityVisualizationVisible&&-1!==t.indexOf(r.Bad)?this.thresholds.length+1:this.qualityVisualizationVisible&&-1!==t.indexOf(r.Uncertain)?this.thresholds.length:this._trendLimitObj.getThresholdType(i)},n.prototype.getValueAxisScaleType=function(){return this._currentValueAxis.config.ScalingType},n.prototype.recalculateX=function(){var e,t,i,r,n,a=this.tagList.items;for(this.translateX=0,e=this.linesCollection.length,n=0;n<e;n++)this.linesCollection[n].setPoints=!0;for(e=a.length,n=0;n<e;++n)(r=a[n]).xTagPosition=this.getRoundedTagPosition(this._currentTimeAxis.getPositionFromValue(r.xTagValue)),this.tagList.update(r,n);if(this.qualityVisualization)for(this.qualityTranslate=0,e=this.qualityLinesCollection.length,n=0;n<e;n++)for(this.qualityLinesCollection[n].setPoints=!0,t=(a=this.qualityLinesCollection[n].items).length,i=0;i<t;++i)(r=a[i]).xTagPosition=this.getRoundedTagPosition(this._currentTimeAxis.getPositionFromValue(r.xTagValue));r=null,this.boundingValue&&(this.boundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.boundingValue.xTagValue)),this.endBoundingValue&&(this.endBoundingValue.xTagValue=this.endBoundingValue.timeStamp=this._currentTimeAxis.currentEndValue,this.endBoundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.endBoundingValue.xTagValue))},n.prototype.recalculateWithRollingTime=function(){var e,t,i,r,n=65536;if(this.trendStyle===this._trendMode.Value)(this.tagList.items.length>0||this.boundingValue)&&this._recreateDisplayValues();else if((i=this.linesCollection.length)>0){if(this._recalculate(this.linesCollection.currentTagList),this.linesCollection.currentTagList.translate=!1,this.tagList.items.length>0&&(this._lastTrendPointCalculated=this.tagList.items[this.tagList.items.length-1]),i>1)if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount)for(this.translateX=0,i-=1,e=0;e<i;e++)t=this.linesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!1,t=null;else if(r=this.linesCollection[0].items[0],this.translateX=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,i-=1,Math.abs(this.translateX)>n)for(this.translateX=0,e=0;e<i;e++)t=this.linesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!0,t=null;else for(e=0;e<i;e++)(t=this.linesCollection[e]).addToTranslate&&(this._recalculate(t,this.translateX),t.addToTranslate=!1,t.setPoints=!0),t.translate=!0,t=null;if(this._setBoundinValuePosition(),this.qualityVisualization&&(i=this.qualityLinesCollection.length)>0){if(r=this.qualityLinesCollection[0].items[0],i>1)if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount)for(this.qualityTranslate=0,e=0;e<i;e++)t=this.qualityLinesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!1,t=null;else{if(this.qualityTranslate=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,i-=1,Math.abs(this.qualityTranslate)>n){for(this.qualityTranslate=0,e=0;e<i;e++)t=this.qualityLinesCollection[e],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0,t.translate=!0;t=this.qualityLinesCollection[i],this._recalculate(t),t.addToTranslate=!1,t.setPoints=!0}else{for(e=0;e<i;e++)(t=this.qualityLinesCollection[e]).addToTranslate&&(this._recalculate(t,this.qualityTranslate),t.addToTranslate=!1,t.setPoints=!0),t.translate=!0;(t=this.qualityLinesCollection[i]).translate?t.addToTranslate&&(this._recalculate(t,this.qualityTranslate),t.addToTranslate=!1,t.setPoints=!0):(this._recalculate(t),t.setPoints=!0)}t=null}else this.qualityLinesCollection[0].translate?(this.qualityTranslate=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,Math.abs(this.qualityTranslate)>n?(this.qualityTranslate=0,t=this.qualityLinesCollection[0],this._recalculate(t),t.addToTranslate=!0,t.setPoints=!0,t.translate=!0):this.qualityLinesCollection[0].addToTranslate&&(this.qualityLinesCollection[0].setPoints=!0)):this._recalculate(this.qualityLinesCollection[0]);r&&(r.xTagPosition<-this.EXPO_POSITION_LIMIT?r.xTagPosition=-this.EXPO_POSITION_LIMIT:r.xTagPosition>this.EXPO_POSITION_LIMIT&&(r.xTagPosition=this.EXPO_POSITION_LIMIT))}this._setEndBoundingValuePosition()}},n.prototype.onTagListChangedX=function(e,i,r,n){var a,o,s,l,u,h,d,c=-1,p=!1,m=!1,g=this.tagList.items,T=!1,f=!1,y=[];if(!this._currentTimeAxis)return{trendDrawRequired:m,yAxisUpdateRequired:p};if(n)g.length>0?c=g[g.length-1].timeStamp:this.boundingValue&&null!==this.boundingValue.timeStamp&&(c=this.boundingValue.timeStamp);else{if(d=i[i.length-1],this.clearTagListAfterTimeStamp>0&&d>this.clearTagListAfterTimeStamp){var D=0;for(a=e.length-1;a>=0;a--)if(i[a]<=this.clearTagListAfterTimeStamp){D=a+1;break}e.splice(D,e.length),i.splice(D,i.length),r.splice(D,r.length)}this.historicalDataRequested=!1,this.clearTagListOnDataReceived?(this.clearTagList(!1),this.clearTagListOnDataReceived=!1,g=this.tagList.items):(this.clearTagListBeforeTimeStamp&&e.length>0&&(this.clearTagListBeforeTimeStamp=i[i.length-1]+1,this.clearTagList(!0)),this.clearTagListBeforeTimeStamp=!1),g.length>0&&(c=g[g.length-1].timeStamp,T=i[0]<g[0].timeStamp,f=i[0]<c),!1===T&&this._trendLimitObj.setLimitBools(!1,void 0)}if(!n&&T){for(s=g[0].timeStamp,this.boundingValue&&(this.removePointsBeforeTimeStamp(s,!0),this.boundingValue=null),this._trendLimitObj.setLimitBools(T,void 0),a=e.length-1;a>=0&&!(i[a]<s&&-1===this.tagList.findIndexByTimeStamp(i[a]));--a);for(;a>=0;--a)(o=new t.Point).xTagValue=o.timeStamp=i[a],o.yTagValue=e[a],o.qualityCode=this._getQualityOfValue(r[a]),(this._currentValueAxis.config.ScalingType===this._scalingType.Linear||this._currentValueAxis.config.ScalingType===this._scalingType.Logarithmic&&o.yTagValue>0||this._currentValueAxis.config.ScalingType===this._scalingType.NegativeLogarithmic&&o.yTagValue<0)&&((o.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=o.yTagValue),(o.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=o.yTagValue)),this.tagList.addToBeginning(o),this.trendStyle!==this._trendMode.Value&&(this._trendLimitObj.addLimitValuePointsBegin(o,0),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPointsBegin(o)),o=null;this._trendLimitObj.setLimitBools(!1,void 0)}else if(!n&&f){for(s=i[0],u=g.length,l=1;l<u;l++)if(s<g[l].timeStamp){if((s=i[i.length-1])>=(g=g.splice(l))[g.length-1].timeStamp)g=[];else for(h=g.length,l=0;l<h;l++)if(s<g[l].timeStamp){g=g.splice(l);break}break}for(this._removePointsAfterTimeStamp(this.tagList.items[this.tagList.items.length-1].timeStamp),this._trendLimitObj.setLimitBools(!1,void 0),u=e.length,a=0;a<u;++a)(o=new t.Point).xTagValue=o.timeStamp=i[a],o.yTagValue=e[a],o.qualityCode=this._getQualityOfValue(r[a]),this.tagList.add(o),(this._currentValueAxis.config.ScalingType===this._scalingType.Linear||this._currentValueAxis.config.ScalingType===this._scalingType.Logarithmic&&o.yTagValue>0||this._currentValueAxis.config.ScalingType===this._scalingType.NegativeLogarithmic&&o.yTagValue<0)&&((o.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=o.yTagValue),(o.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=o.yTagValue)),this.trendStyle!==this._trendMode.Value&&(this._trendLimitObj.addLimitValuePoints(o,void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(o)),o=null;for(h=g.length,a=0;a<h;a++)this.tagList.add(g[a]),this.trendStyle!==this._trendMode.Value&&(this._trendLimitObj.addLimitValuePoints(g[a],void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(g[a]))}else for(u=e.length,a=0;a<u;++a)(s=i[a])>=c&&((o=new t.Point).xTagValue=o.timeStamp=s,o.yTagValue=e[a],o.qualityCode=this._getQualityOfValue(r[a]),(0===g.length||g[g.length-1].timeStamp<this._currentTimeAxis.currentEndValue||this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent)&&(m=!0),this.tagList.add(o),(this._currentValueAxis.config.ScalingType===this._scalingType.Linear||this._currentValueAxis.config.ScalingType===this._scalingType.Logarithmic&&o.yTagValue>0||this._currentValueAxis.config.ScalingType===this._scalingType.NegativeLogarithmic&&o.yTagValue<0)&&((o.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=o.yTagValue,(o.timeStamp<this._currentTimeAxis.currentEndValue||this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent)&&(p=!0)),(o.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=o.yTagValue,(o.timeStamp<this._currentTimeAxis.currentEndValue||this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent)&&(p=!0))),this.trendStyle!==this._trendMode.Value&&(this._trendLimitObj.addLimitValuePoints(o,void 0,!1),this.qualityVisualizationVisible&&this._trendLimitObj.addQualityVisualizationPoints(o),n&&(this.trendStyle===this._trendMode.Points?m&&y.push(o):g.length>1&&g[g.length-2].timeStamp<this._currentTimeAxis.currentEndValue&&(0===this.pointsToAnimate.length&&this.pointsToAnimate.push(g[g.length-2]),this.pointsToAnimate.push(o))))),o=null;return this.pointsToAnimate.length>0?(this._recalculate({items:this.pointsToAnimate}),this._isAnimationNeeded()&&this.trendModeObj.animateTrend(this.createAnimTrendObject())):y.length>0&&(this._recalculate({items:y}),this.linesCollection.length&&(this.linesCollection.length>1&&this.trendModeObj.recalculateInterimPoints(),!1===this.trendView.isOnline()&&this.endBoundingValue&&(o=this.linesCollection.currentTagList.items[this.linesCollection.currentTagList.items.length-1])&&(this.endBoundingValue.yTagValue=o.yTagValue,this.endBoundingValue.yTagPosition=o.yTagPosition,this.endBoundingValue.qualityCode=o.qualityCode),this.trendModeObj.updateTrend(!0))),g=y=null,{trendDrawRequired:m,yAxisUpdateRequired:p}},n.prototype.createPointCollection=function(t){var i,r,n,a,o,s,l,u,h,d=this.trendLimitObject||this._trendLimitObj,c="",p="",m="",g="",T="xTagPosition",f="yTagPosition",y=!1,D=this.trendView.isLeftOrRight();if(this.numberOfPoints=0,this.numberOfDummyPoints=0,this.numberOfQualityPoints=0,this.numberOfQualityDummyPoints=0,this.createPointsWithEndBound=!1,d.clearAllThresholdFills(),D||(T="yTagPosition",f="xTagPosition"),this.lastTime.length>0&&(this.trendView.isOnline()||this.lastTime[0]<this._currentTimeAxis.currentEndValue)&&(s=this.lastTime[0]),this.trendStyle!==this._trendMode.Value){for((a=this.linesCollection.length)>0&&(r=(i=this.linesCollection.currentTagList.items).length),this.endBoundingValue&&a>0&&r>0&&i[r-1].timeStamp<this.endBoundingValue.timeStamp&&(this.createPointsWithEndBound=!0,i.push(this.endBoundingValue)),n=0;n<a;n++)if((l=this.linesCollection[n]).translate&&!l.setPoints)this.numberOfPoints++,this.numberOfDummyPoints++;else{for(l.points="",l.dummyPoints="",r=(i=l.items).length,o=0;o<r&&(u=i[o],h=i[o+1],!(s&&u.timeStamp>s));o++)null!==u[T]&&null!==u[f]&&(c=c+u[T]+","+u[f]+" ",this.trendStyle===this._trendMode.Stepped&&(p=p+u[T]+","+u[f]+" ",h&&(D?null!==h[T]&&(p=p+h[T]+","+u[f]+" "):null!==h[f]&&(p=p+u[T]+","+h[f]+" "))));if(l.pointsComplete=o===r,t&&-1!==c.indexOf("null")){""!==(c=c.split(null)[0])&&(l.points=c,this.numberOfPoints++),""!==(p=p.split(null)[0])&&(l.dummyPoints=p,this.numberOfDummyPoints++);break}l.points=c,this.numberOfPoints++,l.dummyPoints=p,this.numberOfDummyPoints++,c="",p=""}if(this.qualityVisualizationVisible){for(this.createPointsWithEndBound&&(this.endBoundingValue.qualityCode!==e.Data.QualityCode.Uncertain&&this.endBoundingValue.qualityCode!==e.Data.QualityCode.Bad||(this.qualityLinesCollection[this.qualityLinesCollection.length-1].add(this.endBoundingValue),y=!0)),a=this.qualityLinesCollection.length,n=0;n<a;n++)if((l=this.qualityLinesCollection[n]).translate&&!l.setPoints)this.numberOfQualityPoints++,this.numberOfQualityDummyPoints++;else{for(r=(i=this.qualityLinesCollection[n].items).length,o=0;o<r&&(u=i[o],h=i[o+1],!(s&&u.timeStamp>s));++o)null!==u[T]&&null!==u[f]&&(m=m+u[T]+","+u[f]+" ",this.trendStyle===this._trendMode.Stepped&&(g=g+u[T]+","+u[f]+" ",h&&(D?null!==h[T]&&(g=g+h[T]+","+u[f]+" "):null!==h[f]&&(g=g+u[T]+","+h[f]+" "))));if(t&&-1!==m.indexOf("null")){""!==(m=m.split(null)[0])&&(l.qualityPoints=m,this.numberOfQualityPoints++),""!==(g=g.split(null)[0])&&(l.dummyQualityPoints=g,this.numberOfQualityDummyPoints++);break}l.points=m,this.numberOfQualityPoints++,l.dummyPoints=g,this.numberOfQualityDummyPoints++,m="",g=""}y&&this.qualityLinesCollection[a-1].items.pop()}l=null,i=this.tagList.items,this.linesCollection.length>0&&this.fill&&this.trendStyle!==this._trendMode.Points&&(i.length>1&&s>i[0].timeStamp&&this._lastTrendPointCalculated&&s<this._lastTrendPointCalculated.timeStamp?(u=i[u=this.tagList.findIndexByTimeStamp(s)],d.createDifferentFillLines(D,u)):this.createPointsWithEndBound?d.createDifferentFillLines(D,this.endBoundingValue):this._lastTrendPointCalculated&&d.createDifferentFillLines(D,this._lastTrendPointCalculated)),this.createPointsWithEndBound&&this.linesCollection.currentTagList.items.pop()}d=null},n.prototype.createAnimTrendObject=function(){var i;return(i={id:"animated_polyline_"+this.id+Date.now(),trendStyle:this._trendMode.Interpolated,tagList:new e.Data.GenericList,trendLimitObject:null,linesCollection:[],markerPositionsCollection:[],points:[],lastTime:[],midMarkerURLsArray:[],color:this.color,pointStyle:e.getChromEnum("HmiMarkerType").None,_trendMode:this._trendMode,trendView:this.trendView,_isLeftOrRight:this.parentTrendWindow.getIsLeftOrRight(),svgGroup:{trendPropertyGroup:null,animationPathGroup:null,trendFillPropertyGroup:null,polyLineGroup:null,qualityGroup:null,translateGroup:null,dummyPolyLineGroup:null,dummyTranslateGroup:null,qualityPolyLineGroup:null,qualityTranslateGroup:null,qualityDummyPolyLineGroup:null,qualityDummyTranslateGroup:null,fillTranslateGroup:null},translateX:0,translateY:0,fill:this.fill,fillURL:this.getFillForAnimation(),thresholdParts:this.thresholdParts,thresholdFills:[],currentTrendWindow:this.currentTrendWindow,currentYAxis:this.currentYAxis,recalculateTagList:function(e){var t,i=this.linesCollection.length;for(t=0;t<i;t++)e._recalculate(this.linesCollection[t]);this.linesCollection.currentTagList&&(i=this.linesCollection.currentTagList.items.length)>0&&(this._lastTrendPointCalculated=this.linesCollection.currentTagList.items[i-1])},cleanUp:function(){var e,t;this.tagList.clear();var i=this.linesCollection.length;for(e=0;e<i;e++)(t=this.linesCollection[e]).polyline&&(t.polyline.parentNode&&t.polyline.parentNode.removeChild(t.polyline),t.polyline=null),t.dummyPolyline&&(t.dummyPolyline.parentNode&&t.dummyPolyline.parentNode.removeChild(t.dummyPolyline),t.dummyPolyline=null),t.items=[],t=null;this.linesCollection=[],this.tagList=this.matrix=this.fillMatrix=this.dummyMatrix=this.qualityMatrix=this.linesCollection=this.lastTime=this.midMarkerURLsArray=this.currentTrendWindow=this.trendView=this.svgGroup.trendPropertyGroup=this.svgGroup.animationPathGroup=this.svgGroup.trendFillPropertyGroup=this.svgGroup.polyLineGroup=this.svgGroup.qualityGroup=this.svgGroup.translateGroup=this.svgGroup.dummyPolyLineGroup=this.svgGroup.dummyTranslateGroup=this.svgGroup.qualityPolyLineGroup=this.svgGroup.qualityTranslateGroup=this.svgGroup.qualityDummyPolyLineGroup=this.svgGroup.qualityDummyTranslateGroup=this.svgGroup.trendSvgContainer=this.svgGroup.trendPlaceHolder=this.svgGroup.fillTranslateGroup=this.svgGroup=this.currentYAxis=this.markerPositionsCollection=this.thresholdFills=this.thresholdParts=this.trendLimitObject=null}}).trendLimitObject=new t.TrendLimits(i),i.trendLimitObject.initialize(i),i.midMarkerURLsArray=new Array(i.midMarkerURLsArray.length+1).join(" none").split(" ").slice(1),i},n.prototype.getFillForAnimation=function(){var t=this.fillURL,i=e.getChromEnum("HmiFillPattern");return this.backFillPattern>i.Transparent&&(this.trendView.isLeftOrRight()?this.backFillPattern===i.GradientHorizontal?t=this.currentXAxis.textOrientation===e.Data.TextOrientation.FromRight?this.alternateFillColor:this.fillColor:this.backFillPattern===i.GradientHorizontalTricolor&&(t=this.fillColor):this.backFillPattern===i.GradientVertical?t=this.currentXAxis.textOrientation===e.Data.TextOrientation.FromBottom?this.alternateFillColor:this.fillColor:this.backFillPattern===i.GradientVerticalTricolor&&(t=this.fillColor)),t},n.prototype.invalidate=function(t){var i=e.getChromEnum("HmiTimeRangeType");if(this.currentTrendWindow.trendWindowDrawn&&this.linesCollection.length)return this.trendView.isOnline()&&(i.TimeRange===this._currentTimeAxis.config.RangeType||i.FromBeginToEnd===this._currentTimeAxis.config.RangeType||i.PointCount===this._currentTimeAxis.config.RangeType&&this._currentTimeAxis.alwaysShowRecent)?this._removeUnusedTimeValues():void 0;setTimeout((function(){this.trendView&&this.trendView.removeFromInvalidateCheckArray(this.name)}),0)},n.prototype.drawTrend=function(e){this.trendModeObj.renderTrend(e),this.tagList.items.length>0&&this.trendView.isStyleChange()&&this._currentValueAxis.invalidate(!1,!0)},n.prototype.getYAxis=function(){return this.valueAxis},n.prototype.getXAxis=function(){return this.timeAxis},n.prototype.recalculate=function(){var e,t=this.tagList.items.length;if(this._lastTrendPointCalculated=this.tagList.items[t-1],this.trendStyle===this._trendMode.Value)this._recalculate(this.tagList),this._recreateDisplayValues();else{for(this.translateX=0,this.translateY=0,t=this.linesCollection.length,e=0;e<t;e++)this._recalculate(this.linesCollection[e]),this.linesCollection[e].translate=!1;this._setBoundinValuePosition(),this._reCalculateQualityLineCollection(),this._setEndBoundingValuePosition()}},n.prototype._reCalculateQualityLineCollection=function(){var e,t,i;if(this.qualityVisualization&&(this.qualityTranslate=0,(e=this.qualityLinesCollection.length)>0)){for(t=0;t<e;t++)this._recalculate(this.qualityLinesCollection[t]),this.qualityLinesCollection[t].translate=!1;(i=this.qualityLinesCollection[0].items[0])&&(i.xTagPosition<-this.EXPO_POSITION_LIMIT?i.xTagPosition=-this.EXPO_POSITION_LIMIT:i.xTagPosition>this.EXPO_POSITION_LIMIT&&(i.xTagPosition=this.EXPO_POSITION_LIMIT))}},n.prototype.recalculateWithTranslate=function(){var e,t,i,r;if(this.trendStyle===this._trendMode.Value)(this.tagList.items.length>0||this.boundingValue)&&(this._recalculate(this.tagList),this._recreateDisplayValues());else{if((t=this.linesCollection.length)>0&&(this._recalculate(this.linesCollection.currentTagList),this.linesCollection.currentTagList.translate=!1,this.tagList.items.length>0&&(this._lastTrendPointCalculated=this.tagList.items[this.tagList.items.length-1]),t>1))if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount)for(this.translateX=0,this.translateY=0,t-=1,e=0;e<t;e++)i=this.linesCollection[e],this._recalculate(i),i.addToTranslate=!1,i.setPoints=!0,i.translate=!1,i=null;else if(r=this.linesCollection[0].items[0],this.translateX=this._currentTimeAxis.getPositionFromValue(r.xTagValue)-r.xTagPosition,this.translateY=this._currentValueAxis.getPositionFromValue(r.yTagValue)-r.yTagPosition,t-=1,Math.abs(this.translateX)>65536||Math.abs(this.translateY)>65536)for(this.translateX=0,this.translateY=0,e=0;e<t;e++)i=this.linesCollection[e],this._recalculate(i),i.addToTranslate=!1,i.setPoints=!0,i.translate=!0,i=null;else for(e=0;e<t;e++)(i=this.linesCollection[e]).addToTranslate&&(this._recalculate(i,this.translateX,this.translateY),i.addToTranslate=!1,i.setPoints=!0),i.translate=!0,i=null;if(this._setBoundinValuePosition(),this.qualityVisualization&&(this.qualityTranslate=0,(t=this.qualityLinesCollection.length)>0)){for(e=0;e<t;e++)this._recalculate(this.qualityLinesCollection[e]),this.qualityLinesCollection[e].translate=!1;(r=this.qualityLinesCollection[0].items[0])&&(r.xTagPosition<-this.EXPO_POSITION_LIMIT?r.xTagPosition=-this.EXPO_POSITION_LIMIT:r.xTagPosition>this.EXPO_POSITION_LIMIT&&(r.xTagPosition=this.EXPO_POSITION_LIMIT))}this._setEndBoundingValuePosition()}},n.prototype._setBoundinValuePosition=function(){var e;this.linesCollection.length>0&&(e=this.linesCollection[0].items[0]),this.boundingValue?this.boundingValue.xTagPosition<-this.EXPO_POSITION_LIMIT?this.boundingValue.xTagPosition=-this.EXPO_POSITION_LIMIT:this.boundingValue.xTagPosition>this.EXPO_POSITION_LIMIT&&(this.boundingValue.xTagPosition=this.EXPO_POSITION_LIMIT):e&&(e.xTagPosition<-this.EXPO_POSITION_LIMIT?e.xTagPosition=-this.EXPO_POSITION_LIMIT:e.xTagPosition>this.EXPO_POSITION_LIMIT&&(e.xTagPosition=this.EXPO_POSITION_LIMIT))},n.prototype._setEndBoundingValuePosition=function(){this._lastTrendPointCalculated?(this.endBoundingValue||(this.endBoundingValue=new t.Point),this.endBoundingValue.xTagValue=this.endBoundingValue.timeStamp=this._currentTimeAxis.currentEndValue,this.endBoundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.endBoundingValue.xTagValue),this.endBoundingValue.yTagValue=this._lastTrendPointCalculated.yTagValue,this.endBoundingValue.yTagPosition=this._lastTrendPointCalculated.yTagPosition,this.endBoundingValue.qualityCode=this._lastTrendPointCalculated.qualityCode):this.boundingValue&&(this.endBoundingValue||(this.endBoundingValue=new t.Point),this.endBoundingValue.xTagValue=this.endBoundingValue.timeStamp=this._currentTimeAxis.currentEndValue,this.endBoundingValue.xTagPosition=this._currentTimeAxis.getPositionFromValue(this.endBoundingValue.xTagValue),this.endBoundingValue.yTagValue=this.boundingValue.yTagValue,this.endBoundingValue.yTagPosition=this.boundingValue.yTagPosition,this.endBoundingValue.qualityCode=this.boundingValue.qualityCode)},n.prototype.updateRulerToolTipPosition=function(){var e,t,i=this.rulerControlData.toolTipValue,r=this.currentTrendWindow.getRulerView().getRulerType().regularvertical.getRulerPos();if(i)if("object"!=typeof i)this.useOldStyle?this.updateSecToolTip(i,0,r):this.updateSecToolTipRulerPosition(i,0,r);else if("object"==typeof i&&(t=i.length)===this.secondaryRulerToolTipTemplate.length)for(e=0;e<t;e++)this.useOldStyle?this.updateSecToolTip(i[e],e,r):this.updateSecToolTipRulerPosition(i[e],e,r);this.prevPos=r},n.prototype.updateSecToolTip=function(e,t,i){var r,n=this.secondaryRulerToolTipTemplate[t].getProps("HmiProps.Width"),a=this._currentValueAxis.getPositionFromValue(e.toString().split("i")[0].trim());this.trendView.isLeftOrRight()?(r="translate("+i+","+a+")",i+n>=this._currentTimeAxis.rect.width+this._currentTimeAxis.rect.left?r+=" scale(-1,-1)":r+=" scale(1,1)"):(r="translate("+a+","+i+")",i+n>=this._currentTimeAxis.rect.height+this._currentTimeAxis.rect.top?r+=" scale(-1,-1)":r+=" scale(1,1)"),this.secondaryRulerToolTipTemplate[t].RootNode.parentNode.setAttribute("transform",r)},n.prototype.updateSecToolTipRulerPosition=function(e,t,i){var r,n,a,o,s,l=this._currentValueAxis.getPositionFromValue(e.toString().split("i")[0].trim());this.trendView.isLeftOrRight()?(r=this.rulerContentWidth,this.rulerContentWidth>this._currentTimeAxis.rect.width?(r=this._currentTimeAxis.rect.width,this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!0):this.contentWidthModified&&(this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!1),n=i-r/2,a=i+r/2,s=(o=this._currentTimeAxis.rect.left)+this._currentTimeAxis.rect.width,this.commonUpdateForSecToolTipTemplate({pos1:n,pos2:a},o,t,i,r,s,l)):(r=this.rulerContentHeight,this.rulerContentHeight>this._currentTimeAxis.rect.height?(r=this._currentTimeAxis.rect.height,this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!0):this.contentHeightModified&&(this.secondaryRulerToolTipTemplate[t].setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!1),n=i-r/2,a=i+r/2,s=(o=this._currentTimeAxis.rect.top)+this._currentTimeAxis.rect.height,this.commonUpdateForSecToolTipTemplate({pos1:n,pos2:a},o,t,i,r,s,l)),this.secondaryRulerToolTipTemplate[t].update()},n.prototype.setRulerData=function(e){this.rulerContentWidth=e.contentWidth,this.rulerContentHeight=e.contentHeight,this.rulerPosition=e.rulerPosition,this.useOldStyle=e.useOldStyle},n.prototype.setRulerPosition=function(e,t,i,r){this.rulerPosition=r?2*(e-i)/t-1:1-2*(i-e)/t,this.rulerPosition<-1?this.rulerPosition=-1:this.rulerPosition>1&&(this.rulerPosition=1)},n.prototype.resetSecondaryTooltip=function(){var e;if(this.secondaryRulerToolTipTemplate)for(e=0;e<this.secondaryRulerToolTipTemplate.length;e++)this.secondaryRulerToolTipTemplate[e].setHmiProps(this.rulerContentWidth,"HmiProps.Width"),this.secondaryRulerToolTipTemplate[e].setHmiProps(this.rulerContentHeight,"HmiProps.Height"),this.secondaryRulerToolTipTemplate[e].update()},n.prototype.getYStartValue=function(){return null===this.minVal&&this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent&&this.boundingValue?this.boundingValue.yTagValue:this.minVal},n.prototype.getXStartValue=function(){var e,t,i=0,r=this.tagList.items;if((e=r.length)>0){if(this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount){for(e=0,i=r.length-1;i>=0;i--)if(r[i].timeStamp<=this._currentTimeAxis.currentEndValue){e=i+1;break}i=e>this._currentTimeAxis.config.PointCount?e-this._currentTimeAxis.config.PointCount:0}t=r[i].xTagValue}return t},n.prototype.recalculateY=function(){var e,t,i;this.translateY=0,this.trendStyle!==this._trendMode.Value&&(this._recalculateYTagLists(this.linesCollection),(i=this.linesCollection.length)>0&&(e=(t=this.linesCollection[i-1].items)[t.length-1]),this.endBoundingValue&&e&&(this.endBoundingValue.yTagValue=e.yTagValue,this.endBoundingValue.yTagPosition=e.yTagPosition,this.endBoundingValue.qualityCode=e.qualityCode),t=e=null,this.qualityVisualizationVisible&&this._recalculateYTagLists(this.qualityLinesCollection))},n.prototype._recalculateYTagLists=function(e){var t,i,r,n,a,o=e.length;for(t=0;t<o;t++)for(!0===(i=e[t]).translate&&(i.setPoints=!0),r=i.items,length=r.length,n=0;n<length;++n)a=r[n],this._recalculatePointYPos(a);i=r=a=null},n.prototype.getXEndValue=function(){var e=this.tagList.items.length;if(e>0)return this.tagList.items[e-1].xTagValue},n.prototype.getYEndValue=function(){return null===this.maxVal&&this.trendView.isOnline()&&this._currentTimeAxis.alwaysShowRecent&&this.boundingValue?this.boundingValue.yTagValue:this.maxVal},n.prototype.historicalInvalidate=function(){var t,i,r,n=this.tagList.items.length;this._currentTimeAxis.zoomInOutCount>0?(t=this._currentTimeAxis.startValueBuffer,i=this._currentTimeAxis.endValueBuffer):(t=this._currentTimeAxis.currentBeginValue,i=this._currentTimeAxis.currentEndValue),n>0&&(this.tagList.items[0].timeStamp<t&&(r=this.tagList.removeBeforeTimeStamp(t),this.trendView.moveToType===e.Data.MoveToType.MoveToLast&&this.tagList.items.length>0&&(this.tagList.items.unshift(r[r.length-1]),t=r[r.length-1].timeStamp),this.removePointsBeforeTimeStamp(t,!1)),this.tagList.items[this.tagList.items.length-1].timeStamp>i&&(r=this.tagList.removeAfterTimeStamp(i),this.trendView.moveToType===e.Data.MoveToType.MoveToFirst&&this.tagList.items.length>0&&(this.tagList.items.push(r[0]),i=r[0].timeStamp),this._removePointsAfterTimeStamp(i),this._trendLimitObj.setLimitBools(!1,void 0)),n>this.tagList.items.length&&this.resetMinAndMaxValue())},n.prototype.tryFillDisplayName=function(){var e=!0;return""===this.displayName&&(""!==this.dataSource.Tag?this.trendDisplayText=this.dataSource.TagDisplayName:e=!1),e},n.prototype.filledSVGCreation=function(){var t,i,r,n,a,o,s,l,u=this.trendView.SVGParent,h=e.Features.Shape.SvgShape.CreateSvgElement,d=this.getLineStyle();if(l=this.svgGroup,this.currentTrendWindow&&this.currentTrendWindow.trendWindowDrawn){if(u.getElementById("filltrendIndicator_"+this.id)||e.Features.Shape.SvgShape.getElementByIDSafariHack(u,"polyline","filltrendIndicator_"+this.id),s=this.svgGroup.trendSvgContainer,this.trendView.isLeftOrRight()?(t=this.translateX,i=this.translateY):(i=this.translateX,t=this.translateY),l.trendFillPropertyGroup||(l.trendFillPropertyGroup=h("g",{id:"TrendFillPropertyGroup"+this.id,"clip-path":"url(#"+this.currentTrendWindow.getClipPathId()+")"})),l.fillTranslateGroup||(l.fillTranslateGroup=h("g",{id:"FillTranslateGroup"+this.id,"stroke-dasharray":"inherit","stroke-width":0,transform:"translate("+t+","+i+")",appendTo:l.trendFillPropertyGroup}),this.matrix&&(this.fillMatrix=l.fillTranslateGroup.transform.baseVal.getItem(0).matrix)),this.tagList.items.length>0){for(this._trendLimitObj.createDifferentFillLines(this.trendView.isLeftOrRight(),this._lastTrendPointCalculated),r=this.thresholds.length,n=0;n<r;n++)a=this.thresholds[n].type,o=this.thresholds[n].isNormal?this.fillURL:this.thresholds[n].color,""!==this.thresholdFills[n].fill&&h("polyline",{points:this.thresholdFills[n].fill,id:a+"_fillPolyline_"+this.id,class:a+"_fillPolylineClass_"+this.id,fill:o,stroke:"none","stroke-width":0,ignoreEvent:!0,appendTo:l.trendFillPropertyGroup}),""!==this.thresholdFills[n].translateFill&&h("polyline",{points:this.thresholdFills[n].translateFill,id:a+"_translateFillPolyline_"+this.id,class:a+"_translateFillPolyline_"+this.id,fill:o,stroke:"none","stroke-width":0,ignoreEvent:!0,appendTo:l.fillTranslateGroup});l.trendFillPropertyGroup.setAttribute("stroke-width",0),l.trendFillPropertyGroup.setAttribute("stroke-dasharray",d)}l.trendPropertyGroup&&l.trendFillPropertyGroup&&s.insertBefore(l.trendFillPropertyGroup,l.trendPropertyGroup)}},n.prototype.requestHistoricalData=function(t,i){var r=[],n=[],a=[],o=0,s=[],l=[],u=[];this.currentTrendWindow&&-1!==this.parentTrendWindow.drawableTrends.indexOf(this)&&(o=Math.floor(this.trendView.pixelsInTrendAreas),this.clearTagListBeforeTimeStamp=!0,this._currentTimeAxis.config.RangeType===this._rangeTypeEnum.PointCount?(o=this._currentTimeAxis.config.PointCount,this.trendView.isOnline()?(r.push(0),n.push((this._currentTimeAxis.currentEndValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND)):(r.push((this._currentTimeAxis.currentBeginValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND),n.push(0)),this._currentTimeAxis.timeAxisDrawn=!1):(r.push((this._currentTimeAxis.currentBeginValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND),n.push((this._currentTimeAxis.currentEndValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND),this._currentTimeAxis.timeAxisDrawn=!0),s.push(o),void 0!==this.aggregationMode&&l.push(this.aggregationMode),a.push(this.dataSource.Tag),u.push(this.partId),this.historicalDataRequested=!0,a.length&&(t?i?this.trendView.dp.addRequest(r,n,s,a,u,e.Data.BoundingFlags.LeftBounding,l,!0,!0,i):this.trendView.dp.addRequest(r,n,s,a,u,e.Data.BoundingFlags.LeftBounding,l,!0,!1,i):(this.trendView.dp.requestData(r,n,s,a,u,e.Data.MoveToType.MoveToSpecifiedTime,e.Data.BoundingFlags.LeftBounding,l),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1)),r=n=s=a=u=l=null),this.trendView.moveToType=e.Data.MoveToType.NoMove},n.prototype.updateBeginTime=function(e){!this.loadDataImmediately&&this.bufferTime>this._currentTimeAxis.currentBeginValue?e.push((this.bufferTime+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND):e.push((this._currentTimeAxis.currentBeginValue+this._EPOCH_DIFFERENCE)*this._TICKS_PER_MILLISECOND)},n.prototype.updateProperty=function(t,i){var r,n,a=e.Data.TrendPropId,o=this._trendMode;switch(t){case a.TagName:case a.TagNameY:this.handleTagName(i);break;case a.TrendMode:this.handleTrendMode(i,undefined,o,r);break;case a.TimeAxis:this.handleTimeAxis(n,i,r);break;case a.YValueAxis:this.handleYValueAxis(n,i,r);break;case a.AggregationMode:this.handleAggregationMode(i)}},n.prototype.handleTrendMode=function(i,r,n,a){if(i===e.getChromEnum("HmiTrendMode").Bar&&(i=n.Value),i!==n.Value||this.currentTrendWindow.getDisplayValueRectParentGroup()||this.currentTrendWindow.createDisplayValueRectParentGroup(),this.config.TrendMode=i,void 0===this.templateTrendAttributes.interpolation){if(a=this.trendStyle,this.trendStyle=i,i===n.Value||a===n.Value){if(a=[],this.trendView.getDrawableTrendByName(this.name)&&(a=this.currentTrendWindow.onValueTrendModePositionChange(this.name)),this.trendStyle===n.Value?(this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[],this.trendModeObj=new t.ValueTrendMode(this),this.currentTrendWindow&&this.currentTrendWindow.trendWindowDrawn&&this._recreateDisplayValues(),this.parentTrendWindow.updateRulerToolTip(this)):(this.trendModeObj.cleanTrend(),this.trendModeObj=new t.LinearStepMode(this),this._trendLimitObj.createNewLinesCollection()),a&&a.length){for(r=a.length-1;r>=0;r--)a[r].draw(!this.trendView.isOnline());if(this.trendStyle===n.Value)return}}else this._trendLimitObj.createNewLinesCollection();this.trendStyle===n.Points&&(this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[]),this.trendView.getDrawableTrendByName(this.name)&&this.drawTrend(!this.trendView.isOnline())}this.parentTrendWindow.updateRulerToolTip(this),this.trendView.calculateRulerData()},n.prototype.handleAggregationMode=function(t){this.aggregationMode=t,this.config.AggregationMode=t,this.trendView.getDrawableTrendByName(this.name)&&this.partId&&(this.requestHistoricalData(!0,!0),this.clearTagList(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.drawTrend(!this.trendView.isOnline()))},n.prototype.requestStoredData=function(){var e={TrendId:this.config.ElementID,TrendAreaId:this.trendView.config.ElementID};this.trendView.dp.requestForStoredData(e,!1)},n.prototype.handleYValueAxis=function(t,i,r){t=!1,this.trendView.removeFromInvalidateCheckArray(this.name),this.trendView.trendControlAnimator.removeTrendAnimation(this.name),"string"==typeof i?(this.valueAxis=i,r=this.parentTrendWindow.getYAxisByName(i)):"number"==typeof i&&(this.valueAxisPartId=i,r=this.trendView.getYAxisByPartId(i),this.valueAxis=r?r.config.Name:""),this._currentValueAxis&&(t=!0),this.currentYAxis=this._currentValueAxis=r,this._afterAxisChange(t,r),e.Data.PostPropertyUpdate.Redraw=!0,e.isAppModeRuntime()&&this.requestStoredData()},n.prototype.handleTimeAxis=function(t,i,r){t=!1,this.trendView.removeFromInvalidateCheckArray(this.name),this.trendView.trendControlAnimator.removeTrendAnimation(this.name),this.lastTime=[],"string"==typeof i?(r=this.parentTrendWindow.getXAxisByName(i),this.timeAxis=i):"number"==typeof i&&(this.timeAxisPartId=i,r=this.trendView.getXAxisByPartId(i),this.timeAxis=r?r.config.Name:""),this._currentTimeAxis&&(t=!0),this.currentXAxis=this._currentTimeAxis=r,this._afterAxisChange(t,r),this.parentTrendWindow.getRulerView().updateAssociatedAxes(),e.Data.PostPropertyUpdate.Redraw=!0,e.isAppModeRuntime()&&this.requestStoredData()},n.prototype.handleTagName=function(t){0!==t&&"*"!==t||(t=""),t!==this.dataSource.Tag&&(""!==this.bufferCpmPath&&(this.cpmPath=this.bufferCpmPath,this.bufferCpmPath=""),this.dataSource.Tag=this.dataSource.TagDisplayName=t,this.config.DataSourceY.Source=t,this.updateTrendDisplayText(),this.historicalDataReceived=!1,this.clearTagList(),this.trendView.getDrawableTrendByName(this.name)&&this.partId&&(this.requestHistoricalData(!0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.drawTrend(!this.trendView.isOnline()))),e.isAppModeRuntime()&&this.requestStoredData()},n.prototype._afterAxisChange=function(t,i){i?(t||this.trendView.setDrawableTrends(),i.invalidate(!1,!0)):t&&(this===this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.removeSelectedTrend(),this.trendView.removeFromUndrawnData(this.partId),this.trendView.setDrawableTrends(),!1===this.trendView.allAreasDrawn&&this.parentTrendWindow.drawableTrends.length<=3&&this.trendView.isLeftOrRight()&&(e.Data.PostPropertyUpdate.CreateDrawableCollection=!0))},n.prototype.getDisplayValueWidth=function(){return""===this._maxDispVal&&(this._maxDispVal=this._currentValueAxis.getDisplayValue("10"+(this.maxVal||0))),e.getTextWidth(this._maxDispVal,this.currentYAxis.config.LabelFont)},n.prototype.setRequestedTime=function(){var e=Date.now();this.trendView.online?this.clearTagListAfterTimeStamp=0:this.clearTagListAfterTimeStamp=e},n.prototype.setLastTrendPoint=function(e){this._lastTrendPointCalculated=e,this.endBoundingValue&&(this.endBoundingValue.yTagValue=this._lastTrendPointCalculated.yTagValue,this.endBoundingValue.yTagPosition=this._lastTrendPointCalculated.yTagPosition,this.endBoundingValue.qualityCode=this._lastTrendPointCalculated.qualityCode)},n.prototype.resetMinAndMaxValue=function(){var e,t,i,r=this.getValueAxisScaleType();e=this.boundingValue?[this.boundingValue].concat(this.tagList.items):this.tagList.items,this.minVal=this.maxVal=null;var n=e.length;for(t=0;t<n;t++)i=e[t],(r===this._scalingType.Linear||r===this._scalingType.Logarithmic&&i.yTagValue>0||r===this._scalingType.NegativeLogarithmic&&i.yTagValue<0)&&((i.yTagValue<this.minVal||null===this.minVal)&&(this.minVal=i.yTagValue),(i.yTagValue>this.maxVal||null===this.maxVal)&&(this.maxVal=i.yTagValue))},n.prototype.retrieveCachedMinMax=function(e){this.minVal=e.minVal,this.maxVal=e.maxVal},n.prototype.searchforposition=function(e,t,i,r,n,a,o,s){var l,u,h,d,c,p,m;for(c=0,p=e-1;c<=p;){if(m=(c+p)/2,m=parseInt(m),l=t.items[m],s.x>=l[i]+n-o&&s.x<=l[i]+n+o&&s.y>=l[r]+a-o&&s.y<=l[r]+a+o)return h=l[i]+n,d=l[r]+a,(u={}).markerX=h,u.markerY=d,u.trendPoint=l,u.isMarkerArea=!0,u;this.parentTrendWindow.getIsLeftOrRight()&&s.x<l.xTagPosition+n||!this.parentTrendWindow.getIsLeftOrRight()&&s.y<l.xTagPosition+a?p=m-1:c=m+1}return l=null,!1},n.prototype.searchforTagListIndex=function(e){var t,i,r=e.items.length;for(i=r-1,t=0;t<r;t++)if(e.items[t].timeStamp>this._currentTimeAxis.currentEndValue){i=t-1;break}return-1===i&&(i=0),i},n.prototype.cleanUp=function(){if(this.trendView.isStyleChange()){var t=new e.Data.TrendData(this.tagList,this.linesCollection,this.qualityLinesCollection,this.markerPositionsCollection,this.qualityMarkerPositionsCollection);t.minVal=this.minVal,t.maxVal=this.maxVal,t.boundingValue=this.boundingValue,e.Data.TrendDataStore.store(this.partId,t)}else this.clearTagList();if(this._trendLimitObj.cleanup(),this.trendModeObj.cleanup(),this.thresholds.forEach((function(e){e.cleanUp(),e=null})),this.secondaryRulerToolTipTemplate)for(var i=0;i<this.secondaryRulerToolTipTemplate.length;i++)this.secondaryRulerToolTipTemplate[i].remove();this.dom=this.svgParent=this.metaData=this.Attributes=this._currentTimeAxis=this._currentValueAxis=this._lastTrendPointCalculated=this.thresholdFills=this.midMarkerURLsArray=this.boundingValue=this.currentTagList=this._getQualityOfValue=this.dataSourceProp=this.matrix=this.dummyMatrix=this.fillMatrix=this.qualityMatrix=this.qualityDummyMatrix=this.dataSource=this.secondaryRulerToolTipTemplate=null,this.cleanUpChildObj()},n}(t.TrendBase);t.OnlineTrend=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._resetAnimationCounterOn=1,e.calculateStatistics=!1,e._timeAxes=[],e._valueAxes=[],e}return r(i,t),i.prototype.create=function(i){return this.showStatisticRulers=e.Utilities.convertToBool(this.chart.getAttribute("show-selector-rulers")),this.timeZone=Number(this.chart.getAttribute("timezone")),this.trendObjectType=e.Data.TrendObjectType.Online,this._runningTimeAxesList||(this._runningTimeAxesList=new e.Data.GenericList),this._boundAxisAnim=this._animateAxis.bind(this),t.prototype.create.call(this,i),this._trendWindowList||(this._trendWindowList=new e.Data.GenericList),this.getShowStatisticRuler()&&this.enableDisableStatisticRuler(),this.chart.dom},i.prototype._animateAxis=function(){var t,i,r,n,a,o=!1,s=new e.Data.GenericList;for(this._axisAnimCounter++,this._alignRunningTimeAxes(),this._axisAnimCounter===this._resetAnimationCounterOn&&(this._axisAnimCounter=0),this._updateTrendWindowList(s),i=s.items.length,t=0;t<i;t++)r=this.getYAxisByPbId(s.items[t]),this.moveAxes||this.moveTrendArea||0!==r.zoomInOutCount||(o=o||r.invalidate(void 0,!0));for(o?n="resetTrendWindow":(n="rollTrendWindowWithTime",a=this._runningTimeAxesList.items),i=this._trendWindowList.items.length,t=0;t<i;t++)this.getDrawableTrendWindowByName(this._trendWindowList.items[t])[n](a);this.needsRulerDataCalc()&&this.trendControlAnimator.requestRulerDataCalculation(!0),this._trendWindowList.clear(),s.clear(),s=null,a=null,r=null},i.prototype._updateTrendWindowList=function(e){var t,i,r;for(t in this._invalidateCheckArray)(i=this.getDrawableTrendByName(t))&&(r=this.getDrawableTrendWindowByName(i.trendWindow))&&r.trendWindowDrawn&&((i.invalidate(!0)||this._invalidateCheckArray[t].yAxisUpdateRequired)&&(e.tryAdd(i.currentYAxis.axisPbId),this._invalidateCheckArray[t].yAxisUpdateRequired=!1),this._invalidateCheckArray[t].trendDrawRequired&&this._trendWindowList.tryAdd(i.trendWindow))},i.prototype._alignRunningTimeAxes=function(){var e,t,i=Date.now(),r=this._runningTimeAxesList.items.length;for(e=0;e<r;e++)t=this.getXAxisByPbId(this._runningTimeAxesList.items[e]),this.isOnline()&&t.alwaysShowRecent&&this._axisAnimCounter%t.animationFactor==0&&(t.alignToCurrentTime(i),this._trendWindowList.tryAdd(t.trendWindow))},i.prototype.setAnimationFactors=function(){var t,i,r,n,a,o=this._timeAxes.length;for(a=[1],this._axisAnimCounter=0,t=0;t<o;t++)(i=this._timeAxes[t]).trendWindowDrawable&&i.alwaysShowRecent&&((n=this._getIntervalTime(i.calculateTimeRange()))<16.7&&(n=16.7),i.animationTimeInterval=n,(void 0===r||i.animationTimeInterval<r)&&(r=i.animationTimeInterval));for(t=0;t<o;t++)(i=this._timeAxes[t]).trendWindowDrawable&&i.alwaysShowRecent&&(i.animationFactor=Math.floor(i.animationTimeInterval/r),a.push(i.animationFactor));a.length>1&&(this._resetAnimationCounterOn=e.Calculations.Helper.getLCMOfNums(a),this.trendControlAnimator.setAxisAnimInterval(r,this._boundAxisAnim),this._leastTimeAxisAnimInterval=r)},i.prototype.startAxisTimer=function(){this.trendControlAnimator.startAxisTimer(this._boundAxisAnim,this._leastTimeAxisAnimInterval)},i.prototype.removeAxisTimer=function(){this.trendControlAnimator.removeAxisTimer(this._boundAxisAnim)},i.prototype._getIntervalTime=function(e){var t;return this._drawableTrendAreas.length>0&&(t=e/(this.isLeftOrRight()?this._drawableTrendAreas[0].getRect().width:this._drawableTrendAreas[0].getRect().height)),t},i.prototype.setTagNames=function(e){var t,i,r=this._trends.length;if(null!==e.TagNameData)for(t=0;t<r;t++)(i=e.TagNameData[this._trends[t].dataSource.Tag])&&(this._trends[t].dataSource.TagDisplayName=i[0],null===i[1]?this._trends[t].cpmPath="":this._trends[t].cpmPath=i[1],this._trends[t].updateTrendDisplayText())},i.prototype.needsRulerDataCalc=function(){return(this.getShowRuler()||this.getShowStatisticRuler())&&(this.trendCompanionConstUpdate||this.secondaryRulerToolTip)},i.prototype.addToDisconnectedSources=function(e,t,i){var r,n=this._validTrends.length;for(r=0;r<n;r++)if(this._validTrends[r].name===e){this._disconnectedDataSources[e]=t;break}},i.prototype.createDrawableCollections=function(t){var i,r,n,a=null,o=0;n=[],this._drawableTrendAreas=[],this._drawableTrends=[],this._runningTimeAxesList.clear(),this.updateDrawableTrends(n),t&&this.getYAxisByPbId(t).invalidate(),this.isOnline()&&null!==this.newlyDrawnTrendWindowIndex&&this.trendObjectType===e.Data.TrendObjectType.Online&&this._drawableTrendAreas[this.newlyDrawnTrendWindowIndex].updateTimeAxesToCurrentTime(),this.createParentWindow(),this.drawLayout(),this._drawableTrends=[];var s=this._drawableTrendAreas.length;for(i=0;i<s;i++)if((a=this._drawableTrendAreas[i]).trendWindowDrawn){for(this._drawableTrends=this._drawableTrends.concat(a.drawableTrends),r=a.getXAxes(),o=0;o<r.length;o++)this._runningTimeAxesList.tryAdd(r[o].axisPbId);this.propertyUpdateInProgress&&n.indexOf(a.name)>-1&&(this._drawableTrendAreas[i].updateTimeAxesToCurrentTime(),this.requestHistoricalData(!1,a.name,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0)}else a.clearDrawableTrends(),a.stopValueAxisAnimation();null!==this.newlyDrawnTrendWindowIndex&&(this.requestHistoricalData(!1,this._drawableTrendAreas[this.newlyDrawnTrendWindowIndex].config.Name,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.newlyDrawnTrendWindowIndex=null),this.setAnimationFactors(),this.drawTrends(),this._offlineRead(this._drawUndrawnData())},i.prototype.onRead=function(e){var t,i,r,n,a=[],o=[],s=[],l=!1,u=e.length;for(t=0;t<u;t++)this._drawableTrendAreas.length>0&&this._drawableTrendAreas[0].trendWindowDrawn?(r=this._drawableTrendAreas[0].idToDrawableTrendMap[Object.keys(e[t])[0]])&&(a=(i=e[t][r.partId]).yvalue,o=i.xvalue,s=i.quality,n=r.onTagListChangedX(a,o,s,!0),l=l||n.trendDrawRequired,this._invalidateCheckArray[r.name]?(!1===this._invalidateCheckArray[r.name].trendDrawRequired&&(this._invalidateCheckArray[r.name].trendDrawRequired=n.trendDrawRequired),!1===this._invalidateCheckArray[r.name].yAxisUpdateRequired&&(this._invalidateCheckArray[r.name].yAxisUpdateRequired=n.yAxisUpdateRequired)):this._invalidateCheckArray[r.name]=n,a=[],o=[],s=[]):this._handleUndrawableData(e[t]);this._offlineRead(l),r=null,e=null},i.prototype.onHistoricalRead=function(t){var i,r,n,a,o,s,l=[],u=[],h=[],d=new e.Data.GenericList,c=!1,p=!1,m=[],g=[],T=!1;if(this._drawableTrendAreas.length>0)for(m.push(this._drawableTrendAreas[0].selectedTrend),r=0;r<t.length;r++)(s=this._drawableTrendAreas[0].idToDrawableTrendMap[Object.keys(t[r])[0]])&&(l=t[r][s.partId].yvalue,u=t[r][s.partId].xvalue,h=t[r][s.partId].quality,T=!0,s.onTagListChangedX(l,u,h,!1),s.historicalDataReceived=!0,d.tryAdd(s.currentYAxis.axisPbId),m.indexOf(s)<0&&m.push(s),-1===g.indexOf(s.getXAxis())&&g.push(s.getXAxis()),l=[],u=[],h=[]);if(T){for(a=this.getXAxes(),r=0;r<a.length;r++)0!=(o=a[r]).zoomInOutCount||-1===g.indexOf(o.config.Name)||o.timeAxisDrawn&&this.moveToType!==e.Data.MoveToType.MoveToFirst&&this.moveToType!==e.Data.MoveToType.MoveToLast&&o.config.RangeType!==e.getChromEnum("HmiTimeRangeType").PointCount?o.config.RangeType===e.getChromEnum("HmiTimeRangeType").FromBeginToEnd&&(p=!0):(o.historicalInvalidate(m),o.timeAxisDrawn=!0,p=!0);if(!this.moveAxes&&!this.moveTrendArea)for(i=0;i<d.items.length;i++)0===(o=this.getYAxisByPbId(d.items[i])).zoomInOutCount&&null===o.endValueBuffer2&&(c=c||void 0===o.invalidate(void 0));for(r=0;r<this._drawableTrendAreas.length;r++)(n=this._drawableTrendAreas[r]).trendWindowDrawn&&(c||p?n.resetTrendWindow():n.resetTrendWindow(!1,!1,m));this.needsRulerDataCalc()&&this.calculateRulerData(),d.clear()}d=null,t=null,n=null,o=null,s=null,m=null,g=null},i.prototype._handleUndrawableData=function(e){var t,i,r=this._trends.length;for(t=0;t<r;t++)if(e[(i=this._trends[t]).partId]){this._drawableTrendAreas.indexOf(i.parentTrendWindow)>-1&&!1===i.parentTrendWindow.trendWindowDrawn&&i.config.Visible&&i.currentXAxis&&i.currentYAxis&&this._addToUndrawnData(i,e[i.partId]);break}},i.prototype._addToUndrawnData=function(t,i){var r,n,a,o,s=!1;if(t.currentXAxis.alwaysShowRecent&&this.isOnline()?(s=!0,n=Date.now()):n=t.currentXAxis.currentEndValue,(r=this._undrawnTrendData[t.partId])?(r.dataArray=r.dataArray.concat(i.yvalue),r.timeStampArray=r.timeStampArray.concat(i.xvalue),r.qualitiesArray=r.qualitiesArray.concat(i.quality)):(this._undrawnTrendData[t.partId]={dataArray:i.yvalue,timeStampArray:i.xvalue,qualitiesArray:i.quality},r=this._undrawnTrendData[t.partId]),s){var l=void 0,u=void 0;if(o=r.timeStampArray.length,t.currentXAxis.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount)l=o-t.currentXAxis.config.PointCount;else for(u=n-t.currentXAxis.calculateTimeRange(),a=0;a<o;a++)if(r.timeStampArray[a]>=u){l=a-1;break}l>0&&(r.dataArray.splice(0,l),r.timeStampArray.splice(0,l),r.qualitiesArray.splice(0,l))}},i.prototype._drawUndrawnData=function(){var e,t,i,r;for(e in this._undrawnTrendData)(t=this.getDrawableTrendByPartId(parseInt(e,10)))&&(i=t.onTagListChangedX(this._undrawnTrendData[e].dataArray,this._undrawnTrendData[e].timeStampArray,this._undrawnTrendData[e].qualitiesArray,!0),r=r||i.trendDrawRequired,this._invalidateCheckArray[t.name]?(!1===this._invalidateCheckArray[t.name].trendDrawRequired&&(this._invalidateCheckArray[t.name].trendDrawRequired=i.trendDrawRequired),!1===this._invalidateCheckArray[t.name].yAxisUpdateRequired&&(this._invalidateCheckArray[t.name].yAxisUpdateRequired=i.yAxisUpdateRequired)):this._invalidateCheckArray[t.name]=i,delete this._undrawnTrendData[e]);return r},i.prototype.createDrawableTrendsCollection=function(){var e,t,i,r,n,a=this._drawableTrendAreas.length;for(this._drawableTrends=[],this._runningTimeAxesList.clear(),e=0;e<a;e++)if((r=this._drawableTrendAreas[e]).trendWindowDrawn)for(this._drawableTrends=this._drawableTrends.concat(r.drawableTrends),n=(t=r.getXAxes()).length,i=0;i<t.length;i++)this._runningTimeAxesList.tryAdd(t[i].axisPbId);else if(r.drawableTrends.length>0)for(n=r.drawableTrends.length,i=0;i<n;i++)this.removeFromInvalidateCheckArray(r.drawableTrends[i].name)},i.prototype.updateRunningTimeAxesList=function(e,t){t?this._runningTimeAxesList.tryAdd(e):this._runningTimeAxesList.tryRemove(e)},i.prototype.remove=function(){var e,i=this.trendAreas.length;for(e=0;e<i;e++)this.trendAreas[e].cleanUp(),this.trendAreas[e]=null;this.trendControlAnimator.cleanUp(),this._trendWindowList.clear(),this._runningTimeAxesList.clear(),this._boundAxisAnim=this._axisAnimCounter=this._resetAnimationCounterOn=this._runningTimeAxesList=this._trendWindowList=null,this._timeAxes=[],this._valueAxes=[],t.prototype.remove.call(this)},i.prototype.addTAToCollections=function(t){-1===this._timeAxes.indexOf(t)&&this._timeAxes.push(t),e.isAppModeRuntime()&&this._drawableTrendAreas.indexOf(t.parentTrendWindow)>-1&&t.parentTrendWindow.trendWindowDrawn&&(this._runningTimeAxesList.tryAdd(t.axisPbId),this.layoutDrawn&&this.setAnimationFactors(),this.isOnline()&&1===this._timeAxes.length&&this.startAxisTimer())},i.prototype._getEndTimeToCurr=function(t){var i,r,n,a,o,s;a=[];var l=this._timeAxes.length;for(r=0;r<l;r++)i=(n=this._timeAxes[r]).zoomInOutCount>0?n.endValueBuffer:n.currentEndValue,t?(o=n.axisBeginValue,s=n.axisEndValue):(o=i-n.calculateTimeRange(),s=i),n.textOrientation===e.Data.TextOrientation.FromRight||n.textOrientation===e.Data.TextOrientation.FromBottom?a.push({elementID:n.config.ElementID,currentBeginTime:o,currentEndTime:s}):a.push({elementID:n.config.ElementID,currentBeginTime:s,currentEndTime:o});return a},i.prototype._getCurrStartEndValue=function(){var e,t,i,r,n;i=[];var a=this._valueAxes.length;for(e=0;e<a;e++)r=(t=this._valueAxes[e]).currentBeginValue,n=t.currentEndValue,i.push({elementID:t.config.ElementID,currentBeginValue:r,currentEndValue:n});return i},i.prototype.removeFromInvalidateCheckArray=function(e){this._invalidateCheckArray[e]&&delete this._invalidateCheckArray[e]},i.prototype.getValueAxisDisplayName=function(e){return e.dataSource.TagDisplayName},i.prototype._setDataProviderEvents=function(i){var r;this.dp||(this.dp=i.Store.control.handler.getDataProvider(i.Store),this.dp&&this.dp.register&&(t.prototype._setDataProviderBaseEvents.call(this),r=e.Data.ZoomMoveOperationVars,this.dp.register("onZoomTimeAxisPlusMinusCommand",this.setZoomAndMove.bind(this,r.zoomInOutX)),this.dp.register("onZoomValuesAxisPlusMinusCommand",this.setZoomAndMove.bind(this,r.zoomInOutY)),this.dp.register("onFirstRecordCommand",this.MoveToFirst.bind(this)),this.dp.register("onLastRecordCommand",this.MoveToLast.bind(this)),this.dp.register("onNextRecordCommand",this.MoveToNext.bind(this)),this.dp.register("onPreviousRecordCommand",this.MoveToPrevious.bind(this)),this.dp.register("getStatisticData",this._calculateStatisticData.bind(this)),this.dp.register("getStatisticResultData",this._calculateStatisticResultData.bind(this)),this.dp.register("setTimesForContext",this._setTimesForContext.bind(this)),this.dp.register("addRequestedTimeToTrend",this._addRequestedTimeToTrend.bind(this))))},i.prototype.MoveToPrevious=function(t,i,r,n,a,o){var s,l,u,h,d,c,p,m,g,T=0;if(this._drawableTrendAreas.length){for(s=Date.now(),d=this._timeAxes.length,p=Math.floor(this.pixelsInTrendAreas),l=0;l<d;l++)(h=this._timeAxes[l]).setPreviousRange(),h.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount?(T=h.config.PointCount,m=0,h.timeAxisDrawn=!1):(T=p,m=(h.currentBeginValue+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND,h.timeAxisDrawn=!0),g=(h.currentEndValue+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND,c=s>=h.currentBeginValue&&s<=h.currentEndValue?"clearTagListBeforeTimeStamp":"clearTagListOnDataReceived",(u=h.parentTrendWindow).visible&&u.trendWindowDrawn&&"0"!==u.spacePortion&&this._updateRequestDataForMoveToPrevious(t,i,r,n,a,o,{timeAxis:h,beginFileTime:m,endFileTime:g,pointCount:T,tagListClearType:c});this.onUpdate()}this.needsRulerDataCalc()&&this.calculateRulerData()},i.prototype._updateRequestDataForMoveToPrevious=function(t,i,r,n,a,o,s){var l,u,h=s.timeAxis.parentTrendWindow,d=s.timeAxis,c=s.beginFileTime,p=s.endFileTime,m=s.pointCount,g=s.tagListClearType;s=null;var T=h.drawableTrends.length;for(l=0;l<T;l++)(u=h.drawableTrends[l]).timeAxis===d.config.Name&&void 0!==u.dataSource.Tag&&""!==u.dataSource.Tag&&(n.push(u.dataSource.Tag),t.push(c),i.push(p),r.push(m),a.push(u.partId),void 0!==u.aggregationMode&&o.push(u.aggregationMode),u[g]=!0,d.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount&&(u.historicalDataReceived=!1),this.moveToType=e.Data.MoveToType.MoveToPrevious)},i.prototype.MoveToNext=function(t,i,r,n,a,o){var s,l,u,h,d,c,p,m,g,T=0;if(this._drawableTrendAreas.length){for(s=Date.now(),h=this._timeAxes.length,p=Math.floor(this.pixelsInTrendAreas),l=0;l<h;l++)(u=this._timeAxes[l]).setNextRange(),u.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount?(T=u.config.PointCount,g=0,u.timeAxisDrawn=!1):(T=p,g=(u.currentEndValue+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND,u.timeAxisDrawn=!0),m=(u.currentBeginValue+e.TrendViewBase.EPOCH_DIFFERENCE)*e.TrendViewBase.TICKS_PER_MILLISECOND,c=s>=u.currentBeginValue&&s<=u.currentEndValue?"clearTagListBeforeTimeStamp":"clearTagListOnDataReceived",(d=u.parentTrendWindow).visible&&d.trendWindowDrawn&&"0"!==d.spacePortion&&this._updateRequestDataForMoveToNext(t,i,r,n,a,o,{timeAxis:u,beginFileTime:m,endFileTime:g,pointCount:T,tagListClearType:c});this.onUpdate()}this.needsRulerDataCalc()&&this.calculateRulerData()},i.prototype._updateRequestDataForMoveToNext=function(t,i,r,n,a,o,s){var l,u,h=s.timeAxis.parentTrendWindow,d=s.timeAxis,c=s.beginFileTime,p=s.endFileTime,m=s.pointCount,g=s.tagListClearType;s=null;var T=h.drawableTrends.length;for(l=0;l<T;l++)(u=h.drawableTrends[l]).timeAxis===d.config.Name&&void 0!==u.dataSource.Tag&&""!==u.dataSource.Tag&&(n.push(u.dataSource.Tag),t.push(c),i.push(p),r.push(m),a.push(u.partId),void 0!==u.aggregationMode&&o.push(u.aggregationMode),u[g]=!0,d.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount&&(u.historicalDataReceived=!1),this.moveToType=e.Data.MoveToType.MoveToNext)},i.prototype.MoveToFirst=function(e,t,i,r,n,a){var o,s,l,u,h,d=0;if(this._drawableTrendAreas.length)for(u=this._timeAxes.length,d=Math.floor(this.pixelsInTrendAreas),s=0;s<u;s++)o=(l=this._timeAxes[s]).calculateTimeRange(),(h=l.parentTrendWindow).visible&&h.trendWindowDrawn&&"0"!==h.spacePortion&&this._updateRequestDataForMoveToFirst(e,t,i,r,n,a,{timeAxis:l,timeRange:o,pixelCount:d}),l.timeAxisDrawn=!1},i.prototype._updateRequestDataForMoveToFirst=function(t,i,r,n,a,o,s){var l,u,h=s.timeAxis.parentTrendWindow,d=s.timeAxis,c=s.timeRange,p=s.pixelCount,m=h.drawableTrends.length;for(l=0;l<m;l++)(u=h.drawableTrends[l]).timeAxis===d.config.Name&&void 0!==u.dataSource.Tag&&""!==u.dataSource.Tag&&(n.push(u.dataSource.Tag),d.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount?(i.push(0),r.push(d.config.PointCount)):(i.push(c*e.TrendViewBase.TICKS_PER_MILLISECOND),r.push(p)),t.push(0),a.push(u.partId),void 0!==u.aggregationMode&&o.push(u.aggregationMode),u.clearTagListOnDataReceived=!0,u.historicalDataReceived=!1,this.moveToType=e.Data.MoveToType.MoveToFirst)},i.prototype.MoveToLast=function(e,t,i,r,n,a){var o,s,l,u,h,d=0;if(this._drawableTrendAreas.length)for(l=this._timeAxes.length,d=Math.floor(this.pixelsInTrendAreas),o=0;o<l;o++)h=(s=this._timeAxes[o]).calculateTimeRange(),(u=s.parentTrendWindow).visible&&u.trendWindowDrawn&&"0"!==u.spacePortion&&this._updateRequestDataForMoveToLast(e,t,i,r,n,a,{timeAxis:s,range:h,pixelCount:d}),s.timeAxisDrawn=!1},i.prototype._updateRequestDataForMoveToLast=function(t,i,r,n,a,o,s){var l,u,h=s.timeAxis.parentTrendWindow,d=s.timeAxis,c=s.range,p=s.pixelCount,m=h.drawableTrends.length;for(l=0;l<m;l++)(u=h.drawableTrends[l]).timeAxis===d.config.Name&&void 0!==u.dataSource.Tag&&""!==u.dataSource.Tag&&(n.push(u.dataSource.Tag),d.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount?(i.push(0),r.push(d.config.PointCount)):(i.push(c*e.TrendViewBase.TICKS_PER_MILLISECOND),r.push(p)),t.push(0),a.push(u.partId),void 0!==u.aggregationMode&&o.push(u.aggregationMode),u.clearTagListOnDataReceived=!0,u.historicalDataReceived=!1,this.moveToType=e.Data.MoveToType.MoveToLast)},i.prototype._calculateStatisticData=function(){this.calculateStatistics=!0,this.trendCompanionConstUpdate=!0;var e=this._getRulerData();return this.calculateStatistics=!1,this.trendCompanionConstUpdate=!1,e},i.prototype._calculateStatisticResultData=function(){this.trendCompanionConstUpdate=!0;var e=this._getRulerData();return this.trendCompanionConstUpdate=!1,e},i.prototype._setTimesForContext=function(t){var i,r,n=this._timeAxes.length;for(i=0;i<n;i++)if((r=this._timeAxes[i]).config.ElementID===t){r.setTimesForContext();break}e.Data.PostPropertyUpdate.SendHistoricalDataRequests&&(this.dp.sendRequest(),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!1),e.Data.PostPropertyUpdate.Update&&(this.onUpdate(),e.Data.PostPropertyUpdate.Update=!1)},i.prototype.setTimeAxesToCurrentTime=function(){var e,t,i,r=(new Date).getTime(),n=this._timeAxes.length;for(e=0;e<n;e++)i=(t=this._timeAxes[e]).calculateTimeRange(),t.currentEndValue=r,t.currentBeginValue=t.currentEndValue-i;t=null},i.prototype.setStartStop=function(){var t=e.isAppModeRuntime();this.isOnline()?(this.getShowStatisticRuler()&&(this.chart.Attributes["show-selector-rulers"]=this.showStatisticRulers=!1,this.setShowStatisticRuler()),this.setZoomAndMove(),this.resetZoom(!0),t&&this.startAxisTimer(),this.moveAxes&&this.disableTimeAxesMove&&this.disableTimeAxesMove(),this.dp.setOnlinePropChangeCount(),this._invalidateAllAxes(),this.drawTrends(),this.getShowRuler()&&t&&(this.setSecondaryRulerToolTip(!1),this.updateRulerToolTip())):(this.removeAxisTimer(),this.moveAxes&&this.enableTimeAxesMove(),this._setTimesOfHiddenDrawableAreas(),!this.isZooming&&t&&this.enableDisablePinchAndScroll(!0),this.getShowRuler()&&t&&this.setSecondaryRulerToolTip(!0)),this.calculateRulerData()},i.prototype.handleChartAttributeChange=function(i){var r,n=e.Data.ChartTemplateAttributes;if(i.propertyName===n.TimeZone){if(r=Number(this.chart.getAttribute("timezone")),this.timeZone!==r){this.timeZone=r;var a=void 0,o=this._timeAxes.length;for(a=0;a<o;a++)this._timeAxes[a].updateLabelsWithTimeZone(i.updatedValue)}}else i.propertyName===n.ShowStatisticRulers?(r=e.Utilities.convertToBool(this.chart.getAttribute("show-selector-rulers")),this.showStatisticRulers!==r&&(this.showStatisticRulers=r,this.setShowStatisticRuler())):t.prototype.handleChartAttributeChange.call(this,i)},i.prototype.getTimeZone=function(){return this.timeZone},i.prototype.getShowStatisticRuler=function(){return this.showStatisticRulers},i.prototype._addRequestedTimeToTrend=function(e){var t,i,r=this._drawableTrendAreas.length;for(t=0;t<r;t++)i=this._drawableTrendAreas[t],e.forEach((function(e){i.idToTrendMap[e]&&i.idToTrendMap[e].setRequestedTime()}))},i.prototype.setShowStatisticRuler=function(){this.getShowStatisticRuler()&&this.isOnline()&&(this.chart.Attributes.online=!1,this.online=!1,this.setStartStop()),this.enableDisableStatisticRuler()},i.prototype.enableDisableStatisticRuler=function(){var e,t,i=!1;this.getShowStatisticRuler()?(e="showStatisticRuler",i=this.trendCompanionConstUpdate):(this.getShowRuler()&&(i=this.trendCompanionConstUpdate),e="hideStatisticRuler");var r=this._drawableTrendAreas.length;for(t=0;t<r;t++)this._drawableTrendAreas[t].trendWindowDrawn&&this._drawableTrendAreas[t][e]();i&&this.calculateRulerData()},i.prototype.disableAxesMove=function(){var t,i,r=null,n=this._valueAxes.length,a=null,o=new e.Data.GenericList,s=this._drawableTrendAreas.length;for(t=0;t<n;t++)r=this._valueAxes[t],this.getDrawableTrendWindowByName(r.trendWindow)&&r.config.Visible&&r.disableAxesMove(!this.enabled||this.moveTrendArea,o);if(o.clear(),!this.enabled||!this.moveAxes)for(n=this._timeAxes.length,t=0;t<n;t++)r=this._timeAxes[t],this.getDrawableTrendWindowByName(r.trendWindow)&&r.config.Visible&&r.disableAxesMove();if(!this.moveTrendArea){for(i=0;i<s;i++)(a=this._drawableTrendAreas[i]).trendWindowDrawn&&a.resetTrendWindow();this.needsRulerDataCalc()&&this.calculateRulerData()}r=a=null,o=null},i.prototype.enableAxesMove=function(){var e,t=null,i=this._valueAxes.length;for(e=0;e<i;e++)t=this._valueAxes[e],this.getDrawableTrendWindowByName(t.trendWindow)&&t.config.Visible&&t.enableAxesMove();this.enableTimeAxesMove()},i.prototype.enableTimeAxesMove=function(){var e,t=null,i=this._timeAxes.length;for(e=0;e<i;e++)t=this._timeAxes[e],!this.getDrawableTrendWindowByName(t.trendWindow)||!t.config.Visible||this.isOnline()&&t.alwaysShowRecent||t.enableAxesMove()},i.prototype.disableTimeAxesMove=function(){var e,t=null,i=this._timeAxes.length;for(e=0;e<i;e++)t=this._timeAxes[e],this.getDrawableTrendWindowByName(t.trendWindow)&&t.config.Visible&&t.alwaysShowRecent&&t.disableAxesMove()},i.prototype.getXAxes=function(){return this._timeAxes},i.prototype.getYAxes=function(){return this._valueAxes},i.prototype.setXAxes=function(e){this._timeAxes=e},i.prototype.setYAxes=function(e){this._valueAxes=e},i.prototype.resetZoom=function(t){var i,r,n=new e.Data.GenericList,a=!1;for(this.oneToOneView=!1,this.dp.enableDisableOriginalView(!1),i=this._valueAxes.length,r=0;r<i;r++)this._valueAxes[r].resetZoom(n);for(i=this._timeAxes.length,r=0;r<i;r++)this._timeAxes[r].resetZoom(n);for(r=0;r<n.items.length;r++)this.getTrendWindowByName(n.items[r]).resetZoomCount(),a=!0;a&&(t&&(e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),this.redraw()),t||this.needsRulerDataCalc()&&this.calculateRulerData(),n.clear(),n=null},i.prototype._invalidateAllAxes=function(){var t,i,r;for(this.setTimeAxesToCurrentTime(),i=(t=this.getXAxes()).length,r=0;r<i;r++)t[r].calculateAndUpdate();for(this.forceTimeAxisDrawn=!0,this.propertyUpdateInProgress?(this.requestHistoricalData(!1,void 0,void 0,!0,!0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0):this.requestHistoricalData(),this.forceTimeAxisDrawn=!1,i=(t=this.getYAxes()).length,r=0;r<i;r++)t[r].invalidate()},i.prototype.requestHistoricalData=function(t,i,r,n,a,o){var s,l,u,h={beginTime:[],endTime:[],points:[],clientHandles:[],aggMode:[]};if(l=[],e.isAppModeRuntime()){for(s=0;s<this._drawableTrendAreas.length;s++)u=this._drawableTrendAreas[s],i&&u.config.Name!==i||u.trendWindowDrawn&&u.requestHistoricalData(h,l,t,r);l.length&&(n?this.dp.addRequest(h.beginTime,h.endTime,h.points,l,h.clientHandles,e.Data.BoundingFlags.LeftBounding,h.aggMode,!0,a,o):this.dp&&this.dp.requestData(h.beginTime,h.endTime,h.points,l,h.clientHandles,5,e.Data.BoundingFlags.LeftBounding,h.aggMode,a))}},i.prototype.drawLayout=function(){var t=this.layouter.drawLayout(this.chart.dom);return this.layoutDrawn!==t&&(t?e.isAppModeRuntime()&&this.startAxisTimer():(this._invalidateCheckArray={},e.isAppModeRuntime()&&this.removeAxisTimer())),(this.layoutDrawn=t)&&this._balanceXAxisWidths(),e.ChartBalancer.balanceCharts(this.rtoid,this.layoutBalancerId,0),t},i.prototype._setTimesOfHiddenDrawableAreas=function(){var e,t,i=Date.now(),r=this._drawableTrendAreas.length;for(t=0;t<r;t++)!1===this._drawableTrendAreas[t].trendWindowDrawn&&this._drawableTrendAreas[t].getXAxes().forEach((function(t){t.alwaysShowRecent&&(e=t.calculateTimeRange(),t.currentEndValue=i,t.currentBeginValue=t.currentEndValue-e)}))},i}(e.TrendViewBase);e.OnlineTrendView=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){this.timeStamp=null,this.xTagPosition=null,this.yTagPosition=null,this.xTagValue=null,this.yTagValue=null,this.qualityCode=null};e.Point=t}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(){this.CURRENT_PROJ_VER=null,this._bounds=null,this._isLeftOrRight=!1,this._setAttributes=e.Features.Shape.SvgShape.SetAttributes,this._defaultRulerProps=e.Data.RulerConstProps,this._attr1=null,this._attr2=null,this._attr3=null,this._attr4=null,this._cursorType=null,this.HIGHLIGHT_WIDTH=12,this.RULER_BACK_LINE_WIDTH=4,this.STROKE_OPACITY=.4,this._rulerDirEnum=e.Data.RulerDirection,this._rulerTypeEnum=e.Data.RulerType,this._rulerWidth=1,this._showLabel=!0,this._direction=null,this._rulerType=null,this._handleWidth=0,this._handleHeight=0,this._handleCornerRad=0,this._singleCharWidth=-1,this._oldValueAxisValue="00",this._minMaxLabel="",this._minMaxLabelValue="",this._rulerTemplate=null,this.templateStroke=!1,this.templateStrokeWidth=!1,this.rootNodeHeight=0,this.rootNodeWidth=0,this.paddingX=18+this._defaultRulerProps.rulerLeftRightPadding,this.paddingY=10,this._topBottomPaddingFactor=this._defaultRulerProps.topBottomPaddingFactor,this.height2ndRow=0,this.contentWidth=0,this.contentHeight=0,this.contentWidthModified=!1,this.contentHeightModified=!1,this.rulerPosition=0,this.useOldStyle=!1,this.prevPos=0,this._rulerAttr={id:"",start:0,end:0,pos:0,percOfPos:0},this.associatedAxis=null,this.labelHeight=0,this.labelWidth=0,this._rulerElementsGroup=null,this._rulerDummyLine=null,this._rulerBckGrndLine=null,this._handleArrow=null,this._rulerText=null,this._rulerDispDetails={positionOnAxis:0,rulerPosition:0},this._rulerRect=null,this._handleRect=null,this._handleInnerRect=null,this._isRulerAddedToDOM=!1,this._rulerLine=null,this._handleArrowBckGrnd=null}return t.prototype._getPosFromPerc=function(){this._isLeftOrRight?this._direction===this._rulerDirEnum.Vertical?this._rulerAttr.pos=this._bounds.left+this._bounds.width*this._rulerAttr.percOfPos:this._rulerAttr.pos=this._bounds.top+this._bounds.height*this._rulerAttr.percOfPos:this._direction===this._rulerDirEnum.Vertical?this._rulerAttr.pos=this._bounds.top+this._bounds.height*this._rulerAttr.percOfPos:this._rulerAttr.pos=this._bounds.left+this._bounds.width*this._rulerAttr.percOfPos},t.prototype._calculateDim=function(e,t){this._bounds=e,t&&(e=t),this._isLeftOrRight?this._direction===this._rulerDirEnum.Vertical?(this._rulerAttr.start=e.top,this._rulerAttr.end=e.bottom):(this._rulerAttr.start=e.left,this._rulerAttr.end=e.right):this._direction===this._rulerDirEnum.Vertical?(this._rulerAttr.start=e.left,this._rulerAttr.end=e.right):(this._rulerAttr.start=e.top,this._rulerAttr.end=e.bottom),this._getPosFromPerc()},t.prototype.setDims=function(e,t,i){this._isLeftOrRight=e,this._calculateDim(t,i)},t.prototype.getRulerPos=function(){return this._rulerAttr.pos},t.prototype.init=function(t,i,r,n,a,o){var s,l,u,h=n.rulerId,d=e.Features.Shape.SvgShape.CreateSvgElement,c=this._defaultRulerProps.rulerBackColor,p=this._defaultRulerProps.circleStrokeGap,m=this._defaultRulerProps.circleStroke,g=this._defaultRulerProps.circleRadiusDiff,T=p+g;this.rulerColorIds=n.rulerColorIds,this._rulerViewSVGGroup=t,this._direction=n.direction,this._rulerType=n.rulerType,this._rulerAttr.id=h,this._rulerAttr.percOfPos=n.percOfPos,this._bounds=i,this._isLeftOrRight=r,this.CURRENT_PROJ_VER=a,this._isProjVer17OrAbove=this.CURRENT_PROJ_VER>=17||""===this.CURRENT_PROJ_VER;var f=this._isProjVer17OrAbove?this.rulerColorIds[2]:"url(#"+this.rulerColorIds[0]+")",y=this.rulerColorIds[1];this._rulerWidth=n.rulerWidth,this.stroke=u=this.rulerColorIds[2],this._handleHeight=n.handleHeight||this._defaultRulerProps.circleRadius,this._handleWidth=n.handleWidth||this._defaultRulerProps.circleRadius,this._handleCornerRad=this._handleHeight/2,this._drawCircleHandle=n.drawCircleHandle,this.isProjVer16AndNotFunctionTrend=!0!==this._isProjVer17OrAbove&&o===e.Data.TrendObjectType.Online,this._rulerElementsGroup=d("g",{id:h+"_rulerGroup",stroke:"inherit","stroke-width":"inherit","clip-path":n.rulerClipPath}),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(this._rulerBckGrndLine=d("line",{id:h+"_rect_bckGrnd",stroke:c,"stroke-width":this._isProjVer17OrAbove?0:this._rulerWidth+this.RULER_BACK_LINE_WIDTH,appendTo:this._rulerElementsGroup}),this._rulerRect=d("rect",{id:h+"_rect",fill:f,"stroke-width":0,stroke:f,"stroke-opacity":this.STROKE_OPACITY,appendTo:this._rulerElementsGroup})):(this._minMaxLabel=n.minMaxLabel,this._handleArrowBckGrnd=d("path",{id:h+"_handleArrowBckGrnd",stroke:c,"stroke-width":1,fill:c,appendTo:this._rulerElementsGroup}),this._rulerBckGrndLine=d("line",{id:h+"_rect_bckGrnd",stroke:c,"stroke-width":this.RULER_BACK_LINE_WIDTH,appendTo:this._rulerElementsGroup}),s=this._rulerType===this._rulerTypeEnum.RulerMin?this._defaultRulerProps.rulerMinColor:this._defaultRulerProps.rulerMaxColor,this._rulerLine=d("line",{id:h+"_line",stroke:s,"stroke-width":1,appendTo:this._rulerElementsGroup})),this._rulerDummyLine=d("line",{id:h+"_dummy",stroke:"inherit",opacity:0,"stroke-width":n.dummyRulerWidth,appendTo:this._rulerElementsGroup}),!0===this.isProjVer16AndNotFunctionTrend&&(l=this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?this._defaultRulerProps.handleColor:s,this._handleArrow=d("path",{id:h+"_handleArrow","stroke-width":0,fill:l,appendTo:this._rulerElementsGroup})),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(this._handleRect=d("rect",{id:h+"_handle_Circle",fill:"url(#"+y+")","stroke-width":m,stroke:u,"stroke-miterlimit":10,rx:this._handleCornerRad,display:n.drawCircleHandle?"inherit":"none",appendTo:this._rulerElementsGroup}),this._handleInnerRect=d("rect",{id:h+"_handle_InCircle",fill:this._defaultRulerProps.handleFillColor,stroke:this._defaultRulerProps.handleColor2,"stroke-width":0,"stroke-miterlimit":10,rx:this._handleCornerRad-T/2,idx:g,display:n.drawCircleHandle?"inherit":"none",appendTo:this._rulerElementsGroup})):(this._rulerText=d("text",{id:h+"_rulerDisp_Text","stroke-width":0,fill:this._defaultRulerProps.fontFill,"text-anchor":"middle",appendTo:this._rulerElementsGroup}),this.fontFeature=n.fontFeature,this.fontFeature.addFontAttributesToDomNode(this.fontFeature.webRTPUItem,this.fontFeature.metaData,this._rulerText)),n.showRuler?this.showRuler():this.hideRuler()},t.prototype.toggleHandleCircle=function(e){this._drawCircleHandle=e,this._handleRect&&this._handleRect.setAttribute("display",e?"inherit":"none"),this._handleInnerRect&&this._handleInnerRect.setAttribute("display",e?"inherit":"none")},t.prototype.updateLabelFont=function(){this.associatedAxis&&this._rulerTemplate&&(this._rulerTemplate.setHmiProps(this.associatedAxis.config.LabelFont,"HmiProps.Font"),this._rulerTemplate.update())},t.prototype.updateRulerLabel=function(){var e,t,i=this.getRulerPos();if(void 0!==i)this._rulerDispDetails.positionOnAxis=i,this._rulerDispDetails.rulerPosition=this._rulerAttr.pos;else if(void 0===this._rulerDispDetails.positionOnAxis)return;this.associatedAxis&&this.associatedAxis.config&&(t=e=Math.round(100*this.associatedAxis.getValueFromPosition(this._rulerDispDetails.positionOnAxis).toString())/100,this._rulerType===this._rulerTypeEnum.Value?this._updateRulerWhenValueType(t,e):this._rulerType===this._rulerTypeEnum.Time?this._updateRulerWhenTimeType(t,e):this._updateRulerWhenMinMaxType(),this._rulerType!==this._rulerTypeEnum.Value&&this._rulerType!==this._rulerTypeEnum.Time||!this._rulerTemplate||(this.associatedAxis&&this.useOldStyle&&(this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?this.updateRulerPosHelper(!0):this.updateRulerPosHelper(!1)),this._rulerTemplate.update()))},t.prototype._updateRulerWhenValueType=function(t,i){var r,n,a,o,s,l,u,h=!1,d=this._defaultRulerProps.circleStrokeGap,c=this._defaultRulerProps.circleRadiusDiff,p=d+c;i=this.associatedAxis.getDisplayValue(i),r=this._singleCharWidth*i.toString().length,this.associatedAxis.bBoxText.height,this._oldValueAxisValue=i,this._rulerTemplate&&(l=this.associatedAxis.config.LabelFont,this.rootNodeWidth=e.getTextWidth(i,l)+this.paddingX,this.rootNodeHeight=this._topBottomPaddingFactor*e.getTextHeight(i,l)+this.paddingY,this.useOldStyle?this._rulerTemplate.setDataContent({Text1:i.trim()}):(u=this.associatedAxis.outputFormat,this._rulerTemplate.setHmiProps(u,"HmiProps.OutputFormat"),this._rulerTemplate.setDataContent({Text1:t}))),r!==this._handleWidth-p-2*this._handleCornerRad&&(this._handleWidth=r+p+this._handleCornerRad,this._handleWidth<this._handleHeight&&(this._handleWidth=this._handleHeight),h=!0),this.useOldStyle&&(this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?h&&(this.rootNodeWidth=this._handleWidth,!this.associatedAxis&&this._handleRect&&(this._setAttributes(this._handleRect,{x:this._rulerAttr.pos-this._handleWidth/2,width:this._handleWidth}),this._setAttributes(this._handleInnerRect,{x:this._rulerAttr.pos-this._handleWidth/2+p/2,width:this._handleWidth-p})),this.associatedAxis&&(a=(n=this._rulerAttr.pos-(this._handleWidth+c)/2)+this._handleWidth+c/2,s=(o=this.associatedAxis.rect.left)+this.associatedAxis.rect.width,n<o||this._handleWidth>=this.associatedAxis.rect.width?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("x",o+d/2):a>s&&this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("x",s-this._handleWidth-d/2))):h&&(this.associatedAxis||(this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-this._handleWidth/2+p/2,height:this._handleWidth-p}),this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-this._handleWidth/2+p/2,height:this._handleWidth-p})),this.associatedAxis&&(this.rootNodeWidth=this._handleWidth,a=(n=this._rulerAttr.pos-(this._handleWidth+c)/2)+this._handleWidth+c/2,s=(o=this.associatedAxis.rect.top)+this.associatedAxis.rect.height,n<o||this._handleWidth>=this.associatedAxis.rect.height?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("y",o+d/2):a>s&&this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("y",s-this._handleWidth-d/2))))},t.prototype._updateRulerWhenTimeType=function(t,i){var r,n,a,o;t=i,i=this.associatedAxis.getDisplayValue(i,!0),this.associatedAxis.bBoxText.width,this.associatedAxis.bBoxText.height,this._isLeftOrRight?this._rulerTemplate&&(r=this.associatedAxis.config.LabelFont,this.rootNodeWidth=e.getTextWidth(i[0],r)+this.paddingX,this.rootNodeHeight=this._topBottomPaddingFactor*e.getTextHeight(i[0],r)+this.paddingY,this.useOldStyle?this._rulerTemplate.setDataContent({Text1:i[0].trim()}):(n=this.associatedAxis.outputFormat,this._rulerTemplate.setHmiProps(n,"HmiProps.OutputFormat"),this._rulerTemplate.setDataContent({Text1:t}))):this._rulerTemplate&&(r=this.associatedAxis.config.LabelFont,a=e.getTextWidth(i[0],r),this.rootNodeWidth=a+this.paddingX,o=this._topBottomPaddingFactor*e.getTextHeight(i[0],r)+this.paddingY,this.rootNodeHeight=o,this.useOldStyle?this._rulerTemplate.setDataContent({Text1:i[0].trim()}):(n=this.associatedAxis.outputFormat,this._rulerTemplate.setHmiProps(n,"HmiProps.OutputFormat"),this._rulerTemplate.setDataContent({Text1:t})))},t.prototype._updateRulerWhenMinMaxType=function(){var e,t=0;this._rulerType===this._rulerTypeEnum.RulerMax&&(t=this.labelHeight),this._rulerText.textContent=this._minMaxLabelValue,e=this.labelHeight/2,this._isLeftOrRight?(this._rulerText.setAttribute("x",this._rulerAttr.end+this.labelWidth/2+4),this._rulerText.setAttribute("y",this._rulerAttr.pos+e*(3/4)),this._rulerText.setAttribute("transform","")):(this._rulerText.setAttribute("y",this._rulerAttr.start-.25*this.labelHeight-t-4),this._rulerText.setAttribute("x",this._rulerAttr.pos),this._rulerText.setAttribute("transform",""))},t.prototype._updateRulerPosition=function(){var e,t=this._defaultRulerProps.smallArrowHeight,i=this._defaultRulerProps.smallArrowWidth,r=this._defaultRulerProps.circleStrokeGap+this._defaultRulerProps.circleRadiusDiff;this._rulerType===this._rulerTypeEnum.Time?(e=this._handleWidth/2,this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?(this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos}),this._setAttributes(this._rulerRect,{x:this._rulerAttr.pos-this._rulerWidth/2}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.pos-i/2)+" "+(this._rulerAttr.start+this._handleHeight+this.height2ndRow)+" l "+i/2+" +"+t+" l "+i/2+" -"+t+" Z"}),this.associatedAxis?(this.useOldStyle?this.updateRulerPosHelper(!0):this.updateRulerPosNewVersion(!0),this.updateRulerLabel()):this._handleRect&&(this._setAttributes(this._handleRect,{x:this._rulerAttr.pos-e}),this._setAttributes(this._handleInnerRect,{x:this._rulerAttr.pos-e+r/2}))):(this._setAttributes(this._rulerBckGrndLine,{y1:this._rulerAttr.pos,y2:this._rulerAttr.pos}),this._setAttributes(this._rulerRect,{y:this._rulerAttr.pos-this._rulerWidth/2}),this._setAttributes(this._rulerDummyLine,{y1:this._rulerAttr.pos,y2:this._rulerAttr.pos}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.end-this._handleHeight-t-this.height2ndRow)+" "+this._rulerAttr.pos+" l +"+t+" +"+i/2+" l +0 -"+i+" Z"}),this.associatedAxis?(this.useOldStyle?this.updateRulerPosHelper(!1):this.updateRulerPosNewVersion(!1),this.updateRulerLabel()):this._handleRect&&(this._setAttributes(this._handleRect,{y:this._rulerAttr.pos-e}),this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-e+r/2})))):this.updateRuler()},t.prototype.updateRuler=function(e,t,i,r){var n,a=null,o=0,s=0,l=0,u=0,h=this._defaultRulerProps.minMaxRulerArrowHeight,d=this._defaultRulerProps.minMaxRulerArrowWidth,c=this._defaultRulerProps.circleStrokeGap,p=this._defaultRulerProps.circleRadiusDiff,m=this._defaultRulerProps.smallArrowHeight,g=this._defaultRulerProps.smallArrowWidth,T=c+p;this._defaultRulerProps.circleRadius,void 0!==e&&(this._isLeftOrRight=e),t&&(this._cursorType=t),i&&this._calculateDim(i,r),this.associatedAxis&&this.associatedAxis.config?(this._rulerType===this._rulerTypeEnum.Value&&(this._singleCharWidth>0?(a=Math.round(100*this.associatedAxis.getValueFromPosition(this._rulerDispDetails.positionOnAxis).toString())/100,o=this._singleCharWidth*a.toString().length,this._handleWidth=o+T):(o=this.associatedAxis.bBoxText.width,this._singleCharWidth=(this._handleWidth-T)/2),this._handleWidth<this._handleHeight&&(this._handleWidth=this._handleHeight)),this._rulerTemplate&&(n=this.associatedAxis.config.LabelFont,this._rulerTemplate.setHmiProps(n,"HmiProps.Font"),this._rulerTemplate.RootNode.setAttribute("display","inherit")),this._handleRect&&this._setAttributes(this._handleRect,{display:"none"}),this._handleInnerRect&&this._setAttributes(this._handleInnerRect,{display:"none"})):(this._handleHeight/2,this._handleWidth=this._handleHeight,this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("display","none"),this._handleRect&&this._setAttributes(this._handleRect,{display:"inherit"}),this._handleInnerRect&&this._setAttributes(this._handleInnerRect,{display:"inherit"})),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(s=this._handleHeight/2,l=this._handleWidth/2,this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?(this._attr1="pos",this._attr2="pos",this._attr3="start",this._attr4="end",this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos,y1:this._rulerAttr.start+s,y2:this._rulerAttr.end,cursor:this._cursorType}),(u=this._rulerAttr.end-this._rulerAttr.start-s)<0&&(u=0),this._setAttributes(this._rulerRect,{x:this._rulerAttr.pos-this._rulerWidth/2,y:this._rulerAttr.start+s,width:this._rulerWidth,height:u}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr.pos,x2:this._rulerAttr.pos,y1:this._rulerAttr.start+s,y2:this._rulerAttr.end,cursor:this._cursorType}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.pos-g/2)+" "+(this._rulerAttr.start+this._handleHeight+this.height2ndRow)+" l "+g/2+" +"+m+" l "+g/2+" -"+m+" Z",cursor:this._cursorType}),this.associatedAxis&&this.associatedAxis.config?this.useOldStyle||this.updateRulerPosNewVersion(!0):(this._handleRect&&(this._setAttributes(this._handleRect,{x:this._rulerAttr.pos-l,y:this._rulerAttr.start,width:this._handleWidth,height:this._handleHeight+this.height2ndRow,rx:this._handleCornerRad,cursor:this._cursorType}),this._setAttributes(this._handleInnerRect,{x:this._rulerAttr.pos-l+T/2,y:this._rulerAttr.start+T/2,width:this._handleWidth-T,height:this._handleHeight-T+this.height2ndRow,rx:this._handleCornerRad-T/2,cursor:this._cursorType})),this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("stroke",this.stroke),this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType)))):(this._attr1="start",this._attr2="end",this._attr3="pos",this._attr4="pos",this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr.start,x2:this._rulerAttr.end-s,y1:this._rulerAttr.pos,y2:this._rulerAttr.pos,cursor:this._cursorType}),(u=this._rulerAttr.end-this._rulerAttr.start-s)<0&&(u=0),this._setAttributes(this._rulerRect,{x:this._rulerAttr.start,y:this._rulerAttr.pos-this._rulerWidth/2,height:this._rulerWidth,width:u}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr.start,x2:this._rulerAttr.end-s,y1:this._rulerAttr.pos,y2:this._rulerAttr.pos,cursor:this._cursorType}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.end-this._handleHeight-m-this.height2ndRow)+" "+this._rulerAttr.pos+" l +"+m+" +"+g/2+" l +0 -"+g+" Z",cursor:this._cursorType}),this.associatedAxis&&this.associatedAxis.config?this.useOldStyle||this.updateRulerPosNewVersion(!1):(this._handleRect&&(this._setAttributes(this._handleRect,{y:this._rulerAttr.pos-l,x:this._rulerAttr.end-this._handleHeight-this.height2ndRow,height:this._handleWidth,width:this._handleHeight+this.height2ndRow,rx:this._handleCornerRad,cursor:this._cursorType}),this._setAttributes(this._handleInnerRect,{y:this._rulerAttr.pos-l+T/2,x:this._rulerAttr.end-this._handleHeight+T/2-this.height2ndRow,height:this._handleWidth-T,width:this._handleHeight-T,rx:this._handleCornerRad-T/2,cursor:this._cursorType})),this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("stroke",this.stroke),this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType))))):(this._isLeftOrRight?(this._attr1="pos",this._attr2="pos",this._attr3="start",this._attr4="end",!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos-h/2)+" l -"+d+" +"+h/2+" L "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos+h/2)+" Z",cursor:this._cursorType}),this._setAttributes(this._handleArrowBckGrnd,{d:"M "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos-(h/2+2))+" l -"+(d+4)+" +"+(h/2+2)+" L "+(this._rulerAttr.end+2)+" "+(this._rulerAttr.pos+h/2+2)+" Z",cursor:this._cursorType})):(this._attr1="start",this._attr2="end",this._attr3="pos",this._attr4="pos",!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{d:"M "+this._rulerAttr.pos+" "+(this._rulerAttr.start+d-4)+" l +"+h/2+" -"+d+" l -"+h+" +0 z",cursor:this._cursorType}),this._setAttributes(this._handleArrowBckGrnd,{d:"M "+this._rulerAttr.pos+" "+(this._rulerAttr.start+d-2)+" l +"+(h/2+2)+" -"+(d+4)+" l -"+2*(h/2+2)+" +0 z",cursor:this._cursorType})),this._setAttributes(this._rulerBckGrndLine,{x1:this._rulerAttr[this._attr3],x2:this._rulerAttr[this._attr4],y1:this._rulerAttr[this._attr1],y2:this._rulerAttr[this._attr2]}),this._setAttributes(this._rulerLine,{x1:this._rulerAttr[this._attr3],x2:this._rulerAttr[this._attr4],y1:this._rulerAttr[this._attr1],y2:this._rulerAttr[this._attr2]}),this._setAttributes(this._rulerDummyLine,{x1:this._rulerAttr[this._attr3],x2:this._rulerAttr[this._attr4],y1:this._rulerAttr[this._attr1],y2:this._rulerAttr[this._attr2],cursor:this._cursorType})),this.updateRulerLabel()},t.prototype.updateRulerPosHelper=function(e){var t,i,r,n=this._rulerAttr.pos-this.rootNodeWidth/2-this._defaultRulerProps.circleRadiusDiff/2,a=n+this.rootNodeWidth+this._defaultRulerProps.circleRadiusDiff/2;e?(r=(i=this.associatedAxis.rect.left)+this.associatedAxis.rect.width,this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.pos-this.rootNodeWidth/2),this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.start),this._rulerTemplate.RootNode.setAttribute("height",this.rootNodeHeight),this._rulerTemplate.RootNode.setAttribute("width",this.rootNodeWidth),this._rulerTemplate.setHmiProps(this.rootNodeHeight,"HmiProps.Height"),this._rulerTemplate.setHmiProps(this.rootNodeWidth,"HmiProps.Width")),n<i||this._handleWidth>=this.associatedAxis.rect.width?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("x",i+this._defaultRulerProps.circleStrokeGap/2):a>r&&(t=this.rootNodeWidth,this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("x",r-t-this._defaultRulerProps.circleStrokeGap/2))):(r=(i=this.associatedAxis.rect.top)+this.associatedAxis.rect.height,this._rulerTemplate&&(this._rulerTemplate.RootNode.setAttribute("stroke",this.stroke),this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType),this._rulerTemplate.setHmiProps(this.rootNodeWidth,"HmiProps.Height"),this._rulerTemplate.setHmiProps(this.rootNodeHeight,"HmiProps.Width"),this._rulerTemplate.RootNode.setAttribute("height",this.rootNodeWidth),this._rulerTemplate.RootNode.setAttribute("width",this.rootNodeHeight),this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.end-this.rootNodeHeight),this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.pos-this.rootNodeWidth/2),this._rulerTemplate.setHmiProps(this.associatedAxis.config.LabelFont,"HmiProps.Font")),n<i||this.rootNodeWidth>=this.associatedAxis.rect.height?this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("y",i+this._defaultRulerProps.circleStrokeGap/2):a>r&&(t=this.rootNodeWidth,this._rulerTemplate&&this._rulerTemplate.RootNode.setAttribute("y",r-t-this._defaultRulerProps.circleStrokeGap/2)))},t.prototype.updateRulerPosNewVersion=function(e){var t,i,r,n,a;e?(i=(t=this.associatedAxis.rect.left)+this.associatedAxis.rect.width,this._rulerTemplate&&(r=this.contentWidth,this.contentWidth>this.associatedAxis.rect.width?(r=this.associatedAxis.rect.width,this._rulerTemplate.setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!0):this.contentWidthModified&&(this._rulerTemplate.setHmiProps(r,"HmiProps.Width"),this.contentWidthModified=!1),n=this._rulerAttr.pos-r/2,a=this._rulerAttr.pos+r/2,n<t?(this.setRulerPosition(r,t,!0),this.rulerPosition<-1&&(this.rulerPosition=-1),this._rulerTemplate.RootNode.setAttribute("x",t),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")):a>i?(this.setRulerPosition(r,i,!1),this.rulerPosition>1&&(this.rulerPosition=1),this._rulerTemplate.RootNode.setAttribute("x",i-r),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")):(this.rulerPosition=0,this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.pos-r/2),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")),this.prevPos=this._rulerAttr.pos,this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.start))):(i=(t=this.associatedAxis.rect.top)+this.associatedAxis.rect.height,this._rulerTemplate&&(r=this.contentHeight,this.contentHeight>this.associatedAxis.rect.height?(r=this.associatedAxis.rect.height,this._rulerTemplate.setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!0):this.contentHeightModified&&(this._rulerTemplate.setHmiProps(r,"HmiProps.Height"),this.contentHeightModified=!1),n=this._rulerAttr.pos-r/2,a=this._rulerAttr.pos+r/2,n<t?(this.setRulerPosition(r,t,!0),this.rulerPosition<-1&&(this.rulerPosition=-1),this._rulerTemplate.RootNode.setAttribute("y",t),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")):a>i?(this.setRulerPosition(r,i,!1),this.rulerPosition>1&&(this.rulerPosition=1),this._rulerTemplate.RootNode.setAttribute("y",i-r),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")):(this.rulerPosition=0,this._rulerTemplate.RootNode.setAttribute("y",this._rulerAttr.pos-r/2),this._rulerTemplate.setHmiProps(this.rulerPosition,"HmiProps.RulerPosition")),this.prevPos=this._rulerAttr.pos,this._rulerTemplate.RootNode.setAttribute("cursor",this._cursorType),this._rulerTemplate.RootNode.setAttribute("x",this._rulerAttr.end-this.contentHeight),this._rulerTemplate.setHmiProps(this.associatedAxis.config.LabelFont,"HmiProps.Font")))},t.prototype.setRulerPosition=function(e,t,i){this.rulerPosition=i?2*(this._rulerAttr.pos-t)/e-1:1-2*(t-this._rulerAttr.pos)/e},t.prototype.setHandleDim=function(e,t,i){this._handleHeight=e,this._handleWidth=t,this._handleCornerRad=e/2,this._handleWidth+=this._handleCornerRad,this._singleCharWidth=-1,this._rulerType===this._rulerTypeEnum.Value&&void 0!==i&&(this._singleCharWidth=(this._handleWidth-this._defaultRulerProps.circleStrokeGap-this._defaultRulerProps.circleRadiusDiff-this._handleCornerRad)/i)},t.prototype.setRulerAttrPos=function(e){this._rulerAttr=null,this._rulerAttr=e,this._updateRulerPosition()},t.prototype.getRulerAttr=function(){return this._rulerAttr},t.prototype.getId=function(){return this._rulerAttr.id},t.prototype.setRulerColor=function(e){this._rulerType===this._rulerTypeEnum.RulerMin||this._rulerType===this._rulerTypeEnum.RulerMax?(!0===this.isProjVer16AndNotFunctionTrend&&this._handleArrow.setAttribute("fill",e),this._rulerLine.setAttribute("stroke",e)):!0===this.isProjVer16AndNotFunctionTrend&&this._rulerTemplate?this._rulerTemplate.RootNode.setAttribute("stroke",e):this._rulerRect.setAttribute("fill",e)},t.prototype.setRulerData=function(e,t,i){this._rulerTemplate=e,this._rulerElementsGroup.appendChild(t),this.contentWidth=i.contentWidth,this.contentHeight=i.contentHeight,this.rulerPosition=i.rulerPosition,this.useOldStyle=i.useOldStyle},t.prototype.resetRulerPosition=function(){this._rulerTemplate&&(this._rulerTemplate.setHmiProps(this.contentHeight,"HmiProps.Height"),this._rulerTemplate.setHmiProps(this.contentWidth,"HmiProps.Width"),this._rulerTemplate.update())},t.prototype.setTextDim=function(){this.labelWidth=e.getTextWidth(this._minMaxLabelValue,this.associatedAxis.config.LabelFont),this.labelHeight=e.getTextHeight(this._minMaxLabelValue,this.associatedAxis.config.LabelFont)},t.prototype.setThresholdValue=function(e){null===e?(this.thresholdValue=e,this._minMaxLabelValue="",this.labelWidth=this.labelHeight=0):(this.thresholdValue=e,this._minMaxLabelValue=this._minMaxLabel+": "+e,this.setTextDim())},t.prototype.setRulerWidth=function(e){var t;this._rulerWidth=e,t=e>this.HIGHLIGHT_WIDTH?e+this.RULER_BACK_LINE_WIDTH:this.HIGHLIGHT_WIDTH,this._rulerBckGrndLine.setAttribute("stroke-width",this._rulerWidth+this.RULER_BACK_LINE_WIDTH),this._rulerDummyLine.setAttribute("stroke-width",t),this._rulerRect&&(this._isLeftOrRight^Number(this._direction===this._rulerDirEnum.Horizontal)?this._setAttributes(this._rulerRect,{x:this._rulerAttr.pos-this._rulerWidth/2,width:this._rulerWidth}):this._setAttributes(this._rulerRect,{y:this._rulerAttr.pos-this._rulerWidth/2,height:this._rulerWidth}))},t.prototype.showRulerDummyLine=function(){this._setAttributes(this._rulerDummyLine,{opacity:this.STROKE_OPACITY})},t.prototype.hideRulerDummyLine=function(){this._setAttributes(this._rulerDummyLine,{opacity:0})},t.prototype.updateRulerClipPath=function(e){this._rulerElementsGroup.setAttribute("clip-path",e)},t.prototype.showRuler=function(){this._isRulerAddedToDOM||(this._rulerViewSVGGroup.appendChild(this._rulerElementsGroup),this._isRulerAddedToDOM=!0),this._setRulerVisibility("inherit")},t.prototype.hideRuler=function(){this._setRulerVisibility("none")},t.prototype._setRulerVisibility=function(e){this._setAttributes(this._rulerElementsGroup,{display:e}),this._setAttributes(this._rulerDummyLine,{display:e}),this._setAttributes(this._rulerBckGrndLine,{display:e}),!0===this.isProjVer16AndNotFunctionTrend&&this._setAttributes(this._handleArrow,{display:e}),this._rulerType===this._rulerTypeEnum.Time||this._rulerType===this._rulerTypeEnum.Value?(this._setAttributes(this._rulerRect,{display:e}),this._drawCircleHandle&&this._handleRect&&(this._setAttributes(this._handleRect,{display:e}),this._setAttributes(this._handleInnerRect,{display:e}))):(this._rulerText&&this._setAttributes(this._rulerText,{display:e}),this._setAttributes(this._rulerLine,{display:e}),this._setAttributes(this._handleArrowBckGrnd,{display:e}))},t.prototype.cleanUp=function(){for(;this._rulerElementsGroup.firstChild;)this._rulerElementsGroup.removeChild(this._rulerElementsGroup.firstChild);this._rulerTemplate&&this._rulerTemplate.remove(),this._rulerAttr=this.fontFeature=this._setAttributes=this._rulerElementsGroup=this._rulerDummyLine=this._rulerBckGrndLine=this._handleArrow=this._rulerText=this._rulerDispDetails=this._rulerRect=this._handleRect=this._rulerTemplate=this._handleInnerRect=this._rulerLine=this._handleArrowBckGrnd=this.rulerColorIds=this._defaultRulerProps=this.associatedAxis=null},t}();t.RulerBase=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(t,i,r){this._onlineTrendControl=e.Data.TrendObjectType.Online,this._setAttributes=e.Features.Shape.SvgShape.SetAttributes,this._movingRuler=null,this._movingRulerAttr=null,this.HIGHLIGHT_WIDTH=12,this.panDeltaCoords={x:0,y:0},this.minMaxTextBBox={width:0,height:0},this._bounds={left:0,right:1,top:2,bottom:3,height:4,width:5},this._moveStatus=!1,this._updateMinMaxRulerPosition=function(){var e;this._rulerMinEnabled&&((e=this._rulerMin.getRulerAttr()).pos=this._trendWindow.selectedTrend.currentYAxis.getPositionFromValue(this._rulerMin.thresholdValue),this._getPercFromPos(e),this._rulerMin.setRulerAttrPos(e)),this._rulerMaxEnabled&&((e=this._rulerMax.getRulerAttr()).pos=this._trendWindow.selectedTrend.currentYAxis.getPositionFromValue(this._rulerMax.thresholdValue),this._getPercFromPos(e),this._rulerMax.setRulerAttrPos(e))},this._invertColor=e.Utilities.getInvertedColor;var n=e.Data.RulerDataStore.retrieve(i.config.ElementID);this._trendView=t,this._trendWindow=i,this._id=r,this._init(),n&&(this._ruler1.setRulerAttrPos(n._ruler1),this._rulerMin.setRulerAttrPos(n._rulerMin),this._rulerMax.setRulerAttrPos(n._rulerMax),this._trendView.trendObjectType===e.Data.TrendObjectType.Function?this._rulerHoriz.setRulerAttrPos(n._rulerHoriz):(this._rulerStat1.setRulerAttrPos(n._rulerStat1),this._rulerStat2.setRulerAttrPos(n._rulerStat2)))}return t.prototype._getPercFromPos=function(e){this._horizontalRulerMove^this._isLeftOrRight?e.percOfPos=(e.pos-this._bounds.left)/this._bounds.width:e.percOfPos=(e.pos-this._bounds.top)/this._bounds.height},t.prototype._calculateDim=function(e){var t,i;if(this._isLeftOrRight=this._trendView.isLeftOrRight(),this._bounds=this._trendWindow.getRect(),e)i=this._trendWindow.getMinMaxRulerExtent(),t={},this._isLeftOrRight?(t.left=this._bounds.left,t.top=this._bounds.top,t.bottom=this._bounds.bottom,t.height=this._bounds.height,t.right=i,t.width=t.right-t.left):(t.left=this._bounds.left,t.right=this._bounds.right,t.bottom=this._bounds.bottom,t.width=this._bounds.width,t.top=i,t.height=t.bottom-t.top);else if(this._trendView.rulerFeature){var r=this._trendView.rulerFeature.Attributes;t=this._trendWindow.getRulerBounds(parseInt(r["high-extension"],10),parseInt(r["low-extension"],10))}else t=this._trendWindow.getRulerBounds(0,0);return this._bounds.right=this._bounds.left+this._bounds.width,this._bounds.bottom=this._bounds.top+this._bounds.height,t},t.prototype._init=function(){var t,i,r,n,a,o,s,l,u,h,d,c,p=this._id+"_statVertGradId",m=this._id+"_horizLineGrad",g=this._id+"_vertLineGrad",T=e.Data.RulerType,f=e.Data.RulerDirection,y=this._id+"_horizHandleGrad",D=this._id+"_verthandleGrad",S=this._trendWindow.getRect(),b=this._invertColor(this._trendWindow.getBackColor()),C=e.Utilities.getProjectMajorVersion(this._trendView.RTPUItem);if(d=0,h=0,l=e.Features.Shape.SvgShape.CreateSvgElement,n=[],"inherit","inherit",c=this._trendWindow.config.BottomTimeAxes,Array.isArray(c))for(h=0;h<c.length;h++)c[h].Visible&&d++;if(c=this._trendWindow.config.TopTimeAxes,Array.isArray(c))for(h=0;h<c.length;h++)c[h].Visible&&d++;this._minMaxFontFeature=new e.Features.Font,s=l("defs",{id:this._id+"_rulerGradDefs"}),this._vertGrad=l("linearGradient",{id:g,x1:"0%",x2:"0%",y1:"100%",y2:"0%",appendTo:s}),l("stop",{offset:"0.0","stop-color":this._trendWindow.rulerColor,appendTo:this._vertGrad}),l("stop",{offset:"1.0","stop-color":this._trendWindow.rulerColor2,appendTo:this._vertGrad}),this._horizGrad=l("linearGradient",{id:m,x1:"0%",x2:"100%",y1:"0%",y2:"0%",appendTo:s}),l("stop",{offset:"0.0","stop-color":this._trendWindow.rulerColor,appendTo:this._horizGrad}),l("stop",{offset:"1.0","stop-color":this._trendWindow.rulerColor2,appendTo:this._horizGrad}),this._statVertGrad=l("linearGradient",{id:p,x1:"0%",x2:"0%",y1:"100%",y2:"0%",appendTo:s}),l("stop",{offset:"0.0","stop-color":this._trendWindow.statisticRulerColor,appendTo:this._statVertGrad}),l("stop",{offset:"1.0","stop-color":this._trendWindow.statisticRulerColor2,appendTo:this._statVertGrad}),a=l("linearGradient",{id:D,x1:"0%",x2:"0%",y1:"100%",y2:"0%",appendTo:s}),l("stop",{offset:"0%","stop-color":e.Data.RulerConstProps.handleGradColor1,appendTo:a}),l("stop",{offset:"100%","stop-color":e.Data.RulerConstProps.handleGradColor2,appendTo:a}),o=l("linearGradient",{id:y,x1:"0%",x2:"100%",y1:"0%",y2:"0%",appendTo:s}),l("stop",{offset:"0%","stop-color":e.Data.RulerConstProps.handleGradColor1,appendTo:o}),l("stop",{offset:"100%","stop-color":e.Data.RulerConstProps.handleGradColor2,appendTo:o}),i="url(#"+this._trendWindow.getVerticalRulerClipPathId()+")",r="url(#"+this._trendWindow.getHorizontalRulerClipPathId()+")";var v=this._trendWindow.ruler.Width;t=v>this.HIGHLIGHT_WIDTH?v+4:this.HIGHLIGHT_WIDTH,this._rulerViewGroup=l("g",{id:this._id+"_RulerViewGroup","clip-path":"inherit",stroke:b,"stroke-width":v}),this._rulerViewGroup.appendChild(s),n=[m,y,this._trendWindow.rulerColor],(u={rulerId:this._id+"_rulerMin",direction:f.Horizontal,rulerType:T.RulerMin,percOfPos:.8,rulerClipPath:r,rulerWidth:this._trendWindow.ruler.Width,rulerColorIds:n,dummyRulerWidth:t,showRuler:!1,handleHeight:0,handleWidth:0,drawCircleHandle:!1}).drawCircleHandle=1!==d,u.fontFeature=this._minMaxFontFeature,this._rulerMin=new e.ChartElements.RulerBase,u.minMaxLabel=this._trendView.minLabel,this._rulerMin.init(this._rulerViewGroup,S,this._isLeftOrRight,u,C,this._trendView.trendObjectType),u.rulerId=this._id+"_rulerMax",u.rulerType=T.RulerMax,u.percOfPos=.2,this._rulerMax=new e.ChartElements.RulerBase,u.minMaxLabel=this._trendView.maxLabel,this._rulerMax.init(this._rulerViewGroup,S,this._isLeftOrRight,u,C,this._trendView.trendObjectType),u.minMaxLabel=void 0,u.fontFeature=void 0,n=[g,D,this._trendWindow.rulerColor],u.rulerColorIds=n,u.showRuler=!1,this._trendView.trendObjectType===e.Data.TrendObjectType.Online?(u.rulerId=this._id+"_ruler1",u.direction=f.Vertical,u.rulerType=T.Time,u.percOfPos=.5,u.rulerClipPath=i,this._ruler1=new e.ChartElements.RulerBase,this._ruler1.init(this._rulerViewGroup,S,this._isLeftOrRight,u,C,this._trendView.trendObjectType),n=[p,D,this._trendWindow.statisticRulerColor],u.rulerColorIds=n,u.rulerWidth=this._trendWindow.statisticRulers.Width,u.rulerWidth>this.HIGHLIGHT_WIDTH?u.dummyRulerWidth=u.rulerWidth+4:u.dummyRulerWidth=this.HIGHLIGHT_WIDTH,u.rulerId=this._id+"_rulerStat1",u.percOfPos=.25,u.direction=f.Vertical,u.rulerType=T.Time,u.rulerWidth=this._trendWindow.statisticRulers.Width,this._rulerStat1=new e.ChartElements.RulerBase,this._rulerStat1.init(this._rulerViewGroup,S,this._isLeftOrRight,u,C,this._trendView.trendObjectType),u.rulerId=this._id+"_rulerStat2",u.percOfPos=.75,this._rulerStat2=new e.ChartElements.RulerBase,this._rulerStat2.init(this._rulerViewGroup,S,this._isLeftOrRight,u,C,this._trendView.trendObjectType)):(u.rulerId=this._id+"_ruler1",u.direction=f.Vertical,u.rulerType=T.Value,u.percOfPos=.5,u.rulerClipPath=i,this._ruler1=new e.ChartElements.RulerBase,this._ruler1.init(this._rulerViewGroup,S,this._isLeftOrRight,u,C,this._trendView.trendObjectType),n=[m,y,this._trendWindow.rulerColor],u.rulerColorIds=n,u.rulerId=this._id+"_rulerHoriz",u.rulerClipPath=r,u.direction=f.Horizontal,this._rulerHoriz=new e.ChartElements.RulerBase,this._rulerHoriz.init(this._rulerViewGroup,S,this._isLeftOrRight,u,C,this._trendView.trendObjectType)),l=null},t.prototype.getRulerType=function(){return{regularvertical:this._ruler1,regularhorizontal:this._rulerHoriz,min:this._rulerStat1,max:this._rulerStat2}},t.prototype._rotateGradients=function(){this._isLeftOrRight?(this._vertGrad.setAttributeNS(null,"x2","0%"),this._vertGrad.setAttributeNS(null,"y1","100%"),this._horizGrad.setAttributeNS(null,"x2","100%"),this._horizGrad.setAttributeNS(null,"y1","0%"),this._statVertGrad.setAttributeNS(null,"x2","0%"),this._statVertGrad.setAttributeNS(null,"y1","100%")):(this._vertGrad.setAttributeNS(null,"x2","100%"),this._vertGrad.setAttributeNS(null,"y1","0%"),this._horizGrad.setAttributeNS(null,"x2","0%"),this._horizGrad.setAttributeNS(null,"y1","100%"),this._statVertGrad.setAttributeNS(null,"x2","100%"),this._statVertGrad.setAttributeNS(null,"y1","0%"))},t.prototype.draw=function(){var t=this._calculateDim(!1);this._svgParent=this._trendWindow.getSVG(),this._svgParent.appendChild(this._rulerViewGroup),this._ruler1.setDims(this._isLeftOrRight,this._bounds,t),this._trendView.trendObjectType!==e.Data.TrendObjectType.Online?this._rulerHoriz.setDims(this._isLeftOrRight,this._bounds,t):(this._rulerStat1.setDims(this._isLeftOrRight,this._bounds,t),this._rulerStat2.setDims(this._isLeftOrRight,this._bounds,t)),this.update()},t.prototype.update=function(){var t=this._calculateDim(!1);this._trendView.enabled?this._isLeftOrRight?(this._cursorType="ew-resize",this._horizRulerCursorType="ns-resize"):(this._cursorType="ns-resize",this._horizRulerCursorType="ew-resize"):(this._cursorType="default",this._horizRulerCursorType="default"),this._rotateGradients(),this._trendView.trendObjectType===e.Data.TrendObjectType.Online?(this._trendView.getShowRuler()&&this._ruler1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,t),this._trendView.getShowStatisticRuler()&&(this._rulerStat1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,t),this._rulerStat2.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,t))):this._trendView.getShowRuler()&&(this._ruler1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,t),this._rulerHoriz.updateRuler(this._isLeftOrRight,this._horizRulerCursorType,this._bounds,t)),t=this._calculateDim(!0),this._rulerMinEnabled&&this._rulerMin.updateRuler(this._isLeftOrRight,"default",this._bounds,t),this._rulerMaxEnabled&&this._rulerMax.updateRuler(this._isLeftOrRight,"default",this._bounds,t),this._updateMinMaxRulerPosition()},t.prototype.updateExtent=function(){var t="url(#"+this._trendWindow.getVerticalRulerClipPathId()+")",i="url(#"+this._trendWindow.getHorizontalRulerClipPathId()+")";this._rulerViewGroup.setAttribute("clip-path","inherit"),this._ruler1.updateRulerClipPath(t),this._trendView.trendObjectType!==e.Data.TrendObjectType.Online?this._rulerHoriz.updateRulerClipPath(i):(this._rulerStat1.updateRulerClipPath(t),this._rulerStat2.updateRulerClipPath(t)),this._rulerMin.updateRulerClipPath(i),this._rulerMax.updateRulerClipPath(i),this.update()},t.prototype.updateAssociatedAxes=function(){var t,i,r,n=[];t=this._trendWindow.getXAxes();var a=this._trendView.trendObjectType===e.Data.TrendObjectType.Online,o=this._trendView.trendObjectType===e.Data.TrendObjectType.Function;if(a&&this._trendView.currProjectVersion>=17||""===this._trendView.currProjectVersion||o)this._trendWindow.selectedTrend||(this._trendWindow.selectedTrend=this._trendWindow.trends[0]),r=this._trendWindow.selectedTrend&&this._trendWindow.selectedTrend.currentXAxis?this._trendWindow.selectedTrend.currentXAxis:t[0],this._ruler1.associatedAxis=r,this._trendView.getShowRuler()&&this._ruler1.showRuler(),a&&(this._rulerStat1.associatedAxis=r,this._trendView.getShowStatisticRuler()&&this._rulerStat1.showRuler(),this._rulerStat2.associatedAxis=r,this._trendView.getShowStatisticRuler()&&this._rulerStat2.showRuler()),r&&!r.updateRulerLabelFont&&(r.updateRulerLabelFont=this.updateRulerLabelFont.bind(this)),r=null,a||(t=this._trendWindow.getYAxes(),r=this._trendWindow.selectedTrend&&this._trendWindow.selectedTrend.currentYAxis?this._trendWindow.selectedTrend.currentYAxis:t[0],this._rulerHoriz.associatedAxis=r,this._trendView.getShowRuler()&&this._rulerHoriz.showRuler(),r&&!r.updateRulerLabelFont&&(r.updateRulerLabelFont=this.updateRulerLabelFont.bind(this)));else{for(i=0;i<t.length;i++)t[i].config.Visible&&n.push(t[i]);if(1===n.length?(r=n[0],this._ruler1.associatedAxis||(this._ruler1.associatedAxis=r,this._trendView.getShowRuler()&&this._ruler1.showRuler(),this._ruler1.toggleHandleCircle(!1)),a&&(this._rulerStat1.associatedAxis||(this._rulerStat1.associatedAxis=r,this._trendView.getShowStatisticRuler()&&this._rulerStat1.showRuler(),this._rulerStat1.toggleHandleCircle(!1)),this._rulerStat2.associatedAxis||(this._rulerStat2.associatedAxis=r,this._trendView.getShowStatisticRuler()&&this._rulerStat2.showRuler(),this._rulerStat2.toggleHandleCircle(!1))),r.updateRulerLabelFont||(r.updateRulerLabelFont=this.updateRulerLabelFont.bind(this)),r=null):(this._ruler1.associatedAxis&&(this._ruler1.associatedAxis.updateRulerLabelFont=null),this._ruler1.associatedAxis=null,this._ruler1.toggleHandleCircle(!0),a&&(this._rulerStat1.associatedAxis=null,this._rulerStat1.toggleHandleCircle(!0),this._rulerStat2.associatedAxis=null,this._rulerStat2.toggleHandleCircle(!0))),!a){for(t=this._trendWindow.getYAxes(),n=[],i=0;i<t.length;i++)t[i].config.Visible&&n.push(t[i]);1===n.length?(r=n[0],this._rulerHoriz.associatedAxis||(this._rulerHoriz.associatedAxis=r,this._trendView.getShowRuler()&&this._rulerHoriz.showRuler()),r.updateRulerLabelFont||(r.updateRulerLabelFont=this.updateRulerLabelFont.bind(this))):(this._rulerHoriz.associatedAxis&&(this._rulerHoriz.associatedAxis.updateRulerLabelFont=null),this._rulerHoriz.associatedAxis=null,this._rulerHoriz.toggleHandleCircle(!0))}}},t.prototype.updateRulerLabelFont=function(){this._ruler1.updateLabelFont(),this._trendView.trendObjectType===e.Data.TrendObjectType.Online?(this._rulerStat1.updateLabelFont(),this._rulerStat2.updateLabelFont()):this._rulerHoriz.updateLabelFont()},t.prototype.updateMinMaxRulerLabelFont=function(){var e=!1;this._rulerMaxEnabled&&(e=!0,this._rulerMax.setTextDim()),this._rulerMinEnabled&&(e=!0,this._rulerMin.setTextDim()),this.setMinMaxTextDim(),e&&this._minMaxFontFeature.redraw()},t.prototype.updateVerticalRulerLabels=function(){this._svgParent&&(this._trendView.getShowRuler()&&this._ruler1.updateRulerLabel(),this._trendView.getShowStatisticRuler()&&(this._rulerStat1.updateRulerLabel(),this._rulerStat2.updateRulerLabel()))},t.prototype.updateHorizontalRulerLabels=function(){this._svgParent&&this._trendView.getShowRuler()&&this._rulerHoriz.updateRulerLabel()},t.prototype.updateRulerOrientation=function(t){var i=e.getChromEnum("HmiOrientation");t?(this._ruler1._rulerTemplate.setHmiProps(i.Vertical,"HmiProps.Orientation"),this._rulerHoriz._rulerTemplate.setHmiProps(i.Horizontal,"HmiProps.Orientation")):(this._ruler1._rulerTemplate.setHmiProps(i.Horizontal,"HmiProps.Orientation"),this._rulerHoriz._rulerTemplate.setHmiProps(i.Vertical,"HmiProps.Orientation")),this._ruler1._rulerTemplate.update(),this._rulerHoriz._rulerTemplate.update()},t.prototype.getRulerHandleWidthHeight=function(){var t,i,r,n=0,a=0,o=0,s=0,l=10,u=e.Data.RulerConstProps.topBottomPaddingFactor;return n=a=o=s=30,this._trendView.trendObjectType===e.Data.TrendObjectType.Online?(t=this._ruler1.associatedAxis)&&t.config&&(n=u*t.bBoxText.height+l,a=t.bBoxText.width+l):((t=this._ruler1.associatedAxis)&&t.config&&(n=u*t.getBBoxText().height+l,a=t.getBBoxText().width+l,i=t.labelText.length),(t=this._rulerHoriz.associatedAxis)&&t.config&&(o=u*t.getBBoxText().height+l,s=t.getBBoxText().width+l,r=t.labelText.length)),{xHeight:n,xWidth:a,yHeight:o,yWidth:s,yLabelTextLength:r,xLabelTextLength:i}},t.prototype.setRulerHandleDim=function(){var t,i,r,n=this.getRulerHandleWidthHeight();t=n.xHeight,i=n.xWidth,r=n.xLabelTextLength,this._ruler1.setHandleDim(t,i,r),this._trendView.trendObjectType===e.Data.TrendObjectType.Online?(this._rulerStat1.setHandleDim(t,i),this._rulerStat2.setHandleDim(t,i)):(t=n.yHeight,i=n.yWidth,r=n.yLabelTextLength,this._rulerHoriz.setHandleDim(t,i,r))},t.prototype.setMinMaxRulerTrend=function(){var e,t;this._rulerMaxEnabled=this._rulerMinEnabled=!1,this._rulerMin.associatedAxis&&(this._rulerMin.associatedAxis.moveMinMaxRuler=null,this._rulerMin.associatedAxis.updateRulerLabelFont=null,this._rulerMin.associatedAxis=null,this._rulerMin.setThresholdValue(null)),this._rulerMax.associatedAxis&&(this._rulerMax.associatedAxis.moveMinMaxRuler=null,this._rulerMax.associatedAxis.updateRulerLabelFont=null,this._rulerMax.associatedAxis=null,this._rulerMax.setThresholdValue(null)),this._trendWindow.selectedTrend?(t=this._trendWindow.selectedTrend.currentYAxis,this._rulerMin.associatedAxis=t,this._rulerMax.associatedAxis=t,this._minMaxFontFeature.Attributes.scope=this._trendWindow.selectedTrend.currentYAxis.config.LabelFont,this._minMaxFontFeature.redraw(),t.moveMinMaxRuler=this._updateMinMaxRulerPosition.bind(this),t.updateRulerLabelFont=this.updateMinMaxRulerLabelFont.bind(this),void 0!==(e=this._trendWindow.selectedTrend.getMinMaxThresholds()).maximumValue?(this._rulerMax.setThresholdValue(e.maximumValue),this._rulerMax.setRulerColor(e.maximumColor),this._rulerMaxEnabled=!0,this._rulerMax.showRuler()):this._rulerMax.hideRuler(),void 0!==e.minimumValue?(this._rulerMin.setThresholdValue(e.minimumValue),this._rulerMin.setRulerColor(e.minimumColor),this._rulerMinEnabled=!0,this._rulerMin.showRuler()):this._rulerMin.hideRuler(),this.setMinMaxTextDim(),t=null):(this._rulerMax.hideRuler(),this._rulerMin.hideRuler())},t.prototype.updateMinMaxRulers=function(){var e;(this._rulerMinEnabled||this._rulerMaxEnabled)&&(e=this._calculateDim(!0),this._rulerMin.updateRuler(this._isLeftOrRight,"default",this._bounds,e),this._rulerMax.updateRuler(this._isLeftOrRight,"default",this._bounds,e),this._updateMinMaxRulerPosition())},t.prototype.setMinMaxTextDim=function(){this.minMaxTextBBox={width:this._rulerMin.labelWidth>this._rulerMax.labelWidth?this._rulerMin.labelWidth:this._rulerMax.labelWidth,height:this._rulerMin.labelHeight>this._rulerMax.labelHeight?this._rulerMin.labelHeight:this._rulerMax.labelHeight}},t.prototype.onPointerMove=function(e,t){var i,r=1;return r<1&&-1===navigator.appName.indexOf("Microsoft")||(r=1),!!this._moveStatus&&(this._horizontalRulerMove^this._isLeftOrRight?(i=e-this.panDeltaCoords.x,this._movingRulerAttr.pos=this._movingRulerAttr.pos+i/r,this._movingRulerAttr.pos<this._bounds.left?this._movingRulerAttr.pos=this._bounds.left:this._movingRulerAttr.pos>this._bounds.right&&(this._movingRulerAttr.pos=this._bounds.right)):(i=t-this.panDeltaCoords.y,this._movingRulerAttr.pos=this._movingRulerAttr.pos+i/r,this._movingRulerAttr.pos<this._bounds.top?this._movingRulerAttr.pos=this._bounds.top:this._movingRulerAttr.pos>this._bounds.bottom&&(this._movingRulerAttr.pos=this._bounds.bottom)),this._horizontalRulerMove?(this._movingRuler===this._rulerHoriz&&this._rulerHoriz.setRulerAttrPos(this._movingRulerAttr),this._svgParent.style.cursor=this._horizRulerCursorType):(this._movingRuler===this._ruler1&&this._ruler1.setRulerAttrPos(this._movingRulerAttr),this._movingRuler===this._rulerStat2?this._rulerStat2.setRulerAttrPos(this._movingRulerAttr):this._movingRuler===this._rulerStat1&&this._rulerStat1.setRulerAttrPos(this._movingRulerAttr),this._svgParent.style.cursor=this._cursorType),this._getPercFromPos(this._movingRulerAttr),this.panDeltaCoords.x=e,this.panDeltaCoords.y=t,(this._trendView.trendCompanionConstUpdate||this._trendView.secondaryRulerToolTip)&&this._trendView.calculateRulerData(this._trendWindow.config.Name),!0)},t.prototype.flipRulerSecondaryText=function(e,t,i,r,n,a){var o,s,l;t&&(this._trendView.isLeftOrRight()?(Math.round(i._currentTimeAxis.rect.width+i._currentTimeAxis.rect.left)-Math.round(r+n)<=0?(t.indexOf("scale")>-1?t=t.split(" ")[0]+" scale(-1,-1)":t+=" scale(-1,-1)",o="(180, "+.52*n+","+.75*a+")"):(o="(0,0,0)",t.indexOf("scale")>-1?t=t.split(" ")[0]+" scale(1,1)":t+=" scale(1,1)"),e.RootNode.parentNode.setAttribute("transform",t),e.setDataContent({RotationAngle:o}),e.update()):(s=.65*n,l=2*a,Math.round(i._currentTimeAxis.rect.height+i._currentTimeAxis.rect.top)-Math.round(r+n)<=0?(t.indexOf("scale")>-1?t=t.split(" ")[0]+" scale(-1,-1)":t+=" scale(-1,-1)",o="(90, 0,0)",s=s>0?s:-s,l=l>0?-l:l,e.setDataContent({positionX:s}),e.setDataContent({positionY:l})):(t.indexOf("scale")>-1?t=t.split(" ")[0]+" scale(1,1)":t+=" scale(1,1)",o="(-90, 0,0)",s=s>0?-s:s,l=l>0?l:-l,e.setDataContent({positionX:s}),e.setDataContent({positionY:l})),e.RootNode.parentNode.setAttribute("transform",t),e.setDataContent({RotationAngle:o}),e.update()))},t.prototype.onPointerUp=function(){this._movingRuler.hideRulerDummyLine(),this._movingRuler=null,this._movingRulerAttr=null,this._horizontalRulerMove=!1,this._moveStatus=!1,this.panDeltaCoords={x:0,y:0},this._svgParent.style.cursor=this._initialSVGCursor},t.prototype.onPointerDown=function(e){this._moveStatus=!0,this._movingRuler||(this._moveStatus=this.findMatch(e)),this._movingRuler.showRulerDummyLine(),this._initialSVGCursor=this._svgParent.style.cursor},t.prototype.hideRuler=function(){this._ruler1.hideRuler(),this._trendView.trendObjectType!==e.Data.TrendObjectType.Online&&this._rulerHoriz.hideRuler()},t.prototype.showRuler=function(){var t=this._calculateDim(!1);this._ruler1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,t),this._ruler1.showRuler(),this._trendView.trendObjectType!==e.Data.TrendObjectType.Online&&(this._rulerHoriz.updateRuler(this._isLeftOrRight,this._horizRulerCursorType,this._bounds,t),this._rulerHoriz.showRuler())},t.prototype.resetRulerPosition=function(){this._ruler1.resetRulerPosition(),this._trendView.trendObjectType===e.Data.TrendObjectType.Function?this._rulerHoriz.resetRulerPosition():(this._rulerStat1.resetRulerPosition(),this._rulerStat2.resetRulerPosition())},t.prototype.isMinMaxRulerEnabled=function(){return this._rulerMinEnabled||this._rulerMaxEnabled},t.prototype.hideStatisticRuler=function(){this._rulerStat1.hideRuler(),this._rulerStat2.hideRuler()},t.prototype.showStatisticRuler=function(){var e=this._calculateDim(!1);this._rulerStat1.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._rulerStat1.showRuler(),this._rulerStat2.updateRuler(this._isLeftOrRight,this._cursorType,this._bounds,e),this._rulerStat2.showRuler()},t.prototype.findMatch=function(e){var t=!0,i=e.id;return-1!==i.indexOf(this._ruler1.getId())||this._ruler1._rulerTemplate&&this.domMatch(e,this._ruler1._rulerTemplate.RootNode)?(this._movingRuler=this._ruler1,this._movingRulerAttr=this._ruler1.getRulerAttr()):this._rulerStat1&&(-1!==i.indexOf(this._rulerStat1.getId())||this._rulerStat1._rulerTemplate&&this.domMatch(e,this._rulerStat1._rulerTemplate.RootNode))?(this._movingRuler=this._rulerStat1,this._movingRulerAttr=this._rulerStat1.getRulerAttr()):this._rulerStat2&&(-1!==i.indexOf(this._rulerStat2.getId())||this._rulerStat2._rulerTemplate&&this.domMatch(e,this._rulerStat2._rulerTemplate.RootNode))?(this._movingRuler=this._rulerStat2,this._movingRulerAttr=this._rulerStat2.getRulerAttr()):this._rulerHoriz&&(-1!==i.indexOf(this._rulerHoriz.getId())||this._rulerHoriz._rulerTemplate&&this.domMatch(e,this._rulerHoriz._rulerTemplate.RootNode))?(this._movingRuler=this._rulerHoriz,this._movingRulerAttr=this._rulerHoriz.getRulerAttr(),this._horizontalRulerMove=!0):t=!1,t},t.prototype.domMatch=function(e,t){return e===t||e!==this._trendView.SVGParent&&this.domMatch(e.parentNode,t)},t.prototype.getVertRulerPos=function(){return this._ruler1.getRulerPos()},t.prototype.getHorizRulerPos=function(){return this._rulerHoriz.getRulerPos()},t.prototype.getStatisticRulerPos=function(){var e;return(e={lowerLimit:0,upperLimit:0}).lowerLimit=this._rulerStat1.getRulerPos(),e.upperLimit=this._rulerStat2.getRulerPos(),e},t.prototype.updateColor=function(e){this._setAttributes(this._rulerViewGroup,{stroke:this._invertColor(e)})},t.prototype.onUpdate=function(t){var i=e.Data.TrendWindowPropId;switch(t){case i.RulerColor:this._trendWindow.templateStroke||(this._vertGrad.childNodes[0].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor),this._vertGrad.childNodes[1].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor2),this._ruler1.setRulerColor(this._trendWindow.rulerColor),this._rulerHoriz&&(this._horizGrad.childNodes[0].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor),this._horizGrad.childNodes[1].setAttributeNS(null,"stop-color",this._trendWindow.rulerColor2),this._rulerHoriz.setRulerColor(this._trendWindow.rulerColor)));break;case i.RulerWidth:this._trendWindow.templateStrokeWidth||(this._ruler1.setRulerWidth(this._trendWindow.ruler.Width),this._rulerHoriz&&this._rulerHoriz.setRulerWidth(this._trendWindow.ruler.Width));break;case i.StatisticRulerColor:this._trendWindow.templateStrokeWidth||(this._statVertGrad.childNodes[0].setAttributeNS(null,"stop-color",this._trendWindow.statisticRulerColor),this._statVertGrad.childNodes[1].setAttributeNS(null,"stop-color",this._trendWindow.statisticRulerColor2),this._rulerStat1.setRulerColor(this._trendWindow.statisticRulerColor),this._rulerStat2.setRulerColor(this._trendWindow.statisticRulerColor));break;case i.StatisticRulerWidth:this._rulerStat1.templateStrokeWidth||this._rulerStat2.templateStrokeWidth||(this._rulerStat1.setRulerWidth(this._trendWindow.statisticRulers.Width),this._rulerStat2.setRulerWidth(this._trendWindow.statisticRulers.Width))}},t.prototype.getRulerGrad=function(){return this._vertGrad},t.prototype.getStatisticRulerGrad=function(){return this._statVertGrad},t.prototype.cleanUp=function(){if(this._trendView.isStyleChange()){var t=new e.Data.RulerData;t._ruler1=Object.assign({},this._ruler1._rulerAttr),t._rulerMin=Object.assign({},this._rulerMin._rulerAttr),t._rulerMax=Object.assign({},this._rulerMax._rulerAttr),this._trendView.trendObjectType===e.Data.TrendObjectType.Function?t._rulerHoriz=Object.assign({},this._rulerHoriz._rulerAttr):(t._rulerStat1=Object.assign({},this._rulerStat1._rulerAttr),t._rulerStat2=Object.assign({},this._rulerStat2._rulerAttr)),e.Data.RulerDataStore.store(this._trendWindow.config.ElementID,t)}for(this._ruler1.cleanUp(),this._trendView.getShowStatisticRuler()&&(this._rulerStat1.cleanUp(),this._rulerStat2.cleanUp()),this._trendView.trendObjectType!==e.Data.TrendObjectType.Online&&this._rulerHoriz.cleanUp(),this._rulerMin.cleanUp(),this._rulerMax.cleanUp(),this._minMaxFontFeature.reset(),this._minMaxFontFeature.Attributes=[],this._minMaxFontFeature.remove();this._vertGrad.firstChild;)this._vertGrad.removeChild(this._vertGrad.firstChild);for(;this._horizGrad.firstChild;)this._horizGrad.removeChild(this._horizGrad.firstChild);for(;this._statVertGrad.firstChild;)this._statVertGrad.removeChild(this._statVertGrad.firstChild);for(;this._rulerViewGroup.firstChild;)this._rulerViewGroup.removeChild(this._rulerViewGroup.firstChild);for(;this._rulerViewGroup.firstChild;)this._rulerViewGroup.removeChild(this._rulerViewGroup.firstChild);this._setAttributes=this._movingRuler=this._movingRulerAttr=this._vertGrad=this._horizGrad=this._statVertGrad=this._ruler1=this._rulerHoriz=this._rulerStat1=this._rulerStat2=this._rulerMin=this._rulerMax=this._minMaxFontFeature=this.minMaxTextBBox=this._trendView=this._trendWindow=this._svgParent=this._rulerViewGroup=this._bounds=null},t}();t.RulerView=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(t,i,r){this.thresholdModeType=e.getChromEnum("HmiThresholdMode"),this.parentLimits=i,this.propThreshold=r,this.name=r.Name,this.thresholdMode=r.ThresholdMode||this.thresholdModeType.Normal,this.value=r.Value,this.partId=r.ElementID,this.endValueUndefined=!1,this.beginValueUndefined=!1,this.thresholdMode===this.thresholdModeType.Minimum?this.beginValue=-1/0:(this.beginValue=r.BeginValue,void 0===r.BeginValue&&(this.beginValueUndefined=!0)),this.color=e.getRGBAcolor(r.Color),this.displayName=r.DisplayName,this.thresholdMode===this.thresholdModeType.Maximum?this.endValue=1/0:(this.endValue=r.EndValue,void 0===r.EndValue&&(this.endValueUndefined=!0)),this.prev=null,this.next=null,this.type=null,this.thresholdMode===this.thresholdModeType.Normal?(this.markerId="thresholdMarker_"+this.thresholdMode+"_"+t,this.isNormal=!0):(this.markerId="thresholdMarker_"+this.thresholdMode+"_"+this.partId+"_"+t,this.isNormal=!1),this.addingToThreshold=!1,this.addingToThresholdBegin=!1,this.fill=this.color}return t.prototype.setPropPart=function(e,t){this.propThreshold[e]=t},t.prototype.cleanUp=function(){this.propThreshold=null,this.parentLimits=null,this.addToThresholdRange=null,this.prev=null,this.next=null},t}();t.Threshold=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.store=function(t,i){e._storage[t]=i},e.retrieve=function(t){var i=e._storage[t];return e.clear(t),i},e.clear=function(t){e._storage[t]=null},e._storage={},e}();e.AxisDataStore=t;var i=function(e,t){this.beginValue=e,this.endValue=t};e.AxisData=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i._deltaPos=0,i._currentDragPoint={x:0,y:0},i.TICKS_PER_MILLISECOND=1e4,i.LEFT_CLICK=1,i.RIGHT_CLICK=3,i.THOUSAND_MS=1e3,i.RIGHT_ANGLE=90,i.EPOCH_DIFFERENCE=116444736e5,i._animatingInvalidation=!1,i.translate=0,i.straightDialCount=3,i._rangeType=e.getChromEnum("HmiTimeRangeType"),i.templateAttributes={},i.defaults={},i.timeAxisDrawn=!0,i.ribbons=[],i.isPointCountForceAnim=!1,i}return r(i,t),i.prototype._setZoomValues=function(){var e,t;e=this.endValueBuffer-this.startValueBuffer;var i=this.currentEndValue-this.currentBeginValue;if(i>=e)this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.startValueBuffer,this.zoomInOutCount=0;else{this.currentBeginValue<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+i):this.currentEndValue>this.endValueBuffer&&(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-i),this.zoomInOutCount=0;do{this.zoomInOutCount++,e/=2}while(i<e)}(t=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&t.updateHorizScrollbar(!0)},i.prototype._setOrientationAndStartEndTimes=function(){var t,i=this.textOrientation;return this.axisBeginValue>this.axisEndValue?(this.trendView.isLeftOrRight()?this.textOrientation=e.Data.TextOrientation.FromLeft:this.textOrientation=e.Data.TextOrientation.FromTop,t=this.axisBeginValue,this.axisBeginValue=this.axisEndValue,this.axisEndValue=t):this.trendView.isLeftOrRight()?this.textOrientation=e.Data.TextOrientation.FromRight:this.textOrientation=e.Data.TextOrientation.FromBottom,this.setStraightDialOrientationProps(),i!==this.textOrientation},i.prototype._calculateRange=function(){var e,t,r,n,a,o=!1,s=0,l=0,u=0;if(this.trendView.isOnline()&&this.alwaysShowRecent){for(o=!0,r=this.parentTrendWindow.drawableTrends.length,e=0;e<r;e++)(t=this.parentTrendWindow.drawableTrends[e]).getXAxis()===this.config.Name&&((n=t.getXStartValue())>0&&(0===s||n<s)&&(s=n),(a=t.getXEndValue())>0&&a>l&&(l=a));if(s>0&&s<=l){switch(u=0,this.config.RangeType){case this._rangeType.TimeRange:u=this.calculateTimeRange();break;case this._rangeType.FromBeginToEnd:u=this.axisTimeRange;break;case this._rangeType.PointCount:u=0}u>0?(this.currentEndValue=l,this.currentBeginValue=this.currentEndValue-u,this.invalidated=!0):s<l?(this.currentEndValue=l,l-s<i.MIN_AXIS_RANGE?this.currentBeginValue=l-i.MIN_AXIS_RANGE:this.currentBeginValue=s,this.invalidated=!0):s===l&&(this.currentEndValue=l,this.currentBeginValue=l-i.MIN_AXIS_RANGE,this.invalidated=!0)}}return o},i.prototype.updateForTimeRangeFactor=function(){this.config.RangeType===e.getChromEnum("HmiTimeRangeType").TimeRange&&(this.axisTimeRange=this.calculateTimeRange(),this.trendView.isOnline()&&this.alwaysShowRecent?this.currentBeginValue=this.currentEndValue-this.axisTimeRange:this.zoomInOutCount>0?(this.endValueBuffer=this.startValueBuffer+this.axisTimeRange,this._setZoomValues()):this.currentEndValue=this.currentBeginValue+this.axisTimeRange,this.trendView.isOnline()?this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,!0,!0):this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.trendView.setAnimationFactors()),e.Data.PostPropertyUpdate.Update=!0},i.prototype._animateInvalidation=function(t){var i,r,n,a,o=0,s=this.currentBeginValue;!1===this._animatingInvalidation&&(this._calculateRange(),this.currentBeginValue<t?this.invalidated&&this.config.PointCount>1&&this.currentEndValue-this.currentBeginValue>e.Data.FileTime.Sec&&!this.isPointCountForceAnim&&(i=this.currentBeginValue,this.currentBeginValue=s,i!==s&&(r=(i-s)/5,n=function(){var e;if(o++,this.currentBeginValue=5===o?i:s+o*r,this.calculateAndUpdate(),(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&e.reDraw(this.config.Name,null),5===o)return n=a=null,this._animatingInvalidation=!1,!1},a=function(){var e;this.currentBeginValue!==i&&this.isPointCountForceAnim&&(this.currentBeginValue=i,this.calculateAndUpdate(),(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&e.reDraw(this.config.Name,null),this.isPointCountForceAnim=!1),n=a=null,this._animatingInvalidation=!1},this.trendView.trendControlAnimator.addValueAxisAnimation(this.axisPbId,n.bind(this),a.bind(this),{newBeginValue:i}),this._animatingInvalidation=!0)):(this.currentBeginValue=s,this.isPointCountForceAnim=!1)),this.currentEndValue=t},i.prototype.alignToCurrentTime=function(e){var t;this.config.RangeType===this._rangeType.PointCount?(this.translate=0,this._animateInvalidation(e),this.calculateAndUpdate()):(t=this.translateAxis(this.currentEndValue-e),this.currentEndValue=e,this.currentBeginValue=e-this.axisTimeRange,!1===t?this.calculateAndUpdate():(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this))},i.prototype.setTimesForContext=function(){var t=e.Data.AxisPropId;this.zoomInOutCount>0&&this._setZoomValues(),this.OnUpdate(t.BeginTime,this.config.BeginTime)},i.prototype.translateAxis=function(t){var i,r,n,a,o,s,l=e.Data.TextOrientation;return this.config.Visible?(n=!0,i=this.currentEndValue-this.currentBeginValue,r=this.textOrientation===l.FromRight||this.textOrientation===l.FromBottom?1:-1,this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromLeft?(o=this.innerRect.width,this.translate+=r*(o/i*t),(a=this.translate)<0&&(a=Math.abs(a)),a>o*(this.straightDialCount-1)&&(n=!1,this.translate=0),this.setMatrix("e")):(s=this.innerRect.height,this.translate+=r*(s/i*t),(a=this.translate)<0&&(a=Math.abs(a)),a>s*(this.straightDialCount-1)&&(n=!1,this.translate=0),this.setMatrix("f"))):n=!1,n},i.prototype.setMatrix=function(e){this.config.Visible&&this.matrix[e]!==this.translate&&(this.matrix[e]=this.translate)},i.prototype.invalidate=function(){return this.invalidated=!1,this._calculateRange()&&this.invalidated&&this.alwaysShowRecent&&this.calculateAndUpdate(),this.invalidated},i.prototype.calculateAndUpdate=function(t,i){var r,n,a,o,s=this.config.Visible&&this.trendWindowDrawable&&!t,l=this.currentEndValue-this.currentBeginValue;for(this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromTop?(r=this.currentBeginValue,n=this.currentEndValue):(r=this.currentEndValue,n=this.currentBeginValue),this.translate&&(this.translate=0,this.setMatrix(this.trendView.isLeftOrRight()?"e":"f")),this.dialsForPan&&(r-=this.boundingDialsForPanCount*l,n-=this.boundingDialsForPanCount*l),a=0;a<this.straightDialCount;a++)(o=this.straightDials[a].Features[0]).Attributes["begin-value"]=r,o.Attributes["end-value"]=n,s&&o.draw(o.webRTPUItem,o.metaData),r+=l,n+=l;i||!this.trendView.getShowRuler()&&!this.trendView.getShowStatisticRuler()||this.parentTrendWindow.updateRulerLabel(this)},i.prototype.historicalInvalidate=function(){var t,r,n,a,o,s,l,u=this.parentTrendWindow.drawableTrends.length,h=0,d=0,c=0;for(n=[],t=0;t<u;t++)!1!==(r=this.parentTrendWindow.drawableTrends[t]).historicalDataReceived&&r.getXAxis()===this.config.Name&&(n.push(r),(a=r.getXStartValue())>0&&(0===h||a<h)&&(h=a),o=r.getXEndValue(),this.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount&&r.tagList.items.length>this.config.PointCount&&(o=r.tagList.items[this.config.PointCount-1].xTagValue),o>0&&o>d&&(d=o));if(0!==n.length){if(this.zoomInOutCount>0&&(s=this.currentBeginValue-this.startValueBuffer,l=this.endValueBuffer-this.currentEndValue),h>0&&h<=d){switch(c=0,this.config.RangeType){case this._rangeType.TimeRange:c=this.zoomInOutCount>0?this.currentEndValue-this.currentBeginValue:this.calculateTimeRange();break;case this._rangeType.FromBeginToEnd:c=this.axisTimeRange;break;case this._rangeType.PointCount:c=0}c>0?this.trendView.moveToType===e.Data.MoveToType.MoveToFirst?(this.currentBeginValue=h,this.currentEndValue=h+c):(this.currentEndValue=d,this.currentBeginValue=this.currentEndValue-c):h<d?(this.currentEndValue=d,d-h<i.MIN_AXIS_RANGE?this.currentBeginValue=d-i.MIN_AXIS_RANGE:this.currentBeginValue=h):h===d&&(this.currentEndValue=d,this.currentBeginValue=d-i.MIN_AXIS_RANGE)}if(this.zoomInOutCount>0&&(this.startValueBuffer=this.currentBeginValue-s,this.endValueBuffer=this.currentEndValue+l),this.config.RangeType!==this._rangeType.PointCount)for(u=n.length,t=0;t<u;t++)n[t].historicalInvalidate();this.alwaysShowRecent&&this.calculateAndUpdate()}},i.prototype.init=function(t,i,r,n){var a,o,s,l,u,h;this.config=t,void 0===t.ScalingEntries&&(t.ScalingEntries=[]),void 0===t.HelpLines&&(t.HelpLines=[]),this.matrix="",this.svgParent=null,this.alwaysShowRecent=this.config.AlwaysShowRecent,this.trendView=i,this.parentTrendWindow=r,this.axisType=n,this.trendWindow=r.config.Name,this.id=(this.trendView.getControlName()+"_"+r.config.Name+"_TA_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.labelId=this.id+"_XAxisLabel",this.gridlinesGroupId=this.id+"_VerticalMajorGridlines_",this.minorGrdLinesGroupId=this.id+"_VerticalMinorGridlines_",this.ticksGroupId=this.id+"_Ticks_",this.labelsGroupId=this.id+"_Labels_",this.axisPbId=(this.trendWindow+"_"+this.config.Name).replace(/\s+/g,"_sp_"),this.axisTimeRange=null,this.labelColor=e.getRGBAcolor(this.config.LabelColor),this.tickColor=e.getRGBAcolor(this.config.TickColor),this.axisColor=e.getRGBAcolor(this.config.AxisColor),this.outputFormat=""===this.config.OutputFormat?"{D}\\n{T}":this.config.OutputFormat,this.rulerOutputFormat=this.outputFormat.split("\\r\\n").join(" ").split("\\n").join(" "),this.zoomInOutCount=0,this.startValueBuffer=null,this.endValueBuffer=null;var d=(new Date).getTime();if("string"!=typeof(a=e.convertFormatPattern(d,this.outputFormat,this.trendView.getTimeZone()))||a===this.config.OutputFormat?(this.dualLineDateTime=!1,this.labelText=d):1===(a=a.split("")).length?(this.dualLineDateTime=!1,this.labelText=a[0]):(this.dualLineDateTime=!0,this.labelText=a),this.invalidated=!1,this.rect=new e.Features.Structure.Rectangle,this.innerRect=new e.Features.Structure.Rectangle,this.trendWindowDrawable=!1,this.axisBeginValue=new window.DatePrecise(this.config.BeginTime).getTime(),this.axisEndValue=new window.DatePrecise(this.config.EndTime).getTime(),h=this.calculateTimeRange(!0),0===this.axisBeginValue?(this.axisEndValue=0===this.axisEndValue?(new Date).getTime():this.axisEndValue,this.axisBeginValue=this.axisEndValue-h):this.axisEndValue=0===this.axisEndValue?this.axisBeginValue+h:this.axisEndValue,!this.trendView.isOnline()&&this.trendView.isStyleChange()){var c=e.Data.AxisDataStore.retrieve(this.axisPbId);c&&(this.axisBeginValue=c.beginValue,this.axisEndValue=c.endValue)}for(this._setOrientationAndStartEndTimes(),this.config.RangeType===e.getChromEnum("HmiTimeRangeType").TimeRange?this.axisTimeRange=this.calculateTimeRange():this.axisTimeRange=this.axisEndValue-this.axisBeginValue||e.Data.FileTime.Sec,this.rect=new e.Features.Structure.Rectangle,this.trendWindowDrawable=!1,s="string"==typeof this.labelText?this.labelText:1===this.labelText.length||this.labelText[0].length>this.labelText[1].length?this.labelText[0]:this.labelText[1],this.bBoxText={x:0,y:0,width:e.getTextWidth(s,this.config.LabelFont),height:e.getTextHeight(s,this.config.LabelFont)},o=0;o<this.straightDialCount;o++)u=new e.StraightDial,this.straightDials.push(u),u.Attributes.orientation=this.straightDialPos.orientation,(l=new e.Features.Scale).timezone=this.trendView.getTimeZone(),u.Features.push(l),l.Parent=u;this.straightDial=this.straightDials[0],this.isTimeAxis=-1!==this.config.Type.indexOf("Time"),this.eventCbs.onAxisMouseOver=this._onAxisMouseOver.bind(this),this.eventCbs.onAxisMouseOut=this._onAxisMouseOut.bind(this),this.eventCbs.onPan=this._onPan.bind(this),this.eventCbs.onMouseOver=this.onMouseOver.bind(this),this.eventCbs.onMouseOut=this.onMouseOut.bind(this),this.eventCbs.onTouchStart=this.onTouchStart.bind(this),this.boundingDialsForPanCount=(this.straightDialCount-1)/2,this.toggleDialsForPanWrapper(this._toggleDialsForPan)},i.prototype.initializeBeginEndTimes=function(){var t,i,r,n;for(this.alwaysShowRecent&&this.trendView.isOnline()?(this.currentEndValue=Date.now(),this.currentBeginValue=this.currentEndValue-this.axisTimeRange):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.currentBeginValue+this.axisTimeRange),this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromTop?(t=this.currentBeginValue,i=this.currentEndValue):(t=this.currentEndValue,i=this.currentBeginValue),n=0;n<this.straightDialCount;n++)(r=this.straightDials[n].Features[0]).Attributes["begin-value"]=t,r.Attributes["end-value"]=i,t+=this.axisTimeRange,i+=this.axisTimeRange},i.prototype.onShiftAxesChange=function(){var t=e.Data.TextOrientation;switch(this.textOrientation){case t.FromLeft:this.textOrientation=t.FromTop;break;case t.FromTop:this.textOrientation=t.FromLeft;break;case t.FromRight:this.textOrientation=t.FromBottom;break;case t.FromBottom:this.textOrientation=t.FromRight}this.setStraightDialOrientationProps()},i.prototype.setStraightDialOrientationProps=function(){var t,i,r,n=0,a=0,o=0;if(this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromLeft?(this.straightDialPos.orientation="horizontal",this.straightDialPos.dynamicPosAttr="start-x",this.straightDialPos.staticPosAttr="start-y",this.textOrientation===e.Data.TextOrientation.FromRight?(this.straightDialPos.posChangeOperator=1,this.straightDialPos.secondaryScalePosFilter="inner end"):(this.straightDialPos.posChangeOperator=-1,this.straightDialPos.secondaryScalePosFilter="begin inner"),this.align===this.trendView.alignmentEnum.Top?(n=-this.MajorTickSize,a=-(this.MajorTickSize+this.LabelToMajorTickSpace),t="0 1"):(a=this.MajorTickSize+this.LabelToMajorTickSpace,t="0 -1")):(this.straightDialPos.orientation="vertical",this.straightDialPos.dynamicPosAttr="start-y",this.straightDialPos.staticPosAttr="start-x",this.textOrientation===e.Data.TextOrientation.FromBottom?(this.straightDialPos.posChangeOperator=1,this.straightDialPos.secondaryScalePosFilter="begin inner"):(this.straightDialPos.posChangeOperator=-1,this.straightDialPos.secondaryScalePosFilter="inner end"),o=-this.RIGHT_ANGLE,this.align===this.trendView.alignmentEnum.Left?(n=-this.MajorTickSize,a=-(this.MajorTickSize+this.LabelToMajorTickSpace),t="0 1"):(a=this.MajorTickSize+this.LabelToMajorTickSpace,t="0 -1")),this.defaultFeaturesUsed){for(i=this.ticksFeatures.length,r=0;r<i;r++)this.ticksFeatures[r].Attributes.offset=n;for(i=this.labelsFeatures.length,r=0;r<i;r++)this.labelsFeatures[r].Attributes.offset=a,this.labelsFeatures[r].Attributes.alignment=t,this.labelsFeatures[r].Attributes.angle=o}},i.prototype.updateAttributes=function(t,i){var r,n,a,o,s=this.templateAttrCollection.length;if(this.templateAttributes.hasOwnProperty(t)){for(r=0;r<s;r++)(n=this.templateAttrCollection[r]).hasOwnProperty(t)&&(this.templateAttributes[t]=n[t]);if("always-show-recent"===t&&(o=this.config.AlwaysShowRecent,a=e.Utilities.convertToBool(i),this.alwaysShowRecent^a)){var l=this.templateAttributes;this.templateAttributes={},this.OnUpdate(e.Data.AxisPropId.AlwaysShowRecent,i),this.config.AlwaysShowRecent=o,this.templateAttributes=l}}},i.prototype.applyTemplateProperties=function(){var t,i=this.templateAttributes,r=this.config.AlwaysShowRecent;this.templateAttributes={},t=void 0===i["always-show-recent"]?r:e.Utilities.convertToBool(i["always-show-recent"]),this.alwaysShowRecent^t&&(this.OnUpdate(e.Data.AxisPropId.AlwaysShowRecent,t),this.config.AlwaysShowRecent=r),this.templateAttributes=i},i.prototype.addDefaultFeatures=function(t,i,r){var n,a,o,s,l=e.getChromEnum("HmiScaleMode"),u=!!(this.config.ScaleMode&l.Ticks),h=!!(this.config.ScaleMode&l.Labels),d=new e.Features.Shape.Ribbons;t.Features.push(d),d.Parent=t,d.Attributes={"stroke-width":1,stroke:this.axisColor},this.ribbons.push(d),n=new e.Features.Structure.Division,t.Features.push(n),n.Parent=t,this.divisionFeatures.push(n),a=new e.Features.Shape.Ticks,this.ticksFeatures.push(a),n.Features.push(a),a.Parent=n,a.Attributes={length:this.MajorTickSize,offset:i.tickOffset,stroke:this.tickColor,condition:u},o=new e.Features.Shape.Labels,this.labelsFeatures.push(o),n.Features.push(o),o.Parent=n,o.Attributes={alignment:i.labelAlignment,offset:i.labelOffset,angle:i.labelAngle,"output-format":this.outputFormat,fill:this.labelColor,condition:h},r&&(a.Attributes["position-filter"]=this.straightDialPos.secondaryScalePosFilter,o.Attributes["position-filter"]=this.straightDialPos.secondaryScalePosFilter),s=new e.Features.Font,o.Features.push(s),this.fontFeatures.push(s),s.Parent=o,s.Attributes={scope:this.config.LabelFont}},i.prototype.initScaleFeatures=function(){var t;if(this.ribbons=[],0===this.templateFeatures.length){this.defaultFeaturesUsed=!0;var i=0,r=0,n=void 0,a=0;this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromLeft?this.align===this.trendView.alignmentEnum.Top?(i=-this.MajorTickSize,r=-(this.MajorTickSize+this.LabelToMajorTickSpace),n="0 1"):(r=this.MajorTickSize+this.LabelToMajorTickSpace,n="0 -1"):(a=-this.RIGHT_ANGLE,this.align===this.trendView.alignmentEnum.Left?(i=-this.MajorTickSize,r=-(this.MajorTickSize+this.LabelToMajorTickSpace),n="0 1"):(r=this.MajorTickSize+this.LabelToMajorTickSpace,n="0 -1"));var o={tickOffset:i,labelOffset:r,labelAlignment:n,labelAngle:a};for(t=0;t<this.straightDialCount;t++)this.addDefaultFeatures(this.straightDials[t].Features[0],o,t>0)}else for(t=0;t<this.straightDialCount;t++)this.addFeatures(this.templateFeatures,this.straightDials[t].Features[0],"timeAxis");if(this.gridlineFeature){var s=this.divisionFeatures.length;if(this.gridlines=[],this.parentTrendWindow.verticalMinorGrid&&this.createMinorGridLines(),this.resetGridlineAttributes(),s>0)for(t=0;t<s;t++)this.gridlines.push(new e.Features.Shape.Ticks),this.gridlines[t].Attributes=this.gridlineAttributes,this.divisionFeatures[t].Features.push(this.gridlines[t]),this.gridlines[t].Parent=this.divisionFeatures[t],this.gridlines[t].isGridline=!0;else for(t=0;t<this.straightDialCount;t++)this.gridlines.push(new e.Features.Shape.Ticks),this.gridlines[0].Attributes=this.gridlineAttributes,this.straightDials[t].Features[0].Features.push(this.gridlines[0]),this.gridlines[0].Parent=this.straightDials[t].Features[0],this.gridlines[0].isGridline=!0}},i.prototype.setGridlinesVisibility=function(){var e;(e=this.parentTrendWindow.verticalMajorGrid)&&(e="selected"===this.gridlineFeature.Attributes.show?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show),this.gridlineAttributes.condition=e},i.prototype.setMinorGridLinesVisibility=function(){var e;(e=this.parentTrendWindow.verticalMinorGrid)&&(e="selected"===this.gridlineFeature.Attributes.show?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show),e&&0===this.minorGridLines.length&&(this.createMinorGridLines(),this.updateMinorGridLine(),this.redrawScale(),this.setMinorGridLinesGroupId());for(var t=0,i=this.minorGridLines;t<i.length;t++)i[t].Attributes.condition=e},i.prototype.calculateTimeRange=function(t){var i,r=e.getChromEnum("HmiTimeRangeBase"),n=e.getChromEnum("HmiTimeRangeType");if(!t&&this.config.RangeType===n.FromBeginToEnd)return this.currentEndValue-this.currentBeginValue;switch(this.config.TimeRangeBase){case r.Millisecond:i=e.Data.FileTime.MS;break;case r.Second:i=e.Data.FileTime.Sec;break;case r.Minute:i=e.Data.FileTime.Minute;break;case r.Hour:i=e.Data.FileTime.Hour;break;case r.Day:i=e.Data.FileTime.Day;break;case r.Month:i=e.Data.FileTime.Month;break;case r.Year:i=e.Data.FileTime.Year}return i*this.config.TimeRangeFactor},i.prototype.calculateAxisMoveEndValues=function(e,t){var i;!1===this.dialsForPan&&this._toggleDialsForPan();var r=this.getValueFromPosition(e)-this.getValueFromPosition(t);return this.translate+=e-t,i=this.trendView.isLeftOrRight()?"e":"f",this.currentEndValue=this.currentEndValue-r,this.currentBeginValue=this.currentBeginValue-r,this.zoomInOutCount>0&&(this.endValueBuffer=this.endValueBuffer-r,this.startValueBuffer=this.startValueBuffer-r),Math.abs(this.translate)>this.straightDialPos.dialLength*this.boundingDialsForPanCount?this.calculateAndUpdate():(this.setMatrix(i),(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this)),r},i.prototype.calculateLabelSize=function(){var t;this.yAxisLabelWidthLimit=this.xAxisLabelWidthLimit=e.getTextWidth("0000000",this.config.LabelFont),t="string"==typeof this.labelText?this.labelText:1===this.labelText.length||this.labelText[0].length>this.labelText[1].length?this.labelText[0]:this.labelText[1],this.bBoxText={x:0,y:0,width:e.getTextWidth(t,this.config.LabelFont),height:e.getTextHeight(t,this.config.LabelFont)}},i.prototype.getNeededDimension=function(){var e=0;if(this.calculateLabelSize(),this.config.Visible)if(this.templateAttributes.hasOwnProperty("width")&&"calculated"!==this.templateAttributes.width)e=this.templateAttributes.width;else{var t=this._getLabelTextY();e=this.MajorTickSize+this.LabelToMajorTickSpace+t+this.LabelToBorderSpace,!this._hasHigherProjectVersion()&&this.dualLineDateTime&&(e*=1.5)}return e},i.prototype.requestHistoricalData=function(t,i,r,n){var a,o,s,l=this.getTrends(),u=!1;for(o=0;o<l.length;o++)if((a=l[o]).timeAxis===this.config.Name&&void 0!==a.dataSource.Tag&&""!==a.dataSource.Tag){if(t<0)i.endTime.push((this.currentEndValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),i.beginTime.push((this.currentBeginValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),r[0]=e.Data.BoundingFlags.RightBounding,u=!0;else if(t>0||!1===t){var h=a.getXStartValue();void 0===h&&a.boundingValue&&(h=a.boundingValue.timeStamp),h>this.currentBeginValue&&(i.endTime.push((this.currentEndValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),i.beginTime.push((this.currentBeginValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),r[0]=e.Data.BoundingFlags.LeftBounding,u=!0)}else!0===t&&a.getXEndValue()<this.currentEndValue&&(i.endTime.push((this.currentEndValue+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),i.beginTime.push((a.getXEndValue()+this.EPOCH_DIFFERENCE)*this.TICKS_PER_MILLISECOND),r[0]=e.Data.BoundingFlags.RightBounding,u=!0);u&&(s=this.config.RangeType!==this._rangeType.PointCount||n?Math.floor(this.trendView.pixelsInTrendAreas):this.config.PointCount,i.chromIds.push(a.dataSource.Tag),i.points.push(s),i.clientHandles.push(a.partId),void 0!==a.aggregationMode&&i.aggMode.push(a.aggregationMode),this.timeAxisDrawn=!0,u=!1)}this.trendView.moveToType=e.Data.MoveToType.NoMove,l=a=null},i.prototype.zoomInOut=function(e,t){var r,n,a,o=this.currentEndValue-this.currentBeginValue,s=!0,l=this.getValueFromPosition(e);if(t===this.LEFT_CLICK)o===i.MIN_AXIS_RANGE?s=!1:(o<this.THOUSAND_MS&&(o=this.THOUSAND_MS),r=o/4,0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.zoomInOutCount++,this.trendView.enableDisableOriginalView(),this.zoomInOutCount--),n=l+r,(a=l-r)<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+2*r):n>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-2*r):(this.currentBeginValue=a,this.currentEndValue=n),this.zoomInOutCount++);else if(t===this.RIGHT_CLICK)switch(r=o,this.zoomInOutCount){case 1:this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer=null,this.endValueBuffer=null,this.zoomInOutCount--,this.trendView.enableDisableOriginalView();break;case 0:s=!1;break;default:n=l+r,(a=l-r)<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+2*r):n>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-2*r):(this.currentBeginValue=a,this.currentEndValue=n),this.zoomInOutCount--}return s&&this.calculateAndUpdate(),s},i.prototype.zoomArea=function(t,r){var n,a,o,s=!0,l=e.Data.TextOrientation;switch(this.textOrientation){case l.FromLeft:case l.FromTop:a=this.getValueFromPosition(r),o=this.getValueFromPosition(t);break;case l.FromRight:case l.FromBottom:a=this.getValueFromPosition(t),o=this.getValueFromPosition(r)}var u=o-a;if(u<i.MIN_AXIS_RANGE||a===this.currentBeginValue&&o===this.currentEndValue)s=!1;else{0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),n=this.endValueBuffer-this.startValueBuffer,this.zoomInOutCount=0;do{this.zoomInOutCount++,n/=2}while(u<n);this.currentBeginValue=a,this.currentEndValue=o,this.calculateAndUpdate()}return s},i.prototype.resetZoom=function(e){this.zoomInOutCount>0&&(this.zoomInOutCount=0,this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,e.tryAdd(this.trendWindow),this.calculateAndUpdate())},i.prototype.moveToPerc=function(t){var i=this.endValueBuffer-this.startValueBuffer,r=this.currentEndValue-this.currentBeginValue,n=i-r,a=this.currentBeginValue,o=e.Data.TextOrientation;switch(!1===this.dialsForPan&&this._toggleDialsForPan(),this.textOrientation){case o.FromRight:case o.FromBottom:this.currentBeginValue=this.startValueBuffer+n*t,this.currentEndValue=this.currentBeginValue+r;break;case o.FromLeft:case o.FromTop:this.currentEndValue=this.endValueBuffer-n*t,this.currentBeginValue=this.currentEndValue-r}this.translate+=this.getPositionFromValue(a)-this.getPositionFromValue(this.currentBeginValue),Math.abs(this.translate)>this.straightDialPos.dialLength*this.boundingDialsForPanCount?this.calculateAndUpdate():(this.setMatrix(this.trendView.isLeftOrRight()?"e":"f"),(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this)),this._toggleDialsForPan()},i.prototype.zoomByScale=function(e,t){var r,n,a,o,s,l,u=!0,h=this.currentEndValue-this.currentBeginValue,d=this.getValueFromPosition(e),c=h/t;if(t>1?c<i.MIN_AXIS_RANGE?u=!1:(0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),n=this.currentBeginValue,a=this.currentEndValue):0===this.zoomInOutCount||1===t?u=!1:(n=this.startValueBuffer,a=this.endValueBuffer),u){if(r=this.endValueBuffer-this.startValueBuffer,this.zoomInOutCount=0,c>=r)this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer=null,this.endValueBuffer=null,this.trendView.enableDisableOriginalView();else{do{this.zoomInOutCount++,r/=2}while(c<r);l=d+(o=c/2),(s=d-o)<n?(this.currentBeginValue=n,this.currentEndValue=this.currentBeginValue+2*o):l>a?(this.currentEndValue=a,this.currentBeginValue=this.currentEndValue-2*o):(this.currentBeginValue=s,this.currentEndValue=l)}this.calculateAndUpdate()}return u},i.prototype._hasHigherProjectVersion=function(){return this.parentTrendWindow._trendView.currProjectVersion>=18||""===this.parentTrendWindow._trendView.currProjectVersion},i.prototype._getAxisLabelText=function(){return Array.isArray(this.labelText)&&this.labelText.length>1?this.labelText[0]+"\n"+this.labelText[1]:Array.isArray(this.labelText)&&this.labelText.length>0?this.labelText[0]:this.labelText},i.prototype._getLabelTextY=function(){var t,i=0,r=this._hasHigherProjectVersion();switch(r&&(t=this._getAxisLabelText()),this.axisType){case this.trendView.axisTypeEnum.xAxis:i=r?e.getTextHeight(t,this.config.LabelFont,this.dualLineDateTime):this.bBoxText.height;break;case this.trendView.axisTypeEnum.yAxis:i=r?e.getTextWidth(t,this.config.LabelFont,this.dualLineDateTime):this.bBoxText.width}return i},i.prototype._onPan=function(t){t.preventDefault();var i,r,n,a,o,s={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]};a=[0];t.eventType===this.Hammer.INPUT_MOVE?(r=this.getPos(t),!1===this.dialsForPan&&this._toggleDialsForPan(),this.trendView.isLeftOrRight()?(this._deltaPos=t.deltaX-this._deltaPos,this._currentDragPoint.x=r.x-this._deltaPos/1,this._deltaPos=t.deltaX,i=this.getValueFromPosition(r.x)-this.getValueFromPosition(this._currentDragPoint.x),o="e",this.translate+=r.x-this._currentDragPoint.x):(this._deltaPos=t.deltaY-this._deltaPos,this._currentDragPoint.y=r.y-this._deltaPos/1,this._deltaPos=t.deltaY,i=this.getValueFromPosition(r.y)-this.getValueFromPosition(this._currentDragPoint.y),o="f",this.translate+=r.y-this._currentDragPoint.y),this.currentEndValue=this.currentEndValue-i,this.currentBeginValue=this.currentBeginValue-i,this.zoomInOutCount>0&&(this.endValueBuffer=this.endValueBuffer-i,this.startValueBuffer=this.startValueBuffer-i),this.trendView.trendObjectType===e.Data.TrendObjectType.Online&&(this.requestHistoricalData(i,s,a),this.trendView.dp.addRequest(s.beginTime,s.endTime,s.points,s.chromIds,s.clientHandles,a[0],s.aggMode,!0)),(n=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&(Math.abs(this.translate)>this.straightDialPos.dialLength*this.boundingDialsForPanCount?this.calculateAndUpdate():(this.setMatrix(o),(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.parentTrendWindow.updateRulerLabel(this)),n.reDraw(this.config.Name,null)),(this.trendView.trendCompanionConstUpdate||this.trendView.secondaryRulerToolTip)&&(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&this.trendView.calculateRulerData(),s.endTime=[],s.beginTime=[],s.chromIds=[],s.points=[],s.clientHandles=[],s.aggMode=[]):(this.trendView.dp.sendRequest(),this._deltaPos=0,this.dialsForPan&&this._toggleDialsForPan())},i.prototype.getDisplayValue=function(t,i){var r,n;r=i?this.rulerOutputFormat:""===this.outputFormat?"{D} {T}":this.outputFormat;var a=t;return"string"!=typeof(n=e.convertFormatPattern(a,r,this.trendView.getTimeZone()))&&(n=""+a),n.split("")},i.prototype.switchOffPanDials=function(){this.dialsForPan&&this._toggleDialsForPan()},i.prototype._toggleDialsForPan=function(){var t,i,r,n;this.dialsForPan=!this.dialsForPan;var a=this.translate,o=this.currentBeginValue,s=this.currentEndValue;for(this.dialsForPan?(r=this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromBottom?(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*this.translate:(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*this.translate*-1,this.currentBeginValue=o+r,this.currentEndValue=s+r,this.translate=0,this.calculateAndUpdate(!0,!0),this.translate=a,i=this.straightDialPos.dynamicPos+-this.boundingDialsForPanCount*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength):(n=this.translate%this.straightDialPos.dialLength,this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromBottom?(n>0&&(n-=this.straightDialPos.dialLength),r=(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*n):(n<0&&(n+=this.straightDialPos.dialLength),r=(this.currentEndValue-this.currentBeginValue)/this.straightDialPos.dialLength*n*-1),this.currentBeginValue=o+r,this.currentEndValue=s+r,this.translate=0,this.calculateAndUpdate(!0,!0),this.translate=n,a!==n&&this.setMatrix(this.trendView.isLeftOrRight()?"e":"f"),i=this.straightDialPos.dynamicPos),this.currentBeginValue=o,this.currentEndValue=s,t=0;t<this.straightDialCount;t++)this.straightDials[t].Attributes[this.straightDialPos.dynamicPosAttr]=i+t*this.straightDialPos.posChangeOperator*this.straightDialPos.dialLength,this.straightDials[t].create(this.trendView.RTPUItem)},i.prototype.findTranslatableFeatures=function(t){var i,r,n=t.length;for(i=0;i<n;i++)(r=t[i])instanceof e.Features.Shape.Ticks?r.isGridline?this.gridlines.push(r):this.ticksFeatures.push(r):r instanceof e.Features.Shape.Labels&&this.labelsFeatures.push(r),r.Features.length>0&&this.findTranslatableFeatures(r.Features)},i.prototype.setPreviousRange=function(){var e;e=this.calculateTimeRange(),this.zoomInOutCount>0&&(e=this.currentEndValue-this.currentBeginValue,this.startValueBuffer-=e,this.endValueBuffer-=e),this.currentEndValue=this.currentBeginValue,this.currentBeginValue=this.currentEndValue-e},i.prototype.setNextRange=function(){var e;e=this.calculateTimeRange(),this.zoomInOutCount>0&&(e=this.currentEndValue-this.currentBeginValue,this.startValueBuffer+=e,this.endValueBuffer+=e),this.currentBeginValue=this.currentEndValue,this.currentEndValue=this.currentBeginValue+e},i.prototype.clearBoundingValues=function(){var e,t,i=this.getTrends(),r=i.length;for(t=0;t<r;t++)(e=i[t]).boundingValue&&(e.boundingValue=null)},i.prototype.drawAxisLabel=function(){var t,i,r=this.config.DisplayName,n=this.xAxisLabelWidthLimit-this.PADDING_X;r=e.textEllipsis(r,n,this.config.LabelFont),this.labelWidth=this.xAxisLabelWidthLimit,this.labelHeight=e.getTextHeight(r,this.config.LabelFont)+this.PADDING_Y;var a=this.labelHeight-(this.trendView.isLeftOrRight()?this.PADDING_Y/2:0),o=this.labelWidth,s=new e.Features.Structure.Rectangle;s.left=this.innerRect.left+(this.textOrientation===e.Data.TextOrientation.FromLeft?this.LabelToBorderSpace:this.innerRect.width-(this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit+this.LabelToBorderSpace:this.LabelToMajorTickSpace+this.MajorTickSize+this.labelHeight)),s.top=this.innerRect.top+(this.textOrientation===e.Data.TextOrientation.FromBottom?this.innerRect.height-this.LabelToBorderSpace-o:this.trendView.isLeftOrRight()?this.innerRect.height-this.LabelToBorderSpace-a:this.LabelToBorderSpace),this.displayNameSvg?(t=this.displayNameSvg.childNodes[0],e.Features.Shape.SvgShape.SetAttributes(t,{fill:this.parentTrendWindow.backColor,stroke:this.tickColor,x:s.left,y:s.top,width:this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit:a,height:this.trendView.isLeftOrRight()?a:this.xAxisLabelWidthLimit}),i=this.displayNameSvg.childNodes[1],e.Features.Shape.SvgShape.SetAttributes(i,{x:s.left+(this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit/2:3*a/4),y:s.top+(this.trendView.isLeftOrRight()?3/4*a:this.xAxisLabelWidthLimit/2),"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","font-weight":this.config.LabelFont.Weight,"font-size":this.config.LabelFont.Size,"text-decoration":e.textDecoration(this.config.LabelFont),fill:this.labelColor}),i.textContent=r,this.trendView.isLeftOrRight()||i.setAttribute("transform","rotate(-90,"+(s.left+3*a/4)+","+(s.top+this.xAxisLabelWidthLimit/2)+")")):(this.displayNameSvg=e.Features.Shape.SvgShape.CreateSvgElement("svg",{id:this.labelId,"text-anchor":"middle"}),t=e.Features.Shape.SvgShape.CreateSvgElement("rect",{title:this.config.DisplayName,fill:this.parentTrendWindow.backColor,"fill-opacity":1,stroke:this.tickColor,"stroke-width":1,"stroke-opacity":1,x:s.left,y:s.top,width:this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit:a,class:"lineColorClass",height:this.trendView.isLeftOrRight()?a:this.xAxisLabelWidthLimit,appendTo:this.displayNameSvg}),i=e.Features.Shape.SvgShape.CreateSvgElement("text",{"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","font-weight":this.config.LabelFont.Weight,"font-size":this.config.LabelFont.Size,"text-decoration":e.textDecoration(this.config.LabelFont),class:"fontClass",x:s.left+(this.trendView.isLeftOrRight()?this.xAxisLabelWidthLimit/2:3*a/4),y:s.top+(this.trendView.isLeftOrRight()?3/4*a:this.xAxisLabelWidthLimit/2),"text-anchor":"middle",displayText:r,fill:this.labelColor,appendTo:this.displayNameSvg}),this.trendView.isLeftOrRight()||i.setAttribute("transform","rotate(-90,"+(s.left+3*a/4)+","+(s.top+this.xAxisLabelWidthLimit/2)+")"),this.addEventOnDisplayName=!1,this.dom.appendChild(this.displayNameSvg)),this.addOrRemoveEventsForDisplayNameSVG(r)},i.prototype.setTranslatableFeatures=function(){this.translateDom.setAttributeNS(null,"transform","translate(0,0)"),this.matrix=this.translateDom.transform.baseVal.getItem(0).matrix},i.prototype.OnUpdate=function(t,i){var r,n,a,o,s,l,u,h,d,c=!1,p=e.Data.AxisPropId;switch(t){case p.Visible:this.config.Visible=i,d=this.parentTrendWindow.getRulerView(),i||!1===this.trendView.allAreasDrawn&&(e.Data.PostPropertyUpdate.CreateDrawableCollection=!0),this.parentTrendWindow._trendView.currProjectVersion>=17||""===this.parentTrendWindow._trendView.currProjectVersion||d.updateAssociatedAxes(),e.Data.PostPropertyUpdate.Redraw=!0;break;case p.AlwaysShowRecent:this.config.AlwaysShowRecent=i,void 0===this.templateAttributes["always-show-recent"]&&(this.alwaysShowRecent=i,this.trendView.setAnimationFactors(),this.trendView.isOnline()&&i&&(this.trendView.requestHistoricalData(null,null,this.axisPbId,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),i?this.trendView.updateRunningTimeAxesList(this.axisPbId,!0):this.trendView.updateRunningTimeAxesList(this.axisPbId,!1));break;case p.LabelColor:if(this.labelColor=e.getRGBAcolor(i),this.config.LabelColor=i,this.displayNameSvg&&this.displayNameSvg.children[1].setAttribute("fill",this.labelColor),this.trendWindowDrawable&&this.defaultFeaturesUsed&&(this.config.ScaleMode&e.Data.ScaleMode.Labels)===e.Data.ScaleMode.Labels)for(h=0;h<this.labelsFeatures.length;h++)this.labelsFeatures[h].Attributes.fill=this.labelColor,this.config.Visible&&this.labelsFeatures[h].draw(this.labelsFeatures[h].webRTPUItem,this.labelsFeatures[h].metaData);break;case p.AxisColor:if(l=this.ribbons.length,u=e.getRGBAcolor(i),this.axisColor=u,this.config.AxisColor=i,this.trendWindowDrawable&&this.defaultFeaturesUsed)for(h=0;h<l;h++)this.ribbons[h].Attributes.stroke=u,this.config.Visible&&this.ribbons[h].draw(this.ribbons[h].webRTPUItem,this.ribbons[h].metaData);break;case p.TickColor:if(this.tickColor=e.getRGBAcolor(i),this.config.TickColor=i,this.displayNameSvg&&this.displayNameSvg.children[0].setAttribute("stroke",this.tickColor),this.trendWindowDrawable&&this.defaultFeaturesUsed&&(this.config.ScaleMode&e.Data.ScaleMode.Ticks)===e.Data.ScaleMode.Ticks)for(h=0;h<this.ticksFeatures.length;h++)this.ticksFeatures[h].Attributes.stroke=this.tickColor,this.config.Visible&&this.ticksFeatures[h].draw(this.ticksFeatures[h].webRTPUItem,this.ticksFeatures[h].metaData);break;case p.RangeType:this.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount&&(this.clearBoundingValues(),o=this.config.RangeType),this.config.RangeType=i,o&&o!==this.config.RangeType&&this.trendView.trendControlAnimator.removeValueAxisAnimation(this.axisPbId),this.updateRangeTypeProperty(),this.trendView.setAnimationFactors(),e.Data.PostPropertyUpdate.Update=!0;break;case p.BeginTime:"string"==typeof i?(i=new Date(i).getTime(),r=window.DatePrecise(i).getHrTime()):(r=(s=window.DatePrecise(i)).getHrTime(),i=s.getTime()),this.config.BeginTime=r,this.textOrientation!==e.Data.TextOrientation.FromTop&&this.textOrientation!==e.Data.TextOrientation.FromLeft||(c=!0),this.trendView.isOnline()&&(this.trendView.dp.pauseControl(),this.trendView.chart.Attributes.online=!1,this.trendView.online=!1,this.trendView.setStartStop()),this.config.RangeType===e.getChromEnum("HmiTimeRangeType").FromBeginToEnd?(c&&(this.axisEndValue=this.axisBeginValue),this.axisBeginValue=i,e.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndTimes(),this.axisTimeRange=this.axisEndValue-this.axisBeginValue||e.Data.FileTime.Sec,this.zoomInOutCount>0?(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.trendView.setAnimationFactors()):this.config.RangeType!==e.getChromEnum("HmiTimeRangeType").TimeRange&&this.config.RangeType!==e.getChromEnum("HmiTimeRangeType").PointCount||(c?this.axisEndValue=i:this.axisBeginValue=i,this.zoomInOutCount>0?(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=c?this.axisEndValue:this.axisBeginValue+this.axisTimeRange),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),e.Data.PostPropertyUpdate.Update=!0;break;case p.EndTime:this.textOrientation!==e.Data.TextOrientation.FromTop&&this.textOrientation!==e.Data.TextOrientation.FromLeft||(this.axisBeginValue=this.axisEndValue),"string"==typeof i?(this.axisEndValue=i=new Date(i).getTime(),r=window.DatePrecise(i).getHrTime()):(r=(s=window.DatePrecise(i)).getHrTime(),this.axisEndValue=s.getTime()),this.config.EndTime=r,this.trendView.isOnline()&&(this.trendView.dp.pauseControl(),this.trendView.chart.Attributes.online=!1,this.trendView.online=!1,this.trendView.setStartStop()),e.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndTimes(),this.config.RangeType===e.getChromEnum("HmiTimeRangeType").FromBeginToEnd&&(this.axisTimeRange=this.axisEndValue-this.axisBeginValue||e.Data.FileTime.Sec,this.zoomInOutCount>0?(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0,this.trendView.setAnimationFactors()),e.Data.PostPropertyUpdate.Update=!0;break;case p.PointCount:this.trendView.isOnline()&&this.alwaysShowRecent&&1===this.config.PointCount&&this.clearBoundingValues(),this.config.PointCount=parseInt(i,10),this.config.RangeType===e.getChromEnum("HmiTimeRangeType").PointCount&&0===this.zoomInOutCount&&(this.trendView.requestHistoricalData(null,null,this.axisPbId,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0),e.Data.PostPropertyUpdate.Update=!0;break;case p.TimeRangeBase:this.config.TimeRangeBase=i||e.Data.RangeBase.Minute,this.updateForTimeRangeFactor();break;case p.TimeRangeFactor:this.config.TimeRangeFactor=parseInt(i,10),this.updateForTimeRangeFactor();break;case p.DisplayName:this.config.DisplayName=i,""===i&&this.trendWindowDrawable&&this.displayNameSvg&&(this.dom.removeChild(this.displayNameSvg),this.displayNameSvg=null,this.addEventOnDisplayName=!1),e.Data.PostPropertyUpdate.Update=!0;break;case p.OutputFormat:if(0===i&&(i=""),i=i.trim(),this.outputFormat=i=""===i?"{D}\\n{T}":i,this.config.OutputFormat=i,this.rulerOutputFormat=i.split("\\r\\n").join(" ").split("\\n").join(" "),this.defaultFeaturesUsed)if(n=(new Date).getTime(),"string"!=typeof(a=e.convertFormatPattern(n,this.outputFormat,this.trendView.getTimeZone()))||a===this.outputFormat)this.labelText=n,this.dualLineDateTime=!1,e.Data.PostPropertyUpdate.Redraw=!0;else if(1===(a=a.split("")).length)if(this.labelText=a[0],this.dualLineDateTime){for(this.dualLineDateTime=!1,h=0;h<this.labelsFeatures.length;h++)this.labelsFeatures[h].Attributes["output-format"]=i;e.Data.PostPropertyUpdate.Redraw=!0}else e.Data.PostPropertyUpdate.Update=!0;else if(this.labelText=a,this.dualLineDateTime)e.Data.PostPropertyUpdate.Update=!0;else{for(this.dualLineDateTime=!0,h=0;h<this.labelsFeatures.length;h++)this.labelsFeatures[h].Attributes["output-format"]=i;e.Data.PostPropertyUpdate.Redraw=!0}break;default:this.updateProperty(t,i)}},i.prototype.updateRangeTypeProperty=function(){switch(this.config.RangeType){case this._rangeType.TimeRange:this.axisTimeRange=this.calculateTimeRange(),this.trendView.isOnline()&&this.alwaysShowRecent?this.currentBeginValue=this.currentEndValue-this.axisTimeRange:this.zoomInOutCount>0?(this.endValueBuffer=this.startValueBuffer+this.axisTimeRange,this._setZoomValues()):this.currentEndValue=this.currentBeginValue+this.axisTimeRange,this.trendView.isOnline()?this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,!0,!0):this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0;break;case this._rangeType.FromBeginToEnd:this.axisTimeRange=this.axisEndValue-this.axisBeginValue||e.Data.FileTime.Sec,this.trendView.isOnline()&&(this.trendView.dp.pauseControl(),this.trendView.chart.Attributes.online=!1,this.trendView.online=!1,this.trendView.setStartStop()),this.zoomInOutCount>0?(this.endValueBuffer=this.startValueBuffer+this.axisTimeRange,this._setZoomValues()):(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.currentBeginValue+this.axisTimeRange),this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0;break;case this._rangeType.PointCount:this.trendView.isOnline()?this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,!0,!0):this.trendView.requestHistoricalData(null,null,this.axisPbId,!0,void 0,!0),e.Data.PostPropertyUpdate.SendHistoricalDataRequests=!0}},i.prototype.getPositionFromValue=function(t){var i=this.straightDial.Features[0].getPositionForValue(t);return this.textOrientation===e.Data.TextOrientation.FromBottom||this.textOrientation===e.Data.TextOrientation.FromTop?i.y+this.translate:this.textOrientation===e.Data.TextOrientation.FromRight||this.textOrientation===e.Data.TextOrientation.FromLeft?i.x+this.translate:void 0},i.prototype.getValueFromPosition=function(e){return this.straightDial.Features[0].getValueAtPosition(e-this.translate,e-this.translate,!1)},i.prototype.updateLabelsWithTimeZone=function(e){var t,i,r,n=this.labelsFeatures.length;for(t=0;t<this.straightDialCount;t++)(r=this.straightDials[t].Features[0]).timezone=e,r.metaData&&(r.metaData.timezone=e);if(this.config.Visible&&this.trendWindowDrawable)for(i=0;i<n;i++)this.labelsFeatures[i].draw(this.labelsFeatures[i].webRTPUItem,this.labelsFeatures[i].metaData)},i.prototype.cleanUp=function(){if(!this.trendView.isOnline()&&this.trendView.isStyleChange()){var i=void 0;i=this.zoomInOutCount>0?new e.Data.AxisData(this.startValueBuffer,this.endValueBuffer):new e.Data.AxisData(this.currentBeginValue,this.currentEndValue),e.Data.AxisDataStore.store(this.axisPbId,i)}this.trendView.updateRunningTimeAxesList(this.axisPbId,!1),this.dom=this.ribbons=this.templateAttributes=this.updateRulerLabelFont=this._currentDragPoint=null,t.prototype.cleanUp.call(this)},i.MIN_AXIS_RANGE=500,i}(t.AxisBase);t.TimeAxis=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e){this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1,this._curThreshold=null,this.trendObj=e}return i.prototype.setCurrentThreshold=function(e){this._curThreshold=e},i.prototype.updateTempTagList=function(){this._curThreshold.addToTempTagListFromThreshold(this.trendObj)},i.prototype.initialize=function(){var i,r,n,a,o,s=-1/0,l=1/0,u=-1,h=e.getChromEnum("HmiThresholdMode");for(this.onlineTrend=this.trendObj.trendView.trendObjectType===e.Data.TrendObjectType.Online,i=this.trendObj.thresholdParts?this.trendObj.thresholdParts.length:0,this.trendObj.thresholds=[],void 0===i?(this.trendObj.thresholdParts=[this.trendObj.thresholdParts],i=1):0===i&&(this.trendObj.thresholdParts.push({Name:"Normal",Type:"ThresholdPart",ThresholdMode:h.Normal}),i=1),r=0;r<i;r++)this.trendObj.thresholds[r]=new t.Threshold(this.trendObj.id,this,this.trendObj.thresholdParts[r]),this.trendObj.thresholds[r].addToThresholdRange=this._addToThresholdRange.bind(this.trendObj.thresholds[r]),this.trendObj.thresholds[r].addToTempTagListFromThreshold=this._addToTempTagListFromThreshold.bind(this.trendObj.thresholds[r]),this.trendObj.thresholds[r].type=r,this.trendObj.thresholds[r].thresholdMode===h.Normal?n=this.trendObj.thresholds[r]:(this.trendObj.thresholds[r].thresholdMode===h.Lower||this.trendObj.thresholds[r].thresholdMode===h.Minimum)&&s<this.trendObj.thresholds[r].endValue&&0!==this.trendObj.thresholds[r].endValue?s=this.trendObj.thresholds[r].endValue:(this.trendObj.thresholds[r].thresholdMode===h.Upper||this.trendObj.thresholds[r].thresholdMode===h.Maximum)&&l>this.trendObj.thresholds[r].beginValue&&0!==this.trendObj.thresholds[r].beginValue&&(l=this.trendObj.thresholds[r].beginValue),0===this.trendObj.thresholds[r].beginValue&&this.trendObj.thresholds[r-1]&&(this.trendObj.thresholds[r].beginValue=this.trendObj.thresholds[r-1].endValue),0===this.trendObj.thresholds[r].endValue&&this.trendObj.thresholds[r+1]&&(this.trendObj.thresholds[r].endValue=this.trendObj.thresholds[r+1].beginValue),this.trendObj.thresholds[r-1]&&(this.trendObj.thresholds[r-1].next=this.trendObj.thresholds[r],this.trendObj.thresholds[r].prev=this.trendObj.thresholds[r-1]);if(n)n.beginValue=s,n.endValue=l,n=null;else{for(o={Name:"Normal",Type:"ThresholdPart",ThresholdMode:h.Normal},a=new t.Threshold(this.trendObj.id,this,o),u=i,r=0;r<i;r++)if(this.trendObj.thresholds[r].thresholdMode===h.Lower||this.trendObj.thresholds[r].thresholdMode===h.Minimum)u=r+1;else if(this.trendObj.thresholds[r].thresholdMode===h.Upper||this.trendObj.thresholds[r].thresholdMode===h.Maximum){u=r;break}for(this.trendObj.thresholds.splice(u,0,a),this.trendObj.thresholds[u-1]&&(this.trendObj.thresholds[u-1].next=a),this.trendObj.thresholds[u+1]&&(this.trendObj.thresholds[u+1].prev=a),(a.prev=this.trendObj.thresholds[u-1])?o.BeginValue=a.beginValue=a.prev.endValue:o.BeginValue=a.beginValue=void 0,(a.next=this.trendObj.thresholds[u+1])?o.EndValue=a.endValue=a.next.beginValue:o.EndValue=a.endValue=void 0,this.trendObj.thresholds[u].addToThresholdRange=this._addToThresholdRange.bind(this.trendObj.thresholds[u]),this.trendObj.thresholds[u].addToTempTagListFromThreshold=this._addToTempTagListFromThreshold.bind(this.trendObj.thresholds[u]),i++,r=u;r<i;r++)this.trendObj.thresholds[r].type=r;this.trendObj.thresholdParts.splice(u,0,o)}this.trendObj.thresholds[0].beginValue=-1/0,this.trendObj.thresholds[this.trendObj.thresholds.length-1].endValue=1/0,this.initializeMarkers()},i.prototype.initializeMarkers=function(){var t,i;this.trendObj.pointStyle===e.getChromEnum("HmiMarkerType").None?(this._uncertainQualityMarkerUrl="none",this._badQualityMarkerUrl="none"):(this._uncertainQualityMarkerUrl="url(#"+this.trendObj.uncertainQualityMarkerId+")",this._badQualityMarkerUrl="url(#"+this.trendObj.badQualityMarkerId+")"),this.trendObj.midMarkerURLsArray=[];var r=this.trendObj.thresholds.length;for(t=0;t<r;t++)i=this.trendObj.pointStyle===e.getChromEnum("HmiMarkerType").None?"none":"url(#"+this.trendObj.thresholds[t].markerId+")",this.trendObj.midMarkerURLsArray[this.trendObj.thresholds[t].type]=this.trendObj.thresholds[t].thresholdMarkerUrl=i;this.trendObj.midMarkerURLsArray[r]=this._uncertainQualityMarkerUrl,this.trendObj.midMarkerURLsArray[r+1]=this._badQualityMarkerUrl},i.prototype.setMarkerId=function(){var t,i=this.trendObj.thresholdParts.length;for(t=0;t<i;t++)this.trendObj.thresholds[t].thresholdMode===e.getChromEnum("HmiThresholdMode").Normal?this.trendObj.thresholds[t].markerId="thresholdMarker_"+this.trendObj.thresholds[t].thresholdMode+"_"+this.trendObj.id:this.trendObj.thresholds[t].markerId="thresholdMarker_"+this.trendObj.thresholds[t].thresholdMode+"_"+this.trendObj.thresholds[t].partId+"_"+this.trendObj.id;this.initializeMarkers()},i.prototype.addLimitValuePoints=function(i,r,n){var a,o,s,l,u,h=this.trendObj.linesCollection.length,d=i.yTagValue;if(null!==this._curThreshold)this._curThreshold.addToThresholdRange(i,r,n,this.trendObj);else for(o=this.trendObj.thresholds.length,a=0;a<o;a++)d>=this.trendObj.thresholds[a].beginValue&&d<this.trendObj.thresholds[a].endValue&&this.trendObj.thresholds[a].addToThresholdRange(i,r,n,this.trendObj);if(this.trendObj.trendView.trendObjectType===e.Data.TrendObjectType.Online){if(h>0&&this.trendObj.linesCollection.length>h)for(a=h-1,h=this.trendObj.linesCollection.length-1;a<h;a++)this.trendObj.linesCollection[a].addToTranslate=!0;this.trendObj.linesCollection.currentTagList.items.length>70&&(s=this.trendObj.linesCollection.currentTagList.items.pop(),l=this.trendObj.linesCollection.currentTagList.items.pop(),(u=new t.Point).xTagValue=u.timeStamp=l.xTagValue,u.yTagValue=l.yTagValue,u.yTagPosition=l.yTagPosition,u.xTagPosition=l.xTagPosition,this.trendObj.linesCollection.currentTagList.items.push(u),this.trendObj.linesCollection.currentTagList.addToTranslate=!0,this.trendObj.linesCollection.currentTagList=new e.Data.GenericList(this.trendObj.linesCollection.currentTagList.listType),this.trendObj.linesCollection.push(this.trendObj.linesCollection.currentTagList),this.trendObj.linesCollection.currentTagList.items.push(l),this.trendObj.linesCollection.currentTagList.items.push(s),this.trendObj.markerPositionsCollection.currentMarkerPositions={markerStart:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerEnd,markerEnd:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerEnd},this.trendObj.markerPositionsCollection.push(this.trendObj.markerPositionsCollection.currentMarkerPositions))}},i.prototype.addLimitValuePointsBegin=function(i,r){var n,a,o,s,l,u=i.yTagValue;if(null!==this._curThreshold)this._curThreshold.addToThresholdRange(i,r,!0,this.trendObj);else for(a=this.trendObj.thresholds.length,n=0;n<a;n++)u>=this.trendObj.thresholds[n].beginValue&&u<this.trendObj.thresholds[n].endValue&&this.trendObj.thresholds[n].addToThresholdRange(i,r,!0,this.trendObj);this.onlineTrend&&this.trendObj.linesCollection.currentTagList.items.length>70&&(o=this.trendObj.linesCollection.currentTagList.items.shift(),s=this.trendObj.linesCollection.currentTagList.items[0],l=new t.Point,this.trendObj.linesCollection.currentTagList=new e.Data.GenericList(this.trendObj.linesCollection.currentTagList.listType),this.trendObj.linesCollection.unshift(this.trendObj.linesCollection.currentTagList),l.xTagValue=l.timeStamp=s.xTagValue,l.yTagValue=s.yTagValue,l.yTagPosition=s.yTagPosition,l.xTagPosition=s.xTagPosition,this.trendObj.linesCollection.currentTagList.items.push(o),this.trendObj.linesCollection.currentTagList.items.push(l),this.trendObj.markerPositionsCollection.currentMarkerPositions={markerStart:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerStart,markerEnd:this.trendObj.markerPositionsCollection.currentMarkerPositions.markerStart},this.trendObj.markerPositionsCollection.unshift(this.trendObj.markerPositionsCollection.currentMarkerPositions))},i.prototype._addToTempTagListFromThreshold=function(e){e.linesCollection.currentTagList.updateTempItems()},i.prototype._addToThresholdRange=function(i,r,n,a){var o,s,l,u,h="push",d="markerStart",c="markerEnd",p="add",m=this.addingToThreshold,g=e.getChromEnum("HmiTrendMode"),T=a.trendView.trendObjectType===e.Data.TrendObjectType.Online;void 0===r&&(r=a.tagList.items.length-2),s=r,u=r>=0,a.linesCollection.currentTagList=a.linesCollection[a.linesCollection.length-1],a.markerPositionsCollection.currentMarkerPositions=a.markerPositionsCollection[a.markerPositionsCollection.length-1],n&&(s=1,h="unshift",d="markerEnd",c="markerStart",p=T?"addToBeginning":"addToTempItems",a.linesCollection.currentTagList=a.linesCollection[0],a.markerPositionsCollection.currentMarkerPositions=a.markerPositionsCollection[0],m=this.addingToThresholdBegin,u=a.tagList.items.length>1),u&&(l=a.tagList.items[s].yTagValue),void 0!==this.endValue&&i.yTagValue>=this.endValue?this.handleEndValue(m,a,h,r,p,c,n,i):void 0!==this.beginValue&&i.yTagValue<this.beginValue?this.handleBeginValue(m,a,h,r,p,c,n,i):(m||(this.parentLimits.setCurrentThreshold(this),a.linesCollection.currentTagList&&(a.linesCollection.currentTagList.addToTranslate=!0),a.linesCollection.currentTagList=new e.Data.GenericList(this.type),a.linesCollection[h](a.linesCollection.currentTagList),a.markerPositionsCollection.currentMarkerPositions={markerStart:this.thresholdMarkerUrl,markerEnd:this.thresholdMarkerUrl},a.markerPositionsCollection[h](a.markerPositionsCollection.currentMarkerPositions),m=!0,n?this.addingToThresholdBegin=!0:this.addingToThreshold=!0,u&&(a.markerPositionsCollection.currentMarkerPositions[d]="none",o=new t.Point,l>=this.endValue?o.yTagValue=this.endValue:o.yTagValue=this.beginValue,this.parentLimits.calculateXtagValueFromYtagValue(a,g,o,r,p))),a.linesCollection.currentTagList[p](i))},i.prototype.handleEndValue=function(i,r,n,a,o,s,l,u){var h,d=e.getChromEnum("HmiTrendMode"),c=r.trendView.trendObjectType===e.Data.TrendObjectType.Online;i?(r.markerPositionsCollection.currentMarkerPositions[s]="none",(h=new t.Point).yTagValue=this.endValue,this.parentLimits.calculateXtagValueFromYtagValue(r,d,h,a,o)):(this.parentLimits.reArrangeLineCOllection(r,n),(h=new t.Point).yTagValue=this.beginValue,this.parentLimits.onlineTrend?r.trendStyle===d.Stepped?h.xTagValue=h.timeStamp=r.tagList.items[a+1].xTagValue:void 0!==this.beginValue?h.xTagValue=h.timeStamp=r.tagList.getTimeStampFromValue(this.beginValue,a,a+1):h.xTagValue=h.timeStamp=r.tagList.getTimeStampFromValue(r.minVal,a,a+1):r.trendStyle===d.Stepped?h.xTagValue=r.tagList.items[a+1].xTagValue:void 0!==this.beginValue?h.xTagValue=r.tagList.getXTagValueFromYTagValue(this.beginValue,a,a+1):h.xTagValue=r.tagList.getXTagValueFromYTagValue(r.minVal,a,a+1),r.linesCollection.currentTagList[o](h),(h=new t.Point).yTagValue=this.endValue,c?r.trendStyle===d.Stepped?h.xTagValue=h.timeStamp=r.tagList.items[a+1].xTagValue:void 0!==this.endValue?h.xTagValue=h.timeStamp=r.tagList.getTimeStampFromValue(this.endValue,a,a+1):h.xTagValue=h.timeStamp=r.tagList.getTimeStampFromValue(r.maxVal,a,a+1):r.trendStyle===d.Stepped?h.xTagValue=r.tagList.items[a+1].xTagValue:void 0!==this.endValue?h.xTagValue=r.tagList.getXTagValueFromYTagValue(this.endValue,a,a+1):h.xTagValue=r.tagList.getXTagValueFromYTagValue(r.maxVal,a,a+1),r.linesCollection.currentTagList[o](h)),l?this.addingToThresholdBegin=!1:this.addingToThreshold=!1,this.next.addToThresholdRange(u,a,l,r)},i.prototype.handleBeginValue=function(i,r,n,a,o,s,l,u){var h,d=e.getChromEnum("HmiTrendMode");i?(r.markerPositionsCollection.currentMarkerPositions[s]="none",(h=new t.Point).yTagValue=this.beginValue,this.parentLimits.calculateXtagValueFromYtagValue(r,d,h,a,o)):(this.parentLimits.reArrangeLineCOllection(r,n),(h=new t.Point).yTagValue=this.endValue,this.parentLimits.calculateXtagValueFromYtagValue(r,d,h,a,o),(h=new t.Point).yTagValue=this.beginValue,this.parentLimits.calculateXtagValueFromYtagValue(r,d,h,a,o)),i=!1,l?this.addingToThresholdBegin=!1:this.addingToThreshold=!1,this.prev.addToThresholdRange(u,a,l,r)},i.prototype.calculateXtagValueFromYtagValue=function(t,i,r,n,a){t.trendView.trendObjectType===e.Data.TrendObjectType.Online?t.trendStyle===i.Stepped?r.xTagValue=r.timeStamp=t.tagList.items[n+1].xTagValue:r.xTagValue=r.timeStamp=t.tagList.getTimeStampFromValue(r.yTagValue,n,n+1):t.trendStyle===i.Stepped?r.xTagValue=t.tagList.items[n+1].xTagValue:r.xTagValue=t.tagList.getXTagValueFromYTagValue(r.yTagValue,n,n+1),t.linesCollection.currentTagList[a](r)},i.prototype.reArrangeLineCOllection=function(t,i){t.linesCollection.currentTagList&&(t.linesCollection.currentTagList.addToTranslate=!0),t.linesCollection.currentTagList=new e.Data.GenericList(this.type),t.linesCollection[i](t.linesCollection.currentTagList),t.markerPositionsCollection.currentMarkerPositions={markerStart:"none",markerEnd:"none"},t.markerPositionsCollection[i](t.markerPositionsCollection.currentMarkerPositions)},i.prototype.addQualityVisualizationPoints=function(i){var r;this.onlineTrend?((r=new t.Point).xTagValue=i.xTagValue,r.timeStamp=i.timeStamp,r.yTagValue=i.yTagValue,r.yTagPosition=i.yTagPosition,r.xTagPosition=i.xTagPosition,r.qualityCode=i.qualityCode):r=i,r.qualityCode===e.Data.QualityCode.Uncertain?(this._addingToUncertainQuality||(this.trendObj.qualityLinesCollection.push(new e.Data.GenericList(this.trendObj.thresholds.length)),this.trendObj.qualityMarkerPositionsCollection.push({markerStart:this._uncertainQualityMarkerUrl,markerEnd:this._uncertainQualityMarkerUrl}),this._addingToUncertainQuality=!0,this._addingToBadQuality&&(this._addingToBadQuality=!1)),this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].add(r)):r.qualityCode===e.Data.QualityCode.Bad?(this._addingToBadQuality||(this.trendObj.qualityLinesCollection.push(new e.Data.GenericList(this.trendObj.thresholds.length+1)),this.trendObj.qualityMarkerPositionsCollection.push({markerStart:this._badQualityMarkerUrl,markerEnd:this._badQualityMarkerUrl}),this._addingToBadQuality=!0,this._addingToUncertainQuality&&(this._addingToUncertainQuality=!1)),this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].add(r)):this._addingToUncertainQuality?(this._addingToUncertainQuality=!1,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].addToTranslate=!0,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].translate=!0):this._addingToBadQuality&&(this._addingToBadQuality=!1,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].addToTranslate=!0,this.trendObj.qualityLinesCollection[this.trendObj.qualityLinesCollection.length-1].translate=!0),r=null},i.prototype.addQualityVisualizationPointsBegin=function(i){var r;this.onlineTrend?((r=new t.Point).xTagValue=i.xTagValue,r.timeStamp=i.timeStamp,r.yTagValue=i.yTagValue,r.yTagPosition=i.yTagPosition,r.xTagPosition=i.xTagPosition,r.qualityCode=i.qualityCode):r=i,r.qualityCode===e.Data.QualityCode.Uncertain?(this._addingToUncertainQualityBegin||(this.trendObj.qualityLinesCollection.unshift(new e.Data.GenericList(this.trendObj.thresholds.length)),this.trendObj.qualityMarkerPositionsCollection.unshift({markerStart:this._uncertainQualityMarkerUrl,markerEnd:this._uncertainQualityMarkerUrl}),this.trendObj._addingToUncertainQualityBegin=!0),this.trendObj.qualityLinesCollection[0].addToBeginning(r)):r.qualityCode===e.Data.QualityCode.Bad?(this._addingToBadQualityBegin||(this.trendObj.qualityLinesCollection.unshift(new e.Data.GenericList(this.trendObj.thresholds.length+1)),this.trendObj.qualityMarkerPositionsCollection.unshift({markerStart:this._badQualityMarkerUrl,markerEnd:this._badQualityMarkerUrl}),this._addingToBadQualityBegin=!0),this.trendObj.qualityLinesCollection[0].addToBeginning(r)):this._addingToUncertainQualityBegin?this._addingToUncertainQualityBegin=!1:this._addingToBadQualityBegin&&(this._addingToBadQualityBegin=!1),r=null},i.prototype.setLimitBools=function(t,i){var r,n,a,o=this.trendObj.thresholds.length;this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1,this._curThreshold=null;var s=this.trendObj.tagList.items;if(s.length>0){for(a=void 0===i?t?s[0].yTagValue:s[s.length-1].yTagValue:i.yTagValue,r=0;r<o;r++)(n=this.trendObj.thresholds[r]).addingToThresholdBegin=!1,n.addingToThreshold=!1,a>=n.beginValue&&a<n.endValue&&(t?n.addingToThresholdBegin=!0:n.addingToThreshold=!0,this._curThreshold=n);this.trendObj.qualityVisualizationVisible&&(t?s[0].qualityCode===e.Data.QualityCode.Uncertain?this._addingToUncertainQualityBegin=!0:s[0].qualityCode===e.Data.QualityCode.Bad&&(this._addingToBadQualityBegin=!0):s[s.length-1].qualityCode===e.Data.QualityCode.Uncertain?this._addingToUncertainQuality=!0:s[s.length-1].qualityCode===e.Data.QualityCode.Bad&&(this._addingToBadQuality=!0))}else for(r=0;r<o;r++)this.trendObj.thresholds[r].addingToThresholdBegin=!1,this.trendObj.thresholds[r].addingToThreshold=!1;this.trendObj.linesCollection.currentTagList=t?this.trendObj.linesCollection[0]:this.trendObj.linesCollection[this.trendObj.linesCollection.length-1],n=null},i.prototype.setThresholdFlags=function(){var e,t=this.trendObj.thresholds.length;for(e=0;e<t;e++)this.trendObj.thresholds[e].addingToThreshold=!0,this.trendObj.thresholds[e].addingToThresholdBegin=!0},i.prototype.createNewLinesCollection=function(e){var t,i,r,n,a=this.trendObj.linesCollection.length,o=!1,s=!1,l=this.trendObj.qualityVisualizationVisible;for(i=0;i<a;i++)(r=this.trendObj.linesCollection[i]).polyline&&(r.polyline.parentNode&&r.polyline.parentNode.removeChild(r.polyline),r.polyline=null),r.dummyPolyline&&(r.dummyPolyline.parentNode&&r.dummyPolyline.parentNode.removeChild(r.dummyPolyline),r.dummyPolyline=null),r.items=[],r=null;for(this.trendObj.linesCollection=[],this.trendObj.markerPositionsCollection=[],this.trendObj.qualityLinesCollection=[],this.trendObj.qualityMarkerPositionsCollection=[],a=this.trendObj.thresholds.length,i=0;i<a;i++)this.trendObj.thresholds[i].addingToThreshold=!1;for(this._curThreshold=null,this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1,e&&(t=this.trendObj.oldTagList.items)[0]!==this.trendObj.tagList.items[0]&&(n=this.trendObj.tagList.items,s=!0,-1!==(i=this.trendObj.tagList.items.indexOf(t[t.length-1]))?this.trendObj.tagList.items=t.concat(n.slice(i+1)):this.trendObj.tagList.items=t.concat(n.slice())),t=this.trendObj.tagList.items,this.trendObj.boundingValue&&t.length&&this.trendObj.boundingValue.timeStamp<t[0].timeStamp&&(o=!0,t.unshift(this.trendObj.boundingValue)),a=t.length,i=0;i<a;i++)this.addLimitValuePoints(t[i],i-1,!1),l&&this.addQualityVisualizationPoints(t[i]);o&&t.shift(),s&&(this.trendObj.tagList.items=n)},i.prototype.createNewQualityCollection=function(e){var t,i;this.trendObj.qualityLinesCollection=[],this.trendObj.qualityMarkerPositionsCollection=[],this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1,e?(t=this.trendObj.oldTagList.items.slice(),t=-1!==(i=this.trendObj.tagList.items.indexOf(t[t.length-1]))?t.concat(this.trendObj.tagList.items.slice(i+1)):t.concat(this.trendObj.tagList.items.slice())):t=this.trendObj.tagList.items;var r=t.length;for(i=0;i<r;i++)this.addQualityVisualizationPoints(t[i])},i.prototype.setMarkers=function(){var e,t,i=this.trendObj.linesCollection.length;for(e=0;e<i;e++)null===(t=this.trendObj.linesCollection[e]).items[0].qualityCode?this.trendObj.markerPositionsCollection[e].markerStart="none":this.trendObj.markerPositionsCollection[e].markerStart=this.trendObj.midMarkerURLsArray[t.listType],null===t.items[t.items.length-1].qualityCode?this.trendObj.markerPositionsCollection[e].markerEnd="none":this.trendObj.markerPositionsCollection[e].markerEnd=this.trendObj.midMarkerURLsArray[t.listType];for(i=this.trendObj.qualityLinesCollection.length,e=0;e<i;e++)this.trendObj.qualityMarkerPositionsCollection[e].markerStart=this.trendObj.qualityMarkerPositionsCollection[e].markerEnd=this.trendObj.midMarkerURLsArray[this.trendObj.qualityLinesCollection[e].listType]},i.prototype.clearTagList=function(){var e,t=this.trendObj.thresholds.length;for(e=0;e<t;e++)this.trendObj.thresholds[e].addingToThreshold=!1,this.trendObj.thresholds[e].addingToThresholdBegin=!1;this._addingToUncertainQuality=!1,this._addingToUncertainQualityBegin=!1,this._addingToBadQuality=!1,this._addingToBadQualityBegin=!1},i.prototype.createDifferentFillLines=function(t,i){var r,n,a,o,s,l,u,h,d,c=this.trendObj.linesCollection[0].items,p=this.trendObj.boundingValue||c[0],m="",g=e.getChromEnum("HmiTrendMode");this.trendObj.linesCollection[0].translate?o="translateFill":(o="fill",u=p);var T=this.trendObj.thresholds.length,f=this.trendObj.currentYAxis.currentBeginValue,y=this.trendObj.currentYAxis.getPositionFromValue(f);if(t){for(d=0;d<T;d++)h=1/0,m=y,this.trendObj.thresholds[d].endValue!==1/0&&(h=this.trendObj.thresholds[d].endValue),this.trendObj.thresholds[d].beginValue!==-1/0&&(m=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[d].beginValue)),p.yTagValue>=h?this.trendObj.thresholdFills[d][o]=p.xTagPosition+","+m+" "+p.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(h)+" ":this.trendObj.thresholdFills[d][o]=p.xTagPosition+","+m+" ";for(n=this.trendObj.numberOfPoints,r=0;r<n;r++){if(c=(s=this.trendObj.linesCollection[r]).items,a=s.listType,s.translate)o="translateFill",l=c[c.length-1];else if(o="fill",void 0===u)for(u=c[0],d=0;d<T;d++)h=1/0,m=y,this.trendObj.thresholds[d].endValue!==1/0&&(h=this.trendObj.thresholds[d].endValue),this.trendObj.thresholds[d].beginValue!==-1/0&&(m=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[d].beginValue)),u.yTagValue>=h?this.trendObj.thresholdFills[d].fill=u.xTagPosition+","+m+" "+u.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(h)+" ":this.trendObj.thresholdFills[d].fill=u.xTagPosition+","+m+" ";this.trendObj.trendStyle===g.Stepped?this.trendObj.thresholdFills[a][o]+=s.dummyPoints:this.trendObj.thresholdFills[a][o]+=s.points}for(d=0;d<T;d++)h=1/0,m=y,this.trendObj.thresholds[d].endValue!==1/0&&(h=this.trendObj.thresholds[d].endValue),this.trendObj.thresholds[d].beginValue!==-1/0&&(m=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[d].beginValue)),""!==this.trendObj.thresholdFills[d].translateFill&&(l.yTagValue>=h?this.trendObj.thresholdFills[d].translateFill+=l.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(h)+" "+l.xTagPosition+","+m:this.trendObj.thresholdFills[d].translateFill+=l.xTagPosition+","+m),""!==this.trendObj.thresholdFills[d].fill&&(i.yTagValue>=h?this.trendObj.thresholdFills[d].fill+=i.xTagPosition+","+this.trendObj.currentYAxis.getPositionFromValue(h)+" "+i.xTagPosition+","+m:this.trendObj.thresholdFills[d].fill+=i.xTagPosition+","+m)}else{for(d=0;d<T;d++)h=1/0,m=y,this.trendObj.thresholds[d].endValue!==1/0&&(h=this.trendObj.thresholds[d].endValue),this.trendObj.thresholds[d].beginValue!==-1/0&&(m=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[d].beginValue)),p.yTagValue>=h?this.trendObj.thresholdFills[d][o]=m+","+p.xTagPosition+" "+this.trendObj.currentYAxis.getPositionFromValue(h)+","+p.xTagPosition+" ":this.trendObj.thresholdFills[d][o]=m+","+p.xTagPosition+" ";for(n=this.trendObj.numberOfPoints,r=0;r<n;r++){if(c=(s=this.trendObj.linesCollection[r]).items,a=s.listType,s.translate)o="translateFill",l=c[c.length-1];else if(o="fill",void 0===u)for(u=c[0],d=0;d<T;d++)h=1/0,m=y,this.trendObj.thresholds[d].endValue!==1/0&&(h=this.trendObj.thresholds[d].endValue),this.trendObj.thresholds[d].beginValue!==-1/0&&(m=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[d].beginValue)),u.yTagValue>=h?this.trendObj.thresholdFills[d].fill=m+","+u.xTagPosition+" "+this.trendObj.currentYAxis.getPositionFromValue(h)+","+u.xTagPosition+" ":this.trendObj.thresholdFills[d].fill=m+","+u.xTagPosition+" ";this.trendObj.trendStyle===g.Stepped?this.trendObj.thresholdFills[a][o]+=s.dummyPoints:this.trendObj.thresholdFills[a][o]+=s.points}for(d=0;d<T;d++)h=1/0,m=y,this.trendObj.thresholds[d].endValue!==1/0&&(h=this.trendObj.thresholds[d].endValue),this.trendObj.thresholds[d].beginValue!==-1/0&&(m=this.trendObj.currentYAxis.getPositionFromValue(this.trendObj.thresholds[d].beginValue)),""!==this.trendObj.thresholdFills[d].translateFill&&(l.yTagValue>=h?this.trendObj.thresholdFills[d].translateFill+=this.trendObj.currentYAxis.getPositionFromValue(h)+","+l.xTagPosition+" "+m+","+l.xTagPosition:this.trendObj.thresholdFills[d].translateFill+=m+","+l.xTagPosition),""!==this.trendObj.thresholdFills[d].fill&&(i.yTagValue>=h?this.trendObj.thresholdFills[d].fill+=this.trendObj.currentYAxis.getPositionFromValue(h)+","+i.xTagPosition+" "+m+","+i.xTagPosition:this.trendObj.thresholdFills[d].fill+=m+","+i.xTagPosition)}l=null,u=null,p=null},i.prototype.clearAllThresholdFills=function(){var e,t=this.trendObj.thresholds.length;for(e=0;e<t;e++)this.trendObj.thresholdFills[e]={translateFill:"",fill:""}},i.prototype.getThresholdType=function(e){var t,i=this.trendObj.thresholds.length;for(t=0;t<i;t++)if(e>=this.trendObj.thresholds[t].beginValue&&e<this.trendObj.thresholds[t].endValue)return this.trendObj.thresholds[t].type},i.prototype.removeLastPoint=function(){var e,t,i=this.trendObj.linesCollection.length;if(1===i)(e=this.trendObj.linesCollection.currentTagList).items.pop(),t=e.items[e.items.length-1];else if(i>1){if((e=this.trendObj.linesCollection[i-1]).items.pop(),1===e.items.length&&null===e.items[0].qualityCode&&(e.polyline&&(e.polyline.parentNode&&e.polyline.parentNode.removeChild(e.polyline),e.polyline=null),e.items=[],this.trendObj.linesCollection.splice(i-1,1),this.trendObj.markerPositionsCollection.splice(i-1,1),this.trendObj.linesCollection.currentTagList=e=this.trendObj.linesCollection[i-2],null===e.items[e.items.length-1].qualityCode))return e=null,void this.removeLastPoint();t=e.items[e.items.length-1]}this.setLimitBools(void 0,t)},i.prototype.cleanup=function(){this._curThreshold=null,this.trendObj=null},i}();t.TrendLimits=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(t,i,r,n){this._svgParent=null,this._eventFocusElements=null,this._innerRect=null,this._svgPoint=null,this.LEFT_CLICK=1,this.RIGHT_CLICK=3,this.RIGHT_CLICK_KEYCODE=2,this.SINGLE_TAP_TIME=150,this._rightClickObj={point:{},timeStamp:0},this._currentDragPoint={x:0,y:0},this._zoomInCursorPath=null,this._zoomOutCursorPath=null,this._toolTippedTrend=null,this._rulerEvents=!1,this._moveTrendAreaEvents=!1,this._mouseScrollEvents=!1,this._moveTrendAreaStatus=!1,this._lastMousePositionX=0,this._lastMousePositionY=0,this._rulerMoveStatus=!1,this._hammerEvents=e.Data.HammerEvents,this._isToolTipShown=!1,this._previousScale=0,this.MIN_ZOOM_SCALE_DIFF=.05,this.SCROLLBAR_WIDTH=17,this.SCROLLBAR_ENDVALUE=500,this.SCROLLBAR_BEGINVALUE=0,this.SCROLL_STEPS=100,this._targetParentId=null,this._isTouchEnabled=!1,this._eventCbs={onTrendWindowMouseMove:null,onTrendWindowMouseUp:null,onTrendWindowMouseDown:null,onTrendWindowMouseLeave:null,onEvent:null,onPan:null,onPanStart:null,onSingleTap:null,twoFingerSingleTap:null,onPinch:null},this._trendView=t,this._trendWindow=i,this._trendWindowId=r,this._ruler=n}return t.prototype._onEvent=function(e){var t;t=e.target,"touchstart"!==e.type&&"touchend"!==e.type||this._isTouchEnabled||(this._isTouchEnabled=!0),"mousedown"===e.type&&e.which===this.LEFT_CLICK&&!this._isTouchEnabled||"touchstart"===e.type?this._ruler.findMatch(t)&&(this._ruler.onPointerDown(t),this._rulerMoveStatus=!0):"mouseup"===e.type&&e.which===this.LEFT_CLICK&&!this._isTouchEnabled||"touchend"===e.type?this._rulerMoveStatus&&(this._ruler.onPointerUp(),this._rulerMoveStatus=!1):"mousemove"===e.type&&(this._currentDragPoint=this._getMousePos(e)),e.preventDefault()},t.prototype._eventRectIdMatch=function(e){var t=e.id,i=!1;return t===this._eventRectId?i=!0:(e.classList?t=e.classList[0]:(t=e.getAttribute("class"))&&(t=t.split(" ")[0]),t&&this._getDrawableTrendById(t)&&(i=!0)),i},t.prototype._onPanStart=function(e){null===this._targetParentId&&(this._targetParentId=e.target.id,this._eventRectIdMatch(e.target)&&(this._trendView.moveTrendArea||this._trendView.zoomArea||(this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&!e.changedPointers[0].altKey&&!e.changedPointers[0].shiftKey)?this._moveTrendAreaStatus=!0:this._targetParentId=null)},t.prototype._onPan=function(e){e.preventDefault(),this._rulerMoveStatus?e.eventType===this.Hammer.INPUT_MOVE?this._ruler.onPointerMove(e.deltaX,e.deltaY)||this._hammerDad.stop():e.eventType===this.Hammer.INPUT_END&&(this._ruler.onPointerUp(),this._rulerMoveStatus=!1,this._targetParentId=null):this._moveTrendAreaStatus&&(e.eventType===this.Hammer.INPUT_END&&(this._moveTrendAreaStatus=!1,this._targetParentId=null,this._trendView.zoomInOutX&&(this._trendView.zoomAxis=!0)),this._trendWindow.onPan(e))},t.prototype._onMouseScroll=function(e){var t,i,r;e.stopPropagation();var n=.03;i=void 0!==e.deltaY?e.deltaY:e.detail,e.ctrlKey?this._trendView.isOnline()||this._trendView.isZooming||!this._eventRectIdMatch(e.target)||(e.preventDefault(),t=i>0?.8:1.2,this._trendWindow.doPinchScrollZoom(this._getMousePos(e),t),this._trendWindow.endPinchScrollZoom()):e.shiftKey&&this.hScrollbar&&this.hScrollbar.templateInstance&&!this._moveTrendAreaStatus?(e.preventDefault(),i<0?(t=this._initialHorizOffset-n)<0&&(t=0):(t=this._initialHorizOffset+n)>1&&(t=1),r=t*((1-this.initialWidthPerc)*this.SCROLLBAR_ENDVALUE),this.hScrollbar.templateInstance.setHmiProps(r,"HmiProps.CurrentValue"),this.hScrollbar.templateInstance.update(),this._onScrollEvent(this._trendView.axisTypeEnum.xAxis,r,t)):this.vScrollbar&&this.vScrollbar.templateInstance&&!this._moveTrendAreaStatus&&(e.preventDefault(),(i>0?1:0)^this._isLeftOrRight?(t=this._initialVertOffset-n)<0&&(t=0):(t=this._initialVertOffset+n)>1&&(t=1),r=t*((1-this.initialHeightPerc)*this.SCROLLBAR_ENDVALUE),this.vScrollbar.templateInstance.setHmiProps(r,"HmiProps.CurrentValue"),this.vScrollbar.templateInstance.update(),this._onScrollEvent(this._trendView.axisTypeEnum.yAxis,r,t))},t.prototype._createScrollBar=function(){this._trendWindow.scrollBarGroup=e.Features.Shape.SvgShape.CreateSvgElement("g",{id:this._trendWindowId+"_scrollBarGroup",stroke:"none",appendTo:this._trendWindow.getSVG()})},t.prototype._onPinch=function(e){e.preventDefault(),Math.abs(this._previousScale-e.scale)>this.MIN_ZOOM_SCALE_DIFF&&(this._previousScale=e.scale,this._trendWindow.doPinchScrollZoom(e.center,e.scale)),e.eventType===this.Hammer.INPUT_END&&(this._hammerDad.stop(),this._trendWindow.endPinchScrollZoom(),this._previousScale=0)},t.prototype._onSingleTap=function(e){this._eventRectIdMatch(e.target)&&this._trendWindow.onSingleTap(e)},t.prototype._twoFingerSingleTap=function(e){this._eventRectIdMatch(e.target)&&(this._trendWindow.twoFingerSingleTap(e),this._hammerDad.stop())},t.prototype._onScrollEvent=function(t,i,r){var n,a,o=!1,s=!0,l={beginTime:[],endTime:[],chromIds:[],points:[],clientHandles:[],aggMode:[]};a=[],t===this._trendView.axisTypeEnum.yAxis?(!0,this._initialVertOffset=r,this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&(s=!1)):(t=this._trendView.axisTypeEnum.xAxis,!0,this._trendView.trendObjectType===e.Data.TrendObjectType.Online&&this._initialHorizOffset!==r&&(o=!0,n=this._initialHorizOffset-r),this._initialHorizOffset=r),this._trendWindow.moveToPerc(r,t,o,n,l,a),this._trendWindow.resetTrendWindow(),l.chromIds.length&&this._trendView.dp.addRequest(l.beginTime,l.endTime,l.points,l.chromIds,l.clientHandles,a[0],l.aggMode,!0),(this._trendView.trendCompanionConstUpdate&&(this._trendView.getShowRuler()||this._trendView.getShowStatisticRuler())&&s||this._trendView.secondaryRulerToolTip)&&this._trendView.calculateRulerData()},t.prototype._getMousePos=function(e){var t={x:0,y:0};return e.changedTouches?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t},t.prototype._getPos=function(e){return{x:e.pointers[0].clientX,y:e.pointers[0].clientY}},t.prototype._getDrawableTrendById=function(e){var t,i,r,n=null,a="";if(i=(t=this._trendWindow.drawableTrends).length,void 0!==e){for(e=e.split("_"),r=2;r<e.length;r++)a+=e[r]+"_";for(a=a.slice(0,a.length-1),r=0;r<i;r++)if(a=t[r].id){n=t[r];break}return n}},t.prototype._enableDisableMouseScroll=function(e){if(e&&!this._mouseScrollEvents)this._svgParent.addEventListener("wheel",this._onMouseScroll.bind(this));else{if(e||!this._mouseScrollEvents||this.vScrollbar||this.hScrollbar||!this._trendView.isOnline()&&!this._trendView.isZooming)return;this._svgParent.removeEventListener("wheel",this._onMouseScroll.bind(this))}this._mouseScrollEvents=e},t.prototype._trendToolTipClose=function(){var e,t;if(this._isToolTipShown){for(e=this._trendView.getDrawableTrend(),t=0;t<e.length;t++)e[t].tooltipFeature&&e[t].tooltipFeature.isTooltipShown&&e[t].tooltipFeature.hideToolTip(this._trendView.svgToolTipHighLighterGroup);this._isToolTipShown=!1}},t.prototype._onTrendWindowMouseLeave=function(e){this._rulerMoveStatus||(this._svgParent.style.cursor="Default",this._trendToolTipClose())},t.prototype._onTrendWindowMouseDown=function(e){e.preventDefault(),e.which!==this.RIGHT_CLICK&&e.buttons!==this.RIGHT_CLICK_KEYCODE||(this._trendView.zoomInOut||this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&(this._rightClickObj.point=this._getMousePos(e),this._rightClickObj.timeStamp=e.timeStamp)},t.prototype._onTrendWindowMouseUp=function(e){e.preventDefault(),e.which!==this.RIGHT_CLICK&&e.buttons!==this.RIGHT_CLICK_KEYCODE||(this._trendView.zoomInOut||this._trendView.zoomInOutX||this._trendView.zoomInOutY)&&e.timeStamp-this._rightClickObj.timeStamp<=this.SINGLE_TAP_TIME&&this._trendWindow.twoFingerSingleTap(this._rightClickObj.point,!0)},t.prototype._onTrendWindowMouseMove=function(e){e.preventDefault();var t,i,r,n=0;if(t=this._trendView.zoomInOut||this._trendView.zoomInOutX||this._trendView.zoomInOutY,!this._trendView.isOnline()&&!this._rulerMoveStatus)for(i=this._trendWindow.drawableTrends,n=0;n<i.length&&(i[n].tooltipFeature&&(r=this.setTooltipText(e,i[n])),!r);n++);this._trendView.enabled&&(t?t&&(e.altKey||e.shiftKey)?this._svgParent.style.cursor=this._zoomOutCursorPath:t&&(this._svgParent.style.cursor=this._zoomInCursorPath):this._trendView.moveTrendArea?this._svgParent.style.cursor="all-scroll":this._trendView.zoomArea&&(this._svgParent.style.cursor=this._zoomInCursorPath))},t.prototype.addTooltipGroup=function(){this._trendView.svgToolTipHighLighterGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._trendView.svgToolTipHighLighterGroup.setAttribute("id",this._trendView.getControlName()+"_svgToolTipHighLighterGroup"),this._trendView.svgToolTipHighLighterGroup.setAttribute("visibility","hidden"),this._trendView.svgToolTipHighLighterGroup.style.pointerEvents="none",this._trendView.toolTipHighlighterCircle=e.Features.Shape.SvgShape.CreateSvgElement("circle",{cx:0,cy:0,r:7,fill:"black",visibility:"hidden",opacity:.4,id:this._trendView.getControlName()+"_toolTipHighlighterCircle",appendTo:this._trendView.svgToolTipHighLighterGroup}),this._trendView.toolTipHighlighterRect=e.Features.Shape.SvgShape.CreateSvgElement("rect",{x:0,y:0,height:4,width:4,fill:"black",visibility:"hidden",opacity:.4,id:this._trendView.getControlName()+"_toolTipHighlighterRect",appendTo:this._trendView.svgToolTipHighLighterGroup}),this._trendView.svgTooltipGroup=e.Features.Shape.SvgShape.CreateSvgElement("g",{id:this._trendView.getControlName()+"_svgToolTipGroup",fill:"black",stroke:"none","stroke-width":1}),this._trendView.SVGParent.childNodes[0].appendChild(this._trendView.svgToolTipHighLighterGroup),this._trendView.SVGParent.childNodes[0].appendChild(this._trendView.svgTooltipGroup)},t.prototype.init=function(){this._zoomInCursorPath="url("+this._trendView.RTPUItem.Store.gfxWebLib.connection.getAppDir()+"content/systemdata/zoomin.cur), default",this._zoomOutCursorPath="url("+this._trendView.RTPUItem.Store.gfxWebLib.connection.getAppDir()+"content/systemdata/zoomout.cur), default",this._eventRectId=this._trendWindow.getEventRectId(),this._isLeftOrRight=this._trendWindow.getIsLeftOrRight(),this._trendWindow.setScrollbarDim=this.setScrollbarDim.bind(this),this._trendWindow.enableTrendAreaMove=this.enableTrendAreaMove.bind(this),this._trendWindow.enableDisablePinchAndScroll=this.enableDisablePinchAndScroll.bind(this),this._eventCbs={onTrendWindowMouseMove:this._onTrendWindowMouseMove.bind(this),onTrendWindowMouseUp:this._onTrendWindowMouseUp.bind(this),onTrendWindowMouseDown:this._onTrendWindowMouseDown.bind(this),onTrendWindowMouseLeave:this._onTrendWindowMouseLeave.bind(this),onEvent:this._onEvent.bind(this),onPan:this._onPan.bind(this),onPanStart:this._onPanStart.bind(this),onSingleTap:this._onSingleTap.bind(this),twoFingerSingleTap:this._twoFingerSingleTap.bind(this),onPinch:this._onPinch.bind(this)}},t.prototype.initHammer=function(){this._innerRect=this._trendWindow.getRect(),this._eventFocusElements=this._trendWindow.getEventSVG(),this._svgParent=this._trendWindow.getSVG(),this._svgPoint=this._trendView.SVGParent.createSVGPoint(),this.Hammer=this._trendView.Hammer,this.Hammer&&(this._hammerDad&&(this._hammerDad.destroy(),this._hammerDad=null),this._hammerDad=new this.Hammer.Manager(this._svgParent,{prevent_default:!0,transform_always_block:!0}),this._hammerDad.add(new this.Hammer.Tap({event:this._hammerEvents.TWO_FINGER_SINGLE_TAP,taps:1,pointers:2,time:200,threshold:10})),this._hammerDad.add(new this.Hammer.Tap({event:this._hammerEvents.SINGLE_TAP,taps:1,pointers:1,time:this.SINGLE_TAP_TIME,threshold:2})),this._hammerDad.add(new this.Hammer.Pan({event:this._hammerEvents.PAN,pointers:1,direction:this.Hammer.DIRECTION_ALL,threshold:5})),this._pinchEvent=new this.Hammer.Pinch({event:this._hammerEvents.PINCH,pointers:2,threshold:0,enable:!0})),this._rulerEvents=!1,this._moveTrendAreaEvents=!1,this._mouseScrollEvents=!1,(this._trendView.getShowStatisticRuler()||this._trendView.getShowRuler())&&this.enableRulerEvents(),e.Features.Shape.SvgShape.AddSvgEvents(this._eventFocusElements,{mousedown:this._eventCbs.onTrendWindowMouseDown,mouseleave:this._eventCbs.onTrendWindowMouseLeave,mouseup:this._eventCbs.onTrendWindowMouseUp,mousemove:this._eventCbs.onTrendWindowMouseMove,touchstart:this._eventCbs.onEvent})},t.prototype.unInitHammer=function(){this.disableRulerEvents(),this.removeSvgEvents(),this._hammerDad&&(this._hammerDad.destroy(),this._hammerDad=null)},t.prototype.setScrollbarDim=function(e,t,i,r,n,a){this._verticalScrollX=e,this._verticalScrollY=t,this._horizontalScrollX=i,this._horizontalScrollY=r,this._isLeftOrRight?(this._verticalScrollHeight=n,this._horizontalScrollWidth=a,this._verticalScrollWidth=this._horizontalScrollHeight=this.SCROLLBAR_WIDTH):(this._verticalScrollHeight=this._horizontalScrollWidth=this.SCROLLBAR_WIDTH,this._verticalScrollWidth=n,this._horizontalScrollHeight=a)},t.prototype.drawScrollbars=function(e,t){var i,r=!1;!t&&!e||this._trendWindow.scrollBarGroup||this._createScrollBar(),t?(i=this._trendWindow.scrollBarGroup,this.drawVertScrollbar(t,i)&&(r=!0)):this.removeVScroll(),e?(i=i||this._trendWindow.scrollBarGroup,this.drawHorizScrollbar(!1,e,i)&&(r=!0)):this.removeHScroll(),this._enableDisableMouseScroll(r)},t.prototype.updateScrollbars=function(e,t){var i=!1;t?i=this.updateVertScrollbar(t):this.removeVScroll(),e?i=this.updateHorizScrollbar(e):this.removeHScroll(),i&&this._enableDisableMouseScroll(!0)},t.prototype.drawHorizScrollbar=function(t,i,r){var n,a,o,s,l,u,h,d,c,p,m=!0,g=0;o=(a=this._trendWindow.getXAxes()).length;var T=e.Data.TextOrientation;if(p=this._isLeftOrRight?"Horizontal":"Vertical",t){for(s=0;s<o;s++)(n=a[s]).zoomInOutCount>g&&(g=n.zoomInOutCount,l=s);i=g,n=a[l]}else for(s=0;s<o&&(n=a[s]).zoomInOutCount!==i;s++);if(0!==i&&this._trendView.oneToOneView){switch(this._trendView.trendObjectType===e.Data.TrendObjectType.Online||n.config.ScalingType===e.getChromEnum("HmiScalingType").Linear?(u=n.currentBeginValue,h=n.currentEndValue,d=n.startValueBuffer,c=n.endValueBuffer):n.config.ScalingType>=e.getChromEnum("HmiScalingType").Logarithmic&&(u=n.getLogValue(n.currentBeginValue),h=n.getLogValue(n.currentEndValue),d=n.getLogValue(n.startValueBuffer),c=n.getLogValue(n.endValueBuffer)),n.textOrientation){case T.FromRight:case T.FromBottom:this._initialHorizOffset=(u-d)/(c-d-h+u);break;case T.FromLeft:case T.FromTop:this._initialHorizOffset=(c-h)/(c-d-h+u)}this._initialHorizOffset<0&&(this._initialHorizOffset=0),this.initialWidthPerc=(h-u)/(c-d)}else this.initialWidthPerc=this._initialHorizOffset=0;return this._isLeftOrRight&&this._horizontalScrollWidth>2*this._horizontalScrollHeight||!this._isLeftOrRight&&this._horizontalScrollHeight>2*this._horizontalScrollWidth?(this.hScrollbar&&this.hScrollbar.templateInstance?this.updateHScrollData(this.initialWidthPerc):(this.hScrollbar=e.Utilities.createScrollBarObj(this._trendView,p,this.createHScrollData()),this.hScrollTemplateInst=e.loadSubTemplate(r,this.hScrollbar,"ScrollBarSystemPart",this.hScrollbar.props.RenderingTemplate,this.hScrollbar.cbOnChanged.bind(this),this.hScrollbar.cbOnTemplateLoaded.bind(this))),this._trendWindow.setScrollbarRef(this.hScrollbar),0===i&&(this._trendView.redraw(),m=!1)):m=!1,m},t.prototype.drawVertScrollbar=function(t,i){var r,n,a,o,s,l,u,h,d,c=!0;a=(n=this._trendWindow.getYAxes()).length;var p=e.Data.TextOrientation;for(d=this._isLeftOrRight?"Vertical":"Horizontal",o=0;o<a&&(r=n[o]).zoomInOutCount!==t;o++)r=null;if(0!==t&&this._trendView.oneToOneView&&null!==r){switch(r.config.ScalingType===e.getChromEnum("HmiScalingType").Linear?(s=r.currentBeginValue,l=r.currentEndValue,u=r.startValueBuffer,h=r.endValueBuffer):r.config.ScalingType>=e.getChromEnum("HmiScalingType").Logarithmic&&(s=r.getLogValue(r.currentBeginValue),l=r.getLogValue(r.currentEndValue),u=r.getLogValue(r.startValueBuffer),h=r.getLogValue(r.endValueBuffer)),r.textOrientation){case p.FromTop:case p.FromLeft:this._initialVertOffset=(h-l)/(h-u-l+s);break;case p.FromBottom:case p.FromRight:this._initialVertOffset=(s-u)/(h-u-l+s)}this.initialHeightPerc=(l-s)/(h-u)}else this.initialHeightPerc=this._initialVertOffset=0;return this._isLeftOrRight&&this._verticalScrollHeight>2*this._verticalScrollWidth||!this._isLeftOrRight&&this._verticalScrollWidth>2*this._verticalScrollHeight?(this.vScrollbar&&this.vScrollbar.templateInstance?this.updateVScrollData(this.initialHeightPerc):(this.vScrollbar=e.Utilities.createScrollBarObj(this._trendView,d,this.createVScrollData()),this.vScrollTemplateInst=e.loadSubTemplate(i,this.vScrollbar,"ScrollBarSystemPart",this.vScrollbar.props.RenderingTemplate,this.vScrollbar.cbOnChanged.bind(this),this.vScrollbar.cbOnTemplateLoaded.bind(this))),this._trendWindow.setScrollbarRef(null,this.vScrollbar),0===t&&(this._trendView.redraw(),c=!1)):c=!1,c},t.prototype.createHScrollData=function(){return{BeginValue:this.SCROLLBAR_BEGINVALUE,Height:this._horizontalScrollHeight,Width:this._horizontalScrollWidth,EndValue:this.SCROLLBAR_ENDVALUE,CurrentValue:this._initialHorizOffset*((1-this.initialWidthPerc)*this.SCROLLBAR_ENDVALUE),cbOnChanged:this.hScrollValueChanged.bind(this),cbOnTemplateLoaded:this.hScrollTemplateLoaded.bind(this),cbOnCommand:this.hScrollOnCommand.bind(this),VisibleValueRange:this.initialWidthPerc*this.SCROLLBAR_ENDVALUE,SmallStepValueRange:this.SCROLL_STEPS}},t.prototype.createVScrollData=function(){return{BeginValue:this.SCROLLBAR_BEGINVALUE,Height:this._verticalScrollHeight,Width:this._verticalScrollWidth,EndValue:this.SCROLLBAR_ENDVALUE,CurrentValue:this._initialVertOffset*((1-this.initialHeightPerc)*this.SCROLLBAR_ENDVALUE),cbOnChanged:this.vScrollValueChanged.bind(this),cbOnTemplateLoaded:this.vScrollTemplateLoaded.bind(this),cbOnCommand:this.vScrollOnCommand.bind(this),VisibleValueRange:this.initialHeightPerc*this.SCROLLBAR_ENDVALUE,SmallStepValueRange:this.SCROLL_STEPS}},t.prototype.updateHScrollData=function(e){var t,i;e&&(t=this._initialHorizOffset*((1-e)*this.SCROLLBAR_ENDVALUE),i=e*this.SCROLLBAR_ENDVALUE,this.hScrollbar.props.CurrentValue!==t&&this.hScrollbar.templateInstance.setHmiProps(t,"HmiProps.CurrentValue"),this.hScrollbar.props.VisibleValueRange!==i&&this.hScrollbar.templateInstance.setHmiProps(i,"HmiProps.VisibleValueRange")),this._horizontalScrollHeight&&this.hScrollbar.props.Height!==this._horizontalScrollHeight&&this.hScrollbar.templateInstance.setHmiProps(this._horizontalScrollHeight,"HmiProps.Height"),this._horizontalScrollWidth&&this.hScrollbar.props.Width!==this._horizontalScrollWidth&&this.hScrollbar.templateInstance.setHmiProps(this._horizontalScrollWidth,"HmiProps.Width"),this.hScrollbar.templateInstance.update(),this._horizontalScrollX&&this.hScrollbar.templateInstance.RootNode.setAttribute("x",this._horizontalScrollX),this._horizontalScrollY&&this.hScrollbar.templateInstance.RootNode.setAttribute("y",this._horizontalScrollY)},t.prototype.updateVScrollData=function(e){var t,i;e&&(t=this._initialVertOffset*((1-e)*this.SCROLLBAR_ENDVALUE),i=e*this.SCROLLBAR_ENDVALUE,this.vScrollbar.props.CurrentValue!==t&&this.vScrollbar.templateInstance.setHmiProps(t,"HmiProps.CurrentValue"),this.vScrollbar.props.VisibleValueRange!==i&&this.vScrollbar.templateInstance.setHmiProps(i,"HmiProps.VisibleValueRange")),this._verticalScrollHeight&&this.vScrollbar.props.Height!==this._verticalScrollHeight&&this.vScrollbar.templateInstance.setHmiProps(this._verticalScrollHeight,"HmiProps.Height"),this._verticalScrollWidth&&this.vScrollbar.props.Width!==this._verticalScrollWidth&&this.vScrollbar.templateInstance.setHmiProps(this._verticalScrollWidth,"HmiProps.Width"),this.vScrollbar.templateInstance.update(),this._verticalScrollX&&this.vScrollbar.templateInstance.RootNode.setAttribute("x",this._verticalScrollX),this._verticalScrollY&&this.vScrollbar.templateInstance.RootNode.setAttribute("y",this._verticalScrollY)},t.prototype.hScrollTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",this._horizontalScrollX),e.templateInstance.RootNode.setAttribute("y",this._horizontalScrollY)},t.prototype.vScrollTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",this._verticalScrollX),e.templateInstance.RootNode.setAttribute("y",this._verticalScrollY)},t.prototype.hScrollOnCommand=function(t,i,r){this._trendView.trendObjectType!==e.Data.TrendObjectType.Online||"MOVE_TRIGGERED"!==i||r||this._trendView.dp.sendRequest()},t.prototype.vScrollOnCommand=function(e,t,i){},t.prototype.hScrollValueChanged=function(e,t){this._onScrollEvent(this._trendView.axisTypeEnum.xAxis,t/(1-this.initialWidthPerc),t/((1-this.initialWidthPerc)*this.SCROLLBAR_ENDVALUE))},t.prototype.vScrollValueChanged=function(e,t){this._onScrollEvent(this._trendView.axisTypeEnum.yAxis,t/(1-this.initialHeightPerc),t/((1-this.initialHeightPerc)*this.SCROLLBAR_ENDVALUE))},t.prototype.removeHScroll=function(){this.hScrollbar&&this.hScrollbar.templateInstance&&(e.removeSubTemplate(this.hScrollbar.templateInstance),this.hScrollbar=null)},t.prototype.removeVScroll=function(){this.vScrollbar&&this.vScrollbar.templateInstance&&(e.removeSubTemplate(this.vScrollbar.templateInstance),this.vScrollbar=null)},t.prototype.updateHorizScrollbar=function(e){if(!this.hScrollbar||!this.hScrollbar.templateInstance)return this.drawHorizScrollbar(!1,e,this._trendWindow.scrollBarGroup);this.updateHScrollData()},t.prototype.updateVertScrollbar=function(e){if(!this.vScrollbar||!this.vScrollbar.templateInstance)return this.drawVertScrollbar(e,this._trendWindow.scrollBarGroup);this.updateVScrollData()},t.prototype.disableRulerEvents=function(){this._rulerEvents=!1,this._hammerDad&&(e.Features.Shape.SvgShape.RemoveSvgEvents(this._svgParent,{mouseup:this._eventCbs.onEvent,touchstart:this._eventCbs.onEvent,touchend:this._eventCbs.onEvent}),e.Features.Shape.SvgShape.RemoveSvgEvents(this._trendView.SVGParent,{mousedown:this._eventCbs.onEvent}),!1===this._moveTrendAreaEvents&&this._hammerDad&&this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PAN)&&this._hammerDad.off(this._hammerEvents.PAN,this._eventCbs.onPan))},t.prototype.enableRulerEvents=function(){this._rulerEvents=!0,this._hammerDad&&(e.Features.Shape.SvgShape.AddSvgEvents(this._svgParent,{mouseup:this._eventCbs.onEvent,touchstart:this._eventCbs.onEvent,touchend:this._eventCbs.onEvent}),e.Features.Shape.SvgShape.AddSvgEvents(this._trendView.SVGParent,{mousedown:this._eventCbs.onEvent}),!1===this._moveTrendAreaEvents&&this._hammerDad&&this._hammerDad.on(this._hammerEvents.PAN,this._eventCbs.onPan))},t.prototype.enableDisablePinchAndScroll=function(e){this._hammerDad&&(e?(this._hammerDad.add(this._pinchEvent),this._hammerDad.on(this._hammerEvents.PINCH,this._eventCbs.onPinch)):this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PINCH)&&(this._hammerDad.off(this._hammerEvents.PINCH,this._eventCbs.onPinch),this._hammerDad.remove(this._pinchEvent))),this._enableDisableMouseScroll(e)},t.prototype.enableTrendAreaMove=function(e){this._moveTrendAreaEvents=!0,this._hammerDad&&(this._hammerDad.on(this._hammerEvents.TWO_FINGER_SINGLE_TAP,this._eventCbs.twoFingerSingleTap),this._hammerDad.on(this._hammerEvents.SINGLE_TAP,this._eventCbs.onSingleTap),!1===this._rulerEvents&&this._hammerDad.on(this._hammerEvents.PAN,this._eventCbs.onPan),this._hammerDad.on(this._hammerEvents.PAN_START,this._eventCbs.onPanStart)),e&&this.enableDisablePinchAndScroll(!1)},t.prototype.disableTrendAreaMove=function(e){this._moveTrendAreaEvents=!1,this._hammerDad&&(this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.TWO_FINGER_SINGLE_TAP)&&this._hammerDad.off(this._hammerEvents.TWO_FINGER_SINGLE_TAP,this._eventCbs.twoFingerSingleTap),this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.SINGLE_TAP)&&this._hammerDad.off(this._hammerEvents.SINGLE_TAP,this._eventCbs.onSingleTap),!1===this._rulerEvents&&this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PAN)&&this._hammerDad.off(this._hammerEvents.PAN,this._eventCbs.onPan),this._hammerDad.handlers.hasOwnProperty(this._hammerEvents.PAN_START)&&this._hammerDad.off(this._hammerEvents.PAN_START,this._eventCbs.onPanStart)),e&&this.enableDisablePinchAndScroll(!0)},t.prototype.setTooltipText=function(t,i){var r,n,a,o,s,l,u,h,d,c,p,m,g="",T="",f="none",y=0,D=0,S="xTagPosition",b="yTagPosition",C=!1,v=0,P=0,_=60;if(h=i.pointWidth>6?i.pointWidth+2:6,this._currentDragPoint=this._getMousePos(t),this.translateCoordinates(this._currentDragPoint,null),this._isToolTipShown&&Math.abs(this._lastMousePositionX-this._currentDragPoint.x)<10&&Math.abs(this._lastMousePositionY-this._currentDragPoint.y)<10)return!1;for(this._lastMousePositionX=this._currentDragPoint.x,this._lastMousePositionY=this._currentDragPoint.y,this._isLeftOrRight||(S="yTagPosition",b="xTagPosition"),u=i.linesCollection.length,l=0;l<u&&(d=i.linesCollection[l]).points;l++){if(p=d.items.length,d.translate?this._isLeftOrRight?(y=i.translateX,D=i.translateY):(D=i.translateX,y=i.translateY):(y=0,D=0),i.trendView.trendObjectType===e.Data.TrendObjectType.Online?(null===d.items[d.items.length-1].xTagPosition&&(p=i.searchforTagListIndex(d)),m=i.searchforposition(p,d,S,b,y,D,h,this._currentDragPoint)):m=i.searchforposition(p,d,y,D,h,this._currentDragPoint),!1!==m){c=m.trendPoint,v=m.markerX,P=m.markerY,C=m.isMarkerArea,m=null;break}c=null}return C?(c&&(o=i.currentXAxis.getDisplayValue(c.xTagValue),s=i.currentYAxis.getDisplayValue(c.yTagValue)),a=i.trendStyle===e.getChromEnum("HmiTrendMode").Points?0:i.lineWidth,i.fill&&(f=i.fillColor),n=i.displayName,r={id:i.id,trendColor:i.color,lineWidth:a,lineStyle:i.lineStyle,fillColor:f,markerColor:i.pointColor,markerWidth:h,markerStyle:i.pointStyle,trendWindowColor:i.currentTrendWindow.backColor,graphicMarkerSrc:i.graphicMarkerSrc,trendAreaBackColor:i.currentTrendWindow.config.BackColor},this._trendView.svgToolTipHighLighterGroup||this.addTooltipGroup(),i.trendView.trendObjectType===e.Data.TrendObjectType.Online?(T=i.dataSource.TagDisplayName.length>_?i.dataSource.TagDisplayName.substr(0,_)+"...":i.dataSource.TagDisplayName,this._trendToolTipClose(),i.tooltipFeature.setToolTipValueData({header:n,xAxisValue:o,yAxisValue:T+" (Y) : "+s,tempX:v,tempY:P,trendData:r,boundaryRect:i.currentTrendWindow.getRect(),highlighterGroup:i.trendView.svgToolTipHighLighterGroup})):(g=i.dataSourceX.TagDisplayName.length>_?i.dataSourceX.TagDisplayName.substr(0,_)+"...":i.dataSourceX.TagDisplayName,T=i.dataSourceY.TagDisplayName.length>_?i.dataSourceY.TagDisplayName.substr(0,_)+"...":i.dataSourceY.TagDisplayName,i.tooltipFeature.setToolTipValueData({header:n,xAxisValue:[g+" (X) : "+o],yAxisValue:T+" (Y) : "+s,tempX:v,tempY:P,trendData:r,boundaryRect:i.currentTrendWindow.getRect(),highlighterGroup:i.trendView.svgToolTipHighLighterGroup})),this._isToolTipShown=!0,this._isToolTipShown):(this._trendToolTipClose(),!1)},t.prototype.setIsLeftOrRight=function(e){this._isLeftOrRight=e},t.prototype.translateCoordinates=function(e,t){var i;if(i=(t||this._trendWindow.getDrawableAreaRect()).getScreenCTM(),navigator.userAgent.indexOf("Firefox")>-1){var r=this._trendView.RTPUItem.Store,n=r.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(r).props,a=n.HorizontalScrollBarPosition,o=n.VerticalScrollBarPosition;o>0&&(i.f-=o),a>0&&(i.e-=a)}this._svgPoint.x=e.x,this._svgPoint.y=e.y,this._svgPoint=this._svgPoint.matrixTransform(i.inverse()),e.x=this._svgPoint.x,e.y=this._svgPoint.y},t.prototype.drawRuler=function(){this._ruler.draw(),this._innerRect=this._trendWindow.getRect(),this._svgParent=this._trendWindow.getSVG()},t.prototype.removeSvgEvents=function(){this._eventFocusElements&&e.Features.Shape.SvgShape.RemoveSvgEvents(this._eventFocusElements,{mousedown:this._eventCbs.onTrendWindowMouseDown,mouseup:this._eventCbs.onTrendWindowMouseUp,mouseleave:this._eventCbs.onTrendWindowMouseLeave,mousemove:this._eventCbs.onTrendWindowMouseMove,touchstart:this._eventCbs.onEvent})},t.prototype.cleanUp=function(){this._hammerDad&&this._hammerDad.destroy(),this._toolTip&&this._toolTip.cleanUp(),this.removeSvgEvents(),this.removeHScroll(),this.removeVScroll(),this._eventCbs.onTrendWindowMouseMove=this._eventCbs.onTrendWindowMouseUp=this._eventCbs.onTrendWindowMouseDown=this._eventCbs.onTrendWindowMouseLeave=this._eventCbs.onEvent=null,this._trendView=this._trendWindow=this.Hammer=this._hammerDad=this._svgParent=this._eventFocusElements=this._innerRect=this._ruler=this._toolTip=this._toolTippedTrend=this.hScrollTemplateInst=this.vScrollTemplateInst=this._eventCbs=null},t}();t.TrendWindowEventManager=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){!function(i){var n=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e._deltaX=0,e._deltaY=0,e.LEFT_CLICK=1,e.RIGHT_CLICK=3,e._currentDragPoint={x:0,y:0},e.requiredFeature=[],e.trendIndicatorRectClippathIds={},e.moveToPerc=null,e.maxAllowedValue=1e307,e.minAllowedValue=1e-307,e.straightDialCount=1,e.auxMarkers=[],e._animationSteps=1,e._axisWidth=0,e._axisBufferWidth=0,e._bufferString="00",e._lowerBoundAxisWidth=0,e._animatingInvalidation=!1,e.maxScaleLimit=1e307,e.minScaleLimit=-1e307,e.decimalPrecision=2,e.templateAttributes={},e.defaults={},e}return r(n,i),n.prototype._setLabelText=function(e,t){(t>this._axisWidth||t<this._lowerBoundAxisWidth)&&(this.labelText=e)},n.prototype._setOrientationAndStartEndValues=function(){var e,i=this.textOrientation;return this.trendView.isLeftOrRight()?this.axisBeginValue>this.axisEndValue?(this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=t.Data.TextOrientation.FromLeft:this.textOrientation=t.Data.TextOrientation.FromBottom,e=this.axisBeginValue,this.axisBeginValue=this.axisEndValue,this.axisEndValue=e):this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=t.Data.TextOrientation.FromRight:this.textOrientation=t.Data.TextOrientation.FromTop:this.axisBeginValue>this.axisEndValue?(this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=t.Data.TextOrientation.FromTop:this.textOrientation=t.Data.TextOrientation.FromLeft,e=this.axisBeginValue,this.axisBeginValue=this.axisEndValue,this.axisEndValue=e):this.trendView.axisTypeEnum.xAxis===this.axisType?this.textOrientation=t.Data.TextOrientation.FromBottom:this.textOrientation=t.Data.TextOrientation.FromRight,this.setStraightDialOrientationProps(),i!==this.textOrientation},n.prototype._calculateRange=function(e){this.trendView.trendObjectType!==t.Data.TrendObjectType.Function||this.alwaysShowRecent?this.config.AutoRange?this.invalidated=this.setExtremeAxisValues(e):(this.invalidated=!1,e?this.startValueBuffer===this.axisBeginValue&&this.endValueBuffer===this.axisEndValue||(this.startValueBuffer=this.axisBeginValue,this.endValueBuffer=this.axisEndValue,this.invalidated=!0):this.currentBeginValue===this.axisBeginValue&&this.currentEndValue===this.axisEndValue||(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,this.invalidated=!0)):this.invalidated=!1},n.prototype._animateInvalidation=function(e){var i,r,a,o,s,l,u=0,h=null,d=null,c=this._animationSteps,p=this.currentBeginValue,m=this.currentEndValue;if(this._calculateRange(e),this.invalidated){switch(i=this.currentBeginValue,r=this.currentEndValue,this.currentBeginValue=p,this.currentEndValue=m,a=(i-p)/c,o=(r-m)/c,this.axisType){case this.trendView.axisTypeEnum.xAxis:h=this.config.Name;break;case this.trendView.axisTypeEnum.yAxis:d=this.config.Name}s=function(){var e;if(++u===c?(this.currentBeginValue=i,this.currentEndValue=r):(this.currentBeginValue=p+u*a,this.currentEndValue=m+u*o),this.alwaysShowRecent&&this.calculateAndUpdate(),(e=this.trendView.getDrawableTrendWindowByName(this.trendWindow))&&e.reDraw(h,d),u===c)return s=l=h=d=null,this._animatingInvalidation=!1,this.trendView.trendObjectType===t.Data.TrendObjectType.Function&&this.trendView.trendControlAnimator.requestRulerDataCalculation(!0),!1},l=function(){s=l=h=d=null,this._animatingInvalidation=!1},this._animationSteps=n._animationStepsThreshold,this.trendView.trendControlAnimator.addValueAxisAnimation(this.axisPbId,s.bind(this),l.bind(this),{newBeginValue:i,newEndValue:r}),this._animatingInvalidation=!0}},n.prototype.invalidate=function(e,t){return t?this._animateInvalidation(e):(this._animatingInvalidation&&this.trendView.trendControlAnimator.removeValueAxisAnimation(this.axisPbId),this._calculateRange(e),this.invalidated&&this.calculateAndUpdate()),this.invalidated&&e},n.prototype.calculateAndUpdate=function(e,i){var r,n,a,o,s=!0,l=this.config.Visible&&this.trendWindowDrawable&&!e,u=this.currentEndValue-this.currentBeginValue;for(this.invalidated=!0,this.textOrientation===t.Data.TextOrientation.FromRight||this.textOrientation===t.Data.TextOrientation.FromTop?(r=this.currentBeginValue,n=this.currentEndValue):(r=this.currentEndValue,n=this.currentBeginValue),a=0;a<this.straightDialCount;a++)(o=this.straightDials[a].Features[0]).Attributes["begin-value"]=r,o.Attributes["end-value"]=n,l&&o.draw(o.webRTPUItem,o.metaData),r+=u,n+=u;if((this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&(this.moveMinMaxRuler&&this.moveMinMaxRuler(),this.trendView.trendObjectType===t.Data.TrendObjectType.Function&&this.parentTrendWindow.updateRulerLabel(this)),this.config.Visible&&this.trendWindowDrawable&&this.axisType===this.trendView.axisTypeEnum.yAxis){var h=this._axisWidth,d=this.getAxisWidth();(d>h||d<this._lowerBoundAxisWidth)&&(!0===i?this.trendView.redraw():this._lowerBoundAxisWidth>0&&this.trendView.onUpdate(),s=!1)}return s},n.prototype.redrawScale=function(){var e,t;for(e=0;e<this.straightDialCount;e++)(t=this.straightDials[e].Features[0]).draw(t.webRTPUItem,t.metaData)},n.prototype.OnUpdate=function(e,i,r){var n,a,o,s=t.Data.AxisPropId;switch(e){case s.Visible:this.config.Visible=i,t.Data.PostPropertyUpdate.Redraw=!0;break;case s.DivisionCount:this.handleDivisionCount(i,n);break;case s.SubDivisionCount:this.handleSubDivisionCount(i,n);break;case s.TickColor:this.handleTickColor(i,n);break;case s.LabelColor:this.handleLabelColor(i,n);break;case s.AxisColor:this.config.AxisColor=i,this.defaultFeaturesUsed&&(o=t.getRGBAcolor(i),this.ribbons.Attributes.stroke=o,this.config.Visible&&this.redrawScale());break;case s.ScalingType:this.handleScaling(a,n,i);break;case s.EndValue:this.handleEndValue(i);break;case s.BeginValue:this.handleBeginValue(i);break;case s.OutputFormat:if(this.config.OutputFormat=""===i?t.getDefaultFormat(window.Variant.CF_VT.DOUBLE):i,this.defaultFeaturesUsed)for(n=0;n<this.labelsFeatures.length;n++)this.labelsFeatures[n].Attributes["output-format"]=this.config.OutputFormat,t.Data.PostPropertyUpdate.Update=!0,this.redrawScale();break;case s.AutoScaling:this.handleAutoScaling(i);break;case s.AutoRange:this.handleAutoRange(i,undefined,a,n);break;case s.DisplayName:this.config.DisplayName=i,""===i&&this.trendWindowDrawable&&this.displayNameSvg&&(this.dom.removeChild(this.displayNameSvg),this.displayNameSvg=null,this.addEventOnDisplayName=!1),t.Data.PostPropertyUpdate.Redraw=!0;break;case s.HelpLines:this.handleHelpLines(r,i);break;default:this.updateProperty(e,i),this.parentTrendWindow.updateRulerToolTip()}},n.prototype.handleHelpLines=function(e,t){var i=e.pathItems[1],r=e.modifiedProp;if("Visible"===r){this.auxiliaryTicks[i].Attributes.condition=t;var n=this.auxiliaryTicks[i].dom;n&&(t?n.setAttributeNS(null,"visibility","inherit"):n.setAttributeNS(null,"visibility","hidden"))}else if("Value"===r){var a=this.auxMarkers[i];a.Attributes.value=t,a.draw(a.webRTPUItem,a.metaData)}},n.prototype.handleAutoScaling=function(e){this.config.AutoScaling=e,this.defaultFeaturesUsed&&(e?this.toggleFeature(this.straightDial,!0):this.toggleFeature(this.straightDial,!1),this.minorGridLines.length>0&&this.updateMinorGridLine(),this.redrawScale())},n.prototype.handleLabelColor=function(e,i){if(this.config.LabelColor=e,this.labelColor=t.getRGBAcolor(e),this.displayNameSvg&&this.displayNameSvg.children[1].setAttribute("fill",this.labelColor),this.defaultFeaturesUsed)for(i=0;i<this.labelsFeatures.length;i++)this.labelsFeatures[i].Attributes.fill=this.labelColor,this.config.Visible&&this.redrawScale()},n.prototype.handleTickColor=function(e,i){if(this.config.TickColor=e,this.tickColor=t.getRGBAcolor(e),this.displayNameSvg&&this.displayNameSvg.children[0].setAttribute("stroke",this.tickColor),this.defaultFeaturesUsed)for(i=0;i<this.ticksFeatures.length;i++)this.ticksFeatures[i].Attributes.stroke=this.tickColor,this.config.Visible&&this.redrawScale()},n.prototype.handleSubDivisionCount=function(e,t){if(this.config.SubDivisionCount=e,this.defaultFeaturesUsed&&!this.config.AutoScaling)for(t=0;t<this.minorGridLines.length;t++)this.minorGridLines[t].Parent.Attributes.count=e,this.config.Visible&&this.redrawScale()},n.prototype.handleDivisionCount=function(e,t){if(this.config.DivisionCount=e,this.defaultFeaturesUsed)for(t=0;t<this.divisionFeatures.length;t++)this.divisionFeatures[t].Attributes.count=e,this.config.Visible&&this.redrawScale()},n.prototype.handleAutoRange=function(e,i,r,n){if(this.config.AutoRange=e,this.defaultFeaturesUsed){if(this.labelText="0000000",e)(this.trendView.trendObjectType!==t.Data.TrendObjectType.Function||this.alwaysShowRecent)&&(!1===this.trendWindowDrawable&&(this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?(this.currentBeginValue=1,this.currentEndValue=100):this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic?(this.currentBeginValue=-100,this.currentEndValue=-1):(this.currentBeginValue=0,this.currentEndValue=100),this.trendView.createDrawableCollections()),i=this.setExtremeAxisValues(!1),t.Data.PostPropertyUpdate.Update=!0);else{for(this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?this.axisBeginValue<=0&&(this.axisBeginValue=1,this.axisEndValue<=this.axisBeginValue&&(this.axisEndValue=100)):this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic&&this.axisBeginValue>=0&&(this.axisBeginValue=-100,this.axisEndValue>=this.axisBeginValue&&(this.axisEndValue=-1)),r=this.getTrends(),length=r.length,n=0;n<length;n++)r[n].resetMinAndMaxValue(this.axisType);this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,t.Data.PostPropertyUpdate.Update=!0}i&&this.calculateAndUpdate()}},n.prototype.handleBeginValue=function(e){(e=Number(e))>=1e307?e=1e307:e<=-1e307&&(e=-1e307),(this.textOrientation===t.Data.TextOrientation.FromLeft||this.trendView.axisTypeEnum.yAxis===this.axisType&&this.textOrientation===t.Data.TextOrientation.FromBottom||this.trendView.axisTypeEnum.xAxis===this.axisType&&this.textOrientation===t.Data.TextOrientation.FromTop)&&(this.axisEndValue=this.axisBeginValue),this.axisBeginValue=e,this.config.BeginValue=this.axisBeginValue,t.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndValues()||t.Data.PostPropertyUpdate.Redraw,this.config.AutoRange&&t.isAppModeRuntime()||(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,t.Data.PostPropertyUpdate.Update=!0)},n.prototype.handleEndValue=function(e){(e=Number(e))>=1e307?e=1e307:e<=-1e307&&(e=-1e307),(this.textOrientation===t.Data.TextOrientation.FromLeft||this.trendView.axisTypeEnum.yAxis===this.axisType&&this.textOrientation===t.Data.TextOrientation.FromBottom||this.trendView.axisTypeEnum.xAxis===this.axisType&&this.textOrientation===t.Data.TextOrientation.FromTop)&&(this.axisBeginValue=this.axisEndValue),this.axisEndValue=e,this.config.EndValue=this.axisEndValue,t.Data.PostPropertyUpdate.Redraw=this._setOrientationAndStartEndValues()||t.Data.PostPropertyUpdate.Redraw,this.config.AutoRange&&t.isAppModeRuntime()||(this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,t.Data.PostPropertyUpdate.Update=!0)},n.prototype.handleScaling=function(e,i,r){if(this.config.ScalingType=r,this.defaultFeaturesUsed){for(e=this.getTrends(),length=e.length,i=0;i<length;i++)e[i].resetMinAndMaxValue(this.axisType);this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?(this.axisBeginValue<=0&&(this.axisBeginValue=1,this.axisEndValue<=this.axisBeginValue&&(this.axisEndValue=100)),this.currentBeginValue<=0&&(this.currentBeginValue=1,this.currentEndValue<=this.currentBeginValue&&(this.currentEndValue=100)),this.moveToPerc=this.moveToPercLogScale):this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic?(this.axisEndValue>=0&&(this.axisEndValue=-1,this.axisEndValue<=this.axisBeginValue&&(this.axisBeginValue=-100)),this.currentEndValue>=0&&(this.currentEndValue=-1,this.currentEndValue<=this.currentBeginValue&&(this.currentBeginValue=-100)),this.moveToPerc=this.moveToPercLogScale):this.moveToPerc=this.moveToPercLinearScale,this.straightDial.Features[0].Attributes.type=r,this.straightDial.Features[0].Attributes["begin-value"]=this.currentBeginValue,this.straightDial.Features[0].Attributes["end-value"]=this.currentEndValue,t.Data.PostPropertyUpdate.Update=!0,this.redrawScale()}},n.prototype.toggleFeature=function(e,i){var r,n;if(this.requiredFeature=[],this.divisionFeatures=[],this.autoMeasureFeatures=[],i){r=new t.Features.Structure.AutoMeasure,n=t.Features.Structure.Division,this.getScaleFeature(this.straightDial,n),r.Features=this.requiredFeature[0].Features;for(var a=0;a<this.requiredFeature.length;a++)for(var o=0;o<this.requiredFeature[a].Features.length;o++)this.requiredFeature[a].Features[o].Parent=r}else if(!i){(r=new t.Features.Structure.Division).Attributes={count:this.config.DivisionCount},n=t.Features.Structure.AutoMeasure,this.getScaleFeature(this.straightDial,n),r.Features=this.requiredFeature[0].Features;for(a=0;a<this.requiredFeature.length;a++)for(o=0;o<this.requiredFeature[a].Features.length;o++)this.requiredFeature[a].Features[o].Parent=r}if(this.requiredFeature.length>=1){for(a=0;a<this.straightDial.Features[0].Features.length;a++)(e.Features[0].Features[a]instanceof t.Features.Structure.Division||e.Features[0].Features[a]instanceof t.Features.Structure.AutoMeasure)&&(r.Parent=this.straightDial.Features[0],this.straightDial.Features[0].Features[a]=r);i?this.autoMeasureFeatures.push(r):this.divisionFeatures.push(r)}},n.prototype.getFeature=function(e,t){for(var i=0;i<e.Features.length;i++)e.Features[i]instanceof t&&this.requiredFeature.push(e.Features[i]),this.getFeature(e.Features[i],t)},n.prototype.getAxisWidth=function(){var e,i,r,n,a,o,s,l=0;if(this.defaultFeaturesUsed){if(this.config.Visible)if(this.templateAttributes.hasOwnProperty("width")&&"calculated"!==this.templateAttributes.width)l=this.templateAttributes.width;else{var u=void 0,h=void 0,d=void 0,c=void 0,p=this.straightDial.Features[0];""===this.config.DisplayName?this.textOrientation===t.Data.TextOrientation.FromLeft||this.textOrientation===t.Data.TextOrientation.FromRight?(u=t.getTextHeight(this.labelText,this.config.LabelFont),l=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+u):(h=this.getDisplayValue(p.Attributes["begin-value"]),d=this.getDisplayValue(p.Attributes["end-value"]),c=h.length>d.length?h:d,c=this._handleSpecialCharacters(c),u=t.getTextWidth(c,this.config.LabelFont),l=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+u,this._setLabelText(c,l)):this.textOrientation===t.Data.TextOrientation.FromTop||this.textOrientation===t.Data.TextOrientation.FromLeft?(c={x:0,y:0,width:t.getTextWidth(this.config.DisplayName,this.config.LabelFont),height:t.getTextHeight(this.config.DisplayName?this.config.DisplayName:"",this.config.LabelFont)},this.upadateLabelTextAndOtherProps(c),l=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+this.labelWidth):(c={x:0,y:0,width:t.getTextWidth("XY",this.config.LabelFont),height:t.getTextHeight(this.config.DisplayName?this.config.DisplayName:"",this.config.LabelFont)},l=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+c.height)}}else{for(var m=0;m<this.labelsFeatures.length;m++)this.labelsFeatures[m].dom,r=this.labelsFeatures[m].Attributes.offset,o=this.labelsFeatures[m].Attributes.angle,s=this.labelsFeatures[m].Attributes["output-format"],n=this.labelsFeatures[m].Parent.Parent.Attributes["begin-value"],a=this.labelsFeatures[m].Parent.Parent.Attributes["end-value"],n=t.convertFormatPattern(n,s),a=t.convertFormatPattern(a,s),"horizontal"===this.straightDial.Attributes.orientation&&(e=t.getTextHeight(n,this.config.LabelFont),i=t.getTextHeight(a,this.config.LabelFont),this.labelsFeatures[m].Attributes.angle>0&&(e=Math.abs(e*Math.sin(o)),i=Math.abs(i*Math.sin(o)))),"vertical"===this.straightDial.Attributes.orientation&&(e=t.getTextWidth(n,this.config.LabelFont),i=t.getTextWidth(a,this.config.LabelFont),this.labelsFeatures[m].Attributes.angle>0&&(e=Math.abs(e*Math.cos(o)),i=Math.abs(i*Math.cos(o)))),e<i?l<i&&(l=i):l<e&&(l=e);l+=Math.abs(r)}return l},n.prototype.upadateLabelTextAndOtherProps=function(e){e.width+=this.PADDING_X,e.height+=this.PADDING_Y,this.yAxisLabelWidthLimit<=this.bBoxText.width?this.yAxisLabelWidthLimit=this.bBoxText.width:this.yAxisLabelWidthLimit=this.xAxisLabelWidthLimit,e.width=e.width<=this.yAxisLabelWidthLimit?e.width:this.yAxisLabelWidthLimit,this.bBoxText.width=this.bBoxText.width>=e.width?this.bBoxText.width:e.width;var t=this.yAxisLabelWidthLimit-(this.trendView.getLineWidth()+this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace);this.bBoxText.width>=t?this.bBoxText.width=this.labelWidth=this.yAxisLabelWidthLimit:this.labelWidth=this.bBoxText.width,this.labelHeight=e.height},n.prototype.setExtremeAxisValues=function(e){var i,r,n,a,o=null,s=null,l=null,u=null,h=!1,d=this.parentTrendWindow.drawableTrends.length;for(i=0;i<d;i++)r=this.parentTrendWindow.drawableTrends[i],this.axisType===this.trendView.axisTypeEnum.xAxis?r.getXAxis()===this.config.Name&&(l=r.getXStartValue(),u=r.getXEndValue()):r.getYAxis()===this.config.Name&&(l=r.getYStartValue(),u=r.getYEndValue()),(null===o||l<o)&&null!==l&&(o=l),u>s&&(s=u),(null===s||u>s)&&null!==u&&(s=u),null!==l&&l<o&&(o=l);if(null!=o&&null!=s){if(o===s?(0===o?(o=-.1,s=.1):(o-=.1*Math.abs(o),s+=.1*Math.abs(s)),o===s&&(s+=o/=2)):(a=.1*(s-o),this.config.ScalingType===t.getChromEnum("HmiScalingType").Linear?(s+=a,o-=a):this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?(o-=o<=a?.1*o:a,s+=a):this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic&&(Math.abs(s)<=a?s-=.1*s:s+=a,o-=a)),s>=1e307&&(s=1e307,o>=1e307&&(o=1e306)),o<=-1e307&&(o=-1e307,s<=-1e307&&(s=-1e306)),this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?o<=0&&s<=0?(o=1,s=100):s<=0?s=o+.5*o:o<=0&&(o=s>1?1:s-.9*s):this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic&&(o>=0&&s>=0?(o=-100,s=-1):s>=0?s=o<-1?-1:o-.9*o:o>=0&&(o=s+.5*s)),e){if(this.startValueBuffer!==o||this.endValueBuffer!==s){if(this.startValueBuffer=o,this.endValueBuffer=s,a=s-o,n=this.currentEndValue-this.currentBeginValue,this.zoomInOutCount=0,n>=a)this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.startValueBuffer;else{this.currentBeginValue<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.currentBeginValue+n):this.currentEndValue>this.endValueBuffer&&(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=this.currentEndValue-n);do{this.zoomInOutCount++,a/=2}while(n<a)}h=!0}}else this.currentBeginValue===o&&this.currentEndValue===s||(this.currentBeginValue=o,this.currentEndValue=s,h=!0);return h}},n.prototype.init=function(i,r,n,a){var o,s,l;if(this.config=i,void 0===i.ScalingEntries&&(i.ScalingEntries=[]),void 0===i.HelpLines&&(i.HelpLines=[]),this.matrix="",this.trendView=r,this.parentTrendWindow=n,this.axisType=a,this.trendWindow=n.config.Name,r.axisTypeEnum.xAxis===a?(this.id=(this.trendView.getControlName()+"_"+n.config.Name+"_xVA_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.labelId=this.id+"_XAxisLabel",this.gridlinesGroupId=this.id+"_VerticalMajorGridlines_",this.minorGrdLinesGroupId=this.id+"_VerticalMinorGridlines_"):(this.id=(this.trendView.getControlName()+"_"+n.config.Name+"_yVA_"+this.config.Name).replace(/\s+/g,"_sp_").replace(/\(/g,"_ob_").replace(/\)/g,"_cb_").replace(/\\/g,"_bs_").replace(/\'/g,"_sq_").replace(/\"/g,"_dq_"),this.labelId=this.id+"_YAxisLabel",this.gridlinesGroupId=this.id+"_HorizontalMajorGridlines_",this.minorGrdLinesGroupId=this.id+"_HorizontalMinorGridlines_"),this.ticksGroupId=this.id+"_Ticks_",this.isTimeAxis=-1!==this.config.Type.indexOf("Time"),this.labelsGroupId=this.id+"_Labels_",this.axisPbId=(n.config.Name+"_"+this.config.Name).replace(/\s+/g,"_sp_"),this.labelColor=t.getRGBAcolor(this.config.LabelColor),this.tickColor=t.getRGBAcolor(this.config.TickColor),this.axisColor=t.getRGBAcolor(this.config.AxisColor),this.invalidated=!1,this.rect=new t.Features.Structure.Rectangle,this.innerRect=new t.Features.Structure.Rectangle,this.axisBeginValue=this.config.BeginValue,this.axisEndValue=this.config.EndValue,!this.trendView.isOnline()&&this.trendView.isStyleChange()){var u=t.Data.AxisDataStore.retrieve(this.axisPbId);u&&(this.axisBeginValue=u.beginValue,this.axisEndValue=u.endValue)}this._setOrientationAndStartEndValues(),this.currentBeginValue=this.axisBeginValue,this.currentEndValue=this.axisEndValue,this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?(this.axisBeginValue<=0&&(this.axisBeginValue=1,this.axisEndValue<=this.axisBeginValue&&(this.axisEndValue=100)),this.currentBeginValue<=0&&(this.currentBeginValue=1,this.currentEndValue<=this.currentBeginValue&&(this.currentEndValue=100)),this.moveToPerc=this.moveToPercLogScale):this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic?(this.axisBeginValue>=0&&(this.axisBeginValue=-100,this.axisEndValue>=this.axisBeginValue&&(this.axisEndValue=-1)),this.currentBeginValue>=0&&(this.currentBeginValue=-100,this.currentEndValue>=this.currentBeginValue&&(this.currentEndValue=-1)),this.moveToPerc=this.moveToPercLogScale):this.moveToPerc=this.moveToPercLinearScale;var h=this.currentBeginValue.toString(),d=this.currentEndValue.toString();for(h.length>d.length?this.labelText=this.currentBeginValue:this.labelText=this.currentEndValue,this.outputFormat=""===this.config.OutputFormat?t.getDefaultFormat(window.Variant.CF_VT.DOUBLE):this.config.OutputFormat,this.labelText=t.convertFormatPattern(this.labelText,this.outputFormat),this.labelTextBuffer=this.labelText,this.trendWindowDrawable=!1,this.zoomInOutCount=0,this.startValueBuffer=null,this.endValueBuffer=null,this.startValueBuffer2=null,this.endValueBuffer2=null,this.measurementUnitType=this.config.MeasurementUnitType,this.updateMeasurementUnit(),o=0;o<this.straightDialCount;o++){l=new t.StraightDial,this.straightDials.push(l),l.Attributes.orientation=this.straightDialPos.orientation,s=new t.Features.Scale,l.Features.push(s),s.Attributes={"begin-value":this.currentBeginValue,"end-value":this.currentEndValue,"auto-scale-mode":"decimal",type:this.config.ScalingType},s.Parent=l;for(var c=0;c<i.HelpLines.length;c++){var p=new e.Lib.NVEs.Features.Structure.Marker;p.Parent=s,s.Features.push(p),p.Attributes={value:i.HelpLines[c].Value},this.auxMarkers.push(p),this.auxiliaryTicks[c]=new t.Features.Shape.Ticks,p.Features.push(this.auxiliaryTicks[c]),this.auxiliaryTicks[c].Parent=p,this.auxiliaryTicks[c].Attributes={length:0,condition:i.HelpLines[c].Visible,offset:0,stroke:this.axisColor,"position-filter":"begin"}}}this.straightDial=this.straightDials[0],this.eventCbs.onAxisMouseOver=this._onAxisMouseOver.bind(this),this.eventCbs.onAxisMouseOut=this._onAxisMouseOut.bind(this),this.eventCbs.onPan=this._onPan.bind(this),this.eventCbs.onMouseOver=this.onMouseOver.bind(this),this.eventCbs.onMouseOut=this.onMouseOut.bind(this),this.eventCbs.onTouchStart=this.onTouchStart.bind(this)},n.prototype.onShiftAxesChange=function(){if(this.trendView.axisTypeEnum.xAxis===this.axisType)switch(this.textOrientation){case t.Data.TextOrientation.FromLeft:this.textOrientation=t.Data.TextOrientation.FromTop;break;case t.Data.TextOrientation.FromTop:this.textOrientation=t.Data.TextOrientation.FromLeft;break;case t.Data.TextOrientation.FromRight:this.textOrientation=t.Data.TextOrientation.FromBottom;break;case t.Data.TextOrientation.FromBottom:this.textOrientation=t.Data.TextOrientation.FromRight}else switch(this.textOrientation){case t.Data.TextOrientation.FromLeft:this.textOrientation=t.Data.TextOrientation.FromBottom;break;case t.Data.TextOrientation.FromBottom:this.textOrientation=t.Data.TextOrientation.FromLeft;break;case t.Data.TextOrientation.FromTop:this.textOrientation=t.Data.TextOrientation.FromRight;break;case t.Data.TextOrientation.FromRight:this.textOrientation=t.Data.TextOrientation.FromTop}this.setStraightDialOrientationProps()},n.prototype.drawAxisLabel=function(){var e,i,r,n=this.config.DisplayName,a=new t.Features.Structure.Rectangle;(!this.trendView.isLeftOrRight()||this.labelWidth>=this.yAxisLabelWidthLimit-this.PADDING_X)&&(r=this.yAxisLabelWidthLimit-this.PADDING_X,n=t.textEllipsis(n,r,this.config.LabelFont),this.labelWidth=this.yAxisLabelWidthLimit,this.labelHeight=t.getTextHeight(n,this.config.LabelFont)+this.PADDING_Y);var o=this.labelHeight-(this.trendView.isLeftOrRight()?0:this.PADDING_Y/2),s=this.labelWidth;this.trendView.isLeftOrRight()?a.left=this.innerRect.left+this.LabelToBorderSpace:a.left=this.innerRect.left+this.innerRect.width-this.xAxisLabelWidthLimit-this.LabelToBorderSpace,a.top=this.innerRect.top+this.LabelToBorderSpace,this.displayNameSvg?(e=this.displayNameSvg.childNodes[0],t.Features.Shape.SvgShape.SetAttributes(e,{fill:this.parentTrendWindow.backColor,stroke:this.tickColor,x:a.left,y:a.top,width:this.trendView.isLeftOrRight()?s:this.xAxisLabelWidthLimit,height:o}),i=this.displayNameSvg.childNodes[1],t.Features.Shape.SvgShape.SetAttributes(i,{"font-size":this.config.LabelFont.Size,fill:this.labelColor,x:a.left+s/2,y:a.top+3*o/4,"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","text-decoration":t.textDecoration(this.config.LabelFont),"font-weight":this.config.LabelFont.Weight}),i.setAttribute("displayText",n),i.textContent=n):(this.displayNameSvg=t.Features.Shape.SvgShape.CreateSvgElement("svg",{id:this.labelId,"text-anchor":"middle"}),e=t.Features.Shape.SvgShape.CreateSvgElement("rect",{title:this.config.DisplayName,"fill-opacity":1,"stroke-width":1,"stroke-opacity":1,class:"lineColorClass",x:a.left,y:a.top,fill:this.parentTrendWindow.backColor,stroke:this.tickColor,width:this.trendView.isLeftOrRight()?s:this.xAxisLabelWidthLimit,height:o,appendTo:this.displayNameSvg}),(i=t.Features.Shape.SvgShape.CreateSvgElement("text",{"font-family":'"'+this.config.LabelFont.Name+'"',"font-style":this.config.LabelFont.Italic?"italic":"normal","font-weight":this.config.LabelFont.Weight,"font-size":this.config.LabelFont.Size,"text-decoration":t.textDecoration(this.config.LabelFont),class:"fontClass",x:a.left+s/2,y:a.top+3*o/4,"text-anchor":"middle",displayText:n,fill:this.labelColor,appendTo:this.displayNameSvg})).textContent=n,this.addEventOnDisplayName=!1,this.dom.appendChild(this.displayNameSvg)),this.addOrRemoveEventsForDisplayNameSVG(n)},n.prototype.setStraightDialOrientationProps=function(){var e,i,r,n,a,o,s=0,l=0;if(this.textOrientation===t.Data.TextOrientation.FromRight||this.textOrientation===t.Data.TextOrientation.FromLeft?(this.straightDialPos.orientation="horizontal",this.straightDialPos.dynamicPosAttr="start-x",this.straightDialPos.staticPosAttr="start-y",this.textOrientation===t.Data.TextOrientation.FromRight?this.straightDialPos.posChangeOperator=1:this.straightDialPos.posChangeOperator=-1,this.align===this.trendView.alignmentEnum.Top?(s=-this.MajorTickSize,l=-(this.MajorTickSize+this.LabelToMajorTickSpace),e="0 1",i="-1 1",r="1 1"):(l=this.MajorTickSize+this.LabelToMajorTickSpace,e="0 -1",i="-1 -1",r="1 -1")):(this.straightDialPos.orientation="vertical",this.straightDialPos.dynamicPosAttr="start-y",this.straightDialPos.staticPosAttr="start-x",this.textOrientation===t.Data.TextOrientation.FromBottom?this.straightDialPos.posChangeOperator=1:this.straightDialPos.posChangeOperator=-1,this.align===this.trendView.alignmentEnum.Left?(s=-this.MajorTickSize,l=-(this.MajorTickSize+this.LabelToMajorTickSpace),e="1 0",r="1 -1",i="1 1"):(l=this.MajorTickSize+this.LabelToMajorTickSpace,e="-1 0",r="-1 -1",i="-1 1")),this.defaultFeaturesUsed){for(n=this.ticksFeatures.length,a=0;a<n;a++)this.ticksFeatures[a].Attributes.offset=s;for(n=this.labelsFeatures.length,a=0;a<n;a++)(o=this.labelsFeatures[a]).Attributes.offset=l,o.labelType===t.Data.ValueAxisLabelType.Begin?o.Attributes.alignment=i:o.labelType===t.Data.ValueAxisLabelType.Inner?o.Attributes.alignment=e:o.Attributes.alignment=r}},n.prototype.updateAttributes=function(e,t){var i,r,n=this.templateAttrCollection.length;if(this.templateAttributes.hasOwnProperty(e))for(i=0;i<n;i++)(r=this.templateAttrCollection[i]).hasOwnProperty(e)&&(this.templateAttributes[e]=r[e])},n.prototype.applyTemplateProperties=function(){},n.prototype.addDefaultFeatures=function(e,i){var r,n,a,o,s=t.getChromEnum("HmiScaleMode"),l=!!(this.config.ScaleMode&s.Ticks),u=!!(this.config.ScaleMode&s.Labels);this.ribbons=new t.Features.Shape.Ribbons,e.Features.push(this.ribbons),this.ribbons.Parent=e,this.ribbons.Attributes={"stroke-width":1,stroke:this.axisColor},this.config.AutoScaling?(r=new t.Features.Structure.AutoMeasure,e.Features.push(r),r.Parent=e,this.autoMeasureFeatures.push(r)):(r=new t.Features.Structure.Division,e.Features.push(r),r.Parent=e,r.Attributes={count:this.config.DivisionCount},this.divisionFeatures.push(r)),a=new t.Features.Shape.Ticks,this.ticksFeatures.push(a),r.Features.push(a),a.Parent=r,a.Attributes={length:this.MajorTickSize,offset:i.tickOffset,stroke:this.tickColor,condition:l},(o=new t.Features.Font).Attributes={scope:this.config.LabelFont},n=new t.Features.Shape.Labels,this.labelsFeatures.push(n),r.Features.push(n),n.Parent=r,n.Attributes={alignment:i.labelAlignmentBegin,"position-filter":"begin",offset:i.labelOffset,fill:this.labelColor,"output-format":this.outputFormat,condition:u},n.labelType=t.Data.ValueAxisLabelType.Begin,n.Features.push(o),this.fontFeatures.push(o),(o=new t.Features.Font).Attributes={scope:this.config.LabelFont},n=new t.Features.Shape.Labels,this.labelsFeatures.push(n),r.Features.push(n),n.Parent=r,n.Attributes={alignment:i.labelAlignmentEnd,"position-filter":"end",offset:i.labelOffset,fill:this.labelColor,"output-format":this.outputFormat,condition:u},n.labelType=t.Data.ValueAxisLabelType.End,n.Features.push(o),this.fontFeatures.push(o),(o=new t.Features.Font).Attributes={scope:this.config.LabelFont},n=new t.Features.Shape.Labels,this.labelsFeatures.push(n),r.Features.push(n),n.Parent=r,n.Attributes={alignment:i.labelAlignment,"position-filter":"inner",offset:i.labelOffset,fill:this.labelColor,"output-format":this.outputFormat,condition:u},n.labelType=t.Data.ValueAxisLabelType.Inner,n.Features.push(o),this.fontFeatures.push(o)},n.prototype.initScaleFeatures=function(){var e;if(0===this.templateFeatures.length){this.defaultFeaturesUsed=!0;var i=0,r=0,n=void 0,a=void 0,o=void 0;this.textOrientation===t.Data.TextOrientation.FromRight||this.textOrientation===t.Data.TextOrientation.FromLeft?this.align===this.trendView.alignmentEnum.Top?(i=-this.MajorTickSize,r=-(this.MajorTickSize+this.LabelToMajorTickSpace),n="0 1",a="-1 1",o="1 1"):(r=this.MajorTickSize+this.LabelToMajorTickSpace,n="0 -1",a="-1 -1",o="1 -1"):this.align===this.trendView.alignmentEnum.Left?(i=-this.MajorTickSize,r=-(this.MajorTickSize+this.LabelToMajorTickSpace),n="1 0",o="1 -1",a="1 1"):(r=this.MajorTickSize+this.LabelToMajorTickSpace,n="-1 0",o="-1 -1",a="-1 1");var s={tickOffset:i,labelOffset:r,labelAlignment:n,labelAlignmentBegin:a,labelAlignmentEnd:o};for(e=0;e<this.straightDialCount;e++)this.addDefaultFeatures(this.straightDials[e].Features[0],s)}else for(e=0;e<this.straightDialCount;e++)this.addFeatures(this.templateFeatures,this.straightDials[e].Features[0]);if(this.gridlineFeature){var l=this.divisionFeatures.concat(this.autoMeasureFeatures),u=l.length;if(this.gridlines=[],this.isMinorGridLine()&&this.createMinorGridLines(),this.resetGridlineAttributes(),u>0)for(e=0;e<u;e++)this.gridlines.push(new t.Features.Shape.Ticks),this.gridlines[e].Attributes=this.gridlineAttributes,l[e].Features.push(this.gridlines[e]),this.gridlines[e].Parent=l[e],this.gridlines[e].isGridline=!0;else for(e=0;e<this.straightDialCount;e++)this.gridlines.push(new t.Features.Shape.Ticks),this.gridlines[0].Attributes=this.gridlineAttributes,this.straightDials[e].Features[0].Features.push(this.gridlines[0]),this.gridlines[0].Parent=this.straightDials[e].Features[0],this.gridlines[0].isGridline=!0}},n.prototype.setGridlinesVisibility=function(){var e;(e=this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.verticalMajorGrid:this.parentTrendWindow.horizontalMajorGrid)&&(e="selected"===this.gridlineFeature.Attributes.show?this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentYAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show),this.gridlineAttributes.condition=e},n.prototype.getScaleFeature=function(e,t){for(var i,r=0;r<e.Features[0].Features.length;r++)(i=e.Features[0].Features[r])instanceof t&&this.requiredFeature.push(i)},n.prototype.setMinorGridLinesVisibility=function(){var e;(e=this.isMinorGridLine())&&(e="selected"===this.gridlineFeature.Attributes.show?this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentXAxis===this||0===this.parentTrendWindow.trends.length:this.parentTrendWindow.selectedTrend&&this.parentTrendWindow.selectedTrend.currentYAxis===this||0===this.parentTrendWindow.trends.length:"always"===this.gridlineFeature.Attributes.show),e&&0===this.minorGridLines.length&&(this.createMinorGridLines(),this.updateMinorGridLine(),this.redrawScale(),this.setMinorGridLinesGroupId());for(var t=0,i=this.minorGridLines;t<i.length;t++)i[t].Attributes.condition=e},n.prototype.isMinorGridLine=function(){return this.axisType===this.trendView.axisTypeEnum.xAxis?this.parentTrendWindow.verticalMinorGrid:this.parentTrendWindow.horizontalMinorGrid},n.prototype.calculateLabelSize=function(){var e,i;this.yAxisLabelWidthLimit=this.xAxisLabelWidthLimit=t.getTextWidth("0000000",this.config.LabelFont),e="string"==typeof this.labelText||"number"==typeof this.labelText?this.labelText:1===this.labelText.length||this.labelText[0].length>this.labelText[1].length?this.labelText[0]:this.labelText[1],e+=this._bufferString,e=this._handleSpecialCharacters(e),this.bBoxText={x:0,y:0,width:t.getTextWidth(e,this.config.LabelFont),height:t.getTextHeight(e,this.config.LabelFont)},this.trendView.isLeftOrRight()&&this.config.DisplayName.trim().length>0&&(i={x:0,y:0,width:t.getTextWidth(this.config.DisplayName?this.config.DisplayName:"",this.config.LabelFont),height:t.getTextHeight(this.config.DisplayName?this.config.DisplayName:"",this.config.LabelFont)},this.upadateLabelTextAndOtherProps(i));var r=this.bBoxText.width/e.length;this._axisBufferWidth=r*this._bufferString.length},n.prototype.getDisplayValue=function(e,i,r,n){var a,o,s,l,u,h,d,c,p=0,m=t.convertFormatPattern(+e,this.outputFormat);if("string"!=typeof m&&(m=""+e,void 0!==i)){if(n=n.toString(),d=r>9?r:9,a=(a=t.Utilities.trimNum(parseFloat(e),d,null)).toString(),1===i&&a!==e&&(a=""),""!==a&&(n.indexOf(".")>-1||n.indexOf("e")>-1))if(-1===(s=a.indexOf("e")))for((o=a.indexOf("."))>-1?r=(c=a.substring(o+1,a.length).length)<r?r-c:0:-1===o&&(a+=".");r>0;)a+="0",r--;else{for(h=r-(l=a.substring(s+2,a.length)),a=a.substring(0,s),l=parseInt(l,10),u=a.length,p=l;p>u;p--)a="0"+a;for(a="0."+a;h>0;)a+="0",h--;a=+a+ +e.split("e")[0]}return a}return m},n.prototype.getNeededDimension=function(){var e=0,t=0;if(this.calculateLabelSize(),this.config.Visible){if(this.templateAttributes.hasOwnProperty("width")&&"calculated"!==this.templateAttributes.width)e=this.templateAttributes.width;else{switch(this.axisType){case this.trendView.axisTypeEnum.xAxis:t=this.trendView.isLeftOrRight()?this.bBoxText.height:this.bBoxText.width;break;case this.trendView.axisTypeEnum.yAxis:t=this.trendView.isLeftOrRight()?this.bBoxText.width:this.bBoxText.height}e=this.MajorTickSize+this.LabelToMajorTickSpace+this.LabelToBorderSpace+t}this._axisWidth=e,this._lowerBoundAxisWidth=this._axisWidth-2*this._axisBufferWidth}return e},n.prototype.getBBoxText=function(){return"string"==typeof this.labelText&&(this.bBoxText={x:0,y:0,width:t.getTextWidth(this.labelText,this.config.LabelFont),height:t.getTextHeight(this.labelText,this.config.LabelFont)}),this.bBoxText},n.prototype._handleSpecialCharacters=function(e){return e=(e=(e=(e=e.replace("-","0")).replace(".","0")).replace(",","0")).replace(" ","0")},n.prototype.zoomInOut=function(e,i){var r,n,a,o,s=this.getValueFromPosition(e),l=!0;if(this.config.ScalingType>=t.getChromEnum("HmiScalingType").Logarithmic&&(this.currentBeginValue=this.getLogValue(this.currentBeginValue),this.currentEndValue=this.getLogValue(this.currentEndValue),s=this.getLogValue(s),this.zoomInOutCount>0&&(this.startValueBuffer=this.getLogValue(this.startValueBuffer),this.endValueBuffer=this.getLogValue(this.endValueBuffer))),r=t.Utilities.floatSub(this.currentEndValue,this.currentBeginValue),i===this.LEFT_CLICK)t.Utilities.trimNum(r,6,null)<=5e-6?l=!1:(r<1e-5&&(r=1e-5),n=r/4,0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.bufferLabelTexts(),this.zoomInOutCount++,this.trendView.enableDisableOriginalView(),this.zoomInOutCount--),o=t.Utilities.floatSub(s,n),a=t.Utilities.floatAdd(s,n),o<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=t.Utilities.floatAdd(this.currentBeginValue,2*n)):a>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=t.Utilities.floatSub(this.currentEndValue,2*n)):(this.currentBeginValue=o,this.currentEndValue=a),this.zoomInOutCount++);else if(i===this.RIGHT_CLICK)switch(n=r,this.zoomInOutCount){case 1:this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.zoomInOutCount--,this.trendView.enableDisableOriginalView();break;case 0:l=!1;break;default:o=t.Utilities.floatSub(s,n),a=t.Utilities.floatAdd(s,n),o<this.startValueBuffer?(this.currentBeginValue=this.startValueBuffer,this.currentEndValue=t.Utilities.floatAdd(this.currentBeginValue,2*n)):a>this.endValueBuffer?(this.currentEndValue=this.endValueBuffer,this.currentBeginValue=t.Utilities.floatSub(this.currentEndValue,2*n)):(this.currentBeginValue=o,this.currentEndValue=a),this.zoomInOutCount--}return this.config.ScalingType>=t.getChromEnum("HmiScalingType").Logarithmic&&(this.currentBeginValue=this.getPowValue(this.currentBeginValue),this.currentEndValue=this.getPowValue(this.currentEndValue),this.zoomInOutCount>0&&(this.startValueBuffer=this.getPowValue(this.startValueBuffer),this.endValueBuffer=this.getPowValue(this.endValueBuffer))),l&&this.calculateAndUpdate(),l},n.prototype.zoomArea=function(e,i){var r,n,a,o,s=!0,l=t.Data.TextOrientation;if(this.axisType===this.trendView.axisTypeEnum.xAxis?this.textOrientation===l.FromRight||this.textOrientation===l.FromBottom?(n=this.getValueFromPosition(e),a=this.getValueFromPosition(i)):(n=this.getValueFromPosition(i),a=this.getValueFromPosition(e)):this.textOrientation===l.FromTop||this.textOrientation===l.FromRight?(n=this.getValueFromPosition(e),a=this.getValueFromPosition(i)):(n=this.getValueFromPosition(i),a=this.getValueFromPosition(e)),o=t.Utilities.floatSub(a,n),t.Utilities.trimNum(o,6,null)<=5e-6||n===this.currentBeginValue&&a===this.currentEndValue)s=!1;else{0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.bufferLabelTexts(),this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),this.config.ScalingType===t.getChromEnum("HmiScalingType").Linear?r=t.Utilities.floatSub(this.endValueBuffer,this.startValueBuffer):this.config.ScalingType>=t.getChromEnum("HmiScalingType").Logarithmic&&(r=t.Utilities.floatSub(this.getLogValue(this.endValueBuffer),this.getLogValue(this.startValueBuffer)),o=t.Utilities.floatSub(this.getLogValue(a),this.getLogValue(n))),this.zoomInOutCount=0;do{this.zoomInOutCount++,r/=2}while(o<r);this.currentBeginValue=n,this.currentEndValue=a,this.calculateAndUpdate()}return s},n.prototype.bufferLabelTexts=function(){this.labelTextBuffer=this.labelText},n.prototype.getLogValue=function(e){return this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?Math.log(e)/Math.LN10:this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic?-Math.log(-e)/Math.LN10:void 0},n.prototype.getPowValue=function(e){return this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic?Math.pow(10,e):this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic?-Math.pow(10,-e):void 0},n.prototype.resetZoom=function(e){this.zoomInOutCount>0&&(this.zoomInOutCount=0,this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer2=null,this.endValueBuffer2=null,e.tryAdd(this.trendWindow),this.labelText=this.labelTextBuffer,this.calculateAndUpdate())},n.prototype.moveToPercLogScale=function(e){var i=this.getLogValue(this.currentEndValue),r=this.getLogValue(this.currentBeginValue),n=this.getLogValue(this.endValueBuffer),a=this.getLogValue(this.startValueBuffer),o=i-r,s=n-a-o,l=t.Data.TextOrientation;switch(this.textOrientation){case l.FromTop:case l.FromLeft:r=(i=n-s*e)-o;break;case l.FromBottom:case l.FromRight:i=(r=a+s*e)+o}this.currentBeginValue=this.getPowValue(r),this.currentEndValue=this.getPowValue(i),this.calculateAndUpdate()},n.prototype.moveToPercLinearScale=function(e){var i=this.endValueBuffer-this.startValueBuffer,r=this.currentEndValue-this.currentBeginValue,n=i-r,a=t.Data.TextOrientation;switch(this.textOrientation){case a.FromRight:case a.FromBottom:this.currentBeginValue=this.startValueBuffer+n*e,this.currentEndValue=this.currentBeginValue+r;break;case a.FromLeft:case a.FromTop:this.currentEndValue=this.endValueBuffer-n*e,this.currentBeginValue=this.currentEndValue-r}this.calculateAndUpdate()},n.prototype.zoomByScale=function(e,i){var r,n,a,o,s,l,u=!0,h=t.Utilities.floatSub(this.currentEndValue,this.currentBeginValue),d=this.getValueFromPosition(e),c=h/i;if(i>1?t.Utilities.trimNum(c,6,null)<=5e-6?u=!1:(0===this.zoomInOutCount&&(this.startValueBuffer=this.currentBeginValue,this.endValueBuffer=this.currentEndValue,this.bufferLabelTexts(),this.zoomInOutCount++,this.trendView.enableDisableOriginalView()),n=this.currentBeginValue,a=this.currentEndValue):0===this.zoomInOutCount||1===i?u=!1:(n=this.startValueBuffer,a=this.endValueBuffer),u){if(r=t.Utilities.floatSub(this.endValueBuffer,this.startValueBuffer),this.zoomInOutCount=0,c>=r)this.currentBeginValue=this.startValueBuffer,this.currentEndValue=this.endValueBuffer,this.startValueBuffer=null,this.endValueBuffer=null,this.trendView.enableDisableOriginalView();else{do{this.zoomInOutCount++,r/=2}while(c<r);o=c/2,s=t.Utilities.floatSub(d,o),l=t.Utilities.floatAdd(d,o),s<n?(this.currentBeginValue=n,this.currentEndValue=t.Utilities.floatAdd(this.currentBeginValue,2*o)):l>a?(this.currentEndValue=a,this.currentBeginValue=t.Utilities.floatSub(this.currentEndValue,2*o)):(this.currentBeginValue=s,this.currentEndValue=l)}this.calculateAndUpdate()}return u},n.prototype._onPan=function(e){e.preventDefault();var i,r,n=!0,a=null,o=null;if(e.eventType===this.Hammer.INPUT_MOVE){switch(r=this.getPos(e),this._deltaX=e.deltaX-this._deltaX,this._deltaY=e.deltaY-this._deltaY,this._currentDragPoint.x=r.x-this._deltaX/1,this._currentDragPoint.y=r.y-this._deltaY/1,this._deltaX=e.deltaX,this._deltaY=e.deltaY,this.axisType){case this.trendView.axisTypeEnum.xAxis:this.trendView.isLeftOrRight()?this.calculateAxisMoveEndValues(r.x,this._currentDragPoint.x):this.calculateAxisMoveEndValues(r.y,this._currentDragPoint.y);break;case this.trendView.axisTypeEnum.yAxis:this.trendView.trendObjectType===t.Data.TrendObjectType.Online&&(n=!1),this.trendView.isLeftOrRight()?this.calculateAxisMoveEndValues(r.y,this._currentDragPoint.y):this.calculateAxisMoveEndValues(r.x,this._currentDragPoint.x),this.invalidated=!0}if(this.currentEndValue<1e307&&this.currentBeginValue>-1e307){if(i=this.trendView.getDrawableTrendWindowByName(this.trendWindow)){switch(this.axisType){case this.trendView.axisTypeEnum.xAxis:a=this.config.Name;break;case this.trendView.axisTypeEnum.yAxis:o=this.config.Name}this.calculateAndUpdate(),i.reDraw(a,o)}this.trendView.trendCompanionConstUpdate&&(this.trendView.getShowRuler()||this.trendView.getShowStatisticRuler())&&n&&this.trendView.calculateRulerData(),this.trendView.secondaryRulerToolTip&&this.updateRulerToolTipPosition()}}else this._deltaX=0,this._deltaY=0},n.prototype.updateRulerToolTipPosition=function(){var e,t=this.parentTrendWindow.trends.length;for(e=0;e<t;e++)this.parentTrendWindow.trends[e].config.Visible&&this.parentTrendWindow.trends[e].updateRulerToolTipPosition()},n.prototype.calculateAxisMoveEndValues=function(e,i){var r=t.getChromEnum("HmiScalingType");if(this.config.ScalingType===r.Logarithmic||this.config.ScalingType===r.NegativeLogarithmic){var n=void 0,a=void 0,o=e-i,s=this.innerRect,l=t.Data.TextOrientation;switch(this.textOrientation){case l.FromTop:a=this.getValueFromPosition(s.height+s.top-o),n=this.getValueFromPosition(s.top-o);break;case l.FromLeft:a=this.getValueFromPosition(s.width+s.left-o),n=this.getValueFromPosition(s.left-o);break;case l.FromBottom:n=this.getValueFromPosition(s.height+s.top-o),a=this.getValueFromPosition(s.top-o);break;case l.FromRight:n=this.getValueFromPosition(s.width+s.left-o),a=this.getValueFromPosition(s.left-o)}n!==1/0&&a!==1/0&&(this.config.ScalingType===r.Logarithmic&&n>=this.minAllowedValue&&n<=this.maxAllowedValue&&a>=this.minAllowedValue&&a<=this.maxAllowedValue||n>=-this.maxAllowedValue&&n<=-this.minAllowedValue&&a>=-this.maxAllowedValue&&a<=-this.minAllowedValue)&&(this.zoomInOutCount>0&&(null===this.endValueBuffer2&&(this.endValueBuffer2=this.endValueBuffer,this.startValueBuffer2=this.startValueBuffer),this.endValueBuffer=this.endValueBuffer/this.currentEndValue*n,this.startValueBuffer=this.startValueBuffer/this.currentBeginValue*a),this.currentBeginValue=a,this.currentEndValue=n)}else{var u=this.getValueFromPosition(e)-this.getValueFromPosition(i);this.currentEndValue-u<this.maxScaleLimit&&this.currentBeginValue-u>this.minScaleLimit&&(this.currentEndValue=this.currentEndValue-u,this.currentBeginValue=this.currentBeginValue-u,this.zoomInOutCount>0&&(null===this.endValueBuffer2&&(this.endValueBuffer2=this.endValueBuffer,this.startValueBuffer2=this.startValueBuffer),this.endValueBuffer=this.endValueBuffer-u,this.startValueBuffer=this.startValueBuffer-u))}},n.prototype.getPositionFromValue=function(e){var i,r,n=this.innerRect;if(this.config.ScalingType===t.getChromEnum("HmiScalingType").Logarithmic&&e<=0)switch(this.textOrientation){case t.Data.TextOrientation.FromTop:r=n.top+n.height+100;break;case t.Data.TextOrientation.FromBottom:r=n.top-100;break;case t.Data.TextOrientation.FromLeft:r=n.left+n.width+100;break;default:r=n.left-100}else if(this.config.ScalingType===t.getChromEnum("HmiScalingType").NegativeLogarithmic&&e>=0)switch(this.textOrientation){case t.Data.TextOrientation.FromTop:r=n.top-100;break;case t.Data.TextOrientation.FromBottom:r=n.top+n.height+100;break;case t.Data.TextOrientation.FromLeft:r=n.left-100;break;default:r=n.left+n.width+100}else i=this.straightDial.Features[0].getPositionForValue(e),this.textOrientation===t.Data.TextOrientation.FromBottom||this.textOrientation===t.Data.TextOrientation.FromTop?r=i.y:this.textOrientation!==t.Data.TextOrientation.FromRight&&this.textOrientation!==t.Data.TextOrientation.FromLeft||(r=i.x);return r},n.prototype.getValueFromPosition=function(e){return this.straightDial.Features[0].getValueAtPosition(e,e,!1)},n.prototype.updateMeasurementUnit=function(){0===this.measurementUnitType?this.measurementUnit="":this.measurementUnit=this.config.MeasurementUnit},n.prototype.setTranslatableFeatures=function(){},n.prototype.cleanUp=function(){if(!this.trendView.isOnline()&&this.trendView.isStyleChange()){var e=new t.Data.AxisData(this.currentBeginValue,this.currentEndValue);t.Data.AxisDataStore.store(this.axisPbId,e)}this.dom=this.ribbons=this.requiredFeature=this.templateAttributes=this.trendIndicatorRectClippathIds=this.moveMinMaxRuler=this.updateRulerLabelFont=this._currentDragPoint=null,i.prototype.cleanUp.call(this)},n._animationStepsThreshold=5,n}(i.AxisBase);i.ValueAxis=n}(t.ChartElements||(t.ChartElements={}))}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(e){this.trendObj=e}return t.prototype.renderTrend=function(t){var i,r,n,a,o,s;o=e.Features.Shape.SvgShape.CreateSvgElement,s=this.trendObj.svgGroup,this.trendObj.createPointCollection(t),i=this.trendObj.currentTrendWindow.getEventSVG(),a=this.trendObj.getLineStyle(),s.trendFillPropertyGroup&&(s.trendFillPropertyGroup.parentNode.removeChild(s.trendFillPropertyGroup),s.trendFillPropertyGroup=null),s.trendPropertyGroup&&(s.trendPropertyGroup.parentNode.removeChild(s.trendPropertyGroup),s.trendPropertyGroup=null),s.trendPropertyGroup=o("g",{id:"TrendPropertyGroup"+this.trendObj.id,"stroke-dasharray":a}),s.polyLineGroup&&(s.polyLineGroup.parentNode.removeChild(s.polyLineGroup),s.polyLineGroup=null),(r=this.trendObj.trendView.SVGParent.getElementById("DisplayValueRectGroup"+this.trendObj.id)||e.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendObj.trendView.SVGParent,"g","DisplayValueRectGroup"+this.trendObj.id))&&r.parentNode.removeChild(r),(n=this.trendObj.currentTrendWindow.getDisplayValueRectParentGroup())&&n.parentNode.removeChild(n),o("defs",{id:"defs_"+this.trendObj.id,appendTo:s.trendPropertyGroup}).appendChild(this.trendObj.createLinearGrad()),s.polyLineGroup=o("g",{id:"PolyLineGroup"+this.trendObj.id,"stroke-dasharray":"inherit","stroke-width":this.trendObj.lineWidth,appendTo:s.trendPropertyGroup}),r=o("g",{id:"DisplayValueRectGroup"+this.trendObj.id,"text-anchor":"middle","stroke-dasharray":a,"stroke-width":1,appendTo:n}),this.setTrendAttributes(r,s),i.appendChild(s.trendPropertyGroup),n&&i.appendChild(n)},t.prototype.setTrendAttributes=function(t,i){var r,n,a,o,s,l,u,h,d,c,p,m,g,T,f,y,D;for(g=e.Features.Shape.SvgShape.CreateSvgElement,p=e.Utilities.getContrastColor,T=this.trendObj.trendView.isLeftOrRight(),f=this.trendObj.currentYAxis.config.LabelFont,r=this.trendObj.linesCollection.length,n=this.trendObj.thresholds.length,a=this.trendObj.displayValueAttr.height,o=this.trendObj.displayValueAttr.width,s=this.trendObj.displayValueAttr.position,l=0;l<r;l++)(u=this.trendObj.linesCollection[l]).lineType===n+1?h=d=this.trendObj.badQualityColor:u.lineType===n?h=d=this.trendObj.uncertainQualityColor:this.trendObj.thresholds[u.lineType].isNormal?(h=this.trendObj.color,d=this.trendObj.fillURL):h=d=this.trendObj.thresholds[u.lineType].color,this.trendObj.fill||(d=this.trendObj.currentTrendWindow.backColor),c=d.indexOf("url")>=0?p(this.trendObj.fillColor):p(d),i.polyLineGroup.childNodes[l]&&(m=i.polyLineGroup.childNodes[l])?(m.setAttribute("points",u.trendLinePoints.trim()),m.setAttribute("id",u.lineType+"_polyline_"+this.trendObj.id+"_"+l),m.setAttribute("class",u.lineType+"_polylineClass_"+this.trendObj.id),m.setAttribute("stroke",h)):g("polyline",{points:u.trendLinePoints.trim(),"stroke-dasharray":"inherit",id:u.lineType+"_polyline_"+this.trendObj.id+"_"+l,class:u.lineType+"_polylineClass_"+this.trendObj.id,fill:"none",stroke:h,"stroke-width":"inherit",appendTo:i.polyLineGroup}),t.childNodes[2*l]&&(y=t.childNodes[2*l])?(y.setAttribute("x",T?u.positionFromTick:s),y.setAttribute("y",T?s:u.positionFromTick),y.setAttribute("width",o),y.setAttribute("id",u.lineType+"_dispValueRect_"+this.trendObj.id+"_"+l),y.setAttribute("class",u.lineType+"_dispValueRect_"+this.trendObj.id),y.setAttribute("stroke",h),y.setAttribute("fill",d),(D=y.nextSibling).textContent=u.displayValue,D.setAttribute("fill",c),D.setAttribute("x",(T?u.positionFromTick:s)+o/2),D.setAttribute("y",(T?s:u.positionFromTick)+a/1.5)):(y=g("rect",{id:u.lineType+"_dispValueRect_"+this.trendObj.id+"_"+l,class:u.lineType+"_dispValueRect_"+this.trendObj.id,x:T?u.positionFromTick:s,y:T?s:u.positionFromTick,width:o,height:a,fill:d,"fill-opacity":1,stroke:h,"stroke-width":"inherit",appendTo:t}),g("text",{displayText:u.displayValue,x:(T?u.positionFromTick:s)+o/2,y:(T?s:u.positionFromTick)+a/1.5,"font-family":'"'+f.Name+'"',"font-style":f.Italic,"font-weight":f.Weight,"font-size":f.Size,"text-decoration":f.Underline,"stroke-width":0,fill:c,class:"fontClass",appendTo:t}))},t.prototype.updateTrend=function(t){var i,r,n,a,o=this.trendObj.currentTrendWindow.getEventSVG();for(r=this.trendObj.trendView.SVGParent.getElementById("DisplayValueRectGroup"+this.trendObj.id)||e.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendObj.trendView.SVGParent,"g","DisplayValueRectGroup"+this.trendObj.id),n=this.trendObj.currentTrendWindow.getDisplayValueRectParentGroup(),a=this.trendObj.svgGroup,this.trendObj.createPointCollection(t),i=this.trendObj.linesCollection.length,this.setTrendAttributes(r,a);i<a.polyLineGroup.childElementCount;)a.polyLineGroup.removeChild(a.polyLineGroup.lastElementChild),r.removeChild(r.lastElementChild),r.removeChild(r.lastElementChild);a.trendPropertyGroup&&(a.trendPropertyGroup.parentNode.removeChild(a.trendPropertyGroup),o.appendChild(a.trendPropertyGroup)),n&&(n.parentNode.removeChild(n),o.appendChild(n)),o=null},t.prototype.swapWithNextTrend=function(t){var i=e.getChromEnum("HmiTrendMode");this.trendObj.trendView.trendObjectType===e.Data.TrendObjectType.Online&&this.trendObj.trendStyle===i.Value&&t.trendStyle===i.Value&&(this.trendObj.currentTrendWindow.setTrendDisplayValuePositions(),this.trendObj.recalculate(),t.recalculate(),this.trendObj.draw(!this.trendObj.trendView.isOnline()),t.draw(!this.trendObj.trendView.isOnline()))},t.prototype.cleanTrend=function(){var t;(t=this.trendObj.trendView.SVGParent.getElementById("DisplayValueRectGroup"+this.trendObj.id)||e.Features.Shape.SvgShape.getElementByIDSafariHack(this.trendObj.trendView.SVGParent,"g","DisplayValueRectGroup"+this.trendObj.id))&&t.parentNode.removeChild(t)},t.prototype.cleanup=function(){this.trendObj=null},t}();t.ValueTrendMode=i}(e.ChartElements||(e.ChartElements={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e){this.color=e}return e.prototype.getRGB=function(){return"#"+this.color.toString(16).toLowerCase().slice(2)},e.prototype.getAlpha=function(){var e="0x"+this.color.toString(16).toLowerCase().slice(0,2);return(parseInt(e)/255).toString()},e}();e.Color=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e,i){var r=this;this.getCellColor=function(e,t,i,n,a){void 0===a&&(a=!0);var o=0;return r.getter(e,t),a?(o=r.metaData.configuration.ColoringMode===r.coloringMode.Rows?n:r.metaData.configuration.ColoringMode===r.coloringMode.Columns?i:0,r.metaData.helper.isEven(o)||(r.emptyCellColor.Back=r.emptyCellColor.AlternateBack,r.emptyCellColor.Fore=r.emptyCellColor.AlternateFore),r.emptyCellColor):r.emptyCellColor},this.setFunction=function(){r.metaData.configuration.ColoringMode===r.coloringMode.None?r.getter=r.calEmptyCellColorModeNone.bind(r):r.getter=r.calEmptyCellColor.bind(r)},this.mergedColumnColors=[],this.metaData=e,this.coloringMode=i,this.emptyCellColor=new t.Colors,this.setFunction()}return i.prototype.calEmptyCellColorModeNone=function(e,t){var i;t?(this.emptyCellColor.Fore=this.metaData.configuration.ForeColor,this.emptyCellColor.Back=this.metaData.configuration.BackColor):(null===(i=this.getCellColorByActualIndex(e.ActualIndex))&&(i=this.mergeColumnColor(e)),this.emptyCellColor.Fore=i.merged.fore,this.emptyCellColor.Back=i.merged.back)},i.prototype.calEmptyCellColor=function(e,t){var i;t?(this.emptyCellColor.Fore=this.metaData.configuration.ForeColor,this.emptyCellColor.Back=this.metaData.configuration.BackColor,this.emptyCellColor.AlternateFore=this.metaData.configuration.AlternateForeColor,this.emptyCellColor.AlternateBack=this.metaData.configuration.AlternateBackColor):(null===(i=this.getCellColorByActualIndex(e.ActualIndex))&&(i=this.mergeColumnColor(e)),this.emptyCellColor.Back=i.merged.back,this.emptyCellColor.Fore=i.merged.fore,this.emptyCellColor.AlternateFore=i.merged.altFore,this.emptyCellColor.AlternateBack=i.merged.altBack)},i.prototype.getCellColorByActualIndex=function(e){var t,i,r;for(r=this.mergedColumnColors.length,t=0;t<r;t++)if((i=this.mergedColumnColors[t]).isExist(e))return i;return null},i.prototype.mergeColumnColor=function(i){var r,n,a,o,s,l,u,h,d,c;for(a=!0,n=this.mergedColumnColors.length,d=i.BackColor,c=i.ForeColor,r=0;r<n;r++)if((o=this.mergedColumnColors[r]).isSame(d,c)){o.indices.push(i.ActualIndex),a=!1;break}return a&&(o=new t.ColumnColor,s=e.getMergedColor([d,this.metaData.configuration.BackColor]),l=e.getMergedColor([c,this.metaData.configuration.ForeColor]),u=e.getMergedColor([d,this.metaData.configuration.AlternateBackColor]),h=e.getMergedColor([c,this.metaData.configuration.AlternateForeColor]),o.set(s,l,u,h,i.ActualIndex,d,c),this.mergedColumnColors[n]=o),o},i}();t.ColorStore=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){var e=this;this.isExist=function(t){var i,r;for(i=e.indices.length,r=0;r<i;r++)if(e.indices[r]===t)return!0;return!1},this.isSame=function(t,i){return e.orgBack===t&&e.orgFore===i},this.set=function(t,i,r,n,a,o,s){e.indices.push(a),e.orgBack=o,e.orgFore=s,e.merged.back=t,e.merged.fore=i,e.merged.altBack=r,e.merged.altFore=n},this.indices=[],this.merged={back:0,fore:0,altBack:0,altFore:0},this.orgBack=0,this.orgFore=0};e.ColumnColor=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(){}return t.prototype.mergeColors=function(t,i){var r=t.BackColor,n=t.ForeColor;this.mergedBackColor=e.getMergedColor([t.BackColor,t.BackColor,i.BackColor]),this.mergedForeColor=e.getMergedColor([t.ForeColor,t.ForeColor,i.ForeColor]),this.rgbaBackColor=this.mergedBackColor,this.rbgaForeColor=this.mergedForeColor,this.mergedAltBackColor=e.getMergedColor([r,r,i.AlternateBackColor]),this.mergedAltForeColor=e.getMergedColor([n,n,i.AlternateForeColor]),this.rbgaAltBackColor=this.mergedAltBackColor,this.rgbaAltForeColor=this.mergedAltForeColor},t.prototype.setResizingLimits=function(e){var t=!0,i=!0;0===e.MinimumWidth&&(t=!1),0===e.MaximumWidth&&(i=!1),t&&i?e.MinimumWidth<e.MaximumWidth?(this.isMaxResizeLimited=!0,this.isMinResizeLimited=!0):(this.isMaxResizeLimited=!1,this.isMinResizeLimited=!1):!t&&i?(this.isMaxResizeLimited=!0,this.isMinResizeLimited=!1):t&&!i?(this.isMaxResizeLimited=!1,this.isMinResizeLimited=!0):(this.isMaxResizeLimited=!1,this.isMinResizeLimited=!1)},t}();t.ColumnConfiguration=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.None=0]="None",e[e.Odd=1]="Odd",e[e.Even=2]="Even"}(e.BiasType||(e.BiasType={})),function(e){e[e.CursorDown=40]="CursorDown",e[e.CursorUp=38]="CursorUp",e[e.CursorLeft=37]="CursorLeft",e[e.CursorRight=39]="CursorRight",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.Home=36]="Home",e[e.End=35]="End"}(e.KeyCodes||(e.KeyCodes={})),e.GraphAlignment||(e.GraphAlignment={}),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom"}(e.GraphAlignmentForLeftAndRight||(e.GraphAlignmentForLeftAndRight={})),function(e){e[e.Left=3]="Left",e[e.Right=2]="Right",e[e.Top=1]="Top",e[e.Bottom=0]="Bottom"}(e.GraphAlignmentForTopAndBottom||(e.GraphAlignmentForTopAndBottom={})),function(e){e[e.xAxis=0]="xAxis",e[e.yAxis=1]="yAxis"}(e.AxisTypeForLeftAndRight||(e.AxisTypeForLeftAndRight={})),function(e){e[e.yAxis=0]="yAxis",e[e.xAxis=1]="xAxis"}(e.AxisTypeForTopAndBottom||(e.AxisTypeForTopAndBottom={})),function(e){e[e.Online=0]="Online",e[e.Function=1]="Function"}(e.TrendObjectType||(e.TrendObjectType={})),function(e){e[e.FromRight=0]="FromRight",e[e.FromLeft=1]="FromLeft",e[e.FromTop=2]="FromTop",e[e.FromBottom=3]="FromBottom"}(e.TextOrientation||(e.TextOrientation={})),function(e){e[e.Begin=0]="Begin",e[e.Inner=1]="Inner",e[e.End=2]="End"}(e.ValueAxisLabelType||(e.ValueAxisLabelType={})),function(e){e[e.MS=1]="MS",e[e.MS250=250]="MS250",e[e.MS500=500]="MS500",e[e.Sec=1e3]="Sec",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Month=2629746e3]="Month",e[e.Year=31556952e3]="Year"}(e.FileTime||(e.FileTime={})),function(e){e[e.Bad=0]="Bad",e[e.Uncertain=1]="Uncertain",e[e.Good=2]="Good"}(e.QualityCode||(e.QualityCode={})),function(e){e[e.Bad=0]="Bad",e[e.Uncertain=64]="Uncertain",e[e.InitialValue=76]="InitialValue",e[e.Good=128]="Good"}(e.QualityLowerLimit||(e.QualityLowerLimit={})),e.TagValueSuffix={Bad:" b.",Interpolated:" i.",Uncertain:" u."},e.PostPropertyUpdate={Redraw:!1,CreateDrawableCollection:!1,Update:!1,SendHistoricalDataRequests:!1,DoNotRequestData:!1},e.ChartTemplateAttributes={ShowStatisticRulers:"show-selector-rulers",TimeZone:"timezone",AreaSpacing:"area-spacing",Online:"online",ShowRuler:"show-ruler",ShiftAxes:"shift-axes",ActualHeight:"height",ActualWidth:"width",Config:"config",AlwaysShowRecent:"always-show-recent"},function(e){e[e.None=0]="None",e[e.Labels=1]="Labels",e[e.Ticks=2]="Ticks",e[e.LabelsAndTicks=3]="LabelsAndTicks"}(e.ScaleMode||(e.ScaleMode={})),function(e){e[e.Undefined=0]="Undefined",e[e.Millisecond=1]="Millisecond",e[e.Second=2]="Second",e[e.Minute=3]="Minute",e[e.Hour=4]="Hour",e[e.Day=5]="Day",e[e.Month=6]="Month",e[e.Year=7]="Year"}(e.RangeBase||(e.RangeBase={})),function(e){e[e.TrendView=96]="TrendView",e[e.TrendWindow=97]="TrendWindow",e[e.XAxis=98]="XAxis",e[e.YAxis=99]="YAxis",e[e.Trend=104]="Trend",e[e.ToolBar=105]="ToolBar",e[e.StatusBar=106]="StatusBar",e[e.Font=107]="Font"}(e.ElementId||(e.ElementId={})),function(e){e[e.Name=0]="Name",e[e.DisplayName=1]="DisplayName",e[e.TrendWindow=2]="TrendWindow",e[e.Position=3]="Position",e[e.Visible=4]="Visible",e[e.LabelColor=5]="LabelColor",e[e.TickColor=6]="TickColor",e[e.RangeType=7]="RangeType",e[e.BeginTime=8]="BeginTime",e[e.EndTime=9]="EndTime",e[e.PointCount=10]="PointCount",e[e.OutputFormat=11]="OutputFormat",e[e.AutoRange=12]="AutoRange",e[e.ScalingType=13]="ScalingType",e[e.TimeRangeBase=14]="TimeRangeBase",e[e.TimeRangeFactor=15]="TimeRangeFactor",e[e.TimeRange=16]="TimeRange",e[e.ObjectName=17]="ObjectName",e[e.Effects=18]="Effects",e[e.Scaling=19]="Scaling",e[e.StartTimeMsg=20]="StartTimeMsg",e[e.MeasurementPointMsg=21]="MeasurementPointMsg",e[e.TimeRangeMsg=22]="TimeRangeMsg",e[e.ValueRange=23]="ValueRange",e[e.InValidNumberMsg=24]="InValidNumberMsg",e[e.GridProperties=25]="GridProperties",e[e.LeftToRightAlign=28]="LeftToRightAlign",e[e.TopToBottomAlign=29]="TopToBottomAlign",e[e.NegativeMsg=30]="NegativeMsg",e[e.MeasurementUnitType=31]="MeasurementUnitType",e[e.MeasurementUnit=32]="MeasurementUnit",e[e.ScaleMode=33]="ScaleMode",e[e.LargeTickLabelingStep=34]="LargeTickLabelingStep",e[e.AutoScaling=35]="AutoScaling",e[e.LabelDirection=36]="LabelDirection",e[e.ApplyScalingEntries=37]="ApplyScalingEntries",e[e.MeasurementAttributes=38]="MeasurementAttributes",e[e.TimeAxes=39]="TimeAxes",e[e.XAxes=40]="XAxes",e[e.YAxes=41]="YAxes",e[e.BeginValue=42]="BeginValue",e[e.EndValue=43]="EndValue",e[e.DivisionCount=44]="DivisionCount",e[e.SubDivisionCount=45]="SubDivisionCount",e[e.ShowScalingDisplayNames=46]="ShowScalingDisplayNames",e[e.LinearValidNumberRangeMsg=47]="LinearValidNumberRangeMsg",e[e.LogarithmicValidNumberRangeMsg=48]="LogarithmicValidNumberRangeMsg",e[e.NegatedLogarithmicValidNumberRangeMsg=49]="NegatedLogarithmicValidNumberRangeMsg",e[e.LogarithmicInvalidNegNumberMsg=50]="LogarithmicInvalidNegNumberMsg",e[e.NegatedLogarithmicInvalidPosNumberMsg=51]="NegatedLogarithmicInvalidPosNumberMsg",e[e.LabelDistance=52]="LabelDistance",e[e.LabelPosition=53]="LabelPosition",e[e.StartAndEndValueMsg=54]="StartAndEndValueMsg",e[e.InvalidDateTimeMsg=55]="InvalidDateTimeMsg",e[e.InCompleteDateTimeMsg=56]="InCompleteDateTimeMsg",e[e.OutputFormatMaxMsg=57]="OutputFormatMaxMsg",e[e.TrendArea=58]="TrendArea",e[e.OutputFormatInvalidMsg=59]="OutputFormatInvalidMsg",e[e.InvalidTrendAreaMsg=61]="InvalidTrendAreaMsg",e[e.AlwaysShowRecent=62]="AlwaysShowRecent",e[e.LabelFontName=63]="LabelFontName",e[e.LabelFontSize=64]="LabelFontSize",e[e.LabelFontWeight=65]="LabelFontWeight",e[e.LabelFontUnderline=66]="LabelFontUnderline",e[e.LabelFontItalic=67]="LabelFontItalic",e[e.LabelFontStrikeOut=68]="LabelFontStrikeOut",e[e.AxisColor=69]="AxisColor",e[e.HelpLines=70]="HelpLines"}(e.AxisPropId||(e.AxisPropId={})),function(e){e[e.Name=63]="Name",e[e.Size=64]="Size",e[e.Weight=65]="Weight",e[e.Underline=66]="Underline",e[e.Italic=67]="Italic",e[e.StrikeOut=68]="StrikeOut"}(e.LabelFont||(e.LabelFont={})),e.TrendViewPartType={Trends:"Trends",TrendAreas:"TrendAreas",FunctionTrends:"FunctionTrends",FunctionTrendAreas:"FunctionTrendAreas",TopTimeAxes:"TopTimeAxes",BottomTimeAxes:"BottomTimeAxes",TopValueAxes:"TopValueAxes",BottomValueAxes:"BottomValueAxes",LeftValueAxes:"LeftValueAxes",RightValueAxes:"RightValueAxes",Font:"Font",Thresholds:"Thresholds",Legend:"Legend",Config:"config"},function(e){e[e.GeneralTab=0]="GeneralTab",e[e.TrendTab=1]="TrendTab",e[e.TrendWindowTab=2]="TrendWindowTab",e[e.TimeAxesTab=3]="TimeAxesTab",e[e.ValueAxesTab=4]="ValueAxesTab",e[e.FontTab=5]="FontTab",e[e.ToolBarTab=6]="ToolBarTab",e[e.StatusBarTab=7]="StatusBarTab",e[e.OnlineConfiguration=8]="OnlineConfiguration",e[e.Export=9]="Export",e[e.BorderWidth=10]="BorderWidth",e[e.LineWidth=11]="LineWidth",e[e.LineColor=12]="LineColor",e[e.BorderColor=13]="BorderColor",e[e.BackColor=14]="BackColor",e[e.TimeBase=15]="TimeBase",e[e.Orientation=16]="Orientation",e[e.ScrollbarMode=17]="ScrollbarMode",e[e.Window=18]="Window",e[e.WindowTitle=19]="WindowTitle",e[e.Caption=20]="Caption",e[e.Movable=21]="Movable",e[e.Closable=22]="Closable",e[e.Sizable=23]="Sizable",e[e.Style=24]="Style",e[e.CurrentPrintJob=25]="CurrentPrintJob",e[e.Effects=26]="Effects",e[e.RulerConfiguration=27]="RulerConfiguration",e[e.ConnectTrendWindows=28]="ConnectTrendWindows",e[e.OpenPicture=29]="OpenPicture",e[e.Startingupdate=30]="Startingupdate",e[e.ShowRuler=31]="ShowRuler",e[e.LoadDataFromArchive=32]="LoadDataFromArchive",e[e.DataConnection=33]="DataConnection",e[e.XAxes=34]="XAxes",e[e.YAxes=35]="YAxes",e[e.Height=36]="Height",e[e.Width=37]="Width",e[e.Left=38]="Left",e[e.Top=39]="Top",e[e.Online=40]="Online",e[e.ShowStatisticRulers=41]="ShowStatisticRulers",e[e.AlwaysShowRecent=42]="AlwaysShowRecent",e[e.ExtendRulerToAxis=43]="ExtendRulerToAxis",e[e.AreaSpacing=44]="AreaSpacing",e[e.ShiftAxes=45]="ShiftAxes",e[e.WindowFlags=46]="WindowFlags",e[e.ShowCaption=47]="ShowCaption",e[e.ShowBorder=48]="ShowBorder",e[e.AlwaysOnTop=49]="AlwaysOnTop",e[e.CanSize=50]="CanSize",e[e.CanMove=51]="CanMove",e[e.CanMaximize=52]="CanMaximize",e[e.CanClose=53]="CanClose",e[e.Visible=54]="Visible",e[e.Index=55]="Index",e[e.TimeZone=56]="TimeZone",e[e.Name=57]="Name",e[e.LegendVisible=58]="LegendVisible",e[e.LegendFontName=59]="LegendFontName",e[e.LegendFontSize=60]="LegendFontSize",e[e.LegendFontWeight=61]="LegendFontWeight",e[e.LegendFontUnderline=62]="LegendFontUnderline",e[e.LegendFontItalic=63]="LegendFontItalic",e[e.LegendStrikeout=64]="LegendStrikeout",e[e.Enabled=65]="Enabled"}(e.TrendViewPropId||(e.TrendViewPropId={})),function(e){e[e.Name=0]="Name",e[e.Visible=1]="Visible",e[e.BackColor=2]="BackColor",e[e.GridLines=3]="GridLines",e[e.VerticalMajor=4]="VerticalMajor",e[e.HorizontalMajor=5]="HorizontalMajor",e[e.MajorGridLinesColor=8]="MajorGridLinesColor",e[e.SizeFactor=10]="SizeFactor",e[e.RulerWidth=11]="RulerWidth",e[e.RulerColor=12]="RulerColor",e[e.TrendWindow=13]="TrendWindow",e[e.StatisticRulerColor=14]="StatisticRulerColor",e[e.StatisticRulerWidth=15]="StatisticRulerWidth",e[e.Index=16]="Index",e[e.RemovalMsg=17]="RemovalMsg",e[e.StatisticRulerStyle=18]="StatisticRulerStyle",e[e.SelectedTrend=19]="SelectedTrend",e[e.SelectedFunctionTrend=20]="SelectedFunctionTrend",e[e.MinorGridLinesColor=21]="MinorGridLinesColor"}(e.TrendWindowPropId||(e.TrendWindowPropId={})),function(e){e[e.BeginValue=78]="BeginValue",e[e.EndValue=79]="EndValue",e[e.Name=80]="Name",e[e.DisplayName=81]="DisplayName",e[e.Color=82]="Color",e[e.ThresholdMode=83]="ThresholdMode",e[e.Value=84]="Value"}(e.Thresholds||(e.Thresholds={})),function(e){e[e.Visible=64]="Visible",e[e.UncertainColor=65]="UncertainColor",e[e.BadColor=66]="BadColor"}(e.QualityVisualization||(e.QualityVisualization={})),function(e){e[e.Source=27]="Source"}(e.DataSource||(e.DataSource={})),function(e){e[e.Source=16]="Source"}(e.DataSourceX||(e.DataSourceX={})),function(e){e[e.Source=17]="Source"}(e.DataSourceY||(e.DataSourceY={})),function(e){e[e.Width=11]="Width",e[e.Color=12]="Color"}(e.Ruler||(e.Ruler={})),function(e){e[e.Color=14]="Color",e[e.Width=15]="Width"}(e.StatisticRulers||(e.StatisticRulers={})),function(e){e[e.Name=0]="Name",e[e.TrendArea=1]="TrendArea",e[e.XValueAxis=2]="XValueAxis",e[e.YValueAxis=3]="YValueAxis",e[e.Visible=4]="Visible",e[e.LineColor=5]="LineColor",e[e.DashType=6]="DashType",e[e.LineWidth=7]="LineWidth",e[e.FillStyle=8]="FillStyle",e[e.MarkerType=9]="MarkerType",e[e.TrendMode=10]="TrendMode",e[e.MarkerDimension=11]="MarkerDimension",e[e.DisplayName=12]="DisplayName",e[e.ExtendedColorSet=13]="ExtendedColorSet",e[e.MarkerColor=14]="MarkerColor",e[e.FillColor=15]="FillColor",e[e.TagNameX=16]="TagNameX",e[e.TagNameY=17]="TagNameY",e[e.RangeType=18]="RangeType",e[e.TimeRangeFactor=19]="TimeRangeFactor",e[e.TimeRangeBase=20]="TimeRangeBase",e[e.BeginTime=21]="BeginTime",e[e.EndTime=22]="EndTime",e[e.PointCount=23]="PointCount",e[e.Actualize=24]="Actualize",e[e.TimeAxis=25]="TimeAxis",e[e.TagName=27]="TagName",e[e.TagDataSourceType=28]="TagDataSourceType",e[e.DataConnection=29]="DataConnection",e[e.Effects=30]="Effects",e[e.ObjectName=31]="ObjectName",e[e.Online=32]="Online",e[e.TimeRange=33]="TimeRange",e[e.Setting=34]="Setting",e[e.StartTimeMsg=35]="StartTimeMsg",e[e.MeasurementPointMsg=36]="MeasurementPointMsg",e[e.TimeRangeMsg=37]="TimeRangeMsg",e[e.Index=38]="Index",e[e.CycleTime=39]="CycleTime",e[e.CycleTimeX=40]="CycleTimeX",e[e.CycleTimeY=41]="CycleTimeY",e[e.TagNameButton=42]="TagNameButton",e[e.TagXNameButton=43]="TagXNameButton",e[e.TagYNameButton=44]="TagYNameButton",e[e.LimitValuesButton=45]="LimitValuesButton",e[e.Limits=46]="Limits",e[e.QualityVisualizationVisible=64]="QualityVisualizationVisible",e[e.UncertainQualityColor=65]="UncertainQualityColor",e[e.BadQualityColor=66]="BadQualityColor",e[e.QualityVisualization=69]="QualityVisualization",e[e.BackColor=70]="BackColor",e[e.BackFillPattern=71]="BackFillPattern",e[e.FunctionTrendArea=74]="FunctionTrendArea",e[e.InvalidDateTimeMsg=75]="InvalidDateTimeMsg",e[e.InCompleteDateTimeMsg=76]="InCompleteDateTimeMsg",e[e.AlternateBackColor=77]="AlternateBackColor",e[e.ThresholdBeginValue=78]="ThresholdBeginValue",e[e.ThresholdEndValue=79]="ThresholdEndValue",e[e.ThresholdName=80]="ThresholdName",e[e.ThresholdDisplayName=81]="ThresholdDisplayName",e[e.ThresholdColor=82]="ThresholdColor",e[e.ThresholdMode=83]="ThresholdMode",e[e.ThresholdValue=84]="ThresholdValue",e[e.ThresholdModeList=85]="ThresholdModeList",e[e.DisplayText=86]="DisplayText",e[e.TooltipText=87]="TooltipText",e[e.MarkerGraphic=88]="MarkerGraphic",e[e.AggregationMode=89]="AggregationMode",e[e.TrendDescription=90]="TrendDescription"}(e.TrendPropId||(e.TrendPropId={})),function(e){e[e.NormalGroup=0]="NormalGroup",e[e.TranslateGroup=1]="TranslateGroup"}(e.TrendPolylineGroup||(e.TrendPolylineGroup={})),function(e){e[e.NoMove=0]="NoMove",e[e.MoveToFirst=1]="MoveToFirst",e[e.MoveToPrevious=2]="MoveToPrevious",e[e.MoveToNext=3]="MoveToNext",e[e.MoveToLast=4]="MoveToLast",e[e.MoveToSpecifiedTime=5]="MoveToSpecifiedTime",e[e.OnUnpause=6]="OnUnpause"}(e.MoveToType||(e.MoveToType={})),function(e){e[e.NoBounding=0]="NoBounding",e[e.LeftBounding=1]="LeftBounding",e[e.RightBounding=2]="RightBounding",e[e.LeftAndRightBounding=4]="LeftAndRightBounding"}(e.BoundingFlags||(e.BoundingFlags={})),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(e.RulerDirection||(e.RulerDirection={})),function(e){e[e.Time=0]="Time",e[e.RulerMin=1]="RulerMin",e[e.RulerMax=2]="RulerMax",e[e.Value=3]="Value"}(e.RulerType||(e.RulerType={})),e.RulerConstProps={circleStrokeGap:2,circleRadius:10,circleStroke:1,circleRadiusDiff:8,smallArrowHeight:7.88,smallArrowWidth:13.5,bigArrowHeight:25.33,bigArrowWidth:16.89,fontSize:11,fontSizeDiff:8,fontSizeDiff2:2,rulerBackColor:"rgba(255,255,255,1)",handleGradColor1:"#91939A",handleGradColor2:"#F2F4FF",handleColor:"#91939A",handleColor2:"#F2F4FF",handleFillColor:"#404044",rulerMinColor:"rgba(125,205,245,1)",rulerMaxColor:"#ff0f28",fontFill:"rgba(125,205,245,1)",rulerLegendRadius:5,rulerLegendSpace:7,rulerLegendMargin:10,rulerLegendFontName:"Siemens Sans",rulerLegendFontSize:12,rulerLegendFontStyle:"none",rulerLegendFontWeight:400,rulerLegendFontTextDecoration:"",rulerLegendFontColor:"#000000",rulerLegendLabelFontSize:12,rulerLegendLabelFontColor:"#353535",rulerLegendLabelGap:10,rulerLegendLineLength:20,rulerLegendArrowWidth:10,rulerLegendArrowHeight:6,rulerLegendArrowColor:"#404044",minMaxRulerArrowHeight:14.11,minMaxRulerArrowWidth:21.17,rulerLeftRightPadding:10,topBottomPaddingFactor:2},e.HammerEvents={PAN:"pan",PAN_START:"panstart",PAN_END:"panend",TWO_FINGER_SINGLE_TAP:"twoFingerSingleTap",SINGLE_TAP:"singleTap",PINCH:"pinch"},function(e){e[e.zoomArea=0]="zoomArea",e[e.zoomInOut=1]="zoomInOut",e[e.zoomInOutX=2]="zoomInOutX",e[e.zoomInOutY=3]="zoomInOutY",e[e.moveTrendArea=4]="moveTrendArea"}(e.ZoomMoveOperationVars||(e.ZoomMoveOperationVars={})),function(e){e[e.none=0]="none",e[e.tagXRecieved=1]="tagXRecieved",e[e.tagYRecieved=2]="tagYRecieved",e[e.tagXYRecieved=3]="tagXYRecieved"}(e.FunctionTrendDataStatus||(e.FunctionTrendDataStatus={})),e.FlowDiagramType={Step:"step",Ladder:"ladder",FunctionBlock:"functionblock"},e.FlowLineState={Normal:"normal",Active:"active",InActive:"inactive"},e.FlowLineDecoratorType={Links:"links",Transition:"transition",Terminal:"terminal",Input:"input",Output:"output",None:"none"},e.FlowLineDecoratorSubType={JumpIn:"JumpIn",JumpOut:"JumpOut",Step:"Step"},e.FlowDiagramElementType={Line:"Line",Branch:"Branch",Block:"Block",Logic:"Logic",PowerRail:"PowerRail",Contact:"Contact",Coil:"Coil",Function:"Function"},e.LineParam={StrokeWidth:"stroke-width",Stroke:"stroke",StrokeDashArray:"stroke-dasharray"},e.ConnectorType={Input:"Input",Output:"Output"},e.FlowLineType={solid:"solid",parallel:"parallel",dash:"dash"},e.SymbolType={line:"line",circle:"circle",arrow:"arrow",none:"none"},e.BranchSubType={Begin:"Begin",End:"End"},function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical"}(e.Orientation||(e.Orientation={}))}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e){this.items=[],this.tempItems=[],this.listType=e}return i.prototype.add=function(e){this.items.push(e)},i.prototype.addToTempItems=function(e){this.tempItems.push(e)},i.prototype.updateTempItems=function(){var e;this.tempItems.length>0&&(this.tempItems.reverse(),(e=this.tempItems).push.apply(e,this.items),this.items=null,this.items=this.tempItems.slice(0),this.tempItems.length=0)},i.prototype.tryAdd=function(e){var t;return-1===(t=this.findIndexByName(e))&&(this.items[this.items.length]=e),t},i.prototype.tryRemove=function(e){var t;return t=this.findIndexByName(e),this.removeByIndex(t),t},i.prototype.update=function(e,t){this.items.length>0?this.items[t]=e:this.items[0]=e},i.prototype.isEqual=function(e,t){return e===t},i.prototype.findIndexByName=function(e){var t=-1,i=0;for(i=0;i<this.items.length;i++)if(this.items[i]===e){t=i;break}return t},i.prototype.findIndexByTimeStamp=function(e){var t,i=-1,r=this.items.length;for(t=0;t<r;t++)if(this.items[t].timeStamp===e){i=t;break}return i},i.prototype.getValueFromTimeStamp=function(i,r,n,a){var o,s,l,u,h,d,c,p,m,g=t.QualityCode,T=t.TagValueSuffix,f=e.getChromEnum("HmiTrendMode"),y=this.items,D=y.length;if(D>0&&i>=y[0].timeStamp&&(i<=y[D-1].timeStamp||a===f.Value)||1===D&&r<=y[0].timeStamp&&y[0].timeStamp<=n){for(o="",l=0;l<D;l++){if((u=y[l]).timeStamp===i||r<=u.timeStamp&&u.timeStamp<=n){o=u.yTagValue,u.qualityCode===g.Uncertain?o+=T.Uncertain:u.qualityCode===g.Bad&&(o+=T.Bad),y[l+1]&&y[l+1].timeStamp===u.timeStamp&&(m=o,(o=[])[0]=m,o[1]=y[l+1].yTagValue,y[l+1].qualityCode===g.Uncertain?o[1]+=T.Uncertain:y[l+1].qualityCode===g.Bad&&(o[1]+=T.Bad));break}if(i<u.timeStamp)break}""===o&&(p=u.timeStamp,c=u.yTagValue,h=y[l-1].timeStamp,d=y[l-1].yTagValue,o=a===f.Stepped||a===f.Value&&p===h?d+T.Interpolated:d+(i-h)*(c-d)/(p-h)+T.Interpolated,(s=y[l-1].qualityCode)>u.qualityCode&&(s=u.qualityCode),s===g.Uncertain?o+=T.Uncertain:s===g.Bad&&(o+=T.Bad))}else o="";return o},i.prototype.getTimeStampFromValue=function(e,t,i){var r=this.items,n=r[t],a=r[i],o=n.xTagValue,s=n.yTagValue,l=a.yTagValue,u=a.xTagValue;return s<l?(e-s)/(l-s)*(u-o)+o:s>l?u-(e-l)/(s-l)*(u-o):s},i.prototype.getXTagValueFromYTagValue=function(e,t,i){var r=this.items;return r[t].xTagValue<r[i].xTagValue?this.getTimeStampFromValue(e,t,i):r[t].xTagValue>r[i].xTagValue?this.getTimeStampFromValue(e,i,t):r[t].xTagValue},i.prototype.getStatistics=function(e,t){var i,r,n,a,o,s,l,u,h,d,c,p,m,g={},T=this.items,f=T.length,y=0,D=0,S=0;for(i=0;i<f;i++)if(e<=T[i].timeStamp){a=i;break}if(void 0===a||t<T[a].timeStamp||e===t)g.integral="",g.duration="",g.weightedAverage="",g.numberOfValues=0,g.average="",g.standardDeviation="",g.minimum="",g.minimumTimeStamp="",g.maximum="",g.maximumTimeStamp="",g.statisticCalcSuccess=!1,g.sum="";else{for(i=a;i<f&&!(t<T[i].timeStamp);i++);for(o=i,l=s=a,y=(n=T[a]).yTagValue,D+=Math.pow(y,2),i=a+1;i<o;i++)y+=d=(r=T[i]).yTagValue,D+=Math.pow(d,2),d<T[l].yTagValue&&(l=i),d>T[s].yTagValue&&(s=i),c=r.timeStamp-n.timeStamp,d>0&&n.yTagValue>0?(m=d>n.yTagValue?(p=d)-n.yTagValue:(p=n.yTagValue)-d,S+=c*p-.5*c*m):d<0&&n.yTagValue<0?(m=d<n.yTagValue?(p=d)-n.yTagValue:(p=n.yTagValue)-d,S+=c*p-.5*c*m):S+=c/2*.5*d+c/2*.5*n.yTagValue,n=r,r=null;g.integral=S/1e3,g.duration=(t-e)/1e3,g.weightedAverage=g.integral/g.duration,g.numberOfValues=h=o-a,g.average=u=y/h,g.standardDeviation=Math.sqrt(D/h-Math.pow(u,2)),g.minimum=T[l].yTagValue,g.minimumTimeStamp=T[l].timeStamp,g.maximum=T[s].yTagValue,g.maximumTimeStamp=T[s].timeStamp,g.statisticCalcSuccess=!0,g.sum=y}return g},i.prototype.removeAfterTimeStamp=function(e){var t,i=[],r=this.items.length;for(t=0;t<r;t++)if(!(this.items[t].timeStamp<e)){i=this.items[t].timeStamp===e?this.items.splice(t+1):this.items.splice(t);break}return i},i.prototype.removeBeforeTimeStamp=function(e){var t,i,r=this.items.length;for(t=0;t<r&&((i=this.items[t]).timeStamp<e||i.timeStamp===e&&null===i.qualityCode);t++);return this.items.splice(0,t)},i.prototype.removeItems=function(e){e>-1&&this.items.splice(0,e)},i.prototype.removeByIndex=function(e){e>-1&&this.items.splice(e,1)},i.prototype.addToBeginning=function(e){this.items.unshift(e)},i.prototype.addArrayToBeginning=function(e){e.push.apply(e,this.items),this.items=null,this.items=e,e=null},i.prototype.clear=function(){this.items=[]},i}();t.GenericList=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(t,i,r){var n=this;this.acceptOnFocusOut=!1,this.clearEdit=function(e){n.data.tableProps.latestProjectVersion?(n.acceptOnFocusOut&&(n.inProgress=!1,null===n.cell.rootItem.RootFocusManager.currentFocusArea&&n.cell.rootItem.RootFocusManager.setFocus(),n.cell.rootItem.RootFocusManager.moveFocus(8)),n.cell.setDataContent({IsEditing:!1}),n.cell.setDataContent({OutputFormat:""}),n.cell.setDataContent({MinimumValue:""}),n.cell.setDataContent({MaximumValue:""}),n.cell.update()):(e&&n.textFieldNve.focusOut(),n.editGroup&&n.editGroup.parentNode&&n.data.dataTemplateGroup.parentNode.removeChild(n.editGroup),n.textFieldNve&&(n.textFieldNve.onValueChanged=null)),n.inProgress=!1,n.cellIndex=-1,n.rowIndex=-1,n.cell=null},this.initTextField=function(t,i){var r,a=n.data.configuration.Font,o=n.getDimension(),s=n.getPos();n.createParentDom(s,o),n.createBackGroundRect(o),r=new e.Features.Font,n.textFieldNve||(n.textFieldNve=new e.TextField,r.Attributes.name=a.Name,r.Attributes.size=a.Size,r.Attributes.italic=a.Italic,r.Attributes["strike-out"]=a.StrikeOut,r.Attributes.underline=a.Underline,r.Attributes.weight=a.Weight,n.textFieldNve.Features.push(r),n.textFieldNve.Attributes.height=o.height,n.textFieldNve.Attributes.target=" "),n.textFieldNve.Attributes.width=o.width,n.textFieldNve.Attributes.value=t.value,n.isDateTime||(n.textFieldNve.Attributes["output-format"]=i),n.textFieldNve.onValueChanged=n.onValueChanged.bind(n);var l=n.textFieldNve.create(n.item);return n.editGroup.appendChild(l),l.getElementsByTagName("rect")[0]},this.getPos=function(){var e=n.rowIndex*n.data.tableProps.cellHeight+n.data.tableProps.headerHeight+n.data.tableProps.topBorder/2;return{x:n.data.tableProps.leftBorder/2+n.data.helper.getColumnWidthTillIndex(n.cellIndex-1)+n.data.tableProps.rowHeaderWidth,y:e}},this.getDimension=function(){return{height:n.data.configuration.RowHeight,width:n.data.helper.getColumnWidthByIndex(n.cellIndex)}},this.createDatePicker=function(t,i,r){var a;"number"==typeof t?(NaN,NaN,(a=window.DatePrecise([NaN,0])).setMilliseconds(NaN)):a=window.DatePrecise(t);var o={type:e.format2Type(i),defaultDate:a,callback:n.dateChanged.bind(n),timeZonePreference:r};n.item.Store.gfxWebLib.dialogs.showDateTimePicker(n.item.Store,o)},this.dateChanged=function(e,t,i){var r=window.DatePrecise(t).getTime();n.onValueChanged("",r)},this.isInProgress=function(){return n.inProgress},this.isEditedCell=function(e){var t,i;return!(!n.inProgress||(i=n.data.helper.getColumnIndexByXpos(e.x),t=n.data.helper.getRowIndexByYpos(e.y),n.cellIndex!==i||n.rowIndex!==t))},this.cleanup=function(){n.clearEditing(!0),n.backgroundRect=null,n.editGroup=null,n.textFieldNve=null,n.hostcallBack=null,n.data=null,n.item=null},this.item=t,this.data=i,this.hostcallBack=r,this.oldValue="",this.outputFormat="",this.timeZoneIndex=-1,this.inProgress=!1,this.cellIndex=-1,this.rowIndex=-1,this.isDateTime=!1,this.isTimespan=!1}return t.prototype.isTime=function(t){var i=e.getHmiFieldDataTypeEnum();switch(t){case i.Date:case i.Time:case i.DateTime:this.isDateTime=!0;break;case i.TimeSpan:this.isDateTime=!0,this.isTimespan=!0;break;default:this.isDateTime=!1,this.isTimespan=!1}},t.prototype.getOutputFormatFromType=function(e){var t;switch(this.isDateTime=!1,this.isTimespan=!1,e){case window.Variant.CF_VT.INT8:case window.Variant.CF_VT.INT16:case window.Variant.CF_VT.INT32:case window.Variant.CF_VT.INT64:case window.Variant.CF_VT.INT16:t="{I}";break;case window.Variant.CF_VT.FLOAT:case window.Variant.CF_VT.DOUBLE:t="{F}";break;case window.Variant.CF_VT.DATETIME:t="{D} {T}",this.isDateTime=!0;break;case window.Variant.CF_VT.BITSET8:t="{B8}";break;case window.Variant.CF_VT.BITSET16:t="{B16}";break;case window.Variant.CF_VT.BITSET32:t="{H8,4}";break;case window.Variant.CF_VT.BITSET64:t="{H16,4}";break;case window.Variant.CF_VT.TIMESPAN:t="{P}",this.isDateTime=!0,this.isTimespan=!0;break;case window.Variant.CF_VT.BOOL:t="{B}";break;default:t="{S}"}return t},t.prototype.createBackGroundRect=function(e){this.backgroundRect||(this.backgroundRect=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.backgroundRect.setAttribute("fill","white"),this.backgroundRect.setAttribute("rx","5"),this.backgroundRect.setAttribute("x","0"),this.backgroundRect.setAttribute("y","0"),this.backgroundRect.setAttribute("stroke","rgba(125,205,245,1)"),this.backgroundRect.setAttribute("stroke-width","3"),this.editGroup.appendChild(this.backgroundRect)),this.backgroundRect.setAttribute("width",e.width.toString()),this.backgroundRect.setAttribute("height",e.height.toString())},t.prototype.createParentDom=function(e,t){this.editGroup||(this.editGroup=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.editGroup.setAttribute("id","editGroup")),this.editGroup.setAttribute("x",e.x.toString()),this.editGroup.setAttribute("y",e.y.toString()),this.editGroup.setAttribute("width",t.width.toString()),this.editGroup.setAttribute("height",t.height.toString()),this.data.dataTemplateGroup.parentNode.appendChild(this.editGroup)},t.prototype.onValueChanged=function(t,i){i!==this.oldValue.toString()&&(this.dateTimeOutputFormat?i!==e.convertFormatPattern(this.oldValue,this.dateTimeOutputFormat)&&(this.data.featureList.DataTemplates.updateCellValue(this.cell,e.convertFormatPattern(i,this.outputFormat,this.timeZoneIndex).toString(),!1),this.hostcallBack(this.rowIndex,this.cellIndex,i)):(this.data.featureList.DataTemplates.updateCellValue(this.cell,e.convertFormatPattern(i.toString(),this.outputFormat,this.timeZoneIndex),!1),this.hostcallBack(this.rowIndex,this.cellIndex,i))),this.clearEditing(!1)},t.prototype.start=function(t,i){var r,n,a,o,s,l,u=!1,h=!1;this.cellIndex=i.index,this.rowIndex=i.rowIndex,this.cell=this.data.featureList.DataTemplates.getCellByIndex(this.rowIndex,this.cellIndex),this.oldValue=i.value,this.timeZoneIndex=i.timeZoneIndex,this.acceptOnFocusOut=i.acceptOnFocusOut,"string"==typeof i.dataType?(this.isTime(e.format2Type(i.dataType)),n=i.dataType):n=this.getOutputFormatFromType(i.dataType),this.outputFormat=n,this.data.tableProps.latestProjectVersion?this.cell&&("DetailedParameterControl"===this.cell.Store.props.Type?this.cell.Parent.PropertyChangedCallback=this.onValueChanged.bind(this):this.cell.PropertyChangedCallback=this.onValueChanged.bind(this),this.cell.setDataContent({IsEditing:!0}),e.format2Type(n)===e.getHmiFieldDataTypeEnum().DateTime?(this.dateTimeOutputFormat=n,n=""):this.dateTimeOutputFormat="",this.cell.setDataContent({OutputFormat:n}),void 0===i.minimumValue&&(i.minimumValue=""),void 0===i.maximumValue&&(i.maximumValue=""),""===i.minimumValue&&""===i.maximumValue||(u=!0),this.cell.setDataContent({MinimumValue:i.minimumValue}),this.cell.setDataContent({MaximumValue:i.maximumValue}),this.cell.update(),a=this.cell.RootNode.getElementById("ID_textfieldEventRect")):a=this.initTextField(i,n),a&&(this.isDateTime||u?(r=this.item.Store.domNode,this.item.Store.domNode=this.cell.RootNode,this.isDateTime&&(navigator.userAgent.indexOf("Firefox")>-1&&(h=!0,l=this.item.Store.domSvgNode,o=this.item.Store.props.Height,s=this.item.Store.props.Width,this.item.Store.props.Height=this.cell.RootNode.getAttribute("height"),this.item.Store.props.Width=this.cell.RootNode.getAttribute("width"),this.item.Store.domSvgNode=this.cell.RootNode),this.item.Store.domNode.focus=this.clearEditing.bind(this),this.createDatePicker(i.value,n,i.timeZoneIndex),h&&(this.item.Store.domSvgNode=l,this.item.Store.props.Height=o,this.item.Store.props.Width=s)),this.initEditEvent(a),this.item.Store.domNode=r):(r=this.item.RootNode,this.item.RootNode=this.data.dataTemplateGroup.parentNode,this.initEditEvent(a),this.item.RootNode=r)),this.inProgress=!0,this.oldValue=i.value},t.prototype.initEditEvent=function(t){var i=document.createEvent("Event");i.initEvent(e.mapEventName("mousedown"),!0,!0),t.dispatchEvent(i),i.initEvent(e.mapEventName("mouseup"),!0,!0),t.dispatchEvent(i)},t.prototype.clearEditing=function(e){void 0===e&&(e=!0),this.inProgress&&this.clearEdit(e)},t}();t.CellEdit=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){this.Colors={Fore:e.Color,Back:e.Color},this.Content={IsExpandable:!1,IsExpanded:!1,IsEditing:!1,IsMultiLine:!1,MinimumValue:"",MaximumValue:"",CurrentDepth:-1,RowID:-1,Data:"",Graphic:{Url:"",Width:0,Height:0}},this.Colors={Fore:0,Back:0}};e.DataContract=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e,i){this.SIZE_FACTOR=18,this.HIGHLIGHTER_HEADERLINE_GROUP="highlighterHeaderLineGroup",this.isEditInProgress=!1,this.data=e,this.item=i,this.data.selection=new t.Selection(e,i),this.prevClickedHeaderIndex=-1,this.oldIndex=-1,this.prevClickedRowIndex=-1,this.swipeStarted=!1,this.wheelEvtAdded=!1,this.data.callBacks.fireSelection=this.fireSelection.bind(this)}return i.prototype.addEvents=function(e,t){e.addEventListener("mousedown",t),e.addEventListener("mouseup",t),e.addEventListener("touchstart",t),e.addEventListener("touchend",t),e.addEventListener("keydown",t);var i=window.Hammer;i&&(this.hammerInstance=new i.Manager(e,{domEvents:!0}),this.hammerInstance.add(new i.Tap({event:"doubletap",taps:2})),this.hammerInstance.add(new i.Tap({event:"singletap",taps:1})),this.hammerInstance.get("doubletap").recognizeWith("singletap"),this.hammerInstance.get("singletap").requireFailure("doubletap"),this.hammerInstance.on("doubletap",t),this.hammerInstance.on("singletap",t),this.hammerInstance.add(new i.Pan({event:"pan",pointers:1,direction:i.DIRECTION_ALL,threshold:1})),this.hammerInstance.on("panstart",t),this.hammerInstance.on("panup",t),this.hammerInstance.on("pandown",t),this.hammerInstance.on("panleft",t),this.hammerInstance.on("panright",t),this.hammerInstance.on("panend",t),this.hammerInstance.add(new i.Pan({event:"twofingerpan",pointers:2,direction:i.DIRECTION_ALL,threshold:1})),this.hammerInstance.on("twofingerpan",t))},i.prototype.addWheelEvent=function(t,i){!this.wheelEvtAdded&&e.isAppModeRuntime()&&!1!==this.item.Store.props.Enabled&&(t.addEventListener("wheel",i),this.wheelEvtAdded=!0)},i.prototype.removeWheelEvent=function(e,t){e.removeEventListener("wheel",t),this.wheelEvtAdded=!1},i.prototype.removeEventListeners=function(e,t){e.removeEventListener("mousedown",t),e.removeEventListener("mouseup",t),e.removeEventListener("touchstart",t),e.removeEventListener("touchend",t),e.removeEventListener("keydown",t),this.hammerInstance&&(this.hammerInstance.off("doubletap"),this.hammerInstance.off("singletap"),this.hammerInstance.remove("doubletap"),this.hammerInstance.remove("singletap"),this.hammerInstance.off("panstart"),this.hammerInstance.off("panup"),this.hammerInstance.off("pandown"),this.hammerInstance.off("panleft"),this.hammerInstance.off("panright"),this.hammerInstance.off("panend"),this.hammerInstance.off("twofingerpan"),this.hammerInstance.remove("pan"),this.hammerInstance.destroy(),this.hammerInstance=null)},i.prototype.remove=function(e,t){this.removeEventListeners(e,t),this.removeWheelEvent(e,t),this.data=null,this.item=null,this.line=null,this.selection=null},i.prototype.setTarget=function(e,t){var i;"mousedown"!==e.type&&"touchstart"!==e.type&&"singletap"!==e.type||(this.data.tableProps.hasHorScollBar&&t.y>this.data.tableProps.height-this.SIZE_FACTOR?(this.currentTarget="HorizontalScrollBar",i=!0):t.x>this.data.tableProps.width-this.SIZE_FACTOR?("line"===e.target.tagName&&e.target.parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP?this.currentTarget="Gridline":this.currentTarget="VerticalScrollBar",i=!0):t.x<this.data.tableProps.rowHeaderWidth?("line"===e.target.tagName&&e.target.parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP?this.currentTarget="Gridline":this.currentTarget="RowHeader",i=!0):t.x>this.data.tableProps.rowHeaderWidth&&t.y<this.data.tableProps.headerHeight?("line"===e.target.tagName&&e.target.parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP?this.currentTarget="Gridline":this.currentTarget="ColumnHeader",i=!0):(this.currentTarget="DataCell",this.isEditInProgress=this.data.featureList.DataTemplates.isEditedCell(t),i=!this.isEditInProgress)),(i||"panstart"===e.type)&&this.data.featureList.DataTemplates.clearEditing()},i.prototype.clearTarget=function(e){"mouseup"!==e.type&&"touchend"!==e.type&&"panend"!==e.type&&"singletap"!==e.type||(this.currentTarget=null,this.swipeStarted=!1,clearInterval(this.data.selection.timerRef),this.data.selection.timerRef=-1)},i.prototype.updateBindings=function(e,t){this.data=e,this.item=t},i.prototype.columnHeader=function(e,t,i,r){var n=this.data.featureList.Header,a=this.data.tableProps;"mousedown"===e||"touchstart"===t.type?this.columnHeaderOnMousedownTouchstart(t,i):"mouseup"===e||"touchend"===t.type||"panend"===t.type?this.columnHeaderOnMouseTouchPanEnd(t,i,n,a):this.columnHeaderOnRemainingCases(e,t,i,r,n,a)},i.prototype.columnHeaderOnMousedownTouchstart=function(e,t){this.isHeader=!0,this.prevClickedHeaderIndex=this.data.helper.getColumnIndexByXpos(t.x),this.oldIndex=this.prevClickedHeaderIndex,this.handleSelection(e,t)},i.prototype.columnHeaderOnMouseTouchPanEnd=function(e,t,i,r){this.swipeStarted?this.swipeStarted=!1:t.y<0||t.y>r.height||t.x<r.startX||t.x>r.width?i.showHideHighlighterHeaderGroup(e,!1):t.y>0&&t.y<r.height&&!i.isHilighterVisible&&t.x>r.startX&&t.x<r.width?i.showHideHighlighterHeaderGroup(e,!0):this.isHeader&&!this.handleHeaderReorder(e,t)&&this.data.configuration.AllowSort&&!this.data.tableProps.alwaysShowRecent&&this.handleSort(),this.data.configuration.HeaderSettings.AllowColumnReorder&&this.item.Store.props.Enabled&&this.data.headerGroup.setAttribute("cursor","auto"),i.removeHighlighterHeaderGroup(),this.isHeader=!1},i.prototype.columnHeaderOnRemainingCases=function(e,t,i,r,n,a){i.y<0||i.y>a.height||i.x<a.startX||i.x>a.width?n.showHideHighlighterHeaderGroup(t,!1):i.y>0&&i.y<a.height&&!n.isHilighterVisible&&i.x>a.startX&&i.x<a.width?n.showHideHighlighterHeaderGroup(t,!0):"panright"!==e&&"panleft"!==t.type||(this.isTouchEnabled&&Math.abs(t.overallVelocity)>r?this.swipeStarted||(this.swipeStarted=!0,n.removeHighlighterHeaderGroup(),this.data.featureList.DataTemplates.Parent.onSwipe(t.overallVelocityX,t.overallVelocityY)):!this.swipeStarted&&this.isHeader&&0===t.which&&(this.isHeader=!1,n.removeHighlighterHeaderGroup()),this.data.configuration.HeaderSettings.AllowColumnReorder&&this.item.Store.props.Enabled&&this.data.headerGroup.setAttribute("cursor","move"),this.handleHeaderPan(t,i))},i.prototype.rowHeader=function(e,t,i,r){"mouseup"===e||"touchend"===t.type||this.data.tableProps.alwaysShowRecent||(("panright"===e||"panleft"===e||"panup"===e||"pandown"===e)&&this.isTouchEnabled&&Math.abs(t.overallVelocity)>r?this.swipeStarted||(this.swipeStarted=!0,this.data.featureList.DataTemplates.Parent.onSwipe(t.overallVelocityX,t.overallVelocityY)):this.swipeStarted||this.handleSelection(t,i)),"panend"===e&&(this.swipeStarted=!1)},i.prototype.gridLine=function(e,t,i){var r;"mousedown"===e||"touchstart"===t.type?(r=t.target).parentNode.id===this.HIGHLIGHTER_HEADERLINE_GROUP&&this.data.configuration.HeaderSettings.AllowColumnResize&&(this.line=r,this.data.featureList.Gridlines.handleEvents(this.line,t,i)):"mouseup"!==t.type&&"touchend"!==t.type&&"panend"!==t.type||!this.line?"panright"!==e&&"panleft"!==t.type||!this.line||(0===t.which&&(this.line=null,this.currentTarget=null),this.data.featureList.Gridlines.handleEvents(this.line,t,i)):((r=this.data.featureList.Gridlines.Parent).dummyElement&&(r.appendDummyElement&&r.dom.removeChild(r.dummyElement),r.dummyElement=null),this.line=null,this.data.featureList.Gridlines.handleEvents(this.line,t,i))},i.prototype.swipeStart=function(e,t){this.swipeStarted||(this.data.tableProps.alwaysShowRecent?(this.data.selection.clearSelection(null,null,null,this.data.featureList.Header),this.data.selectionDetail.setselectedColumnIndex(-1)):this.handleSelection(e,t))},i.prototype.routeEvent=function(e,t){var i=e.type;switch(this.currentTarget){case"RowHeader":this.rowHeader(i,e,t,.4);break;case"ColumnHeader":this.columnHeader(i,e,t,.4);break;case"Gridline":this.gridLine(i,e,t);break;case"DataCell":"touchstart"!==i&&"mousedown"!==i||!this.isDoubleTap()?"mouseup"!==i&&"touchend"!==e.type&&(("panright"===i||"panleft"===i||"panup"===i||"pandown"===i)&&this.isTouchEnabled&&Math.abs(e.overallVelocity)>.4?this.swipeStarted||(this.swipeStarted=!0,this.data.featureList.DataTemplates.Parent.onSwipe(e.overallVelocityX,e.overallVelocityY)):this.swipeStart(e,t)):(this.data.featureList.DataTemplates.onDoubleClick(t),this.currentTarget=null),"panend"===i&&(this.swipeStarted=!1)}},i.prototype.isDoubleTap=function(){var e=!1,t=Date.now(),i=t-(this.lastTouchTimeStamp||t+1);return i<300&&i>0&&(e=!0),this.lastTouchTimeStamp=t,e},i.prototype.handleSort=function(){var e=this.data.featureList.Header;e&&e.computeAndUpdateSortCriteria(this.prevClickedHeaderIndex)},i.prototype.onKeyDown=function(e,i){var r,n,a,o,s,l,u=!1,h=!1;if(!this.data.tableProps.alwaysShowRecent){switch(1!==i&&3!==i||(u=!0),2!==i&&3!==i||(h=!0),this.data.tableProps.hasRowHeader&&(n=this.data.featureList.RecordHeader),this.data.tableProps.hasColumnHeader&&(r=this.data.featureList.Header),a=this.data.featureList.SelectionBorder,l=(o=this.data.featureList.DataTemplates).Parent,e){case t.KeyCodes.CursorDown:this.handleCursorDown(u,l,o,r,n,a,e),s=!0;break;case t.KeyCodes.CursorUp:this.handleCursorUp(u,l,o,r,n,a,e),s=!0;break;case t.KeyCodes.CursorLeft:this.handleCursorLeft(u,l,o,r,n,a),s=!0;break;case t.KeyCodes.CursorRight:this.handleCursorRight(u,l,o,r,n,a),s=!0;break;case t.KeyCodes.PageUp:this.handlePageUp(h,l,o,r,n,a),s=!0;break;case t.KeyCodes.PageDown:this.handlePageDown(h,l,o,r,n,a),s=!0;break;case t.KeyCodes.Home:this.handleCursorUp(!0,l,o,r,n,a,e),s=!0;break;case t.KeyCodes.End:this.handleCursorDown(!0,l,o,r,n,a,e),s=!0;break;default:s=!1}return s}},i.prototype.handleCursorDown=function(t,i,r,n,a,o,s){var l,u,h=0,d=e.getChromEnum("HmiGridSelectionMode"),c=this.data.viewport.getStartIndex(),p=this.data.viewport.getEndIndex(),m=this.data.tableProps.totalRecords,g=this.data.viewport.getDisplayedRowCount(),T=this.data.selectionDetail.getSelection();if(t&&this.data.configuration.GridSelectionMode!==d.None)m<g?u=m-1:(u=g-1,!this.data.viewport.hasHalfRow&&p<m-1&&u--,i.verticalScrollBase&&i.verticalScrollBase.templateInstance&&(h=i.verticalScrollBase.props.EndValue-i.verticalScrollBase.props.VisibleValueRange,i.cbOnProcessValueChanged(null,h),i.verticalScrollBase.templateInstance.setHmiProps(h,"HmiProps.CurrentValue"),i.verticalScrollBase.templateInstance.update(),this.data.viewport.hasHalfRow&&this.data.viewport.isScrolledTillEnd&&this.data.viewport.getStartIndex()+g!==this.data.viewport.getEndIndex()&&u--));else{if(this.data.configuration.GridSelectionMode===d.Single?u=T.rowIndex:this.data.configuration.GridSelectionMode===d.Multi&&(u=T.indices[0]),c+u===m-1)return;if(++u,m<=g){if(u>=m)return}else if(u>=p-c&&!this.data.viewport.hasHalfRow||u>p-c&&this.data.viewport.hasHalfRow){if(this.data.viewport.hasHalfRow?u=p-c:u--,p===m-1)this.data.viewport.hasHalfRow&&u--;else if(p>m-1)return;i.verticalScrollBase&&i.verticalScrollBase.templateInstance&&(l=(i.verticalScrollBase.props.EndValue-i.verticalScrollBase.props.VisibleValueRange)/i.verticalScrollBase.props.SmallStepValueRange,h=i.verticalScrollBase.props.CurrentValue+l,i.cbOnProcessValueChanged(null,h),i.verticalScrollBase.templateInstance.setHmiProps(h,"HmiProps.CurrentValue"),i.verticalScrollBase.templateInstance.update())}}this.setSelection(a,o,r,u,n)},i.prototype.setSelection=function(e,t,i,r,n){var a=this.data.selectionDetail.getSelection();this.data.selection.clearSelection(e,t,i,null),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setselectedRowIndex(r),this.data.selectionDetail.setSelectedIndices([r]),this.data.selectionDetail.setselectedColumnIndex(a.columnIndex),this.data.configuration.SelectFullRow||this.data.selectionDetail.pushCellSelection(r,a.columnIndex),this.data.selection.setSelection(e,t,i,n),this.updateControlSelection()},i.prototype.handleCursorUp=function(t,i,r,n,a,o,s){var l,u,h=0,d=this.data.viewport.getStartIndex(),c=this.data.tableProps.totalRecords,p=this.data.viewport.getDisplayedRowCount(),m=e.getChromEnum("HmiGridSelectionMode"),g=this.data.selectionDetail.getSelection();if(t&&this.data.configuration.GridSelectionMode!==m.None)u=0,i.verticalScrollBase&&i.verticalScrollBase.templateInstance&&(h=0,i.cbOnProcessValueChanged(null,h),i.verticalScrollBase.templateInstance.setHmiProps(h,"HmiProps.CurrentValue"),i.verticalScrollBase.templateInstance.update());else if(this.data.configuration.GridSelectionMode===m.Single?u=g.rowIndex:this.data.configuration.GridSelectionMode===m.Multi&&(u=g.indices[0]),--u,c<=p){if(u<0)return}else if(u<0){if(0===d)return;u=0,i.verticalScrollBase&&i.verticalScrollBase.templateInstance&&(l=(i.verticalScrollBase.props.EndValue-i.verticalScrollBase.props.VisibleValueRange)/i.verticalScrollBase.props.SmallStepValueRange,(h=i.verticalScrollBase.props.CurrentValue-l)<0&&(h=0),i.cbOnProcessValueChanged(null,h),i.verticalScrollBase.templateInstance.setHmiProps(h,"HmiProps.CurrentValue"),i.verticalScrollBase.templateInstance.update())}this.setSelection(a,o,r,u,n)},i.prototype.handleHorizontalScrollBase=function(e,t){var i,r;if(e.horizontalScrollBase&&e.horizontalScrollBase.templateInstance)if(e.horizontalScrollBase.props.CurrentValue>0)t<0&&(t=0,i=(e.horizontalScrollBase.props.EndValue-e.horizontalScrollBase.props.VisibleValueRange)/e.horizontalScrollBase.props.SmallStepValueRange,(r=e.horizontalScrollBase.props.CurrentValue-i)<0&&(r=0),e.cbOnHorProcessValueChanged(null,r),e.horizontalScrollBase.templateInstance.setHmiProps(r,"HmiProps.CurrentValue"),e.horizontalScrollBase.templateInstance.update());else if(t<0)return;return t},i.prototype.handleCursorLeft=function(e,t,i,r,n,a){var o,s=this.data.selectionDetail.getSelection();if(e)o=0,this.ctrlKeyCursorLeft(t);else if(-1===(o=this.getLeftIndex(s,t)))return;this.data.selection.clearSelection(n,a,i,r),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setSelectedIndices([s.rowIndex]),this.data.selectionDetail.setselectedRowIndex(s.rowIndex),this.data.configuration.SelectFullRow||this.data.selectionDetail.pushCellSelection(s.rowIndex,o+this.data.viewport.getColumnStartIndex()),this.data.selectionDetail.setselectedColumnIndex(o+this.data.viewport.getColumnStartIndex()),this.data.tableProps.totalRecords>0?this.data.selection.setSelection(n,a,i,r):this.data.selection.setSelection(null,null,null,r),this.updateControlSelection()},i.prototype.handleCursorRight=function(e,t,i,r,n,a){var o,s,l,u=0,h=this.data.selectionDetail.getSelection();if(e)t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance&&(o=t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange,t.cbOnHorProcessValueChanged(null,o),t.horizontalScrollBase.templateInstance.setHmiProps(o,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update()),l=this.data.viewport.getColumns().length-1;else{if(l=h.columnIndex-this.data.viewport.getColumnStartIndex(),++l,this.data.viewport.getTotalColumnCount()===this.data.viewport.getColumnCount()&&void 0===this.data.viewport.getColumns()[l])return;if(((this.data.viewport.isLastColVisible||this.data.viewport.autocompleteColumnVisible)&&l===this.data.viewport.getColumnCount()||!this.data.viewport.isLastColVisible&&!this.data.viewport.autocompleteColumnVisible&&l===this.data.viewport.getColumnCount()-1)&&t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance){if(o=t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange,t.horizontalScrollBase.props.CurrentValue===o)return;s=o/t.horizontalScrollBase.props.SmallStepValueRange,(u=t.horizontalScrollBase.props.CurrentValue+s*(this.data.viewport.getColumnCount()-1))>o&&(u=o),t.cbOnHorProcessValueChanged(null,u),t.horizontalScrollBase.templateInstance.setHmiProps(u,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update(),l=0}}this.data.selection.clearSelection(n,a,i,r),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setSelectedIndices([h.rowIndex]),this.data.selectionDetail.setselectedRowIndex(h.rowIndex),this.data.selectionDetail.setselectedColumnIndex(l+this.data.viewport.getColumnStartIndex()),this.data.configuration.SelectFullRow||this.data.selectionDetail.pushCellSelection(h.rowIndex,l+this.data.viewport.getColumnStartIndex()),this.data.tableProps.totalRecords>0?this.data.selection.setSelection(n,a,i,r):this.data.selection.setSelection(null,null,null,r),this.updateControlSelection()},i.prototype.handlePageUp=function(e,t,i,r,n,a){var o,s,l=0,u=this.data.tableProps.totalRecords,h=this.data.viewport.getDisplayedRowCount(),d=this.data.viewport.getStartIndex();this.data.selectionDetail.getSelection();if(e){if(this.data.viewport.getTotalColumnCount()===this.data.viewport.getColumnCount())return;if(t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance){if(o=t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange,t.horizontalScrollBase.props.CurrentValue===o)return;s=o/t.horizontalScrollBase.props.SmallStepValueRange,(l=t.horizontalScrollBase.props.CurrentValue+s*(this.data.viewport.getColumnCount()-1))>o&&(l=o),t.cbOnHorProcessValueChanged(null,l),t.horizontalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update()}}else u>h&&d>0&&(l=d-h<=0?0:this.data.tableProps.cellHeight*(d-h),t.cbOnProcessValueChanged(null,l),t.verticalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.verticalScrollBase.templateInstance.update())},i.prototype.handleVerticalScrollBase=function(e){var t,i,r=this.data.tableProps.totalRecords,n=this.data.viewport.getDisplayedRowCount(),a=this.data.viewport.getStartIndex(),o=this.data.viewport.getEndIndex(),s=this.data.viewport.hasHalfRow?1:0;r>n&&e.verticalScrollBase&&e.verticalScrollBase.templateInstance&&(t=e.verticalScrollBase.props.EndValue-e.verticalScrollBase.props.VisibleValueRange,i=o+n>r?t:this.data.tableProps.cellHeight*(a+n-s),e.cbOnProcessValueChanged(null,i),e.verticalScrollBase.templateInstance.setHmiProps(i,"HmiProps.CurrentValue"),e.verticalScrollBase.templateInstance.update())},i.prototype.handlePageDown=function(e,t,i,r,n,a){var o,s,l=0,u=this.data.viewport.getTotalColumnCount(),h=this.data.viewport.getColumnCount();if(e){if(u===h)return;if(t.horizontalScrollBase&&t.horizontalScrollBase.templateInstance){if(0===t.horizontalScrollBase.props.CurrentValue)return;o=(t.horizontalScrollBase.props.EndValue-t.horizontalScrollBase.props.VisibleValueRange)/t.horizontalScrollBase.props.SmallStepValueRange,s=1===h?h:h-1,(l=t.horizontalScrollBase.props.CurrentValue-o*s)<0&&(l=0),t.cbOnHorProcessValueChanged(null,l),t.horizontalScrollBase.templateInstance.setHmiProps(l,"HmiProps.CurrentValue"),t.horizontalScrollBase.templateInstance.update()}}else this.handleVerticalScrollBase(t)},i.prototype.updateControlSelection=function(){var t=e.Utilities.getDataProvider(this.item,this.data.instanceID).select;"function"==typeof t&&t(this.getCellSelection())},i.prototype.ctrlKeyCursorLeft=function(e){e.horizontalScrollBase&&e.horizontalScrollBase.templateInstance&&(e.cbOnHorProcessValueChanged(null,0),e.horizontalScrollBase.templateInstance.setHmiProps(0,"HmiProps.CurrentValue"),e.horizontalScrollBase.templateInstance.update())},i.prototype.getLeftIndex=function(e,t){var i;if(0===(i=e.columnIndex-this.data.viewport.getColumnStartIndex())&&0===this.data.viewport.getColumnStartIndex())return-1;if(--i,this.data.viewport.getTotalColumnCount()===this.data.viewport.getColumnCount()){if(i<0)return-1}else i=this.handleHorizontalScrollBase(t,i);return i},i.prototype.setUpSelection=function(t,i,r){var n,a,o,s=e.Utilities.getDataProvider(this.item,this.data.instanceID),l=this.data.selectionDetail.getSelection(),u=l.cellSelection.length;if(!this.data.tableProps.alwaysShowRecent){if(this.data.selection.clearSelection(t.rowHeader,t.selectionBorder,t.dataCell,t.columnHeader),this.data.selectionDetail.clearSelection(),this.data.selectionDetail.setselectedColumnIndex(r),this.data.selectionDetail.setselectedRowIndex(i),this.data.selectionDetail.setSelectedIndices(l.indices),!this.data.configuration.SelectFullRow)for(a=0;a<u;a++)o=l.cellSelection[a],this.data.selectionDetail.pushCellSelection(o.rowIndex,o.cellIndex);i>-1&&(this.data.selection.setSelection(t.rowHeader,t.selectionBorder,t.dataCell,t.columnHeader),"function"==typeof s.select&&(n=this.getCellSelection(),s.select(n)))}},i.prototype.handleHeaderReorder=function(t,i){var r,n,a,o,s,l,u,h,d,c,p,m,g;return m=e.getChromEnum("HmiGridSelectionMode"),this.data.configuration.HeaderSettings.AllowColumnReorder&&this.isHeader&&(p=e.Utilities.getDataProvider(this.item,this.data.instanceID),(r=this.data.featureList.Header).removeHighlighterHeaderGroup(),h=(g=this.data.selectionDetail.getSelection()).columnIndex-this.data.viewport.getColumnStartIndex(),this.data.configuration.GridSelectionMode===m.None&&(h=this.oldIndex),d=this.data.helper.getColumnIndexForReorder(i.x,h),u=-1===g.shiftSelection.startIndex?g.rowIndex:g.shiftSelection.startIndex,-1!==h&&h!==d&&-1!==this.prevClickedHeaderIndex&&this.prevClickedHeaderIndex!==h&&(this.prevClickedHeaderIndex=-1,n=this.data.featureList.SelectionBorder,a=this.data.featureList.DataTemplates,o=this.data.featureList.RecordHeader,l=(s=this.data.featureList.Header).Parent.prevDataInstance.columnIndex,p.onColumnReorder&&"function"==typeof p.onColumnReorder&&(d=p.onColumnReorder(h+l,d+l)),r.reorderColumns(d-l,h),c=!0,this.setUpSelection({rowHeader:o,selectionBorder:n,dataCell:a,columnHeader:s},u,d)),this.data.helper.getColumnIndexByXpos(i.x)!==h&&(c=!0)),c},i.prototype.getCellSelection=function(){var e,t=this.data.selectionDetail.getSelection(),i=this.data.viewport.getViewportSelection(t);for((e={}).rowSelection=t.indices,e.selectedCellRowIndex=i.rowIndex,e.selectedCellColumnIndex=i.columnIndex+this.data.viewport.getColumnStartIndex(),e.cellSelection=t.cellSelection,e.cellSelection.sort((function(e,t){return e.rowIndex-t.rowIndex})),e.shifStartIndex=t.shiftSelection.startIndex+this.data.viewport.getStartIndex(),e.shiftEndIndex>-1&&(e.shiftEndIndex=t.shiftSelection.endIndex+this.data.viewport.getStartIndex()),e.shiftSelectionIndices=[],e.shifStartIndex;e.shifStartIndex<=e.shiftEndIndex;e.shifStartIndex++)e.shiftSelectionIndices.push(e.shifStartIndex);return e},i.prototype.handleHeaderPan=function(e,t){var i;this.data.configuration.HeaderSettings.AllowColumnReorder&&this.isHeader?(i=-1===(i=this.data.helper.getColumnIndexByXpos(t.x))?0:i,this.prevClickedHeaderIndex=i,this.data.featureList.Header.createHighlighter(this.oldIndex,e)):this.isHeader=!1},i.prototype.handleSelection=function(t,i){var r,n,a=!1,o=t.type;r=e.getChromEnum("HmiGridSelectionMode"),this.data.configuration.GridSelectionMode!==r.None&&(void 0===this.data.selectionBorderGroup&&this.data.featureList.SelectionBorder.draw(this.item,this.data),"mousedown"===o||"touchstart"===o?a=this.data.selection.onClick(i,t):"panright"!==o&&"panleft"!==o&&"panup"!==o&&"pandown"!==o||(a=this.data.selection.onPan(i,t)),a&&(n=this.data.selection.get(),this.fireSelection(t,n)))},i.prototype.fireSelection=function(t,i,r){void 0===r&&(r=!1);var n=e.Utilities.getDataProvider(this.item,this.data.instanceID);"function"==typeof n.select&&(t&&t.ctrlKey&&(i.controlSelection=t.ctrlKey,i.unSelection=this.data.selectionDetail.getUnselection()),i.isDragSelection=r,n.select(i),i.controlSelection&&this.data.selectionDetail.clearUnselection())},i}();t.GridEvents=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){this.vBeginExpHeader=null,this.vBeginExpInner=null,this.vEndExpHeader=null,this.vEndExpInner=null,this.vHeaderExpHeader=null,this.vHeaderExpInner=null,this.vInnerExpInner=[],this.vInnerExpHeader=[],this.hHeaderLines=[],this.hBeginExpHeader=null,this.hBeginExpInner=null,this.hEndExpHeader=null,this.hEndExpInner=null,this.hInnerExpInner=[],this.hInnerExpHeader=[],this.hHeaderExpHeader=null,this.hHeaderExpInner=null,this.vInnerLineIndex=[],this.hInnerLineIndex=[],this.vHeaderLineIndex=[],this.hHeaderLineIndex=[],this.hasVerticalLines=!1,this.hasHorizontalLines=!1,this.topBorder=0,this.bottomBorder=0,this.leftBorder=0,this.rightBorder=0}return e.prototype.mergeVBeginEndLineConfigs=function(){var e;return e=[],this.vBeginExpHeader&&e.push(this.vBeginExpHeader),this.vBeginExpInner&&e.push(this.vBeginExpInner),this.vEndExpHeader&&e.push(this.vEndExpHeader),this.vEndExpInner&&e.push(this.vEndExpInner),e},e.prototype.mergeVHeaderLineConfigs=function(){var e;return e=[],this.vHeaderExpHeader&&e.push(this.vHeaderExpHeader),this.vHeaderExpInner&&e.push(this.vHeaderExpInner),e},e.prototype.getVInnerExpInner=function(){return this.vInnerExpInner},e.prototype.getVInnerExpHeader=function(){return this.vInnerExpHeader},e.prototype.mergeHLineConfigs=function(){var e;return e=[],this.hInnerExpInner.length>0&&(e=e.concat(this.hInnerExpInner)),e},e.prototype.mergeHBeginEndHeaderLineConfigs=function(){var e;return e=[],this.hBeginExpHeader&&e.push(this.hBeginExpHeader),this.hBeginExpInner&&e.push(this.hBeginExpInner),this.hEndExpHeader&&e.push(this.hEndExpHeader),this.hEndExpInner&&e.push(this.hEndExpInner),this.hHeaderExpHeader&&e.push(this.hHeaderExpHeader),this.hHeaderExpInner&&e.push(this.hHeaderExpInner),e},e.prototype.getHInnerExpHeader=function(){var e;return e=[],this.hInnerExpHeader.length>0&&(e=this.hInnerExpHeader),e},e.prototype.clearVerticalLines=function(){this.vBeginExpHeader=null,this.vBeginExpInner=null,this.vEndExpHeader=null,this.vEndExpInner=null,this.vHeaderExpHeader=null,this.vHeaderExpInner=null,this.vInnerExpInner=[],this.vInnerExpHeader=[],this.vInnerLineIndex=[],this.vHeaderLineIndex=[],this.hasVerticalLines=!1,this.topBorder=0,this.bottomBorder=0},e.prototype.clearHorizontalLines=function(){this.hBeginExpHeader=null,this.hBeginExpInner=null,this.hEndExpHeader=null,this.hEndExpInner=null,this.hInnerExpInner=[],this.hInnerExpHeader=[],this.hHeaderExpHeader=null,this.hHeaderExpInner=null,this.hInnerLineIndex=[],this.hHeaderLines=[],this.hHeaderLineIndex=[],this.hasHorizontalLines=!1,this.leftBorder=0,this.rightBorder=0},e.prototype.clearCollection=function(){this.clearVerticalLines(),this.clearHorizontalLines()},e.prototype.remove=function(){this.clearCollection(),this.hInnerExpInner=null,this.hInnerExpHeader=null,this.hInnerLineIndex=null,this.hHeaderLineIndex=null,this.vInnerExpInner=null,this.vInnerExpHeader=null,this.vInnerLineIndex=null,this.vHeaderLineIndex=null},e}();e.GridLinesConfigurations=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(){this.inBackgroundGridLines=null,this.onTopGridLines=null,this.onColumnsGridLines=null,this.onRowColumnGridLines=null,this.onColumnsGroup=null,this.onRowsColumnsGroup=null,this.inBackgroundGroup=null,this.onTopGroup=null}return t.prototype.getGridLineCollectionByLayer=function(t){switch(t){case"on-top":return null===this.onTopGridLines&&(this.onTopGridLines=new e.GridLinesConfigurations),this.onTopGridLines;case"on-columns":return null===this.onColumnsGridLines&&(this.onColumnsGridLines=new e.GridLinesConfigurations),this.onColumnsGridLines;case"on-rows":return null===this.onRowColumnGridLines&&(this.onRowColumnGridLines=new e.GridLinesConfigurations),this.onRowColumnGridLines;case"background":return null===this.inBackgroundGridLines&&(this.inBackgroundGridLines=new e.GridLinesConfigurations),this.inBackgroundGridLines}},t.prototype.remove=function(){if(this.inBackgroundGridLines&&(this.inBackgroundGridLines.remove(),this.inBackgroundGridLines=null),this.onTopGridLines&&(this.onTopGridLines.remove(),this.onTopGridLines=null),this.onColumnsGridLines&&(this.onColumnsGridLines.remove(),this.onColumnsGridLines=null),this.onRowColumnGridLines&&(this.onRowColumnGridLines.remove(),this.onRowColumnGridLines=null),this.onColumnsGroup){for(;this.onColumnsGroup.lastChild;)this.onColumnsGroup.removeChild(this.onColumnsGroup.lastChild);this.onColumnsGroup.parentNode.removeChild(this.onColumnsGroup),this.onColumnsGroup=null}if(this.onRowsColumnsGroup){for(;this.onRowsColumnsGroup.lastChild;)this.onRowsColumnsGroup.removeChild(this.onRowsColumnsGroup.lastChild);this.onRowsColumnsGroup.parentNode.removeChild(this.onRowsColumnsGroup),this.onRowsColumnsGroup=null}if(this.inBackgroundGroup){for(;this.inBackgroundGroup.lastChild;)this.inBackgroundGroup.removeChild(this.inBackgroundGroup.lastChild);this.inBackgroundGroup.parentNode.removeChild(this.inBackgroundGroup),this.inBackgroundGroup=null}if(this.onTopGroup){for(;this.onTopGroup.lastChild;)this.onTopGroup.removeChild(this.onTopGroup.lastChild);this.onTopGroup.parentNode.removeChild(this.onTopGroup),this.onTopGroup=null}},t}();e.GridLineLayer=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(){this.tableProps=new e.TableProps,this.viewport=new e.Viewport(this.tableProps),this.lineConfigurations=new e.GridLinesConfigurations,this.gridLineLayer=new e.GridLineLayer,this.selectionDetail=new e.SelectionDetails,this.helper=new e.Helper(this.viewport,this.tableProps),this.featureList={},this.columnConfig=[],this.callBacks=[],this.timerRef=-1,this.instanceID=""}return t.prototype.init=function(e,t,i,r,n){void 0===n&&(n=!1),t&&(this.configuration=e.config),this.tableProps.init(this,e,r),n?this.viewport.update():(this.viewport.setSize(),this.viewport.updateViewPortIndex(0)),this.tableProps.hasRowHeader?this.tableProps.calRowHeaderWidth(this.configuration,this.viewport.getSize()):this.tableProps.resetRowHeaderProps(),i>0&&this.viewport.getTotalColumnWidth()>this.tableProps.width?this.viewport.updateVisibleColumns(i):this.viewport.setVisibleColumns(this.configuration)},t.prototype.clear=function(){-1!==this.timerRef&&(clearInterval(this.timerRef),this.timerRef=-1),-1!==this.selection.timerRef&&(clearInterval(this.selection.timerRef),this.selection.timerRef=-1),this.viewport.clear(),this.viewport=null,this.tableProps=null,this.lineConfigurations.clearCollection(),this.lineConfigurations=null,this.gridLineLayer.remove(),this.gridLineLayer=null,this.selectionBorderGroup=null,this.gridEvents=null,this.helper=null,this.featureList=null,this.configuration=null,this.selectionDetail.clearSelection(),this.selectionDetail=null,this.rowBackgoundGroup=null,this.columnBackgoundGroup=null,this.headerGroup=null,this.recordHeaderGroup=null,this.dataTemplateGroup=null,this.columnConfig=null,this.callBacks=null},t}();e.GridMetaData=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t){var i=this;this.isDragAutoSelection=function(e,t){var r=t.y-i.tableProps.headerHeight,n={isValid:!1,isDragAutoSelection:!1,direction:"  "};return-1===e?(n.isDragAutoSelection=!0,n.isValid=!0,n.direction="up"):(e+=i.viewport.getStartIndex())<i.tableProps.totalRecords&&Math.ceil(r)>i.viewport.getSize()*i.tableProps.cellHeight-i.viewport.halfRowHeight&&(n.isDragAutoSelection=!0,n.direction="down",n.isValid=!0),n},this.viewport=e,this.tableProps=t}return e.prototype.getColumnIndexByXpos=function(e){var t,i=0,r=-1,n=(t=this.viewport.getColumns()).length;if((e-=this.tableProps.rowHeaderWidth+this.tableProps.leftBorder)<0)return r;for(r=0;r<n&&!(e<=t[r].Width+i);r++)i+=t[r].Width;return r},e.prototype.getColumnIndexForReorder=function(e,t){var i,r=this.getColumnIndexByXpos(e+this.tableProps.rowHeaderWidth);if(i=this.viewport.getColumns(),r<0)r=0;else if(r>i.length-1)r=i.length-1;else{var n=r-1;e-=this.tableProps.rowHeaderWidth+this.tableProps.leftBorder;var a=n<0?0:this.getColumnWidthTillIndex(n);i[r]&&i[r].Width&&(a+=i[r].Width/2),t>r&&e>a?r++:t<r&&e<a&&r--}return r},e.prototype.getColumnWidthTillIndex=function(e){var t,i=0,r=0,n=e;for(t=this.viewport.getColumns();r<=n;r++)t[r]&&(i+=t[r].Width);return i},e.prototype.getRowIndexByYpos=function(e){return e-=this.tableProps.headerHeight,this.tableProps.hasColumnHeader&&e<0?-1:Math.floor(e/this.tableProps.cellHeight)},e.prototype.getColumnWidthByIndex=function(e,t){var i,r=0;if(i=this.viewport.getColumns())if(void 0!==t&&e!==t)for(;e<=t;e++)i[e]&&(r+=i[e].Width);else i[e]&&(r=i[e].Width);return r},e.prototype.isValidSelection=function(e,t,i,r){var n,a;void 0===r&&(r=!1);var o={isValid:!0,rowIndex:-1,columnIndex:-1},s=this.viewport.getColumns();return void 0===t&&void 0===i?(n=this.getColumnIndexByXpos(e.x),a=this.getRowIndexByYpos(e.y)):(n=i,a=t),o.rowIndex=a,o.columnIndex=n,(-1!==n&&void 0===s[n]||!r&&a>this.viewport.getDisplayedRowCount()-1)&&(o.isValid=!1),o},e.prototype.isValidPanEvent=function(e,t,i){var r=this.getColumnIndexByXpos(t.x),n=this.getRowIndexByYpos(t.y),a=this.isDragAutoSelection(n,t);return a.isDragAutoSelection||(!this.isValidSelection(t,n,r,!0).isValid||e.shiftKey||e.ctrlKey||i.rowIndex===n&&r+this.viewport.getColumnStartIndex()===i.columnIndex||this.selectAllRows(t)||n+this.viewport.getStartIndex()>this.tableProps.totalRecords-1?a.isValid=!1:a.isValid=!0),a},e.prototype.setSelectionColor=function(e,t,i,r){var n,a=!0;return!1===e.ctrlKey&&!1===e.shiftKey&&(n=this.getColumnIndexByXpos(i.x),-1!==t.columnIndices.indexOf(n)&&r&&(a=!1)),a},e.prototype.isEven=function(e){return e%2==0},e.prototype.getVisibleColumnWidth=function(){var e,t,i,r=0;for(i=(t=this.viewport.getColumns()).length,e=0;e<i;e++)r+=t[e].Width;return r},e.prototype.selectAllRows=function(e){var t;return t=!1,this.tableProps.hasColumnHeader&&this.tableProps.hasRowHeader&&(t=e.x<this.tableProps.rowHeaderWidth&&e.y<this.tableProps.headerHeight),t},e.prototype.getVisibleColumnsWidth=function(e){var t,i=0,r=e.length;for(t=0;t<r;t++)e[t].Visible&&(i+=e[t].Width);return i},e.prototype.getGridDimension=function(e,t){var i;t=[];var r={height:0,width:0,currentHeight:0,currentWidth:0},n=this.getVisibleColumnsWidth(t);return 0===(i=e.getTotalRecords())&&(i=1),r.width=n+this.tableProps.rightBorder+this.tableProps.leftBorder+this.tableProps.rowHeaderWidth,r.height=i*this.tableProps.cellHeight+this.tableProps.headerHeight,r.currentHeight=this.tableProps.height,r.currentWidth=this.tableProps.width,r},e}();e.Helper=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,i){this.sections=e,this.poles=t,this.structureElement=i}return e.prototype.getSections=function(){return this.sections},e.prototype.getPoles=function(){return this.poles},e}();e.HierarchyLevel=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.stroke="#000",this.strokeWidth=0,this.layer="on-top",this.colIndex=null};e.LineConfig=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e,t,i){this.dirtyList=new Array,this.defs=e,this.isVertical=t,this.NVE=i}return i.prototype.isMirrored=function(){return this.scaleBegin>this.scaleEnd},i.prototype.setCalculationMethod=function(t){switch(t){case"linear":default:this.calcMethod=e.Calculations.LinearCalculation;break;case"logarithmic":this.calcMethod=e.Calculations.LogarithmicCalculation;break;case"negativelogarithmic":this.calcMethod=e.Calculations.NegativeLogarithmicCalculation;break;case"tangent":this.calcMethod=e.Calculations.TangentCalculation;break;case"quadratic":this.calcMethod=e.Calculations.QuadraticCalculation;break;case"cubic":this.calcMethod=e.Calculations.CubicCalculation}},i.prototype.getBeginSurchargeValue=function(i){var r=e.Calculations.createCalc(this.calcMethod);if(i instanceof t.SectionStraight){var n=i,a=void 0;return this.isVertical?(a=n.beginY<n.endY?n.beginY-this.beginSurcharge:n.beginY+this.beginSurcharge,r.calcByPosition(a,n.beginY,n.endY,n.beginValue,n.endValue)):(a=n.beginX<n.endX?n.beginX-this.beginSurcharge:n.beginX+this.beginSurcharge,r.calcByPosition(a,n.beginX,n.endX,n.beginValue,n.endValue))}var o=i,s=void 0;return s=o.beginAngle<o.endAngle?o.beginAngle-this.beginSurcharge:o.beginAngle+this.beginSurcharge,r.calcByPosition(s,o.beginAngle,o.endAngle,o.beginValue,o.endValue)},i.prototype.getEndSurchargeValue=function(i){var r=e.Calculations.createCalc(this.calcMethod);if(i instanceof t.SectionStraight){var n=i,a=void 0;return this.isVertical?(a=n.beginY<n.endY?n.endY+this.endSurcharge:n.endY-this.endSurcharge,r.calcByPosition(a,n.beginY,n.endY,n.beginValue,n.endValue)):(a=n.beginX<n.endX?n.endX+this.endSurcharge:n.endX-this.endSurcharge,r.calcByPosition(a,n.beginX,n.endX,n.beginValue,n.endValue))}var o=i,s=void 0;return s=o.beginAngle<o.endAngle?o.endAngle+this.endSurcharge:o.endAngle-this.endSurcharge,r.calcByPosition(s,o.beginAngle,o.endAngle,o.beginValue,o.endValue)},i}();t.MetaData=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e,t,i,r,n){this.centerX=e,this.centerY=t,this.radius=i,this.angle=r,this.value=n,this.isVisible=!0,this.color=null};e.PoleArc=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e,t,i){this.x=e,this.y=t,this.value=i,this.isVisible=!0,this.color=null};e.PoleStraight=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.store=function(t,i){e._storage[t]=i},e.retrieve=function(t){var i=e._storage[t];return e.clear(t),i},e.clear=function(t){e._storage[t]=null},e._storage={},e}();e.RulerDataStore=t;var i=function(){};e.RulerData=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e,t,i,r,n,a,o){this.centerX=e,this.centerY=t,this.beginAngle=i,this.endAngle=r,this.radius=n,this.beginValue=a,this.endValue=o,this.isVisible=!0,this.color=null,this.children=null};e.SectionArc=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e,t,i,r,n,a){this.beginX=e,this.beginY=t,this.endX=i,this.endY=r,this.beginValue=n,this.endValue=a,this.isVisible=!0,this.color=null,this.children=null};e.SectionStraight=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(t,i){var r=this;this.autoSelectionOnDrag=function(t){var i=e.Utilities.getDataProvider(r.item,r.gridMetadata.instanceID);r.selectedRowIndex=r.gridMetadata.selectionDetail.getSelection().rowIndex;var n=r.get();"down"===t.direction?(r.selectedRowIndex++,r.gridMetadata.viewport.getEndIndex()+(r.gridMetadata.viewport.hasHalfRow?1:0)<=r.gridMetadata.tableProps.totalRecords?(r.gridMetadata.viewport.setStartIndex(r.gridMetadata.viewport.getStartIndex()+1),r.gridMetadata.viewport.setEndIndex(r.gridMetadata.viewport.getEndIndex()+1),r.gridSelectionMode.Multi===r.gridMetadata.configuration.GridSelectionMode?(r.handleShiftSelection(!1),r.gridMetadata.callBacks.fireSelection(null,n,!0)):r.gridSelectionMode.Single===r.gridMetadata.configuration.GridSelectionMode&&(r.handleSingleSelection(),r.gridMetadata.callBacks.fireSelection(null,n)),i.setVisibleDataRange(r.gridMetadata.viewport.getStartIndex(),r.gridMetadata.viewport.getEndIndex()),r.gridMetadata.callBacks.dragAutoSelect("down")):-1!==r.timerRef&&(clearInterval(r.timerRef),r.timerRef=-1)):r.gridMetadata.viewport.getStartIndex()>0?(r.gridMetadata.viewport.setStartIndex(r.gridMetadata.viewport.getStartIndex()-1),r.gridMetadata.viewport.setEndIndex(r.gridMetadata.viewport.getStartIndex()+(r.gridMetadata.viewport.getSize()-1)),r.gridSelectionMode.Multi===r.gridMetadata.configuration.GridSelectionMode?(r.handleShiftSelection(!1),i.setVisibleDataRange(r.gridMetadata.viewport.getStartIndex(),r.gridMetadata.viewport.getEndIndex()),r.gridMetadata.callBacks.fireSelection(null,n,!0)):r.gridSelectionMode.Single===r.gridMetadata.configuration.GridSelectionMode&&(r.handleSingleSelection(),i.setVisibleDataRange(r.gridMetadata.viewport.getStartIndex(),r.gridMetadata.viewport.getEndIndex()),r.gridMetadata.callBacks.fireSelection(null,n)),r.gridMetadata.callBacks.dragAutoSelect("up")):-1!==r.timerRef&&(clearInterval(r.timerRef),r.timerRef=-1)},this.gridMetadata=t,this.item=i,this.timerRef=-1}return t.prototype.onClick=function(e,t){var i,r,n=this.gridMetadata.helper.isValidSelection(e);this.gridMetadata.tableProps.hasRowHeader&&(i=this.gridMetadata.featureList.RecordHeader),this.gridMetadata.tableProps.hasColumnHeader&&(r=this.gridMetadata.featureList.Header);var a=this.gridMetadata.featureList.SelectionBorder,o=this.gridMetadata.featureList.DataTemplates;return n.rowIndex>-1?n.isValid?(this.selectedColumnIndex=this.gridMetadata.helper.getColumnIndexByXpos(e.x),this.selectedRowIndex=this.gridMetadata.helper.getRowIndexByYpos(e.y),this.gridMetadata.helper.selectAllRows(e),this.clearSelection(i,a,o,r),this.setSelectionDetails(t,e,!1),this.setSelection(i,a,o,r)):(this.clearSelection(i,a,o,r),this.gridMetadata.selectionDetail.clearSelection()):(this.selectedColumnIndex=this.gridMetadata.helper.getColumnIndexByXpos(e.x),this.gridMetadata.tableProps.alwaysShowRecent||this.clearSelection(null,null,null,r),this.gridMetadata.selectionDetail.setselectedColumnIndex(this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex()),this.gridMetadata.tableProps.alwaysShowRecent||this.setSelection(null,null,null,r)),n.rowIndex>-1},t.prototype.onPan=function(e,t){var i,r,n=this.gridMetadata.selectionDetail.getSelection();this.gridMetadata.tableProps.hasRowHeader&&(i=this.gridMetadata.featureList.RecordHeader),this.gridMetadata.tableProps.hasColumnHeader&&(r=this.gridMetadata.featureList.Header);var a=this.gridMetadata.featureList.SelectionBorder,o=this.gridMetadata.featureList.DataTemplates,s=this.gridMetadata.helper.isValidPanEvent(t,e,n);return s.isValid&&(s.isDragAutoSelection?-1===this.timerRef&&(this.timerRef=setInterval(this.autoSelectionOnDrag.bind(this),500,s)):(-1!==this.timerRef&&(clearInterval(this.timerRef),this.timerRef=-1),this.selectedColumnIndex=this.gridMetadata.helper.getColumnIndexByXpos(e.x),this.selectedRowIndex=this.gridMetadata.helper.getRowIndexByYpos(e.y),this.clearSelection(i,a,o,r),this.setSelectionDetails(t,e,!0),this.setSelection(i,a,o,r))),s.isValid},t.prototype.get=function(){var e,t,i;for(e={rowSelection:[],selectedCellRowIndex:-1,cellSelection:[],selectedCellColumnIndex:-1,shifStartIndex:-1,shiftEndIndex:-1,shiftSelectionIndices:[],controlSelection:!1,isDragSelection:!1,unSelection:null},t=this.gridMetadata.selectionDetail.getSelection(),i=this.gridMetadata.viewport.getViewportSelection(t),e.rowSelection=t.indices,e.selectedCellRowIndex=i.rowIndex,e.selectedCellColumnIndex=i.columnIndex+this.gridMetadata.viewport.getColumnStartIndex(),e.cellSelection=t.cellSelection,e.cellSelection.sort((function(e,t){return e.rowIndex-t.rowIndex})),e.shifStartIndex=t.shiftSelection.startIndex+this.gridMetadata.viewport.getStartIndex(),e.shiftEndIndex=t.shiftSelection.endIndex+this.gridMetadata.viewport.getStartIndex(),e.shiftSelectionIndices=[],e.shifStartIndex;e.shifStartIndex<=e.shiftEndIndex;e.shifStartIndex++)e.shiftSelectionIndices.push(e.shifStartIndex);return e},t.prototype.setAutoSelection=function(){var e=this.gridMetadata.selectionDetail.getSelection(),t=this.gridMetadata.viewport.getViewportSelection(e),i=this.gridMetadata.featureList.RecordHeader;i&&this.gridMetadata.tableProps.hasRowHeader&&t.rowIndex>-1&&i.setSelection([t.rowIndex])},t.prototype.clearSelection=function(e,t,i,r,n){void 0===n&&(n=!1);var a=this.gridMetadata.selectionDetail.getSelection(),o=this.gridMetadata.viewport.getViewportSelection(a);r&&o.columnIndex>-1&&this.gridMetadata.tableProps.hasColumnHeader&&r.clearSelection(o.columnIndex),e&&this.gridMetadata.tableProps.hasRowHeader&&e.clearSelection(a.indices,n),t&&t.clearBorder(),i&&i.clearSelection(o)},t.prototype.setSelection=function(e,t,i,r,n){var a=this.gridMetadata.selectionDetail.getSelection(),o=this.gridMetadata.viewport.getViewportSelection(a,n);e&&this.gridMetadata.tableProps.hasRowHeader&&e.setSelection(a.indices),r&&o.columnIndex>-1&&this.gridMetadata.tableProps.hasColumnHeader&&r.setSelection(o.columnIndex),t&&(o.cellSelection.length>0&&o.indices.length>0||this.gridMetadata.configuration.SelectFullRow)&&(t.draw(this.item,this.gridMetadata),t.createBorder(o)),i&&i.setSelection(o)},t.prototype.setSelectionDetails=function(t,i,r){var n;this.gridSelectionMode=e.getChromEnum("HmiGridSelectionMode"),this.gridSelectionMode.Single===this.gridMetadata.configuration.GridSelectionMode?this.handleSingleSelection():this.gridSelectionMode.Multi===this.gridMetadata.configuration.GridSelectionMode&&(n=this.gridMetadata.helper.selectAllRows(i),r||n||t.shiftKey?this.handleShiftSelection(n):t.ctrlKey?this.handleCtrlSelection():this.handleSingleSelection())},t.prototype.updateSelectionDetails=function(e,t,i,r){var n,a,o,s,l;if(n=e.selectionDetail.getCellSelection(),-1!==r)n.push({rowIndex:r,cellIndex:[i]});else for(a=n.length,l=0;l<a;l++)o=n[l].cellIndex.indexOf(t),s=n[l].cellIndex.indexOf(i),-1===o&&-1!==s?(n[l].cellIndex.splice(s,1),n[l].cellIndex.push(t)):-1!==o&&-1===s&&(n[l].cellIndex.splice(o,1),n[l].cellIndex.push(i))},t.prototype.handleSingleSelection=function(){this.gridMetadata.selectionDetail.clearSelection(),this.gridMetadata.selectionDetail.setselectedRowIndex(this.selectedRowIndex),this.gridMetadata.selectionDetail.setShiftStartRowIndex(this.selectedRowIndex,this.gridMetadata.viewport.getStartIndex()),this.gridMetadata.selectionDetail.setselectedColumnIndex(this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex()),this.selectedRowIndex>-1&&(this.gridMetadata.selectionDetail.pushSelectedRowIndices(this.selectedRowIndex,!1),this.gridMetadata.configuration.SelectFullRow||this.gridMetadata.selectionDetail.pushCellSelection(this.selectedRowIndex,this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex()))},t.prototype.handleCtrlSelection=function(){var e=this.gridMetadata.selectionDetail.getSelection();e.rowIndex>=0&&e.indices.length>0&&0===e.cellSelection.length&&this.gridMetadata.selectionDetail.clearRowIndices(),this.gridMetadata.selectionDetail.setselectedRowIndex(this.selectedRowIndex),this.gridMetadata.selectionDetail.setselectedColumnIndex(this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex());this.gridMetadata.selectionDetail.getShiftSelection();this.selectedRowIndex>-1&&(this.gridMetadata.configuration.SelectFullRow?(this.gridMetadata.selectionDetail.clearShiftSelection(),this.gridMetadata.selectionDetail.pushSelectedRowIndices(this.selectedRowIndex,!0)):(this.gridMetadata.selectionDetail.clearShiftSelection(),this.gridMetadata.selectionDetail.setCellSelection(this.selectedRowIndex,this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex(),!1)))},t.prototype.handleShiftSelection=function(e){var t,i,r,n,a;if(r=this.gridMetadata.selectionDetail.getShiftSelection(),this.gridMetadata.selectionDetail.setselectedRowIndex(this.selectedRowIndex),i=this.selectedColumnIndex+this.gridMetadata.viewport.getColumnStartIndex(),this.gridMetadata.selectionDetail.setselectedColumnIndex(i),this.selectedRowIndex>-1)if(e?(r.rowStartIndex=0,r.rowEndIndex=this.gridMetadata.viewport.getDisplayedRowCount()-1):(-1===r.rowStartIndex&&(r.rowStartIndex=0,r.columnStartIndex=i),r.rowEndIndex=this.selectedRowIndex,r.columnEndIndex=i),t=Math.min(r.rowStartIndex,r.rowEndIndex),i=Math.max(r.rowStartIndex,r.rowEndIndex),r.startIndex=t,r.endIndex=i,this.gridMetadata.selectionDetail.clearRowIndices(),this.gridMetadata.configuration.SelectFullRow)for(;t<=i;t++)this.gridMetadata.selectionDetail.pushSelectedRowIndices(t,!1),this.gridMetadata.selectionDetail.pushShiftSelectedIndex(t);else for(n=Math.min(r.columnStartIndex,r.columnEndIndex),a=Math.max(r.columnStartIndex,r.columnEndIndex),r.colStart=n,r.colEnd=a,this.gridMetadata.selectionDetail.clearselectedCells(),r.cellIndices=[];t<=i;t++){for(this.gridMetadata.selectionDetail.pushSelectedRowIndices(t,!1),this.gridMetadata.selectionDetail.pushShiftSelectedIndex(t);n<=a;n++)this.gridMetadata.selectionDetail.setCellSelection(t,n,!0);n=r.colStart}},t.prototype.onPropertyChange=function(t,i,r){var n,a,o,s,l,u;switch(a=e.getChromEnum("HmiGridSelectionMode"),t){case"SelectFullRow":r.configuration.GridSelectionMode!==a.None&&(i?((n=r.selectionDetail.getCellSelection()).length>0&&(r.selectionDetail.clearSelection(),r.selectionDetail.setselectedColumnIndex(n[n.length-1].cellIndex[n[n.length-1].cellIndex.length-1]),r.selectionDetail.pushSelectedRowIndices(n[n.length-1].rowIndex,!1),r.selectionDetail.setselectedRowIndex(n[n.length-1].rowIndex),this.autoselectedRowIndex=-1),r.tableProps.alwaysShowRecent&&this.autoselectedRowIndex>-1&&(r.selectionDetail.setselectedColumnIndex(-1),r.selectionDetail.pushSelectedRowIndices(this.autoselectedRowIndex,!1))):(n=r.selectionDetail.getSelection()).indices.length>0&&(r.selectionDetail.clearSelection(),r.selectionDetail.setselectedRowIndex(n.rowIndex),r.selectionDetail.pushSelectedRowIndices(n.rowIndex,!1),n.lastSelectedColIndex>-1&&(r.selectionDetail.setselectedColumnIndex(n.columnIndex),r.selectionDetail.pushCellSelection(n.rowIndex,n.columnIndex),this.autoselectedRowIndex=-1),r.tableProps.alwaysShowRecent&&(this.autoselectedRowIndex=n.indices[0])));break;case"GridSelectionMode":n=r.selectionDetail.getSelection(),i===a.Single?(u=n.cellSelection.length)>0?(o=n.cellSelection[u-1].cellIndex.length,r.selectionDetail.clearSelection(),s=n.cellSelection[u-1].rowIndex,l=n.cellSelection[u-1].cellIndex[o-1],r.selectionDetail.setselectedColumnIndex(l),r.selectionDetail.pushSelectedRowIndices(s,!1),r.selectionDetail.setCellSelection(s,l+r.viewport.getColumnStartIndex(),!1),this.autoselectedRowIndex=-1):n.indices.length>0?(r.selectionDetail.clearSelection(),n.lastSelectedColIndex>-1&&(r.selectionDetail.setselectedColumnIndex(n.columnIndex),r.selectionDetail.pushSelectedRowIndices(n.rowIndex,!1),r.selectionDetail.setselectedRowIndex(n.selectedRowIndex),this.autoselectedRowIndex=-1)):r.tableProps.alwaysShowRecent&&this.autoselectedRowIndex>-1&&(r.selectionDetail.setselectedColumnIndex(-1),r.selectionDetail.pushSelectedRowIndices(this.autoselectedRowIndex,!1)):i===a.None?(n=r.selectionDetail.getSelection(),r.selectionDetail.clearSelection(),r.tableProps.alwaysShowRecent&&(this.autoselectedRowIndex=n.indices[0])):i===a.Multi&&r.tableProps.alwaysShowRecent&&this.autoselectedRowIndex>-1&&(r.selectionDetail.setselectedColumnIndex(-1),r.selectionDetail.pushSelectedRowIndices(this.autoselectedRowIndex,!1))}},t}();t.Selection=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){this.selectAll=!1,this.selectedColumnIndex=-1,this.selectedRowIndices=[],this.selectedRowIndex=-1,this.selectedCells=[],this.shiftSelection={rowStartIndex:-1,rowEndIndex:-1,columnStartIndex:-1,columnEndIndex:-1,startIndex:-1,endIndex:-1,colStart:-1,colEnd:-1,viewportIndex:-1,indices:[],cellIndices:[]},this.unselectedColumnIndex=-1,this.unselectedCellIndices=[],this.unselectedRowIndex=-1,this.lastSelectedColIndex=-1}return e.prototype.pushSelectedRowIndices=function(e,t){var i=this.selectedRowIndices.indexOf(e);-1===i?this.selectedRowIndices.push(e):t&&this.removeSelectedRow(i)},e.prototype.pushCellSelection=function(e,t){"number"==typeof t?this.selectedCells.push({rowIndex:e,cellIndex:[t]}):"object"==typeof t&&this.selectedCells.push({rowIndex:e,cellIndex:t})},e.prototype.setselectedRowIndex=function(e){this.selectedRowIndex=e},e.prototype.setUnselectedCellIndex=function(e){this.unselectedCellIndices=e},e.prototype.setUnselectedRowIndex=function(e){this.unselectedRowIndex=e},e.prototype.setUnselectedColumnIndex=function(e){this.unselectedColumnIndex=e},e.prototype.setShiftStartRowIndex=function(e,t){-1===this.shiftSelection.rowStartIndex&&(this.shiftSelection.rowStartIndex=e,this.shiftSelection.viewportIndex=t)},e.prototype.setselectedColumnIndex=function(e){this.selectedColumnIndex=e,-1===this.shiftSelection.columnStartIndex&&(this.shiftSelection.columnStartIndex=e)},e.prototype.setCellSelection=function(e,t,i){var r,n=this.isSelected(e,t);return i&&(void 0===this.updateShiftCellSelection(e)?this.shiftSelection.cellIndices.push({rowIndex:e,cellIndices:[t]}):this.updateShiftCellSelection(e).cellIndices.push(t)),-1===n.rowSelected?(-1===this.selectedRowIndices.indexOf(e)&&this.setselectedRowIndex(e),this.pushCellSelection(e,t),this.pushSelectedRowIndices(e,!1)):-1===n.columnSelected?n.selectedRow.cellIndex.push(t):(r=n.selectedRow.cellIndex.splice(n.columnSelected,1),0===n.selectedRow.cellIndex.length&&(this.setUnselectedCellIndex(r),this.setUnselectedRowIndex(e),this.setUnselectedColumnIndex(t),this.selectedCells.splice(n.rowSelected,1),this.setselectedRowIndex(this.selectedCells.length>0?this.selectedCells[this.selectedCells.length-1].rowIndex:-1),this.selectedRowIndices.splice(n.rowSelected,1),0===this.selectedRowIndices.length&&this.setselectedColumnIndex(-1))),n.columnSelected},e.prototype.setSelectedIndices=function(e){this.selectedRowIndices=e},e.prototype.updateShiftCellSelection=function(e){var t,i=this.shiftSelection.cellIndices.length;for(t=0;t<i;t++)if(this.shiftSelection.cellIndices[t].rowIndex===e)return this.shiftSelection.cellIndices[t]},e.prototype.pushShiftSelectedIndex=function(e){-1===this.shiftSelection.indices.indexOf(e)&&this.shiftSelection.indices.push(e)},e.prototype.getCellSelection=function(e){var t,i=this.selectedCells.length;if(void 0===e)return this.selectedCells;for(t=0;t<i;t++)if(this.selectedCells[t].rowIndex===e)return this.selectedCells[t]},e.prototype.getSelection=function(){return this.shiftSelection.indices.sort((function(e,t){return e-t})),{rowIndex:this.selectedRowIndex,columnIndex:this.selectedColumnIndex,indices:this.selectedRowIndices.slice(0),cellSelection:this.selectedCells.slice(0),isSelectAll:this.selectAll,lastSelectedColIndex:this.selectedColumnIndex,shiftSelection:this.shiftSelection}},e.prototype.getUnselection=function(){return{rowIndex:this.unselectedRowIndex,columnIndex:this.unselectedColumnIndex,indices:this.unselectedCellIndices}},e.prototype.setShifSelection=function(e){this.shiftSelection=e},e.prototype.getShiftSelection=function(){return this.shiftSelection.indices.sort((function(e,t){return e-t})),this.shiftSelection},e.prototype.removeSelectedRow=function(e){var t=this.selectedRowIndices.splice(e,1);this.setUnselectedCellIndex(t),this.setUnselectedRowIndex(t[0]),0===this.selectedRowIndices.length&&this.setselectedColumnIndex(-1)},e.prototype.setSelectionType=function(e){this.selectAll&&this.selectedRowIndices.splice(this.selectedRowIndices.length-1,1),this.selectAll=e},e.prototype.isSelected=function(e,t){var i,r,n=-1,a=-1,o=this.selectedCells.length;for(r=0;r<o;r++)if((i=this.selectedCells[r]).rowIndex===e){a=r,n=i.cellIndex.indexOf(t);break}return{rowSelected:a,columnSelected:n,selectedRow:i}},e.prototype.isColoumnSelected=function(e){var t=-1,i=0,r=this.selectedRowIndices.length;if(this.selectedCells.length>0)for(;i<r;i++)if(-1!==(t=this.selectedCells[i].cellIndex.indexOf(e)))return t;return t},e.prototype.isRowSelected=function(e){return this.selectedRowIndices.indexOf(e)>-1},e.prototype.clearselectedCells=function(){this.selectedCells=[]},e.prototype.clearRowIndices=function(){this.selectedRowIndices=[]},e.prototype.clearSelection=function(e){void 0===e&&(e=!0),this.selectAll=!1,this.selectedRowIndices=[],this.selectedRowIndex=-1,this.selectedCells=[],e&&this.clearShiftSelection(),this.selectedColumnIndex=-1,this.selectedRowIndex=-1,this.clearUnselection()},e.prototype.clearUnselection=function(){this.unselectedRowIndex=-1,this.unselectedColumnIndex=-1,this.unselectedCellIndices=[]},e.prototype.clearShiftSelection=function(){this.shiftSelection.rowEndIndex=-1,this.shiftSelection.rowStartIndex=-1,this.shiftSelection.startIndex=-1,this.shiftSelection.endIndex=-1,this.shiftSelection.colEnd=-1,this.shiftSelection.colStart=-1,this.shiftSelection.columnEndIndex=-1,this.shiftSelection.columnStartIndex=-1,this.shiftSelection.indices=[],this.shiftSelection.cellIndices=[]},e}();e.SelectionDetails=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,i,r,n,a,o){if(this.activeDomNodes=new Array,this.freeDomNodes=new Array,n&&a){var s=o?o.length:0;this.tagName=a.tagName,this.parentNode=t,this.createFunction=i||a.createFunction,this.recycleFunction=r||a.recycleFunction;for(var l=0;l<s;l++)this.activeDomNodes.push(o[l])}else this.tagName=e,this.parentNode=t,this.createFunction=i,this.recycleFunction=r}return e.prototype.reset=function(){for(;this.activeDomNodes.length>0;){var e=this.activeDomNodes.pop();this.freeDomNodes.push(e)}},e.prototype.setTagName=function(e){this.tagName=e},e.prototype.getFreeNodes=function(e){for(var t=new Array;t.length<e;)if(this.freeDomNodes.length>0){var i=this.freeDomNodes.pop();this.activeDomNodes.push(i),t.push(i),this.parentNode.contains(i)||this.parentNode.appendChild(i),this.recycleFunction&&this.recycleFunction(i,this.parentNode)}else{var r=document.createElementNS("http://www.w3.org/2000/svg",this.tagName);this.createFunction&&this.createFunction(r,this.parentNode),this.parentNode.appendChild(r),this.activeDomNodes.push(r),t.push(r)}return t},e.prototype.getActiveNodes=function(){return this.activeDomNodes},e.prototype.getAllNodes=function(){return this.activeDomNodes.concat(this.freeDomNodes)},e.prototype.finish=function(){this.freeDomNodes.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}),this)},e.prototype.cleanup=function(){this.reset(),this.finish(),this.freeDomNodes=null,this.activeDomNodes=null,this.parentNode=null,this.createFunction=null},e}();e.SvgElementProvider=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(){this.x=0,this.y=0,this.startX=0,this.startY=0,this.cellHeight=0,this.width=0,this.height=0,this.rowHeaderWidth=0,this.totalRecords=0,this.headerHeight=0,this.vHeaderWidth=0,this.hHeaderWidth=0,this.hasColumnHeader=!1,this.hasRowHeader=!1,this.hasHorScollBar=!1,this.horScrollBarHeight=0,this.leftBorder=0,this.rightBorder=0,this.topBorder=0,this.bottomBorder=0,this.alwaysShowRecent=!0,this.allowRowHeaderResize=!1,this.isRowHeaderAction=!1,this.isRowHeaderActionAllowed=!1,this.DEF_ROW_CHAR_COUNT=5,this.defaultSortDirection=1,this.changeHorizontalPosX=!1,this.latestProjectVersion=!0,this.horizontalScrollbarVisibility=0,this.verticalScrollbarVisibility=0,this.defaultCharWidth=0,this.rowHeaderCharCount=0,this.MAJOR_VERSION=17}return t.prototype.init=function(t,i,r){if("string"==typeof i.height?this.height=parseFloat(i.height):this.height=i.height,"string"==typeof i.width?this.width=parseFloat(i.width):this.width=i.width,"string"==typeof i["start-x"]?this.x=parseFloat(i["start-x"]):this.x=i["start-x"],"string"==typeof i["start-y"]?this.y=parseFloat(i["start-y"]):this.y=i["start-y"],this.height<0&&(this.height=0),this.width<0&&(this.width=0),this.verticalScrollbarVisibility=i["vertical-scrollbar-visibility"],void 0===this.verticalScrollbarVisibility&&(this.verticalScrollbarVisibility=t.configuration.VerticalScrollBarVisibility),this.horizontalScrollbarVisibility=i["horizontal-scrollbar-visibility"],void 0===this.horizontalScrollbarVisibility&&(this.horizontalScrollbarVisibility=t.configuration.HorizontalScrollBarVisibility),this.alwaysShowRecent=e.Utilities.convertToBool(i["auto-scroll"]),this.latestProjectVersion=r>=this.MAJOR_VERSION||""===r,this.latestProjectVersion?(this.startX=this.x,this.startY=this.y):(this.startX=0,this.startY=0),this.allowRowHeaderResize=this.latestProjectVersion,this.calCellHeight(t.configuration),this.calHeaderHeight(t),this.updateColumnDetails(t.configuration),this.hasRowHeader=t.configuration.HeaderSettings.RowHeaderType!==e.getChromEnum("HmiDataGridHeaderType").None,Object.keys(t.featureList).length>0){var n=!!t.featureList.hasOwnProperty("RecordHeader");this.hasRowHeader=this.hasRowHeader&&n}this.defaultCharWidth=Math.floor(e.getTextWidth("9",t.configuration.HeaderSettings.Font))},t.prototype.calCellHeight=function(t){t.RowHeight<=0?this.cellHeight=Math.floor(e.getTextHeight("d",t.HeaderSettings.Font))+t.CellPadding.Top:this.cellHeight=t.RowHeight+t.CellPadding.Top},t.prototype.calHeaderHeight=function(t){var i=e.getChromEnum("HmiDataGridHeaderType"),r=0;if(t.configuration.HeaderSettings.ColumnHeaderType!==i.None?(r=this.cellHeight,this.hasColumnHeader=!0):this.hasColumnHeader=!1,this.headerHeight=r,Object.keys(t.featureList).length>0){var n=!!t.featureList.hasOwnProperty("Header");this.hasColumnHeader=this.hasColumnHeader&&n,this.headerHeight=this.hasColumnHeader?this.cellHeight:0}},t.prototype.calRowHeaderWidth=function(e,t){var i,r,n=0,a=!1;return r=(t>this.totalRecords?t:this.totalRecords).toString().length,n=this.defaultCharWidth,(i=r<this.DEF_ROW_CHAR_COUNT?this.DEF_ROW_CHAR_COUNT:r+1)!==this.rowHeaderCharCount&&(n*=i,this.rowHeaderCharCount=i,n=n+e.CellPadding.Left+e.CellPadding.Right,this.hasRowHeader=!0,this.rowHeaderWidth=n,a=!0),a},t.prototype.setTotalRecords=function(e){this.totalRecords=e},t.prototype.updateColumnDetails=function(e){var t,i,r=e.Columns,n=e.HeaderSettings.Font,a=0;for(r&&(i=r.length);a<i;a++)(t=r[a]).Visible&&this.updateColumnWidth(t,n)},t.prototype.updateColumnWidth=function(t,i){var r;!t.Header||""!==t.Header.Text&&void 0!==t.Header.Text?r=t.Header.Text:(r=t.Name,this.latestProjectVersion||(t.Header.Text=r)),e.isAppModeRuntime()&&void 0===t.Width&&(t.Width=0)},t.prototype.getTotalColumnWidth=function(e,t){var i,r,n=e.viewport.getColumns(),a=0;for(r=void 0!==t?t:n.length,i=0;i<r;i++)n[i]&&(a+=n[i].Width);return a},t.prototype.getVisibleColIndex=function(e,t){var i,r=e.viewport.getColumns(),n=0;for(r&&(i=r.length);n<i;n++)if(r[n].Index===t)return n;return-1},t.prototype.resetRowHeaderProps=function(){this.rowHeaderCharCount=0,this.hasRowHeader=!1,this.rowHeaderWidth=0},t}();t.TableProps=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(e){var t=this;this.loadHalfRow=!0,this.getColumnIndexByActualIndex=function(e){var i,r=t.totalColumns.length;for(i=0;i<r;i++)if(t.totalColumns[i].Index===e)return i;return-1},this.getColumnIndexHavingActualIndex=function(e){var i,r=t.totalColumns.length;for(i=0;i<r;i++)if(t.totalColumns[i].Index===e)return i;return-1},this.recordCount=0,this.endIndex=0,this.size=0,this.startIndex=0,this.visibleColumns=[],this.autocompleteColumnVisible=!1,this.totalColumns=[],this.totalColumnWidth=0,this.isLastColVisible=!1,this.columnStartIndex=-1,this.columnEndIndex=-1,this.hasHalfRow=!1,this.halfRowHeight=0,this.isScrolled=!1,this.displayedRowCount=0,this.scrolledTillEnd=!1,this.tableProps=e}return t.prototype.updateStartIndex=function(e,t,i){var r;return this.visibleColumns[e].ActualIndex===i.shiftSelection.colStart?(t.shiftSelection.columnStartIndex=e,r=!0):this.columnStartIndex>i.shiftSelection.colEnd?(t.shiftSelection.columnStartIndex=-1,r=!0):i.shiftSelection.colStart<this.columnStartIndex&&i.shiftSelection.colStart>-1&&(t.shiftSelection.columnStartIndex=0,r=!0),r},t.prototype.updateEndIndex=function(e,t,i){var r;return this.visibleColumns[e].ActualIndex===i.shiftSelection.colEnd?(t.shiftSelection.columnEndIndex=e,r=!0):this.columnEndIndex<i.shiftSelection.colStart?(t.shiftSelection.columnEndIndex=-1,r=!0):i.shiftSelection.colEnd>this.columnEndIndex&&i.shiftSelection.colEnd>-1&&(t.shiftSelection.columnEndIndex=this.columnEndIndex,r=!0),r},t.prototype.updateStartAndEndIndex=function(e,t,i,r,n,a,o){var s,l,u=this.visibleColumns.length;for(l=0;l<u;l++)for(s=0;s<r;s++)e.cellIndex[s]>=this.columnStartIndex&&e.cellIndex[s]<=this.columnEndIndex&&this.visibleColumns[l].Index===e.cellIndex[s]&&t.cellIndex.push(l),-1!==i.shiftSelection.endIndex&&(n||(n=this.updateStartIndex(l,o,i)),a||(a=this.updateEndIndex(l,o,i)));return{startIndexUpdated:n,endIndexUpdated:a}},t.prototype.getStartIndex=function(){return this.startIndex},t.prototype.setStartIndex=function(e){this.startIndex=e},t.prototype.setEndIndex=function(e){this.endIndex=e},t.prototype.getEndIndex=function(){return this.endIndex},t.prototype.setDisplayedRowCount=function(e){this.recordCount=e},t.prototype.getDisplayedRowCount=function(){return this.recordCount},t.prototype.scrolled=function(e){this.isScrolled=e},t.prototype.setSize=function(){var e=this.tableProps.height-this.tableProps.headerHeight;this.size=Math.ceil(e/this.tableProps.cellHeight),this.halfRowHeight=e%this.tableProps.cellHeight,this.hasHalfRow=this.halfRowHeight>this.tableProps.cellHeight/2,this.halfRowHeight=this.tableProps.cellHeight-this.halfRowHeight},t.prototype.setVisibleColumns=function(t){var i,r,n,a,o=0,s=0,l=0;for(this.visibleColumns=[],this.totalColumns=[],t.Columns&&(r=t.Columns.length),this.columnStartIndex=0,n=this.tableProps.width-this.tableProps.rowHeaderWidth-this.tableProps.leftBorder/2,a=!0;l<r;l++)!1!==(i=t.Columns[l]).Visible&&(e.isAppModeRuntime()||!e.isAppModeRuntime()&&i.Width>0)&&(o+=i.Width,i.Index=l,void 0===i.ActualIndex&&(i.ActualIndex=s,s++),this.totalColumns.push(i),o<n&&(this.autocompleteColumnVisible=!0,this.visibleColumns.push(i)),a&&o>=n&&(this.visibleColumns.push(i),this.autocompleteColumnVisible=!1,o===n&&(this.isLastColVisible=!0),a=!1));0===this.visibleColumns.length&&n>0&&(this.autocompleteColumnVisible=!0),this.totalColumnWidth=o,this.columnEndIndex=this.totalColumns.length-1},t.prototype.setTotalVisibleColumns=function(t,i){void 0===i&&(i=!0);var r,n,a,o=0,s=0;if(this.totalColumns=[],t.Columns){for(a=t.Columns.length,this.columnStartIndex=0,r=0;r<a;r++)!1!==(n=t.Columns[r]).Visible&&(e.isAppModeRuntime()||!e.isAppModeRuntime()&&n.Width>0)&&(s+=n.Width,n.Index=r,i&&(n.ActualIndex=o,o++),this.totalColumns.push(n));this.totalColumnWidth=s,this.columnEndIndex=this.totalColumns.length-1}},t.prototype.updateViewPortIndex=function(e){this.startIndex=e,this.endIndex=e+this.size-1},t.prototype.update=function(e){void 0===e&&(e=-1),this.setSize(),this.tableProps.totalRecords<this.size?(this.updateViewPortIndex(0),this.isScrolled=!1):(-1===e&&(e=this.startIndex),this.updateViewPortIndex(e))},t.prototype.setScrolledPos=function(){this.endIndex===this.tableProps.totalRecords?this.scrolledTillEnd=!0:this.scrolledTillEnd=!1},t.prototype.isScrolledTillEnd=function(){return this.scrolledTillEnd},t.prototype.updateVisibleColumns=function(e){var t,i,r=0,n=this.totalColumns.length;if(this.visibleColumns=[],this.columnStartIndex=e,void 0!==this.totalColumns[e]){for(t=e;t<n;t++)if((i=this.totalColumns[t])&&!1!==i.Visible){if((r+=i.Width)>=this.tableProps.width-this.tableProps.rowHeaderWidth-this.tableProps.leftBorder/2){this.visibleColumns.push(i),this.autocompleteColumnVisible=!1;break}this.autocompleteColumnVisible=!0,this.visibleColumns.push(i)}this.columnEndIndex=this.visibleColumns[this.visibleColumns.length-1].Index}else this.autocompleteColumnVisible=!0},t.prototype.getColumnWidth=function(e){var t,i=0;for(t=0;t<e;t++)i+=this.totalColumns[t].Width;return i},t.prototype.getVisibleColumnsWidth=function(){var e,t=0,i=this.visibleColumns.length;for(e=0;e<i;e++)t+=this.visibleColumns[e].Width;return t},t.prototype.setDisplayedRowCountExplicitly=function(e){this.recordCount=e},t.prototype.getTotalColumnWidth=function(){return this.totalColumnWidth},t.prototype.getTotalColumnCount=function(){return this.totalColumns.length},t.prototype.getTotalVisibleColumns=function(){return this.totalColumns},t.prototype.getColumns=function(){return this.visibleColumns},t.prototype.getColumnCount=function(){return this.visibleColumns.length},t.prototype.getSize=function(){return this.size},t.prototype.getColumnStartIndex=function(){return this.columnStartIndex},t.prototype.getColumnEndIndex=function(){return this.columnEndIndex},t.prototype.getViewportSelection=function(e,t){var i,r,n,a,o,s,l={indices:[],columnIndex:-1,rowIndex:-1,cellSelection:[],shiftSelection:{rowStartIndex:-1,rowEndIndex:-1,columnStartIndex:-1,columnEndIndex:-1,startIndex:-1,endIndex:-1,colStart:-1,colEnd:-1,indices:[]}},u=e.cellSelection.length,h=this.visibleColumns.length,d=!1,c=!1;for(l.indices=e.indices,l.shiftSelection.columnStartIndex=e.shiftSelection.columnStartIndex,l.shiftSelection.columnEndIndex=e.shiftSelection.columnEndIndex,l.shiftSelection.indices=t?t.shiftSelectedIndices:e.shiftSelection.indices,l.shiftSelection.indices.sort((function(e,t){return e-t})),s=0;s<u;s++)a=(n=e.cellSelection[s]).cellIndex.length,i={rowIndex:n.rowIndex,cellIndex:[]},d=(o=this.updateStartAndEndIndex(n,i,e,a,d,c,l)).startIndexUpdated,c=o.endIndexUpdated,i.cellIndex.length>0&&l.cellSelection.push(i);for(l.indices.sort((function(e,t){return e-t})),-1!==e.shiftSelection.endIndex&&(t?(t.shiftSelectedIndices.sort((function(e,t){return e-t})),l.shiftSelection.startIndex=t.shiftSelectedIndices[0],l.shiftSelection.endIndex=t.shiftSelectedIndices[t.shiftSelectedIndices.length-1]):(l.shiftSelection.startIndex=Math.min(e.shiftSelection.startIndex,e.shiftSelection.endIndex),l.shiftSelection.endIndex=Math.max(e.shiftSelection.endIndex,e.shiftSelection.startIndex)),c||-1===e.shiftSelection.colStart||(l.shiftSelection.columnEndIndex=l.shiftSelection.columnStartIndex),d||(l.shiftSelection.columnStartIndex=l.shiftSelection.columnEndIndex),l.shiftSelection.colStart=Math.min(l.shiftSelection.columnStartIndex,l.shiftSelection.columnEndIndex),l.shiftSelection.colEnd=Math.max(l.shiftSelection.columnStartIndex,l.shiftSelection.columnEndIndex)),r=0;r<h;r++)if(e.columnIndex>=this.columnStartIndex&&e.columnIndex<=this.columnEndIndex&&this.visibleColumns[r].Index===e.columnIndex){l.columnIndex=r;break}return l.rowIndex=e.indices.indexOf(e.rowIndex)>-1?e.rowIndex:e.indices[0],void 0===l.rowIndex&&(l.rowIndex=null),l},t.prototype.clear=function(){this.visibleColumns=[],this.totalColumns=[]},t}();t.Viewport=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){this.x=0,this.y=0};e.Cordinates=t;var i=function(){this.height=0,this.width=0};e.Dimension=i;var r=function(){this.Back=0,this.Fore=0,this.AlternateBack=0,this.AlternateFore=0};e.Colors=r}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){var i=function(){function i(e){this.metaData=e}return i.prototype.transformData=function(e){if(0===e.connDetails.length&&e.list.length>0&&"Line"===e.list[0].Type){var t={Key:e.list[0].Key,Type:"FunctionTransition",Data:{DecoratorSubType:e.list[0].Decorator[0].DecoratorSubType,Parameters:{Input:e.list[0].Data.Parameters.Input,Output:[]}}};e.list[0].Decorator[0].Data&&e.list[0].Decorator[0].Data.Content&&(t.Data.Parameters.Input[0].Text=e.list[0].Decorator[0].Data.Content),e.list[0]=t,e.connDetails.push({From:e.list[0].Key,To:e.list[0].Key,FromPin:e.list[0].Data.Parameters.Input[0].Key})}else this.findBranchDetails(e)},i.prototype.findBranchDetails=function(e){for(var t={},i={},r={},n=function(n){var a;e.connDetails.forEach((function(e){e.From===n.Key?t.hasOwnProperty(n.Key)?t[n.Key][0].FromPin===e.FromPin&&t[n.Key].push({To:e.To,ToPin:e.ToPin}):t[n.Key]=[{To:e.To,ToPin:e.ToPin,FromPin:e.FromPin}]:e.To===n.Key&&(i.hasOwnProperty(n.Key)?i[n.Key][0].ToPin===e.ToPin&&i[n.Key].push({From:e.From,ToPin:e.ToPin}):i[n.Key]=[{From:e.From,ToPin:e.ToPin}])})),t[n.Key]&&t[n.Key].length>1&&(r[n.Key]=[],(a=r[n.Key]).push.apply(a,t[n.Key]))},a=0,o=e.list;a<o.length;a++){n(o[a])}this.transformOpenBranch(e,r)},i.prototype.transformOpenBranch=function(e,t){var i,r=e.list,n=0,a=function(a){t.hasOwnProperty(a)&&(n++,i="ILBranch_O"+n,r.push({Key:i,Type:"Branch",SubType:"Begin"}),e.connDetails.forEach((function(e){e.From===a&&(e.To=i)})),t[a].forEach((function(t){e.connDetails.push({From:i,To:t.To,ToPin:t.ToPin})})))};for(var o in t)a(o)},i.prototype.populateEntities=function(t){var i,r=0,n=e.Lib.NVEs.Data.FlowDiagramElementType,a=0,o=t.list;if(o)for(a=o.length,r=0;r<a;r++)o[r]&&((i=o[r]).Type===n.Branch?t.addBranch(i,this.metaData):i.Type===n.Line?t.addFlowLine(i,this.metaData):i.Type===n.Function?t.addFunction(i,this.metaData):t.addFunctionContact(i,this.metaData))},i.prototype.parseData=function(e){return this.diagram=new t.Data.FBDModel(this.metaData.getNextDiagramId(),this.metaData),this.diagram.titleText={Key:e.Name.Key,Value:e.Name.Value},this.diagram.errorDescription=e.ErrorDescription,e.ErrorDescription||(this.diagram.connDetails=e.ConnectionsList,this.diagram.list=e.ElementsList,this.transformData(this.diagram),this.populateEntities(this.diagram)),this.diagram},i.prototype.getFBDFamilyMembers=function(e,t){var i,r=null!==(i=this.metaData.getDiagram(t))&&void 0!==i?i:this.diagram;return{getPreviousFunctionBlocks:r.getPreviousFunctionBlocks(e),getNextFunctionBlocks:r.getNextFunctionBlocks(e),getPreviousContacts:void 0,getNextContacts:void 0}},i.prototype.getFBDConnectionDetails=function(e,t,i){var r,n=null!==(r=this.metaData.getDiagram(i))&&void 0!==r?r:this.diagram;return{getPreviousConnFunctionBlocks:n.getPreviousConnFunctionBlocks(e,t),getNextConnFunctionBlocks:n.getNextConnFunctionBlocks(e,t),getPreviousConnContacts:void 0,getNextConnContacts:void 0}},i.prototype.remove=function(){this.metaData=null},i}();t.FBDDataHandler=i}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(e){this.flowDiagram=e}return t.prototype.initHandlers=function(){if(!this.hammerInstance){var e=window.Hammer;e&&(this.hammerInstance=new e.Manager(this.flowDiagram.dom,{domEvents:!0}),this.panEvent=new e.Pan({event:"pan",pointers:1,direction:e.DIRECTION_ALL,threshold:1}),this.hammerInstance.add(this.panEvent))}},t.prototype.initVScrollHanlders=function(){var e,t,i,r,n,a=this;this.initHandlers(),this.hammerInstance.on("panup",(function(e){a.onPanVertical(e)})),this.hammerInstance.on("pandown",(function(e){a.onPanVertical(e)})),null===(n=null===(r=null===(i=null===(t=null===(e=this.flowDiagram)||void 0===e?void 0:e.dom)||void 0===t?void 0:t.parentElement)||void 0===i?void 0:i.parentElement)||void 0===r?void 0:r.parentElement)||void 0===n||n.addEventListener("wheel",(function(e){e.preventDefault(),a.onMouseScroll(e)}))},t.prototype.unInitVScrollHandlers=function(){var e,t,i,r,n,a=this;this.hammerInstance&&(this.hammerInstance.off("panup"),this.hammerInstance.off("pandown")),null===(n=null===(r=null===(i=null===(t=null===(e=this.flowDiagram)||void 0===e?void 0:e.dom)||void 0===t?void 0:t.parentElement)||void 0===i?void 0:i.parentElement)||void 0===r?void 0:r.parentElement)||void 0===n||n.removeEventListener("wheel",(function(e){e.preventDefault(),a.onMouseScroll(e)}))},t.prototype.initHScrollHanlders=function(){var e=this;this.initHandlers(),this.hammerInstance.on("panleft",(function(t){e.onPanHoriz(t)})),this.hammerInstance.on("panright",(function(t){e.onPanHoriz(t)}))},t.prototype.unitHScrollHanlders=function(){this.hammerInstance&&(this.hammerInstance.off("panleft"),this.hammerInstance.off("panright"))},t.prototype.unInitHandlers=function(){this.hammerInstance&&(this.hammerInstance.remove(this.panEvent),this.hammerInstance=null)},t.prototype.onPanVertical=function(e){var t=this.flowDiagram.viewBox.y-e.deltaY;this.doScrollVertical(e.deltaY<0,this.flowDiagram.viewBox.y,t)},t.prototype.onPanHoriz=function(e){var t=this.flowDiagram.viewBox.x-e.deltaX;this.doScrollHoriz(e.deltaX<0,this.flowDiagram.viewBox.x,t)},t.prototype.onMouseScroll=function(e){if(e.shiftKey){var t=this.flowDiagram.viewBox.x*this.flowDiagram.metaData.zoomFactor+e.deltaY;this.doScrollHoriz(e.deltaY>0,this.flowDiagram.viewBox.x,t)}else{var i=this.flowDiagram.viewBox.y*this.flowDiagram.metaData.zoomFactor+e.deltaY;this.doScrollVertical(e.deltaY>0,this.flowDiagram.viewBox.y,i)}e.stopPropagation()},t.prototype.doScrollVertical=function(e,t,i){e?this.changeVScroll(i):t>0&&(i=i<0?0:i,this.changeVScroll(i))},t.prototype.doScrollHoriz=function(e,t,i){e?this.changeHScroll(i):t>0&&(i=i<0?0:i,this.changeHScroll(i))},t.prototype.loadVertScrollBar=function(i,r){if(void 0===r&&(r=0),this.diagHeight=i,this.vertScrollBarInstance)this.vertScrollBarInstance.setHmiProps(this.flowDiagram.height,"HmiProps.Height"),this.vertScrollBarInstance.setHmiProps(this.flowDiagram.height,"HmiProps.VisibleValueRange"),this.vertScrollBarInstance.setHmiProps(i,"HmiProps.EndValue"),this.vertScrollBarInstance.setHmiProps(Math.floor(i/+this.flowDiagram.height),"HmiProps.SmallStepValueRange"),this.vertScrollBarInstance.update();else{var n=e.Utilities.createScrollBarObj(this.flowDiagram,"Vertical",{Height:this.flowDiagram.height,Width:t.SCROLLBAR_WIDTH,BeginValue:0,EndValue:i,VisibleValueRange:Math.floor(this.flowDiagram.height),SmallStepValueRange:Math.floor(i/+this.flowDiagram.height),CurrentValue:r,cbOnChanged:this.vScrollValueChanged.bind(this),cbOnCommand:this.onScrollCommand.bind(this),cbOnTemplateLoaded:this.vScrollTemplateLoaded.bind(this)});e.loadSubTemplate(this.flowDiagram.RTPUItem.RootNode,n,"ScrollBarSystemPart",n.props.RenderingTemplate,n.cbOnChanged,n.cbOnTemplateLoaded),this.isVertScrolling=!0,this.initVScrollHanlders(),this.changeVScroll(r)}},t.prototype.loadHorizScrollBar=function(i,r){void 0===r&&(r=0),this.diagWidth=i;var n=this.isVertScrolling?this.flowDiagram.width-t.SCROLLBAR_WIDTH:this.flowDiagram.width;if(this.horizScrollBarInstance)this.horizScrollBarInstance.setHmiProps(n,"HmiProps.Width"),this.horizScrollBarInstance.setHmiProps(n,"HmiProps.VisibleValueRange"),this.horizScrollBarInstance.setHmiProps(i,"HmiProps.EndValue"),this.horizScrollBarInstance.setHmiProps(Math.floor(i/+n),"HmiProps.SmallStepValueRange"),this.horizScrollBarInstance.update();else{var a=e.Utilities.createScrollBarObj(this.flowDiagram,"Horizontal",{Height:t.SCROLLBAR_WIDTH,Width:n,BeginValue:0,EndValue:i,VisibleValueRange:Math.floor(n),SmallStepValueRange:Math.floor(i/+n),CurrentValue:r,cbOnChanged:this.hScrollValueChanged.bind(this),cbOnTemplateLoaded:this.hScrollTemplateLoaded.bind(this),cbOnCommand:this.onScrollCommand.bind(this)});e.loadSubTemplate(this.flowDiagram.RTPUItem.RootNode,a,"ScrollBarSystemPart",a.props.RenderingTemplate,a.cbOnChanged,a.cbOnTemplateLoaded),this.initHScrollHanlders(),this.changeHScroll(r)}},t.prototype.setHScrollBarPosition=function(){this.horizScrollBarInstance&&(this.horizScrollBarInstance.RootNode.setAttribute("x",0),this.horizScrollBarInstance.RootNode.setAttribute("y",this.flowDiagram.height-t.SCROLLBAR_WIDTH))},t.prototype.hScrollTemplateLoaded=function(e,t){this.horizScrollBarInstance=t,this.setHScrollBarPosition()},t.prototype.hScrollValueChanged=function(e,t){this.flowDiagram&&this.flowDiagram.viewBox&&(this.flowDiagram.viewBox.x=t/this.flowDiagram.metaData.zoomFactor)},t.prototype.setVScrollBarPosition=function(){this.vertScrollBarInstance&&(this.vertScrollBarInstance.RootNode.setAttribute("x",this.flowDiagram.width-t.SCROLLBAR_WIDTH),this.vertScrollBarInstance.RootNode.setAttribute("y",0))},t.prototype.vScrollTemplateLoaded=function(e,t){this.vertScrollBarInstance=t,this.setVScrollBarPosition()},t.prototype.vScrollValueChanged=function(e,t){this.flowDiagram&&this.flowDiagram.viewBox&&(this.flowDiagram.viewBox.y=t/this.flowDiagram.metaData.zoomFactor)},t.prototype.onScrollCommand=function(){},t.prototype.changeVScroll=function(e){e+this.flowDiagram.height>=this.diagHeight&&(e=this.diagHeight-this.flowDiagram.height)<0&&(e=0),this.vertScrollBarInstance&&(this.vertScrollBarInstance.setHmiProps(e,"HmiProps.CurrentValue"),this.vertScrollBarInstance.update()),this.vScrollValueChanged(null,e)},t.prototype.changeHScroll=function(e){e+this.flowDiagram.width>=this.diagWidth&&(e=this.diagWidth-this.flowDiagram.width+t.SCROLLBAR_WIDTH)<0&&(e=0),this.horizScrollBarInstance&&(this.horizScrollBarInstance.setHmiProps(e,"HmiProps.CurrentValue"),this.horizScrollBarInstance.update()),this.hScrollValueChanged(null,e)},t.prototype.removeHorizScrollBar=function(){this.horizScrollBarInstance&&(this.unitHScrollHanlders(),this.changeHScroll(0),this.horizScrollBarInstance.remove(!0,!0,!1),this.horizScrollBarInstance=null)},t.prototype.removeVertScrollBar=function(){this.vertScrollBarInstance&&(this.unInitVScrollHandlers(),this.changeVScroll(0),this.vertScrollBarInstance.remove(!0,!0,!1),this.vertScrollBarInstance=null,this.isVertScrolling=!1)},t.prototype.getScrollYPos=function(){return this.vertScrollBarInstance?this.flowDiagram.viewBox.y:0},t.prototype.getScrollXPos=function(){return this.horizScrollBarInstance?this.flowDiagram.viewBox.x:0},t.prototype.remove=function(){this.removeHorizScrollBar(),this.removeVertScrollBar(),this.unInitHandlers()},t.SCROLLBAR_WIDTH=20,t}();e.FlowDiagramScrollHandler=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){var i=function(){function i(e){this.flowDiagram=e}return i.prototype.onZoom=function(t){(t>=.7&&this.flowDiagram.metaData.zoomFactor<=.7||t<=.7&&this.flowDiagram.metaData.zoomFactor>=.7)&&this.flowDiagram.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step&&(this.flowDiagram.metaData.isCompactMode=t<=.7,this.reDraw(),this.flowDiagram.handleAutoMode()),this.flowDiagram.metaData.zoomFactor=t,this.flowDiagram.viewBox&&(this.flowDiagram.viewBox.width=this.flowDiagram.width/t,this.flowDiagram.viewBox.height=this.flowDiagram.height/t),this.handleScrollBars()},i.prototype.storeOnReDraw=function(){var i=new t.Data.FlowDiagramStateData;this.flowDiagram.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step&&(i.activeBlockDetails=this.flowDiagram.renderer.getActiveBlockDetails(),i.elementsToActivate=this.flowDiagram.metaData.elemToActivateOnReRender),t.Data.FlowDiagramStateStore.store(this.flowDiagram.RTPUItem.Store.props.ElementID,this.flowDiagram.metaData.diagramType,i)},i.prototype.reSetAfterReDraw=function(i){var r=t.Data.FlowDiagramStateStore.retrieve(this.flowDiagram.RTPUItem.Store.props.ElementID,this.flowDiagram.metaData.diagramType);if(this.flowDiagram.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step){if(r.activeBlockDetails.length>0){for(var n=[],a=0,o=r.activeBlockDetails;a<o.length;a++){var s=o[a];n.push({Key:s.blockId,Type:"Block",Data:{isActive:!0,Fore:s.foreColor,Back:s.backColor}})}i.setActiveStatus(n)}r.elementsToActivate.length>0&&r.elementsToActivate.forEach((function(e){var r=i.getElementDetails(e.id);if(r instanceof t.Data.FlowLineElement)r.updateActivationStatus(!0);else if(r instanceof t.Data.BranchElement){var n=i.getElementDetails(e.ref);r.updateActivationStatus(!0,n)}}))}},i.prototype.reDraw=function(){var e=this;if(this.flowDiagram&&this.flowDiagram.dom)for(;this.flowDiagram.dom.firstChild;)this.flowDiagram.dom.removeChild(this.flowDiagram.dom.firstChild);var t=n(this.flowDiagram.metaData.diagrams);this.storeOnReDraw(),this.flowDiagram.metaData.clearDiagrams(),t.forEach((function(t){var i=t;i.reset(),e.flowDiagram.renderer.remove(),e.flowDiagram.handleLoadData(i),e.reSetAfterReDraw(i)}))},i.prototype.handleScrollBars=function(){this.flowDiagram.height<this.flowDiagram.renderer.totalHeight?this.flowDiagram.getScrollHandler().loadVertScrollBar(this.flowDiagram.renderer.totalHeight):this.flowDiagram.getScrollHandler().removeVertScrollBar(),this.flowDiagram.width<this.flowDiagram.renderer.totalWidth?this.flowDiagram.getScrollHandler().loadHorizScrollBar(this.flowDiagram.renderer.totalWidth):this.flowDiagram.getScrollHandler().removeHorizScrollBar()},i.prototype.remove=function(){this.flowDiagram=null},i}();t.FlowDiagramZoomHandler=i}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){var i=function(){function i(e){this.metaData=e}return i.prototype.transformData=function(t){var i,r=e.Lib.NVEs.Data.FlowDiagramElementType,n=t.list,a=n.filter((function(e){return"Powerrail"===e.Key}));a.length>=0&&(i=a[0]);var o=[];t.connDetails.forEach((function(e){e.From===i.Key&&o.push({To:e.To,ToPin:e.ToPin})})),o.length>1&&(n.push({Key:"ILBranch1",Type:"Branch",SubType:"Begin"}),t.connDetails.forEach((function(e){e.From===i.Key&&(e.To="ILBranch1")})),o.forEach((function(e){t.connDetails.push({From:"ILBranch1",To:e.To,ToPin:e.ToPin})}))),t.list.forEach((function(e){e.Type===r.Function&&(t.connDetails.unshift({From:e.Key,To:e.Key,ToPin:e.Data.Parameters.Output[0].Key}),t.connDetails.push({From:e.Key,To:e.Key,FromPin:e.Data.Parameters.Input[0].Key}))})),this.transformBranchInOut(t)},i.prototype.transformBranchInOut=function(e){var t=e.list.filter((function(e){return"End"===e.SubType})),i=[];t.forEach((function(t){e.connDetails.filter((function(e){return e.From===t.Key})).length>1&&i.push(t.Key)})),i.forEach((function(t){e.list.push({Key:"ILBranch_"+t,Type:"Branch",SubType:"Begin"}),e.connDetails.forEach((function(e){e.From===t&&(e.From="ILBranch_"+t)})),e.connDetails.push({From:t,To:"ILBranch_"+t})}))},i.prototype.populateEntities=function(t){var i,r=0,n=e.Lib.NVEs.Data.FlowDiagramElementType,a=0,o=t.list;if(o)for(a=o.length,r=0;r<a;r++)o[r]&&((i=o[r]).Type===n.PowerRail?t.addPowerRail(i,this.metaData):i.Type===n.Contact?t.addContact(i,this.metaData):i.Type===n.Coil?t.addCoil(i,this.metaData):i.Type===n.Branch?t.addBranch(i,this.metaData):i.Type===n.Line?t.addFlowLine(i,this.metaData):t.addFunction(i,this.metaData))},i.prototype.parseData=function(e){return this.diagram=new t.Data.LADModel(this.metaData.getNextDiagramId(),this.metaData),this.diagram.titleText={Key:e.Name.Key,Value:e.Name.Value},this.diagram.errorDescription=e.ErrorDescription,e.ErrorDescription||(this.diagram.connDetails=e.ConnectionsList,this.diagram.list=e.ElementsList,this.transformData(this.diagram),this.populateEntities(this.diagram)),this.diagram},i.prototype.getLADFamilyMembers=function(e,t){var i,r=null!==(i=this.metaData.getDiagram(t))&&void 0!==i?i:this.diagram;return{getPreviousFunctionBlocks:r.getPreviousLogicBlocks(e,!0),getNextFunctionBlocks:r.getNextLogicBlocks(e,!0),getPreviousContacts:r.getPreviousLogicBlocks(e,!1),getNextContacts:r.getNextLogicBlocks(e,!1)}},i.prototype.getLADConnectionDetails=function(e,t,i){var r,n=null!==(r=this.metaData.getDiagram(i))&&void 0!==r?r:this.diagram;return{getPreviousConnFunctionBlocks:n.getPreviousConnFunctionBlocks(e,t),getNextConnFunctionBlocks:n.getNextConnFunctionBlocks(e,t),getPreviousConnContacts:void 0,getNextConnContacts:void 0}},i.prototype.remove=function(){this.metaData=null},i}();t.LADDataHandler=i}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){var i=function(){function i(e){this.metaData=e,this.getStepFamilyMembers=function(e){var t=this,i=t.diagram.getSiblings(e);return{nextSteps:t.diagram.getNextSteps(e),prevSteps:t.diagram.getPrevSteps(e),siblings:{list:i.list,isParallel:i.isParallel},inComingTransitions:t.diagram.inComingTransitions(e),outGoingTransitions:t.diagram.outGoingTransitions(e),jumpInLinks:t.diagram.getJumpInLinks(e)}},this.getTransFamilyMembers=function(e){return this.diagram.getJumpOutLinks(e)}}return i.prototype.transformData=function(e){var i=[],r=0;e.connDetails.forEach((function(n){var a=e.getElementType(n.From),o=e.getElementType(n.To);if(a===t.Data.FlowDiagramElementType.Block&&o===t.Data.FlowDiagramElementType.Branch||a===t.Data.FlowDiagramElementType.Branch&&o===t.Data.FlowDiagramElementType.Block||a===t.Data.FlowDiagramElementType.Branch&&o===t.Data.FlowDiagramElementType.Branch){var s=void 0,l="IL"+r;if(i.push({From:n.From,To:l}),a===t.Data.FlowDiagramElementType.Branch&&o===t.Data.FlowDiagramElementType.Branch){var u="IL"+r+1;s={Key:"",Type:t.Data.FlowDiagramElementType.Line},i.push({From:l,To:u}),i.push({From:u,To:n.To}),s.Key=u,e.list.push(s),r++}else i.push({From:l,To:n.To});(s={Key:"",Type:t.Data.FlowDiagramElementType.Line}).Key=l,e.list.push(s),r++}else i.push(n)})),e.connDetails=i},i.prototype.populateEntities=function(t){var i,r,n=0,a=e.Lib.NVEs.Data.FlowDiagramElementType,o=t.list;for(i=o.length,n=0;n<i;n++)o[n]&&((r=o[n]).Type===a.Line?t.addFlowLine(r,this.metaData):r.Type===a.Block?t.addBlock(r,this.metaData):r.Type===a.Branch&&t.addBranch(r,this.metaData))},i.prototype.parseData=function(e){return this.diagram=new t.Data.StepDiagramModel(this.metaData.getNextDiagramId(),this.metaData),this.diagram.connDetails=e.ConnectionsList,this.diagram.errorDescription=e.ErrorDescription,this.diagram.list=e.ElementsList,this.transformData(this.diagram),this.populateEntities(this.diagram),this.diagram},i.prototype.remove=function(){this.metaData=null,this.diagram=null},i}();t.StepDiagramDataHandler=i}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={show:"selected","low-surcharge":0,"high-surcharge":0,"low-extension":0,"high-extension":0},e}return r(i,t),i.prototype.draw=function(t,i){return this.metaData=i,void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.show=this.Attributes.show,this.lowSurcharge=parseInt(this.Attributes["low-surcharge"],10),this.highSurcharge=parseInt(this.Attributes["high-surcharge"],10),this.lowExtension=parseInt(this.Attributes["low-extension"],10),this.highExtension=parseInt(this.Attributes["high-extension"],10),e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.dom},i.prototype.redraw=function(e,t){this.draw(e,t)},i}(t.FeatureBase);t.AreaGridlines=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={"top-most":!1,width:"calculated"},e}return r(i,t),i.prototype.draw=function(t,i){var r,n=null,a=0;if(this.data=i,e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);for(this.webRTPUItem=t,r=this.Features.length,a=0;a<r;a++)n=this.Features[a].draw(t,i);return this.dom=n,n},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.matchAxes=function(e,t){var i,r;for(i=this.Features.length,r=0;r<i;r++)this.Features[r].matchAxes(e,t)},i.prototype.unmatchAxes=function(e){var t,i;for(t=this.Features.length,i=0;i<t;i++)this.Features[i].unmatchAxes(e)},i}(t.FeatureBase);t.Axes=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.matchedAxes=new e.Data.GenericList,t.defaults={"position-filter":"","unit-filter":"","index-filter":"","type-filter":"","area-filter":"","low-surcharge":0,"high-surcharge":0,"low-extension":0,"high-extension":0},t}return r(n,i),n.prototype.draw=function(i,r){var n,a;for(this.metaData=r,void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),e.Utilities.mergeWithDefaults(this.Attributes,this.Parent.Attributes),e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.areaFilter=this.Attributes["area-filter"],this.typeFilter=this.Attributes["type-filter"],this.positionFilter=this.Attributes["position-filter"],this.indexFilter=this.Attributes["index-filter"],this.unitFilter=this.Attributes["unit-filter"],this.lowSurcharge=parseInt(this.Attributes["low-surcharge"],10),this.highSurcharge=parseInt(this.Attributes["high-surcharge"],10),this.lowExtension=parseInt(this.Attributes["low-extension"],10),this.highExtension=parseInt(this.Attributes["high-extension"],10),this.widthCalculated="calculated"===this.Attributes.width||parseInt(this.Attributes.width,10),n=this.Features.length,a=0;a<n;a++)this.Features[a]instanceof t.AreaGridlines&&this.Features[a].draw(i,this.metaData);return this.dom},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.propertyChanged=function(t){var i,r;if(t===e.Data.ChartTemplateAttributes.AlwaysShowRecent)for(i=this.matchedAxes.items.length,r=0;r<i;r++)this.matchedAxes.items[r].updateAttributes(t,this.Attributes[t])},n.prototype._filterByIndexAndUnit=function(e){var t,i,r,n,a,o;for(o=this.matchedAxes,r=this.indexFilter.split(" "),n=this.unitFilter.split(" "),i=e.length,t=0;t<i;t++)a=e[t],(""===this.indexFilter||r.indexOf(t.toString())>-1)&&(""===this.unitFilter||n.indexOf(a.unit)>-1)&&-1===o.tryAdd(a)&&a.addFeaturesAndAttributes(this.Features,this.Attributes)},n.prototype.matchAxes=function(t,i){var r,n,a,o,s,l,u;for(o=this.Parent.Parent.trendView.trendObjectType===e.Data.TrendObjectType.Online,s=this.areaFilter.split(" "),l=this.typeFilter.split(" "),u=this.positionFilter.split(" "),void 0===i?(a=0,r=t.length):(a=i,r=i+1);a<r;a++)n=t[a],(""===this.areaFilter||s.indexOf(a.toString())>-1)&&((""===this.typeFilter||l.indexOf("value")>-1)&&((""===this.positionFilter||u.indexOf("left")>-1)&&this._filterByIndexAndUnit(n.leftAxes),(""===this.positionFilter||u.indexOf("right")>-1)&&this._filterByIndexAndUnit(n.rightAxes),!1===o&&((""===this.positionFilter||u.indexOf("top")>-1)&&this._filterByIndexAndUnit(n.topAxes),(""===this.positionFilter||u.indexOf("bottom")>-1)&&this._filterByIndexAndUnit(n.bottomAxes))),o&&(""===this.typeFilter||l.indexOf("time")>-1)&&((""===this.positionFilter||u.indexOf("top")>-1)&&this._filterByIndexAndUnit(n.topAxes),(""===this.positionFilter||u.indexOf("bottom")>-1)&&this._filterByIndexAndUnit(n.bottomAxes)))},n.prototype.unmatchAxes=function(e){var t,i,r;if(e)for(i=e.length,t=0;t<i;t++)(r=e[t].getXAxes().concat(e[t].getYAxes())).forEach((function(e){this.tryRemove(e)>-1&&e.cleanScale()}),this.matchedAxes);else{for(i=(r=this.matchedAxes.items).length,t=0;t<i;t++)r[t].cleanScale();this.matchedAxes.clear()}},n.prototype.remove=function(){this.matchedAxes.clear(),i.prototype.remove.call(this)},n}(t.FeatureBase);t.Axis=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Templates=new e.Dictionary,i}return r(i,t),i.prototype.draw=function(e,t){return this.webRTPUItem=e,this.metaData=t,this.metaData.blockFeatureInstance=this,this.dom},i.prototype.redraw=function(e){this.draw(e,this.metaData)},i.prototype.render=function(t){var i,r,n,a=e.getSystemPart("HmiBlockSymbolSystemPart");a=this.metaData.updateMissingBlockSubParts(a);var o={Content:{TitleTag:t instanceof e.Data.FunctionBlockElement&&(null===(i=t.title)||void 0===i?void 0:i.tagValue)?t.title.tagValue:"",TitleTagBackColor:this.getTagBackColor(t,a),TitleTagForeColor:this.getTagForeColor(t,a),TitleHasTag:this.getTitleHasTag(t),TitleAddress:this.getTitleAddress(t),TitleAddressFore:this.getTitleAddressForeColor(t),TitleText:this.getTitleText(t),TitleTextBackColor:this.getTextBackColor(t),TitleTextForeColor:this.getTextForeColor(t,a),TitleTextHeight:this.getTitleTextHeight(t),TitleHeight:t instanceof e.Data.BlockElement?0:t.titleHeight,HeaderAddress:null!==(r=t instanceof e.Data.FunctionBlockElement&&t.header.address)&&void 0!==r?r:"",HeaderAddressFore:null!==(n=t instanceof e.Data.FunctionBlockElement&&t.header.addressForeColor)&&void 0!==n?n:"",HeaderText:t instanceof e.Data.FunctionBlockElement?t.header.infoText:t.header,HeaderHeight:t.headerHeight,BlockHeight:t.height,BlockWidth:t.width,ContentText:t.content,ContentHeight:t.contentHeight,IsHorizontal:!(t instanceof e.Data.BlockElement),LineColor:this.getLineColor(t),HeaderFontSize:this.getHeaderFontSize(t,a),InActive:!1,IsSelected:t.isSelected,IsDashAllowed:!1},Colors:{}},s=e.Utilities.cloneObj(a);return this.metaData.isCompactMode&&t instanceof e.Data.BlockElement&&(s.ContentFont.Size=20),s.Width=this.Attributes["content-width"],s.Height=this.Attributes["content-height"],this.webRTPUItem.createSubtemplate(this,this.Templates["block-details"],s,o,s.Width,s.Height)},i.prototype.getHeaderFontSize=function(t,i){return t instanceof e.Data.BlockElement?this.metaData.isCompactMode?20:i.HeaderFont.Size:16},i.prototype.getLineColor=function(t){return t instanceof e.Data.BlockElement?null:this.metaData.flowLineFeatureInstances.normalsolid.Attributes.stroke},i.prototype.getTitleTextHeight=function(t){var i;return t instanceof e.Data.FunctionBlockElement&&(null===(i=t.title)||void 0===i?void 0:i.infoText)?t.title.getInfoTextHeight(t.title.infoText):0},i.prototype.getTitleText=function(t){var i;return t instanceof e.Data.FunctionBlockElement&&(null===(i=t.title)||void 0===i?void 0:i.infoText)?t.title.infoText:""},i.prototype.getTitleAddressForeColor=function(t){var i;return t instanceof e.Data.FunctionBlockElement&&(null===(i=t.title)||void 0===i?void 0:i.addressForeColor)?t.title.addressForeColor:""},i.prototype.getTitleAddress=function(t){var i;return t instanceof e.Data.FunctionBlockElement&&(null===(i=t.title)||void 0===i?void 0:i.address)?t.title.address:""},i.prototype.getTitleHasTag=function(t){var i,r;return!!(t instanceof e.Data.FunctionBlockElement&&((null===(i=t.title)||void 0===i?void 0:i.tagValue)||(null===(r=t.title)||void 0===r?void 0:r.hasValue)))},i.prototype.getTextForeColor=function(t,i){var r,n;return t instanceof e.Data.FunctionBlockElement&&null!==(n=null===(r=t.title)||void 0===r?void 0:r.infoForeColor)&&void 0!==n?n:i.TitleForeColor},i.prototype.getTextBackColor=function(t){var i,r;return t instanceof e.Data.FunctionBlockElement&&null!==(r=null===(i=t.title)||void 0===i?void 0:i.infoBackColor)&&void 0!==r?r:""},i.prototype.getTagForeColor=function(t,i){var r,n;return t instanceof e.Data.FunctionBlockElement&&null!==(n=null===(r=t.title)||void 0===r?void 0:r.tagForeColor)&&void 0!==n?n:i.HeaderForeColor},i.prototype.getTagBackColor=function(t,i){var r,n;return t instanceof e.Data.FunctionBlockElement&&null!==(n=null===(r=t.title)||void 0===r?void 0:r.tagBackColor)&&void 0!==n?n:i.HeaderBackColor},i.prototype.remove=function(){this.metaData=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.Block=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Templates=new e.Dictionary,i}return r(i,t),i.prototype.draw=function(t,i){if(this.coloringMode=e.getChromEnum("HmiGridColoringMode"),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=i.columnBackgoundGroup;this.columnBackGrounds=[],this.metaData=i,this.drawBackgroundRect(t,i);for(var r=0;r<this.Features.length;r++)this.dom.appendChild(this.Features[r].draw(t,i));return this.dom},i.prototype.updateOnColResize=function(e,t){var i,r,n,a,o=this.metaData.viewport.getColumns(),s=this.columnBackGrounds.length;for(i=e;i<s;i++)n=this.columnBackGrounds[i],i===e?(a=o[i].Width,n.setHmiProps(a,"HmiProps.Width"),n.update()):this.metaData.viewport.autocompleteColumnVisible&&i===this.columnBackGrounds.length-1?(a=n.RootScope.Properties.HmiProps.Width-t,n.setHmiProps(a,"HmiProps.Width"),n.update(),r=parseFloat(n.RootNode.getAttribute("x"))+t,n.RootNode.setAttribute("x",r)):(r=parseFloat(n.RootNode.getAttribute("x"))+t,n.RootNode.setAttribute("x",r))},i.prototype.drawBackgroundRect=function(t,i){var r,n,a,o=i.viewport.getColumns(),s=e.getSystemPart("BackgroundSystemPart"),l=i.tableProps.hasColumnHeader?i.tableProps.cellHeight:0,u=i.configuration.BackColor,h=i.configuration.AlternateBackColor,d=i.configuration.ForeColor,c=i.configuration.AlternateForeColor,p=i.viewport.getColumnCount(),m=0,g=0;for(s.Height=i.tableProps.height-i.tableProps.headerHeight,g=i.tableProps.hasRowHeader?this.metaData.tableProps.rowHeaderWidth:0,i.viewport.autocompleteColumnVisible&&(p+=1);m<p;m++){if(r=o[m],n=e.Utilities.cloneObj(s),r){var T=o[m].BackColor,f=o[m].ForeColor;n.Width=o[m].Width,this.metaData.configuration.ColoringMode===this.coloringMode.Columns?(n.Color=i.helper.isEven(m)?e.getMergedColor([T,u]):e.getMergedColor([T,h]),n.Fore=i.helper.isEven(m)?e.getMergedColor([f,d]):e.getMergedColor([f,c])):(n.Color=T,n.Fore=f)}else n.Width=i.tableProps.width-g-i.tableProps.rightBorder/2,this.metaData.configuration.ColoringMode===this.coloringMode.Columns&&(n.Color=i.helper.isEven(m)?u:h,n.Fore=i.helper.isEven(m)?d:c);(a=t.createSubtemplate(this,this.Templates[""],n,null,n.Width,n.Height)).RootNode.setAttribute("x",g),a.RootNode.setAttribute("y",l),this.dom.appendChild(a.RootNode),this.columnBackGrounds.push(a),g+=r?r.Width:0}},i.prototype.onPropertyChange=function(t,i){var r,n,a,o=this.metaData.configuration.BackColor,s=this.metaData.configuration.AlternateBackColor,l=this.metaData.configuration.ForeColor,u=this.metaData.configuration.AlternateForeColor,h=this.metaData.viewport.getColumns();if(this.columnBackGrounds)switch(r=this.columnBackGrounds.length,t){case"ColoringMode":case"ForeColor":case"BackColor":case"AlternateBackColor":case"AlternateForeColor":for(n=0;n<r;n++){var d=h[n];if(a=this.columnBackGrounds[n],d){var c=h[n].BackColor,p=h[n].ForeColor;if(this.metaData.configuration.ColoringMode===this.coloringMode.Columns){var m=this.metaData.helper.isEven(n)?e.getMergedColor([c,o]):e.getMergedColor([c,s]),g=this.metaData.helper.isEven(n)?e.getMergedColor([p,l]):e.getMergedColor([c,u]);a.setHmiProps(m,"HmiProps.Color"),a.setHmiProps(g,"HmiProps.Fore")}else a.setHmiProps(c,"HmiProps.Color"),a.setHmiProps(p,"HmiProps.Fore")}else this.metaData.configuration.ColoringMode===this.coloringMode.Columns&&(a.setHmiProps(this.metaData.helper.isEven(n)?o:s,"HmiProps.Color"),a.setHmiProps(this.metaData.helper.isEven(n)?l:u,"HmiProps.Fore"));a.update()}}},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.remove=function(){var e,i;if(this.columnBackGrounds){for(e=this.columnBackGrounds.length,i=0;i<e;i++)this.columnBackGrounds[i].remove(!1,!0,!1),this.columnBackGrounds[i]=null;this.columnBackGrounds=null}this.metaData=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.ColumnBackGround=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){!function(i){var n=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.Templates=new t.Dictionary,e.isEditedCell=function(t){return!!e.editHandler&&e.editHandler.isEditedCell(t)},e.isEditInProgress=function(){return!!e.editHandler&&e.editHandler.isInProgress()},e.clearEditing=function(){e.editHandler&&(e.editHandler.clearEditing(),e.gridCombo&&e.gridCombo.remove(!1,!0,!1))},e.onDoubleClick=function(i){var r,n=t.Utilities.getDataProvider(e.webRTPUItem,e.metaData.instanceID),a={dataType:"",value:"",timeZoneIndex:-1,index:-1,rowIndex:-1,editable:!1,minimumValue:"",maximumValue:"",requiredCombo:!1,acceptOnFocusOut:!1},o=e.metaData.helper.isValidSelection(i);if("function"==typeof n.getCellDetails&&(r=n.getCellDetails(o.rowIndex,o.columnIndex+e.metaData.viewport.getColumnStartIndex())).editable){if(e.editHandler||(e.editHandler=new t.Data.CellEdit(e.webRTPUItem,e.metaData,e.dataModified.bind(e))),a.rowIndex=r.rowIndex,a.index=o.columnIndex,a.timeZoneIndex=r.timeZoneIndex,a.value=r.value,a.dataType=r.dataType,a.minimumValue=r.minimumValue,a.maximumValue=r.maximumValue,a.requiredCombo=r.requiredCombo,r.acceptOnFocusOut&&(a.acceptOnFocusOut=r.acceptOnFocusOut),a.requiredCombo){var s=e.clonedColCollection[o.columnIndex][o.rowIndex].RootNode,l=e.clonedColCollection[o.columnIndex][o.rowIndex].NVE.Parent.Attributes.height,u=s.getAttribute("width"),h=s.getAttribute("height"),d={Colors:"",Content:{X:s.getAttribute("x"),Y:s.getAttribute("y"),RowId:o.rowIndex,Width:u,Height:h,Font:e.metaData.configuration.Font,GridHeight:l}};if(e.gridCombo=e.webRTPUItem.createSubtemplate(e,e.Parent.Templates["grid-combo"],{},d,u,h),e.gridCombo&&e.gridCombo.RootNode){var c=e.gridCombo.RootNode;e.dom.parentNode.parentNode.appendChild(c)}}e.editHandler.start(i,a)}},e.getCellByIndex=function(t,i){return e.clonedColCollection[i][t]},e}return r(n,i),n.prototype.dataModified=function(e,i,r){var n=t.Utilities.getDataProvider(this.webRTPUItem,this.metaData.instanceID);"function"==typeof n.modifyEntry&&n.modifyEntry(e,i+this.metaData.viewport.getColumnStartIndex(),r)},n.prototype.draw=function(e,i){var r;return this.coloringMode=t.getChromEnum("HmiGridColoringMode"),this.colorStore=new t.Data.ColorStore(i,this.coloringMode),this.clonedColCollection=[],this.clonedColTemplateCollection=[],this.rowGroups=[],this.dom?(this.metaData.columnConfig=[],(r=this.dom.parentNode)&&(r.removeChild(this.dom),this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"))):(this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.clearEditing()),this.metaData=i,this.webRTPUItem=e,this.metaData.dataTemplateGroup.appendChild(this.dom),this.requestBuildDataRows(),this.dom},n.prototype.requestBuildDataRows=function(){var e=this;this.metaData.timerRef=setTimeout((function(){if(e.metaData){var t=e.metaData.viewport.getSize();if(t>e.rowGroups.length){var i=t-e.rowGroups.length>5?5:t-e.rowGroups.length;e.dom.appendChild(e.buildDataRows(e.rowGroups.length+i)),e.requestBuildDataRows()}else clearTimeout(e.metaData.timerRef),e.metaData.timerRef=-1}}),0)},n.prototype.buildDataRows=function(i){var r,n,a,o,s,l,u,h,d,c,p,m,g,T=0,f=this.rowGroups.length,y=document.createDocumentFragment(),D=t.getSystemPart("DataCellSystemPart"),S=document.createElementNS("http://www.w3.org/2000/svg","g"),b=this.metaData.configuration;T=(c=this.metaData.viewport.getColumns()).length,y.appendChild(S),this.rowGroups.push(S),a=this.metaData.tableProps.rowHeaderWidth+this.metaData.tableProps.leftBorder/2,this.metaData.viewport.autocompleteColumnVisible&&(T+=1);var C=this.metaData.tableProps.headerHeight+this.metaData.tableProps.topBorder/2;for(f>0&&(C+=f*this.metaData.tableProps.cellHeight),p=0;p<T;p++){for(r=C,(n=t.Utilities.cloneObj(D)).Font=t.Utilities.cloneObj(b.Font),n.Content=t.Utilities.cloneObj(D.Content),n.Height=this.metaData.tableProps.cellHeight,(h=c[p])?(n.Width=h.Width,n.Content.HorizontalTextAlignment=h.Content.HorizontalTextAlignment,n.Content.ContentMode=h.Content.ContentMode,n.Content.TextTrimming=h.Content.TextTrimming,n.Content.VerticalTextAlignment=h.Content.VerticalTextAlignment,n.Content.Spacing=h.Content.Spacing,n.Content.SplitRatio=h.Content.SplitRatio,n.Content.TextPosition=h.Content.TextPosition,n.Content.GraphicStretchMode=h.Content.GraphicStretchMode):n.Width=this.metaData.tableProps.width-a-this.metaData.tableProps.rightBorder/2,this.clonedColCollection[p]?(o=this.clonedColCollection[p],g=this.clonedColTemplateCollection[p]):(o=[],this.clonedColCollection.push(o),g=this.webRTPUItem.createSubtemplate(this,this.Templates["cell-view"],n,null,n.Width,n.Height),this.clonedColTemplateCollection.push(g)),m=f;m<i;m++)d=new e.Lib.NVEs.Data.DataContract,u=this.colorStore.getCellColor(h,this.metaData.viewport.autocompleteColumnVisible&&p===T-1,p,m),d.Colors.Fore=u.Fore,d.Colors.Back=u.Back,l=g.clone(d),d=null,l.RootNode.setAttribute("y",r),l.RootNode.setAttribute("x",a),o[m]=l,void 0===(s=this.rowGroups[m])?((s=S.cloneNode()).appendChild(l.RootNode),y.appendChild(s),this.rowGroups[m]=s):s.appendChild(l.RootNode),r+=this.metaData.tableProps.cellHeight;a+=n.Width,n=null,h=null}return y},n.prototype.getCellColors=function(e,t,i,r,n,a,o){var s,l={Fore:0,Back:0};return!n&&i&&(s=this.colorStore.getCellColor(i,r,t,e)),this.metaData.configuration.ColoringMode===this.coloringMode.None?r?(l.Fore=this.metaData.configuration.ForeColor,l.Back=this.metaData.configuration.BackColor):(n&&(this.mixColor(i),s=this.metaData.columnConfig[i.Name]),s&&(l=o?this.getSelectionColor(i,t,e,a):this.getBackForeColor(a,s))):(!r&&n&&(this.mixColor(i),s=this.metaData.columnConfig[i.Name]),this.metaData.configuration.ColoringMode===this.coloringMode.Columns?this.metaData.helper.isEven(t)?r?(l.Fore=this.metaData.configuration.ForeColor,l.Back=this.metaData.configuration.BackColor):s&&(l=o?this.getSelectionColor(i,t,e,a):this.getBackForeColor(a,s)):r?(l.Fore=this.metaData.configuration.AlternateForeColor,l.Back=this.metaData.configuration.AlternateBackColor):s&&(l=o?this.getSelectionColor(i,t,e,a):this.getAlternateBackForeColor(a,s)):this.metaData.helper.isEven(e)?r?(l.Fore=this.metaData.configuration.ForeColor,l.Back=this.metaData.configuration.BackColor):s&&(l=o?this.getSelectionColor(i,t,e,a):this.getBackForeColor(a,s)):r?(l.Fore=this.metaData.configuration.AlternateForeColor,l.Back=this.metaData.configuration.AlternateBackColor):s&&(l=o?this.getSelectionColor(i,t,e,a):this.getAlternateBackForeColor(a,s))),l},n.prototype.getSelectionColor=function(e,i,r,n,a,o,s){void 0===s&&(s=!1);var l,u,h=this.colorStore.getCellColor(e,!1,i,r,!1),d=new t.Data.Colors;return this.useMessageColor?(this.mergedDataColors[r]||(this.mergedDataColors[r]=[]),a&&!s?((l={}).dataBackColor=t.getMergedColor([void 0===a.Back?h.Back:a.Back,h.Back]),l.dataForeColor=t.getMergedColor([void 0===a.Fore?h.Fore:a.Fore,h.Fore]),l.altDataBackColor=t.getMergedColor([void 0===a.Back?h.AlternateBack:a.Back,h.AlternateBack]),l.altDataForeColor=t.getMergedColor([void 0===a.Fore?h.AlternateFore:a.Fore,h.AlternateFore]),this.mergedDataColors[r][o]=l):o?l=this.mergedDataColors[r][o]:((l={}).dataBackColor=h.Back,l.dataForeColor=h.Fore,l.altDataBackColor=h.AlternateBack,l.altDataForeColor=h.AlternateFore),d.Back=t.getMergedColor([this.metaData.configuration.SelectionBackColor,l.dataBackColor]),d.Fore=t.getMergedColor([this.metaData.configuration.SelectionForeColor,l.dataForeColor]),d.AlternateBack=t.getMergedColor([this.metaData.configuration.SelectionBackColor,l.altDataBackColor]),d.AlternateFore=t.getMergedColor([this.metaData.configuration.SelectionForeColor,l.altDataForeColor])):(d.Back=t.getMergedColor([this.metaData.configuration.SelectionBackColor,h.Back]),d.Fore=t.getMergedColor([this.metaData.configuration.SelectionForeColor,h.Fore]),d.AlternateBack=t.getMergedColor([this.metaData.configuration.SelectionBackColor,h.AlternateBack]),d.AlternateFore=t.getMergedColor([this.metaData.configuration.SelectionForeColor,h.AlternateFore])),u=this.metaData.configuration.ColoringMode===this.coloringMode.Rows?r:this.metaData.configuration.ColoringMode===this.coloringMode.Columns?i:0,this.metaData.helper.isEven(u)?n?{Fore:d.Back,Back:d.Fore}:{Fore:d.Fore,Back:d.Back}:n?{Fore:d.AlternateBack,Back:d.AlternateFore}:{Fore:d.AlternateFore,Back:d.AlternateBack}},n.prototype.getBackForeColor=function(e,t){var i={Fore:0,Back:0};return e?(i.Fore=t.Back,i.Back=t.Fore):(i.Back=t.Back,i.Fore=t.Fore),i},n.prototype.getAlternateBackForeColor=function(e,t){var i={Fore:0,Back:0};return e?(i.Fore=t.AlternateBack,i.Back=t.AlternateFore):(i.Fore=t.AlternateFore,i.Back=t.AlternateBack),i},n.prototype.getMessageColorForCell=function(e,i,r,n,a,o,s){var l,u,h;void 0===s&&(s=!1);var d=this.colorStore.getCellColor(e,!1,i,r,!1);return this.mergedDataColors[r]||(this.mergedDataColors[r]=[]),a&&!s?((h={}).dataBackColor=t.getMergedColor([void 0===a.Back?d.Back:a.Back,d.Back]),h.dataForeColor=t.getMergedColor([void 0===a.Fore?d.Fore:a.Fore,d.Fore]),h.altDataBackColor=t.getMergedColor([void 0===a.Back?d.AlternateBack:a.Back,d.AlternateBack]),h.altDataForeColor=t.getMergedColor([void 0===a.Fore?d.AlternateFore:a.Fore,d.AlternateFore]),this.mergedDataColors[r][o]=h):h=this.mergedDataColors[r][o],n?l={Fore:h.dataBackColor,Back:h.dataForeColor}:(u=this.getIndex(i,r),l=this.metaData.helper.isEven(u)?{Back:h.dataBackColor,Fore:h.dataForeColor}:{Back:h.altDataBackColor,Fore:h.altDataForeColor}),l},n.prototype.getIndex=function(e,t){return this.metaData.configuration.ColoringMode===this.coloringMode.Rows?t:this.metaData.configuration.ColoringMode===this.coloringMode.Columns?e:0},n.prototype.mixColor=function(e){var i={Back:"",Fore:"",AlternateBack:"",AlternateFore:""},r=e.BackColor,n=e.ForeColor;i.Back=t.getMergedColor([e.BackColor,this.metaData.configuration.BackColor]),i.Fore=t.getMergedColor([e.ForeColor,this.metaData.configuration.ForeColor]),i.AlternateBack=t.getMergedColor([r,this.metaData.configuration.AlternateBackColor]),i.AlternateFore=t.getMergedColor([n,this.metaData.configuration.AlternateForeColor]),this.metaData.columnConfig[e.Name]=i},n.prototype.setHeirarchicalDataProps=function(e,t,i){e.Content.IsExpandable?(t.setDataContent({RowID:i}),t.setDataContent({IsExpandable:e.Content.IsExpandable}),t.setDataContent({CurrentDepth:e.Content.CurrentDepth}),t.setDataContent({IsExpanded:e.Content.IsExpanded})):(t.setDataContent({IsExpandable:!1}),t.setDataContent({CurrentDepth:e.Content.CurrentDepth}),t.setDataContent({IsExpanded:!1}))},n.prototype.loadData=function(e,t,i,r,n){void 0===r&&(r=!0),void 0===n&&(n=!1);var a,o,s,l,u,h,d=0,c=this.metaData.viewport.getColumnCount(),p=this.metaData.viewport.getColumns(),m={selectedRows:[],shiftSelectedIndices:[],cellSelection:[]};for(e.length>this.rowGroups.length&&this.dom.appendChild(this.buildDataRows(e.length)),this.mergedDataColors=[],this.flashingStat||(this.flashingStat={index:[],phase:[]}),this.flashingStat.index=[];t<=i;t++)if((o=e[t])&&(l=!1,h=o.Content.isSelected&&this.metaData.configuration.GridSelectionMode&&(!this.metaData.tableProps.alwaysShowRecent||n),o.Content.FLASHING&&(this.flashingStat.index.push(t),this.flashingStat.phase.length>0&&void 0===(l=this.flashingStat.phase[this.flashingStat.index.indexOf(t)])&&(l=o.Content.phase,this.flashingStat.phase.push(l))),h&&(m.selectedRows.push(t),o.Content.shiftSelected&&m.shiftSelectedIndices.push(t),o.Content.selectedCellColumnIndices&&o.Content.selectedCellColumnIndices.length>0&&m.cellSelection.push(o.Content.selectedCellColumnIndices)),c))for(s={isCellSelected:h&&!n,isFlashing:l,startIndex:t},d=0;d<c;d++)s.colIndex=d,(a=this.clonedColCollection[d][t])&&(this.setDataContractProps(a,o,p,r,s),u=this.metaData.viewport,o.Content.hasOwnProperty("IsExpandable")&&1===u.visibleColumns[d].DetailedParameterControlBlock&&this.setHeirarchicalDataProps(o,a,t),a.update());return m},n.prototype.setDataContractProps=function(e,t,i,r,n){var a,o,s,l,u=n.isCellSelected,h=n.isFlashing,d=n.startIndex,c=n.colIndex,p=t.Content[i[c].Name],m=this.metaData.selectionDetail.getCellSelection(d);t.Colors&&(s=t.Colors.hasOwnProperty("Back"),l=t.Colors.hasOwnProperty("Fore")),t.Colors&&(t.Colors[i[c].Name]||s||l)?(m?u=m.cellIndex.indexOf(c)>-1&&r:this.metaData.configuration.SelectFullRow||(u=!1),this.useMessageColor=!0,o=s||l?t.Colors:t.Colors[i[c].Name],a=u?this.getSelectionColor(i[c],c,d,h,o,i[c].Name):this.getMessageColorForCell(i[c],c,d,h,o,i[c].Name)):(this.useMessageColor=!1,m?u=m.cellIndex.indexOf(c)>-1&&r:this.metaData.configuration.SelectFullRow||(u=!1),a=u?this.getSelectionColor(i[c],c,d,h):this.getCellColors(d,c,i[c],!1,!1,h,!1)),(p||""===p)&&(this.setDataContentForGraphicAndText(p,e),"string"!=typeof p&&"number"!=typeof p||this.setDataContentText(e,p)),a&&e.setDataColors(a)},n.prototype.setDataContentForGraphicAndText=function(e,t){e.graphic?(t.setDataContent({Graphic:e.graphic}),e.text?this.setDataContentText(t,e.text):this.setDataContentText(t,"")):(t.setDataContent({Graphic:{Url:"",Width:0,Height:0}}),this.setDataContentText(t,e.text))},n.prototype.setDataContentText=function(e,i){"string"==typeof i&&e.setDataContent({IsMultiLine:t.isMultiLine(i)}),e.setDataContent({Data:i})},n.prototype.clearDataRows=function(e,t){for(var i,r,n,a,o=this.metaData.viewport.getColumnCount(),s=this.metaData.viewport.getColumns();e<t;e++)for(r=0;r<o;r++)a=s[r],n=this.getCellColors(e,r,a,!1,!1,!1,!1),(i=this.clonedColCollection[r][e])&&(i.setDataContent({Graphic:{Url:"",Width:0,Height:0}}),this.setDataContentText(i,""),i.setDataColors(n),i.update());this.mergedDataColors&&(this.mergedDataColors=this.mergedDataColors.splice(e,t)),this.flashingStat&&(this.flashingStat.index=[],this.flashingStat.phase=[])},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.handleFlashing=function(e){var t,i,r,n,a,o,s,l,u,h,d,c,p,m,g=e.length,T=this.metaData.viewport.getColumns(),f=this.metaData.viewport.getColumnCount();for(this.flashingStat||(this.flashingStat={index:[],phase:[]}),n=0;n<g;n++)if(n<=this.metaData.viewport.getDisplayedRowCount()){if(s=e[n],r=this.flashingStat.index.indexOf(s.rowIndex),void 0===this.flashingStat.phase[r]?this.flashingStat.phase.push(s.flash):this.flashingStat.phase[r]=s.flash,a=this.metaData.selectionDetail.isRowSelected(s.rowIndex)&&!this.metaData.tableProps.alwaysShowRecent,l=[],o=this.metaData.selectionDetail.getCellSelection(s.rowIndex))for(i=o.cellIndex.length,t=0;t<i;t++)l.push(this.metaData.viewport.getColumnIndexHavingActualIndex(o.cellIndex[t]));for(m=0;m<f;m++)this.clonedColCollection[m]&&(o?a=l.indexOf(m)>-1:this.metaData.configuration.SelectFullRow||(a=!1),(c=this.clonedColCollection[m][s.rowIndex])&&(p=T[m].Name,s.colors&&s.colors[p]?(this.useMessageColor=!0,this.mergedDataColors&&this.mergedDataColors[s.rowIndex]&&(!0,(h=this.mergedDataColors[s.rowIndex][p])||(h=s.colors[p]),u=a?this.getSelectionColor(T[m],m,s.rowIndex,s.flash,h,p,true):this.getMessageColorForCell(T[m],m,s.rowIndex,s.flash,h,p,true),this.updateCellColor(u,c))):(this.useMessageColor=!1,d=this.getCellColors(s.rowIndex,m,T[m],!1,!0,s.flash,a),this.updateCellColor(d,c))))}},n.prototype.clearSelection=function(e){var t,i,r,n,a,o=-1;for(this.clearEditing(),t=this.metaData.viewport.getColumnCount(),a=e.cellSelection.length,r=0;r<a;r++)for(o=(n=e.cellSelection[r]).rowIndex,t=n.cellIndex.length,i=0;i<t;i++)n.cellIndex[i]>-1&&this.clearCellSelection(o,n.cellIndex[i]);for(a=e.indices.length,r=0;r<a;r++)for(o=e.indices[r],i=0;i<t;i++)this.clearCellSelection(o,i)},n.prototype.setSelection=function(e){var t,i,r,n,a,o,s,l,u=-1,h=e.indices.length,d=this.metaData.viewport.getColumns();if(this.metaData.configuration.SelectFullRow)for(r=this.metaData.viewport.getColumnCount(),o=0;o<h;o++)for(u=e.indices[o],l=!1,s=this.flashingStat.index.indexOf(u),this.flashingStat&&s>-1&&this.flashingStat.phase[s]&&(l=!0),this.mergedDataColors[u]?this.useMessageColor=!0:this.useMessageColor=!1,a=0;a<r;a++)this.clonedColCollection[a]&&(i=d[a].Name,this.useMessageColor&&this.mergedDataColors[u][i]?this.useMessageColor=!0:this.useMessageColor=!1,t=this.getSelectionColor(d[a],a,u,l,void 0,i),this.updateCellColor(t,this.clonedColCollection[a][u]));else for(o=0;o<h;o++)if(n=e.cellSelection[o])for(u=n.rowIndex,l=!1,s=this.flashingStat.index.indexOf(u),this.flashingStat&&s>-1&&this.flashingStat.phase[s]&&(l=!0),r=n.cellIndex.length,this.mergedDataColors[u]?this.useMessageColor=!0:this.useMessageColor=!1,a=0;a<r;a++)n.cellIndex[a]>-1&&this.clonedColCollection[n.cellIndex[a]]&&(i=d[a].Name,this.useMessageColor&&this.mergedDataColors[u][i]?this.useMessageColor=!0:this.useMessageColor=!1,t=this.getSelectionColor(d[a],a,u,l,void 0,i),this.updateCellColor(t,this.clonedColCollection[n.cellIndex[a]][u]))},n.prototype.clearCellSelection=function(e,t){var i,r,n,a,o;this.clonedColCollection[t]&&(this.flashingStat&&this.flashingStat.index&&(a=this.flashingStat.index.indexOf(e)),this.flashingStat&&a>-1&&this.flashingStat.phase[a]&&(o=!0),r=this.metaData.viewport.getColumns()[t],this.mergedDataColors&&this.mergedDataColors[e]?this.useMessageColor=!0:this.useMessageColor=!1,this.useMessageColor&&(i=this.mergedDataColors[e][r.Name],this.useMessageColor=!!i),n=i?o?this.metaData.helper.isEven(e)?{Fore:i.dataBackColor,Back:i.dataForeColor}:{Fore:i.altDataBackColor,Back:i.altDataForeColor}:this.metaData.helper.isEven(e)?{Back:i.dataBackColor,Fore:i.dataForeColor}:{Back:i.altDataBackColor,Fore:i.altDataForeColor}:this.getCellColors(e,t,r,!1,!0,o,!1),this.updateCellColor(n,this.clonedColCollection[t][e]))},n.prototype.updateCellColor=function(e,t){t&&(t.setDataColors(e),t.update())},n.prototype.updateCellValue=function(e,t,i){e&&(this.setDataContentText(e,t),i&&e.update())},n.prototype.updateOnColResize=function(e,t){var i,r,n,a,o=this.metaData.viewport.getColumns(),s=this.clonedColCollection.length;for(i=e;i<s;i++)i===e?(a=o[i].Width,(n=this.clonedColCollection[i][0]).setHmiProps(a,"HmiProps.Width"),n.update()):this.metaData.viewport.autocompleteColumnVisible&&i===this.clonedColCollection.length-1?(a=(n=this.clonedColCollection[i][0]).RootScope.Properties.HmiProps.Width-t,n.setHmiProps(a,"HmiProps.Width"),n.update(),r=parseFloat(n.RootNode.getAttribute("x"))+t,this.updateAttributesOfCells(this.clonedColCollection[i],["x"],[r])):(n=this.clonedColCollection[i][0],r=parseFloat(n.RootNode.getAttribute("x"))+t,this.updateAttributesOfCells(this.clonedColCollection[i],["x"],[r]))},n.prototype.updateAttributesOfCells=function(e,t,i){var r,n,a,o=e.length,s=t.length;for(r=0;r<o;r++)for(a=e[r],n=0;n<s;n++)a.RootNode.setAttribute(t[n],i[n])},n.prototype.reorderColumnData=function(e,t){this.clonedColCollection.splice(e,0,this.clonedColCollection.splice(t,1)[0]),this.updateColor()},n.prototype.updateXPosOnColReorder=function(e,t){this.updateAttributesOfCells(this.clonedColCollection[e],["x"],[t])},n.prototype.updateColor=function(){var e,t,i,r,n,a,o=this.metaData.viewport.getColumnCount(),s=this.metaData.viewport.getSize(),l=this.metaData.viewport.getColumns();for(this.metaData.viewport.autocompleteColumnVisible&&o++,e=0;e<s;e++)for(t=0;t<o;t++)r=this.hasSpecialColor(e,t),n=(i=l[t])?r.useDataColor?r.selection?this.getSelectionColor(l[t],t,e,r.flashing,null,i.Name,!0):this.getMessageColorForCell(l[t],t,e,r.flashing,null,i.Name,!0):this.getCellColors(e,t,i,!1,!0,!1,!1):this.getCellColors(e,t,i,!0,!0,!1,!1),(a=this.clonedColCollection[t][e]).setDataColors(n),a.update()},n.prototype.onPropertyChanged=function(e,i,r,n){var a,o,s,l,u,h,d,c=t.Utilities.getDataProvider(this.webRTPUItem,this.metaData.instanceID);switch(e){case"ColoringMode":case"ForeColor":case"BackColor":case"AlternateBackColor":case"AlternateForeColor":this.onColorPropertyChanged(o,s,l,u,h,d);break;case"SelectionForeColor":case"SelectionBackColor":this.onSelectionColorPropertyChanged(o,s,l,u,h,d);break;case"SplitRatio":case"ContentMode":case"TextPosition":case"GraphicStretchMode":case"Spacing":default:break;case"HorizontalTextAlignment":case"TextTrimming":case"VerticalTextAlignment":this.onTextTrimAndAlignPropertyChanged(a,r,n);break;case"OutputFormat":this.onOutputFormatPropertyChanged(undefined,c);break;case"AllowSort":this.onSortPropertyChanged(c,i);break;case"Italic":case"Name":case"Size":case"Weight":case"Underline":case"StrikeOut":this.onFontPropertyChanged(a,u,undefined,d,n)}},n.prototype.onSortPropertyChanged=function(e,t){e&&"function"==typeof e.sort&&t&&e.sort()},n.prototype.onColorPropertyChanged=function(e,t,i,r,n,a){var o=this.metaData.viewport.getColumnCount(),s=this.metaData.viewport.getSize(),l=this.metaData.viewport.getColumns();for(this.metaData.viewport.autocompleteColumnVisible&&o++,e=0;e<s;e++)for(a=0;a<o;a++)(t=l[a])?this.colorPropertyChangeIfColumnPresent(t,n,e,a,r,i):this.colorPropertyChangeIfColumnNotPresent(t,e,a,r,i)},n.prototype.updateCellOnPropertyChange=function(e,t){e&&(e.setDataColors(t),e.update())},n.prototype.colorPropertyChangeIfColumnPresent=function(e,t,i,r,n,a){this.mixColor(e),(t=this.hasSpecialColor(i,r)).useDataColor||(a=this.getCellColors(i,r,e,!1,!0,t.flashing,t.selection),this.clonedColCollection&&this.clonedColCollection[r]&&this.clonedColCollection[r][i]&&(n=this.clonedColCollection[r][i]),this.updateCellOnPropertyChange(n,a))},n.prototype.colorPropertyChangeIfColumnNotPresent=function(e,t,i,r,n){n=this.getCellColors(t,i,e,!0,!0,!1,!1),this.clonedColCollection&&this.clonedColCollection[i]&&this.clonedColCollection[i][t]&&(r=this.clonedColCollection[i][t]),this.updateCellOnPropertyChange(r,n)},n.prototype.onSelectionColorPropertyChanged=function(e,t,i,r,n,a){var o=this.metaData.viewport.getColumnCount(),s=this.metaData.viewport.getSize(),l=this.metaData.viewport.getColumns();for(e=0;e<s;e++)for(a=0;a<o;a++)t=l[a],(n=this.hasSpecialColor(e,a)).selection&&(i=this.getCellColors(e,a,t,!1,!0,n.flashing,n.selection),(r=this.clonedColCollection[a][e])&&(r.setDataColors(i),r.update()))},n.prototype.onTextTrimAndAlignPropertyChanged=function(e,t,i){this.metaData.viewport.getSize()&&(this.clonedColCollection[t][0].setHmiProps(i,"HmiProps.Content"),this.clonedColCollection[t][0].update())},n.prototype.onOutputFormatPropertyChanged=function(e,t){this.metaData.viewport.getDisplayedRowCount()>0&&this.clearDataRows(0,this.metaData.viewport.getDisplayedRowCount()),e=t.requestRange(this.metaData.viewport.getStartIndex(),this.metaData.viewport.getEndIndex()),this.loadData(e,0,e.length-1)},n.prototype.onFontPropertyChanged=function(e,t,i,r,n){if(i=this.metaData.viewport.getColumnCount(),this.metaData.viewport.getSize())for(r=0;r<i;r++)this.clonedColCollection&&this.clonedColCollection.length>0&&(t=this.clonedColCollection[r][0])&&(t.setHmiProps(n,"HmiProps.Font"),t.update())},n.prototype.hasSpecialColor=function(e,t){var i,r,n={flashing:!1,selection:!1,usemessageColor:!1,useDataColor:!1};return this.flashingStat&&(r=this.flashingStat.index.indexOf(e))>-1&&this.flashingStat.phase.length&&this.flashingStat.phase[r]&&(n.flashing=!0),this.metaData.tableProps.alwaysShowRecent||((i=this.metaData.selectionDetail.getCellSelection(e))&&i.cellIndex.indexOf(t)>-1||this.metaData.configuration.SelectFullRow&&this.metaData.selectionDetail.isRowSelected(e))&&(n.selection=!0),this.useMessageColor&&(n.usemessageColor=!0),this.useMessageColor&&this.mergedDataColors&&this.mergedDataColors[e]&&(n.useDataColor=!0),n},n.prototype.remove=function(){var e,t,r,n,a;if(clearTimeout(this.metaData.timerRef),this.clonedColCollection){for(r=this.clonedColCollection.length,e=0;e<r;e++){for(n=this.clonedColCollection[e].length,a=this.clonedColCollection[e],t=0;t<n;t++)a[t].remove(!1,!0,!1),this.clonedColCollection[e][t]=null;this.clonedColCollection[e]=null}this.clonedColCollection=null}if(this.rowGroups.length>0)for(t=0;t<n;t++)this.rowGroups[t].parentNode&&this.rowGroups[t].parentNode.removeChild(this.rowGroups[t]);if(this.clonedColTemplateCollection){for(r=this.clonedColTemplateCollection.length,e=0;e<r;e++)this.clonedColTemplateCollection[e].remove(!1,!0,!1);this.clonedColTemplateCollection=null}this.editHandler&&(this.editHandler.cleanup(),this.editHandler=null),this.rowGroups=null,this.metaData=null,this.mergedDataColors=null,this.flashingStat=null,i.prototype.remove.call(this)},n}(i.FeatureBase);i.DataTemplates=n}(t.Features||(t.Features={}))}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.decoratorFeatureInstance={},e.defaults={stroke:"#000000","stroke-width":1,"line-state":"normal","line-style":"solid"},e}return r(i,t),i.prototype.draw=function(t,i){var r,n=0;void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.data=i,e.Utilities.mergeWithDefaults(this.Attributes,this.defaults);var a=this.Attributes["line-state"]+this.Attributes["line-style"];for(this.data.flowLineFeatureInstances[a]=this,r=this.Features.length,n=0;n<r;n++)this.Features[n].draw(t,i);return this.dom},i.prototype.redraw=function(e){this.draw(e,this.data)},i.prototype.remove=function(){for(var e in this.data=null,this.decoratorFeatureInstance)delete this.decoratorFeatureInstance[e];this.decoratorFeatureInstance=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.FlowLine=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.defaults={"show-text":!1,"decorator-type":e.Data.FlowLineDecoratorType.None,"symbol-type":e.Data.SymbolType.none},t}return r(n,i),n.prototype.draw=function(t,i){void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.metaData=i;var r=this.Attributes["decorator-type"];return this.Parent.decoratorFeatureInstance[r]=this,this.dom},n.prototype.renderIODecorator=function(t,i,r,n){if(this.getAttribute("show-text")){var a=e.getTextHeight("X",r),o=t.split(/\n/).length*a,s=new e.TextField,l=new e.Features.Font;return l.Attributes.scope=r,s.Features.push(l),s.Attributes.height=o,s.Attributes["fore-color"]=i,s.Attributes.target=" ",s.Attributes.width=n,s.Attributes.value=t,s.Attributes.enabled=!1,s.Attributes["read-only"]=!0,s.Attributes["multi-line"]=!0,s.Attributes["horizontal-text-alignment"]=this.getAttribute("decorator-type")===e.Data.FlowLineDecoratorType.Input?"right":"left",s.Attributes["vertical-text-alignment"]="bottom",s.Attributes["horizontal-scrollbar-visibility"]="collapsed",s.Attributes["vertical-scrollbar-visibility"]="collapsed",s.Attributes["text-trimming"]="character-ellipsis",this.dom=s.create(this.metaData.rtpuItem),{dom:this.dom,textField:s}}},n.prototype.render=function(i,r,a){var o;this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.dom.setAttribute("width",n.DECORATOR_LAYOUT_DIM.toString()),this.dom.setAttribute("height",n.DECORATOR_LAYOUT_DIM.toString());var s=e.getSystemPart("HmiBlockSymbolSystemPart"),l=(s=this.metaData.updateMissingBlockSubParts(s)).ContentFont,u=e.getRGBAcolor(i.metaData.rtpuItem.Store.props.LineColors.NormalLine),h=this.getAttribute("symbol-color")?this.getAttribute("symbol-color"):u,d="symbol-dimension";if(this.metaData.isCompactMode&&(s.HeaderFont.Size=20,s.ContentFont.Size=20),this.getAttribute("symbol-type")===e.Data.SymbolType.circle){var c=this.getAttribute(d)?+this.getAttribute(d):16;t.Shape.SvgShape.CreateSvgElement("circle",{cx:75,cy:75,r:c/2,fill:h,id:"circle",appendTo:this.dom})}else if(this.getAttribute("symbol-type")===e.Data.SymbolType.line){if(this.metaData.diagramType===e.Data.FlowDiagramType.Step){c=this.getAttribute(d)?+this.getAttribute(d):2;t.Shape.SvgShape.CreateSvgElement("rect",{x:60,y:75,height:c,width:30,stroke:e.getRGBAcolor(s.BorderColor),"stroke-width":1,fill:h,appendTo:this.dom});var p="TIFID_"+(null===(o=r.Data)||void 0===o?void 0:o.Header);if(this.dom.setAttribute("id",p),this.getAttribute("show-text")){var m=e.getTextHeight("X",l),g=n.DECORATOR_LAYOUT_DIM/2-15-8,T=Math.floor((60-m)/m),f=e.textWrap(r.Data.Content,g,l),y=void 0;if(""==r.Data.Content||this.metaData.isCompactMode)y=n.DECORATOR_LAYOUT_DIM/2;else{var D=Math.min(T,f.length);1==D?y=n.DECORATOR_LAYOUT_DIM/2-m/2:2==D&&(y=n.DECORATOR_LAYOUT_DIM/2-m)}this.outerDiv=t.Shape.SvgShape.CreateSvgElement("g",{id:"textGroup",class:a,transform:"translate(98,"+y+")",appendTo:this.dom});t.Shape.SvgShape.CreateSvgElement("text",{id:"TIFID_TransitionId",dx:0,displayText:r.Data.Header,"font-size":s.HeaderFont.Size,"font-family":s.HeaderFont.Name,fill:e.getRGBAcolor(s.ContentForeColor),"dominant-baseline":"middle",appendTo:this.outerDiv});if(!this.metaData.isCompactMode){f.length>T&&(f[T-1]=f[T-1]+"…",f[T-1]=e.textEllipsis(f[T-1],g,l)),this.transitiontext=t.Shape.SvgShape.CreateSvgElement("text",{"dominant-baseline":"middle","font-size":s.ContentFont.Size,"font-family":s.ContentFont.Name,fill:e.getRGBAcolor(s.ContentForeColor),appendTo:this.outerDiv,id:"TIFID_TransitionText"});for(var S=0;S<T;S++){t.Shape.SvgShape.CreateSvgElement("tspan",{y:m+S*m,x:0,appendTo:this.transitiontext}).textContent=f[S]}}}}}else if(this.getAttribute("symbol-type")===e.Data.SymbolType.arrow&&r.DecoratorSubType===e.Data.FlowLineDecoratorSubType.JumpOut){c=this.getAttribute(d)?+this.getAttribute(d):16;if(t.Shape.SvgShape.CreateSvgElement("path",{d:"M "+(75-c/2)+" 75 L 75 "+(75+c)+" L "+(75+c/2)+" 75 z",fill:h,appendTo:this.dom}),this.getAttribute("show-text")){var b=75+c+8;t.Shape.SvgShape.CreateSvgElement("text",{id:"jumpOutText",dx:75-c/2,dy:b,displayText:a,"font-weight":"bold","font-family":l.Name,"font-size":16,fill:e.getRGBAcolor(this.metaData.rtpuItem.Store.props.FocusColor),"dominant-baseline":"hanging","text-decoration":"underline",appendTo:this.dom})}}else if(this.getAttribute("symbol-type")===e.Data.SymbolType.arrow&&r.DecoratorSubType===e.Data.FlowLineDecoratorSubType.JumpIn){c=this.getAttribute(d)?+this.getAttribute(d):16,t.Shape.SvgShape.CreateSvgElement("path",{d:"M 75 75 L "+(75+c)+" "+(75-c/2)+" L "+(75+c)+" "+(75+c/2)+" z",fill:h,appendTo:this.dom}),t.Shape.SvgShape.CreateSvgElement("line",{x1:75+c,y1:75,x2:105,y2:75,stroke:h,"stroke-width":this.Parent.getAttribute("stroke-width"),appendTo:this.dom});if(this.getAttribute("show-text"))t.Shape.SvgShape.CreateSvgElement("text",{id:"text",dx:113,dy:75,displayText:a,"font-size":l.Size,"font-family":l.Name,"dominant-baseline":"middle",fill:e.getRGBAcolor(s.ContentForeColor),appendTo:this.dom})}return this.dom},n.prototype.renderTerminalDecorator=function(t,i,r,a){this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.dom.setAttribute("width",n.DECORATOR_LAYOUT_DIM.toString()),this.dom.setAttribute("height",n.DECORATOR_LAYOUT_DIM.toString());var o=e.getSystemPart("HmiBlockSymbolSystemPart"),s=(o=this.metaData.updateMissingBlockSubParts(o)).ContentFont,l=o.ContentForeColor,u=+this.getAttribute("symbol-dimension");if(this.appendVerticalLine(this.dom,u,t,r,i),a&&this.getAttribute("show-text")){var h=n.DECORATOR_LAYOUT_DIM/2;a=e.textEllipsis(a,h-10,s),this.appendText(this.dom,a,s,l)}return this.dom},n.prototype.appendVerticalLine=function(e,i,r,a,o){var s=n.DECORATOR_LAYOUT_DIM/2;t.Shape.SvgShape.CreateSvgElement("line",{x1:s,y1:s-i,x2:s,y2:s+i,stroke:r,"stroke-width":a,"stroke-dasharray":o,appendTo:e})},n.prototype.appendText=function(i,r,a,o){var s=n.DECORATOR_LAYOUT_DIM/2;t.Shape.SvgShape.CreateSvgElement("text",{x:s+10,y:s,displayText:r,"font-size":a.Size,"font-family":a.Name,"dominant-baseline":"middle",fill:e.getRGBAcolor(o),appendTo:i})},n.prototype.redraw=function(e){this.draw(e,this.metaData)},n.prototype.remove=function(){this.container=null,this.metaData=null,this.removeDomELements(this.transitiontext),this.removeDomELements(this.outerDiv),this.transitiontext=null,this.outerDiv=null,i.prototype.remove.call(this)},n.prototype.removeDomELements=function(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.parentNode&&e.parentNode.removeChild(e),e=null}},n.DECORATOR_LAYOUT_DIM=150,n}(t.FeatureBase);t.FlowLineDecorator=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.dom=null,t}return r(t,e),t.prototype.draw=function(e,t){var i,r=0;if(this.data=t,this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);for(this.webRTPUItem=e,i=this.Features.length,r=0;r<i;r++)this.Features[r].draw(e,this.data);return this.dom},t.prototype.redraw=function(e){this.draw(e,this.data)},t.prototype.remove=function(){this.data=null,e.prototype.remove.call(this)},t}(e.FeatureBase);e.FlowLines=t}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(){this.Attributes={},this.Features=new Array,this.Templates={}}return t.prototype.propertyChanged=function(e){this.metaData&&this.metaData.dirtyList.indexOf(this)<0&&this.metaData.dirtyList.push(this)},t.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove()},t.prototype.getAttribute=function(e){return this.Attributes[e]},t.prototype.applyVisibility=function(){return e.Utilities.convertToBool(this.getAttribute("condition"))?(this.dom.setAttributeNS(null,"visibility","inherit"),!0):(this.dom.setAttributeNS(null,"visibility","hidden"),!1)},t}();t.NVEFeatureBase=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={name:"Arial",size:"12",italic:"false","strike-out":"none",underline:"false",weight:"normal"},e.domList=new Array,e}return r(i,t),i.prototype.draw=function(e,t){return document.createElementNS("http://www.w3.org/2000/svg","g")},i.prototype.addFontAttributesToDomNode=function(t,i,r){return this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.domList.indexOf(r)<0&&this.domList.push(r),this.dom=r,this.metaData=i,this.webRTPUItem=t,this.mergeWithScope(),this.checkAndConvertEnums(),this.isValid()&&(this.dom.setAttributeNS(null,"font-family",'"'+this.getAttribute("name")+'"'),this.dom.setAttributeNS(null,"font-size",this.getAttribute("size")),this.dom.setAttributeNS(null,"font-style",this.getFontStyleSVG()),this.dom.setAttributeNS(null,"text-decoration",this.getTextDecoration()),this.dom.setAttributeNS(null,"font-weight",this.getWeightSVG())),this.dom},i.prototype.reset=function(){this.domList=new Array},i.prototype.redraw=function(){this.domList.forEach((function(e){this.addFontAttributesToDomNode(this.webRTPUItem,this.metaData,e)}),this)},i.prototype.checkAndConvertEnums=function(){var t;"number"==typeof this.Attributes["strike-out"]&&(null!=(t=e.Utilities.getEnumKeyByValue("HmiFontStrikeOut",this.Attributes["strike-out"]))?this.Attributes["strike-out"]=t:e.trace(e.enumTraceMode.Warning,"Can't draw a Font Object with invalid enum for strike-out"));"number"==typeof this.Attributes.weight&&(null!=(t=e.Utilities.getEnumKeyByValue("HmiFontWeight",this.Attributes.weight))?this.Attributes.weight=t:e.trace(e.enumTraceMode.Warning,"Can't draw a Font Object with invalid enum for weight"))},i.prototype.isValid=function(){return this.Attributes.name&&"string"==typeof this.Attributes.name?null==this.Attributes["strike-out"]||"string"!=typeof this.Attributes["strike-out"]&&"boolean"!=typeof this.Attributes["strike-out"]?(e.trace(e.enumTraceMode.Warning,"Can't draw a Font Object with invalid strike-out"),!1):!this.Attributes.weight||"string"!=typeof this.Attributes.weight&&"number"!=typeof this.Attributes.weight?(e.trace(e.enumTraceMode.Warning,"Can't draw a Font Object with invalid weight"),!1):null===e.Utilities.convertToBool(this.Attributes.italic)?(e.trace(e.enumTraceMode.Warning,"Can't draw a Font Object with invalid italic"),!1):null!==e.Utilities.convertToBool(this.Attributes.underline)||(e.trace(e.enumTraceMode.Warning,"Can't draw a Font Object with invalid underline"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a Font Object with invalid name"),!1)},i.prototype.getWeightSVG=function(){var e,t=this.getAttribute("weight");if("string"==typeof t)switch(t.toLowerCase()){case"thin":e="100";break;case"extralight":e="200";break;case"light":e="300";break;case"normal":default:e="400";break;case"medium":e="500";break;case"semibold":e="600";break;case"bold":e="700";break;case"extrabold":e="800";break;case"heavy":e="900"}else e=t;return e},i.prototype.getTextDecoration=function(){var t="",i=this.getAttribute("strike-out");return e.Utilities.convertToBool(this.getAttribute("underline"))&&(t+="underline "),["single","true",!0].indexOf(i)>=0&&(t+="line-through "),0==t.length&&(t="none"),t.trim()},i.prototype.mergeWithScope=function(){var e=this.getAttribute("scope");null!=e&&(null!=e.Name&&(this.Attributes.name=e.Name),null!=e.Size&&(this.Attributes.size=e.Size),null!=e.Italic&&(this.Attributes.italic=e.Italic),null!=e.StrikeOut&&(this.Attributes["strike-out"]=e.StrikeOut),null!=e.Underline&&(this.Attributes.underline=e.Underline),null!=e.Weight&&(this.Attributes.weight=e.Weight))},i.prototype.getFontStyleSVG=function(){return e.Utilities.convertToBool(this.getAttribute("italic"))?"italic":"normal"},i.prototype.getWebRHAttributes=function(){return{Size:this.getAttribute("size"),Italic:this.getAttribute("italic"),Weight:this.getAttribute("weight"),Name:this.getAttribute("name"),Underline:this.getAttribute("underline"),StrikeOut:this.getAttribute("strike-out")}},i}(t.NVEFeatureBase);t.Font=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.matchedGraphs=new e.Data.GenericList,i.defaults={"unit-filter":"","index-filter":"","low-surcharge":0,"high-surcharge":0,"low-extension":0,"high-extension":0,interpolation:"linear",stroke:"","stroke-width":"",fill:"transparent"},i}return r(i,t),i.prototype.draw=function(t,i){var r,n=0;for(this.metaData=i,this.webRTPUItem=t,this.indexFilter=this.Attributes["index-filter"],void 0===this.indexFilter&&(this.indexFilter=this.defaults["index-filter"]),this.unitFilter=this.Attributes["unit-filter"],void 0===this.unitFilter&&(this.unitFilter=this.defaults["unit-filter"]),this.lowSurcharge=parseInt(this.Attributes["low-surcharge"],10),this.highSurcharge=parseInt(this.Attributes["high-surcharge"],10),this.lowExtension=parseInt(this.Attributes["low-extension"],10),this.highExtension=parseInt(this.Attributes["high-extension"],10),this.interpolation=this.Attributes.interpolation,this.stroke=e.getRGBAcolor(this.Attributes.stroke),this.strokewidth=parseInt(this.Attributes["stroke-width"],10),this.fill=this.Attributes.fill,this.dom=null,r=this.Features.length,n=0;n<r;n++)this.Features[n]instanceof e.Features.Tooltip?e.isAppModeRuntime()&&(this.tooltip=this.Features[n],this.tooltip.draw(this.webRTPUItem,this.metaData)):this.Features[n]instanceof e.Features.GraphMarker&&(this.graphMarker=this.Features[n]);return this.dom},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.matchGraphs=function(e){var t,i,r,n,a,o,s,l,u;for(i=e.length,t=this.matchedGraphs,l=this.indexFilter.split(" "),u=this.unitFilter.split(" "),a=0;a<i;a++)for(s=(r=e[a]).trends.length,o=0;o<s;o++)n=r.trends[o],(""===this.indexFilter||l.indexOf(o.toString())>-1)&&(""===this.unitFilter||u.indexOf(n.unit)>-1)&&(t.tryAdd(n),n.updateTrendAttrs(this.Attributes),this.graphMarker&&n.updateMarkerAttrs(this.graphMarker.Attributes),this.tooltip&&n.addTooltipInfo(this.tooltip))},i.prototype.unmatchGraphs=function(e){var t,i;if(e)for(i=e.length,t=0;t<i;t++)e[t].trends.forEach((function(e){this.tryRemove(e)>-1&&e.removeTemplateAttrs()}),this.matchedGraphs);else for(t=(i=this.matchedGraphs.items.length)-1;t>=0;t--)this.matchedGraphs.items[t].removeTemplateAttrs(),this.matchedGraphs.removeByIndex(t)},i.prototype.remove=function(){this.matchedGraphs.clear(),this.metaData=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.Graph=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaults={type:"",dimension:"",color:"",position:"exact"},t}return r(t,e),t.prototype.draw=function(e,t){return this.data=t,this.webRTPUItem=e,this.dom=null,this.dom},t.prototype.redraw=function(e,t){this.draw(e,t)},t.prototype.updateMarkerAttrs=function(e){var t,i;for(t=e.length,i=0;i<t;i++)e[i].updateMarkerAttrs(this.Attributes)},t}(e.FeatureBase);e.GraphMarker=t}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={selection:"keep on-top",aggregate:!1},e}return r(i,t),i.prototype.draw=function(t,i){var r,n,a=null,o=0;for(this.data=i,e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.webRTPUItem=t,r=this.Features.length,o=0;o<r;o++)a=this.Features[o].draw(t,i);return this.dom=a,n=this.Attributes.selection.split(" "),this.bringOnTop=n.indexOf("on-top")>-1,this.keepSelection=n.indexOf("keep")>-1,a},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.propertyChanged=function(e){if("selection"===e){var t=void 0;t=this.Attributes.selection.split(" "),this.bringOnTop=t.indexOf("on-top")>-1,this.keepSelection=t.indexOf("keep")>-1,this.Parent.trendView.graphsSelectionChanged()}},i.prototype.matchGraphs=function(e){var t,i;for(t=this.Features.length,i=0;i<t;i++)this.Features[i].matchGraphs(e)},i.prototype.unmatchGraphs=function(e){var t,i;for(t=this.Features.length,i=0;i<t;i++)this.Features[i].unmatchGraphs(e)},i}(t.FeatureBase);t.Graphs=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.draw=function(e,t){return this.data=t,void 0===this.dom&&(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.attrs=this.data.gridlineAttrs,this.layer=t.gridLineLayer.getGridLineCollectionByLayer(this.attrs.layer),this.attrs.isRow&&(this.calVLineConfigurations(),this.layer.hasVerticalLines=!0),this.attrs.isColumn&&(this.calHLineConfigurations(),this.layer.hasHorizontalLines=!0),this.dom},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.calVLineConfigurations=function(){var t,i=null,r=0,n=0,a=0,o=-1,s=0,l=this.data.tableProps,u=l.rowHeaderWidth;if(0===l.hHeaderWidth&&l.height-(this.layer.bottomBorder+this.layer.topBorder+l.headerHeight),this.attrs.isBegin&&(a=this.attrs.strokeWidth/2,this.attrs.isExpInner&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.y1=l.headerHeight,i.y2=l.height-this.layer.bottomBorder,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vBeginExpInner=i),this.attrs.isExpHeader&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.y1=0,i.y2=l.headerHeight+l.hHeaderWidth,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vBeginExpHeader=i)),this.attrs.isEnd&&(a=l.width-this.layer.rightBorder/2,this.attrs.isExpHeader&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.y1=0,i.y2=i.y1+l.cellHeight,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vEndExpHeader=i),this.attrs.isExpInner&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.y1=l.headerHeight,i.y2=l.height-this.layer.bottomBorder,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vEndExpInner=i)),this.attrs.isHeader&&l.hasRowHeader&&(a=u+l.leftBorder/2,this.attrs.isExpHeader&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.y1=0,i.y2=l.cellHeight,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vHeaderExpHeader=i),this.attrs.isExpInner&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.y1=l.headerHeight,i.y2=l.height-this.layer.bottomBorder,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.layer=this.layer,this.layer.vHeaderExpInner=i)),this.attrs.isInner)for(t=this.data.viewport.getColumns(),n=this.data.viewport.getColumnCount();r<n;r++)a=u+(s+=t[r].Width)+l.leftBorder/2,this.attrs.isExpInner&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.y1=l.headerHeight,i.y2=l.height-this.layer.bottomBorder,i.layer=this.layer,this.lineRequired(r)&&(-1===(o=this.layer.vInnerLineIndex.indexOf(r))?(i.colIndex=r,this.layer.vInnerLineIndex.push(r),this.layer.vInnerExpInner.push(i)):this.layer.vInnerExpInner[o]=i)),this.attrs.isExpHeader&&l.hasColumnHeader&&((i=new e.Data.LineConfig).x1=a,i.x2=a,i.stroke=this.attrs.strokeColor,i.strokeWidth=this.attrs.strokeWidth,i.y1=0,i.y2=i.y1+l.cellHeight,i.layer=this.layer,this.lineRequired(r)&&(-1===(o=this.layer.vHeaderLineIndex.indexOf(r))?(i.colIndex=r,this.layer.vInnerExpHeader.push(i),this.layer.vHeaderLineIndex.push(r)):this.layer.vInnerExpHeader[o]=i))},i.prototype.calHLineConfigurations=function(){var t=null,i=0,r=0,n=0,a=-1,o=this.data.tableProps;o.rowHeaderWidth;if(this.attrs.isBegin&&(n=this.attrs.strokeWidth/2,this.attrs.isExpHeader&&((t=new e.Data.LineConfig).x1=0,t.x2=this.layer.leftBorder+o.rowHeaderWidth,t.y1=n,t.y2=n,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hBeginExpHeader=t),this.attrs.isExpInner&&((t=new e.Data.LineConfig).x1=o.rowHeaderWidth,t.x2=o.width,t.y1=n,t.y2=n,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hBeginExpInner=t)),this.attrs.isEnd&&(this.attrs.isExpHeader&&((t=new e.Data.LineConfig).x1=0,t.x2=this.layer.leftBorder+o.rowHeaderWidth,t.y1=o.height-this.layer.bottomBorder/2,t.y2=t.y1,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hEndExpHeader=t),this.attrs.isExpInner&&((t=new e.Data.LineConfig).x1=o.rowHeaderWidth,t.x2=o.width,t.y1=o.height-this.layer.bottomBorder/2,t.y2=t.y1,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hEndExpInner=t)),this.attrs.isHeader&&o.hasColumnHeader&&(n=o.headerHeight+o.topBorder/2,this.attrs.isExpHeader&&((t=new e.Data.LineConfig).x1=0,t.x2=o.rowHeaderWidth,t.y1=n,t.y2=n,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hHeaderExpHeader=t),this.attrs.isExpInner&&((t=new e.Data.LineConfig).x1=o.rowHeaderWidth,t.x2=o.width-this.layer.rightBorder,t.y1=n,t.y2=n,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.layer.hHeaderExpInner=t)),this.attrs.isInner)for(r=this.data.viewport.getSize(),i=o.hasColumnHeader?1:0;i<r;i++)n=(i+1)*o.cellHeight+o.topBorder/2,this.attrs.isExpHeader&&o.hasRowHeader&&((t=new e.Data.LineConfig).x1=0,t.x2=o.rowHeaderWidth,t.y1=n,t.y2=n,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.lineRequired(i)&&(-1===(a=this.layer.hHeaderLineIndex.indexOf(i))?(this.layer.hInnerExpHeader.push(t),this.layer.hHeaderLineIndex.push(i)):this.layer.hInnerExpHeader[a]=t)),this.attrs.isExpInner&&((t=new e.Data.LineConfig).x1=o.rowHeaderWidth,t.x2=o.width-this.layer.rightBorder,t.y1=n,t.y2=n,t.stroke=this.attrs.strokeColor,t.strokeWidth=this.attrs.strokeWidth,t.layer=this.layer,this.lineRequired(i)&&(-1===(a=this.layer.hInnerLineIndex.indexOf(i))?(this.layer.hInnerExpInner.push(t),this.layer.hInnerLineIndex.push(i)):this.layer.hInnerExpInner[a]=t))},i.prototype.lineRequired=function(t){return this.attrs.bias===e.Data.BiasType.Odd?t%2&&(t+1)%this.attrs.divisor==0:this.attrs.bias===e.Data.BiasType.Even?t%2==0&&(t+1)%this.attrs.divisor==1:(t+1)%this.attrs.divisor==0},i.prototype.remove=function(){this.layer.remove(),this.data=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.Gridline=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(i){function n(){var e=i.call(this)||this;return e.CONST_VALUE=2,e.defaults={"modulo-divisor":1,"modulo-bias":0,"position-filter":"begin header inner end",expansion:"inner header",orientation:"row column","stroke-width":1,stroke:"#000",layer:"on-top"},e.dom=null,e.verticalLineGroup=null,e.horizontalLineGroup=null,e.vInnerExpHeaderLineGroup=null,e.vInnerExpInnerLineGroup=null,e.highlighterHeaderLineGroup=null,e.highlighterInnerLineGroup=null,e.hHeaderLineGroup=null,e.line=new t.Shape.Line.Lines(e),e.hasHorizontalLines=!1,e.hasVericalLines=!1,e.dummyColCreated=!1,e.hLinesToMove=[],e.iLinesToMove=[],e.colIndex=-1,e.resizeLimit=-1,e.hLineIndex=-1,e.iLineIndex=-1,e.prevDeltaX=-1,e.resizeStartX=0,e}return r(n,i),n.prototype.draw=function(e,t){var i,r=null,n=0;if(this.data=t,this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.lineConfig.clearCollection()}for(this.resetGroups(),this.webRTPUItem=e,i=this.Features.length,this.setAttributeDetails(i),n=0;n<i;n++)t.gridlineAttrs=this.attributes[n],r=this.Features[n].draw(e,t);return this.dom=r,this.drawLineLayerWise(),r},n.prototype.drawLineLayerWise=function(){this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("on-columns"),this.lineConfig&&this.data.gridLineLayer.onColumnsGroup&&this.drawLines(this.data.gridLineLayer.onColumnsGroup,"on-columns"),this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("on-rows"),this.lineConfig&&this.data.gridLineLayer.onRowsColumnsGroup&&this.drawLines(this.data.gridLineLayer.onRowsColumnsGroup,"on-rows"),this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("background"),this.lineConfig&&this.data.gridLineLayer.inBackgroundGroup&&this.drawLines(this.data.gridLineLayer.inBackgroundGroup,"background"),this.lineConfig=this.data.gridLineLayer.getGridLineCollectionByLayer("on-top"),this.lineConfig&&this.data.gridLineLayer.onTopGroup&&this.drawLines(this.data.gridLineLayer.onTopGroup,"on-top")},n.prototype.onEnabledChanged=function(){this.data.configuration.HeaderSettings.AllowColumnResize&&this.webRTPUItem.Store.props.Enabled?this.highlighterHeaderLineGroup.setAttribute("cursor","e-resize"):this.highlighterHeaderLineGroup.setAttribute("cursor","auto")},n.prototype.drawLines=function(e,t){this.lineConfig.hasVerticalLines&&(this.verticalLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.verticalLineGroup.setAttribute("id",t+"Verticallinegroup"),e.appendChild(this.verticalLineGroup),this.vInnerExpHeaderLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.vInnerExpHeaderLineGroup.setAttribute("id",t+"VInnerExpHeaderLineGroup"),e.appendChild(this.vInnerExpHeaderLineGroup),this.vInnerExpInnerLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.vInnerExpInnerLineGroup.setAttribute("id",t+"VInnerExpInnerLineGroup"),e.appendChild(this.vInnerExpInnerLineGroup),this.highlighterHeaderLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.highlighterHeaderLineGroup.setAttribute("id","highlighterHeaderLineGroup"),this.data.configuration.HeaderSettings.AllowColumnResize&&!1!==this.webRTPUItem.Store.props.Enabled&&this.highlighterHeaderLineGroup.setAttribute("cursor","e-resize"),e.appendChild(this.highlighterHeaderLineGroup),this.highlighterInnerLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.highlighterInnerLineGroup.setAttribute("id","highlighterInnerLineGroup"),e.appendChild(this.highlighterInnerLineGroup)),this.lineConfig.hasHorizontalLines&&(this.horizontalLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.horizontalLineGroup.setAttribute("id",t+"Horizontallinegroup"),e.appendChild(this.horizontalLineGroup),this.hHeaderLineGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.hHeaderLineGroup.setAttribute("id",t+"hHeaderLineGroup"),e.appendChild(this.hHeaderLineGroup)),this.line.draw(),this.line.drawHighlighterLines()},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.setHeaderAndInnerAttrs=function(e,t){e.isHeader=t.indexOf("header")>-1?1:0,e.isInner=t.indexOf("inner")>-1?1:0,e.isEnd=t.indexOf("end")>-1?1:0,e.isBegin=t.indexOf("begin")>-1?1:0},n.prototype.setRowAttrs=function(e,t,i){e.isBegin&&(i.rightBorder=t,"on-top"===e.layer&&(this.data.tableProps.rightBorder=t>this.data.tableProps.rightBorder?t:this.data.tableProps.rightBorder)),e.isEnd&&(i.leftBorder=t,"on-top"===e.layer&&(this.data.tableProps.leftBorder=t>this.data.tableProps.leftBorder?t:this.data.tableProps.leftBorder))},n.prototype.setColAttrs=function(e,t,i){e.isBegin&&(i.topBorder=t,"on-top"===e.layer&&(this.data.tableProps.topBorder=t>this.data.tableProps.topBorder?t:this.data.tableProps.topBorder)),e.isEnd&&(i.bottomBorder=t,"on-top"===e.layer&&(this.data.tableProps.bottomBorder=t>this.data.tableProps.bottomBorder?t:this.data.tableProps.bottomBorder))},n.prototype.setAttributeDetails=function(t){var i,r,n,a,o,s,l,u;for(this.attributes=[],i=0;i<t;i++)s={},(u=this.Features[i]).Attributes=e.Utilities.mergeWithDefaults(u.Attributes,this.defaults),a=u.Attributes.orientation.toLowerCase().trim().split(/[\s,]+/),o=u.Attributes.expansion.toLowerCase().trim().split(/[\s,]+/),r=u.Attributes["position-filter"].toLowerCase().trim().split(/[\s,]+/),n=parseInt(u.Attributes["stroke-width"],10),s.strokeColor=u.Attributes.stroke,s.divisor=parseInt(u.Attributes["modulo-divisor"],10),s.bias=parseInt(u.Attributes["modulo-bias"],10),s.strokeWidth=n,s.layer=u.Attributes.layer,"on-top"!==s.layer||this.data.gridLineLayer.onTopGroup?"on-columns"!==s.layer||this.data.gridLineLayer.onColumnsGroup?"on-rows"!==s.layer||this.data.gridLineLayer.onRowsColumnsGroup?"background"!==s.layer||this.data.gridLineLayer.inBackgroundGroup||(this.data.gridLineLayer.inBackgroundGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.inBackgroundGroup.setAttribute("id","layerBackground")):(this.data.gridLineLayer.onRowsColumnsGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.onRowsColumnsGroup.setAttribute("id","layerRows")):(this.data.gridLineLayer.onColumnsGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.onColumnsGroup.setAttribute("id","layerColumns")):(this.data.gridLineLayer.onTopGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.data.gridLineLayer.onTopGroup.setAttribute("id","layerTop")),l=this.data.gridLineLayer.getGridLineCollectionByLayer(s.layer),s.isRow=a.indexOf("row")>-1?1:0,s.isColumn=a.indexOf("column")>-1?1:0,s.isExpHeader="header"===o[0]||"header"===o[1],s.isExpInner="inner"===o[0]||"inner"===o[1],(s.isExpHeader||s.isExpInner&&!s.isExpHeader)&&this.setHeaderAndInnerAttrs(s,r),s.isRow&&this.setRowAttrs(s,n,l),s.isColumn&&this.setColAttrs(s,n,l),this.attributes.push(s)},n.prototype.getAttributeDetails=function(){return this.attributes},n.prototype.resetGroups=function(){if(this.data.gridLineLayer.onColumnsGroup)for(;this.data.gridLineLayer.onColumnsGroup.firstChild;)this.data.gridLineLayer.onColumnsGroup.removeChild(this.data.gridLineLayer.onColumnsGroup.firstChild);if(this.data.gridLineLayer.onRowsColumnsGroup)for(;this.data.gridLineLayer.onRowsColumnsGroup.firstChild;)this.data.gridLineLayer.onRowsColumnsGroup.removeChild(this.data.gridLineLayer.onRowsColumnsGroup.firstChild);if(this.data.gridLineLayer.inBackgroundGroup)for(;this.data.gridLineLayer.inBackgroundGroup.firstChild;)this.data.gridLineLayer.inBackgroundGroup.removeChild(this.data.gridLineLayer.inBackgroundGroup.firstChild);if(this.data.gridLineLayer.onTopGroup)for(;this.data.gridLineLayer.onTopGroup.firstChild;)this.data.gridLineLayer.onTopGroup.removeChild(this.data.gridLineLayer.onTopGroup.firstChild)},n.prototype.swipeBeyondHorizLimit=function(e){var t,i,r,n,a;this.hLinesToMove=[],this.iLinesToMove=[];var o=this.lineConfig.vInnerExpInner.length,s=this.lineConfig.vInnerExpHeader.length;for(n=0;n<s;n++)this.lineConfig.vInnerExpHeader[n]&&this.lineConfig.vInnerExpHeader[n].x1>=this.resizeStartX&&(this.hLinesToMove.push(n),this.lineConfig.vInnerExpHeader[n].x1===this.resizeStartX&&(this.colIndex=this.lineConfig.vInnerExpHeader[n].colIndex,this.hLineIndex=n));for(n=0;n<o;n++)this.lineConfig.vInnerExpInner[n]&&this.lineConfig.vInnerExpInner[n].x1>=this.resizeStartX&&(this.iLinesToMove.push(n),this.lineConfig.vInnerExpInner[n].x1===this.resizeStartX&&(this.iLineIndex=n));var l=e.deltaX-this.prevDeltaX;if(this.resizeStartX+=l,this.prevDeltaX=e.deltaX,this.data.tableProps.isRowHeaderActionAllowed)for(this.lineConfig.vHeaderExpHeader&&this.lineConfig.vHeaderExpHeader.x1>=this.resizeStartX&&this.lineConfig.vHeaderExpHeader.x1===this.resizeStartX&&(this.colIndex=this.lineConfig.vHeaderExpHeader[n].colIndex,this.lineConfig.vHeaderExpHeader.x1=this.lineConfig.vHeaderExpHeader.x1+l,this.lineConfig.vHeaderExpHeader.x2=this.lineConfig.vHeaderExpHeader.x1),this.lineConfig.vHeaderExpInner&&this.lineConfig.vHeaderExpInner.x1>=this.resizeStartX&&this.lineConfig.vHeaderExpInner.x1===this.resizeStartX&&(this.lineConfig.vHeaderExpInner.x1=this.lineConfig.vHeaderExpInner.x1+l,this.lineConfig.vHeaderExpInner.x2=this.lineConfig.vHeaderExpInner.x1),this.data.featureList.RecordHeader.updateOnColResize(l),n=0;n<this.lineConfig.hInnerExpHeader.length;n++)this.lineConfig.hInnerExpHeader[n].x2=this.lineConfig.hInnerExpHeader[n].x2+l;for(n=0;n<this.hLinesToMove.length;n++)a=this.hLinesToMove[n],this.lineConfig.vInnerExpHeader[a].x1=this.lineConfig.vInnerExpHeader[a].x1+l,this.lineConfig.vInnerExpHeader[a].x2=this.lineConfig.vInnerExpHeader[a].x1;for(n=0;n<this.iLinesToMove.length;n++)a=this.iLinesToMove[n],this.lineConfig.vInnerExpInner[a].x1=this.lineConfig.vInnerExpInner[a].x1+l,this.lineConfig.vInnerExpInner[a].x2=this.lineConfig.vInnerExpInner[a].x1;var u=this.data.viewport.getColumnCount();this.colIndex>=0&&(r=this.data.viewport.autocompleteColumnVisible,this.data.featureList.Header.updateOnColResize(this.colIndex,l),this.data.featureList.DataTemplates.updateOnColResize(this.colIndex,l),this.data.featureList.ColumnBackGround.updateOnColResize(this.colIndex,l),t=this.data.viewport.getViewportSelection(this.data.selectionDetail.getSelection())),this.line.setAttribute("onResize",""),this.data.viewport.setTotalVisibleColumns(this.data.configuration),this.data.viewport.updateVisibleColumns(this.Parent.prevDataInstance.columnIndex),this.Parent.createHorScrollBar(),u===this.data.viewport.getColumnCount()&&r===this.data.viewport.autocompleteColumnVisible||(this.Parent.reloadOnColumnResize(e.target),this.line.showHighlighterLine(this.hLineIndex,this.iLineIndex),i=!0),i||this.data.tableProps.alwaysShowRecent||-1===t.rowIndex||(this.data.featureList.SelectionBorder.clearBorder(),this.data.featureList.SelectionBorder.createBorder(t))},n.prototype.handleEvents=function(e,t,i){var r,n;if("mousedown"===t.type||"touchstart"===t.type){if(this.hLinesToMove=[],this.iLinesToMove=[],n=e,this.resizeStartX=parseFloat(n.getAttribute("x1")),this.lineConfig.vHeaderExpHeader&&this.lineConfig.vHeaderExpHeader.x1===this.resizeStartX)this.data.tableProps.isRowHeaderAction=!0,this.data.tableProps.allowRowHeaderResize&&this.data.tableProps.hasRowHeader&&(this.getColResizeLowerLimit(),this.data.tableProps.isRowHeaderActionAllowed=!0);else{for(this.data.tableProps.isRowHeaderAction=!1,this.data.tableProps.isRowHeaderActionAllowed=!1,r=0;r<this.lineConfig.vInnerExpHeader.length;r++)if(this.lineConfig.vInnerExpHeader[r].x1===this.resizeStartX){this.colIndex=this.lineConfig.vInnerExpHeader[r].colIndex,this.hLineIndex=r,this.getColResizeLowerLimit();break}for(r=0;r<this.lineConfig.vInnerExpInner.length;r++)if(this.lineConfig.vInnerExpInner[r].x1===this.resizeStartX){this.iLineIndex=r;break}}this.line.showHighlighterLine(this.hLineIndex,this.iLineIndex)}else if("mouseup"===t.type||"touchend"===t.type||"panend"===t.type)this.line.showHideHighlighterLine(this.hLineIndex,this.iLineIndex,!0),this.line.removeHighlighterLine(this.hLineIndex,this.iLineIndex),this.hLinesToMove=[],this.iLinesToMove=[],this.colIndex=-1,this.hLineIndex=-1,this.iLineIndex=-1,this.resizeLimit=-1,this.prevDeltaX=-1,this.data.tableProps.isRowHeaderAction=!1,this.data.tableProps.isRowHeaderActionAllowed=!1;else if("panright"===t.type||"panleft"===t.type)if(0===t.which)this.line.removeHighlighterLine(this.hLineIndex,this.iLineIndex),this.hLinesToMove=[],this.iLinesToMove=[],this.colIndex=-1,this.hLineIndex=-1,this.iLineIndex=-1,this.resizeLimit=-1,this.prevDeltaX=-1,this.data.tableProps.isRowHeaderAction=!1,this.data.tableProps.isRowHeaderActionAllowed=!1;else{if(this.hLinesToMove.length>0&&i.x<this.resizeLimit||i.x>this.data.tableProps.width-5)return;i.y<0||i.y>this.data.tableProps.height?this.line.showHideHighlighterLine(this.hLineIndex,this.iLineIndex,!1):i.y>0&&i.y<this.data.tableProps.height&&!this.line.isGridLineHilighterVisible?this.line.showHideHighlighterLine(this.hLineIndex,this.iLineIndex,!0):i.x>=this.resizeLimit&&this.swipeBeyondHorizLimit(t)}},n.prototype.getColResizeLowerLimit=function(){var e,t;if(this.data.tableProps.isRowHeaderAction)this.data.tableProps.isRowHeaderActionAllowed&&(this.resizeLimit=this.data.tableProps.leftBorder/this.CONST_VALUE+this.data.configuration.GridLineWidth,this.data.tableProps.allowRowHeaderResize||(this.resizeLimit+=this.data.tableProps.rowHeaderWidth));else if(t=this.data.viewport.getColumns()[this.colIndex],0===this.colIndex&&0===t.MinimumWidth)this.resizeLimit=this.data.tableProps.rowHeaderWidth+this.data.tableProps.leftBorder/this.CONST_VALUE+this.data.configuration.GridLineWidth;else if(this.colIndex>0)for(e=0;e<this.lineConfig.vInnerExpHeader.length;e++)this.lineConfig.vInnerExpHeader[e].colIndex===this.colIndex-1&&(this.resizeLimit=this.lineConfig.vInnerExpHeader[e].x1+this.data.configuration.GridLineWidth)},n.prototype.updateLinePositions=function(e,t){var i,r,n;for(this.hLinesToMove=[],this.iLinesToMove=[];e<=t;e++){for(i=0;i<this.lineConfig.vInnerExpHeader.length;i++)this.lineConfig.vInnerExpHeader[i].colIndex===e&&this.hLinesToMove.push(i);for(i=0;i<this.lineConfig.vInnerExpInner.length;i++)this.lineConfig.vInnerExpInner[i].colIndex===e&&this.iLinesToMove.push(i)}for(i=0;i<this.hLinesToMove.length;i++)n=this.lineConfig.vInnerExpHeader[this.hLinesToMove[i]],r=this.data.tableProps.rowHeaderWidth+n.strokeWidth/this.CONST_VALUE+this.data.tableProps.getTotalColumnWidth(this.data,n.colIndex+1),n.x1=r,n.x2=r;for(i=0;i<this.iLinesToMove.length;i++)n=this.lineConfig.vInnerExpInner[this.iLinesToMove[i]],r=this.data.tableProps.rowHeaderWidth+n.strokeWidth/this.CONST_VALUE+this.data.tableProps.getTotalColumnWidth(this.data,n.colIndex+1),n.x1=r,n.x2=r;this.line.setAttribute("onResize","")},n.prototype.setGridLineVisibility=function(t,i){var r;for(r=0;r<i;r++)this.Features[r].Attributes.orientation=t===e.getChromEnum("HmiSimpleGridLine").None?"":t===e.getChromEnum("HmiSimpleGridLine").Vertical?"row":t===e.getChromEnum("HmiSimpleGridLine").Horizontal?"column":3===t?"row column":""},n.prototype.onPropertyChange=function(t,i){var r,n=this.Features.length;switch(t){case"GridLineColor":for(i=e.getRGBAcolor(i),r=0;r<n;r++)r===this.CONST_VALUE&&(this.Features[r].Attributes.stroke=i);this.line.setAttribute(t,i);break;case"GridLineWidth":for(r=0;r<n;r++)r<this.CONST_VALUE&&(this.Features[r].Attributes["stroke-width"]=i);this.line.setAttribute(t,i);break;case"GridLineVisibility":this.setGridLineVisibility(i,n),this.draw(this.webRTPUItem,this.data);break;default:for(i=e.getRGBAcolor(i),r=0;r<n;r++)r<this.CONST_VALUE&&(this.Features[r].Attributes.stroke=i);this.line.setAttribute(t,i)}},n.prototype.remove=function(){this.verticalLineGroup=null,this.horizontalLineGroup=null,this.vInnerExpHeaderLineGroup=null,this.vInnerExpInnerLineGroup=null,this.highlighterHeaderLineGroup=null,this.highlighterInnerLineGroup=null,this.line.remove(),this.line=null,this.lineConfig.remove(),this.lineConfig=null,this.hasHorizontalLines=!1,this.hasVericalLines=!1,this.dummyColCreated=!1,this.hLinesToMove=null,this.iLinesToMove=null,this.colIndex=-1,this.resizeLimit=-1,this.hLineIndex=-1,this.iLineIndex=-1,this.data=null,i.prototype.remove.call(this)},n}(t.FeatureBase);t.Gridlines=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=t.call(this)||this;return i.Templates=new e.Dictionary,i.firstColCurrIndex=0,i.isHilighterVisible=!1,i.DIVISION_FACTOR=2,i.calculateNextSortOrder=function(e,t){var i,r=0,n=e.length;for(i=0;i<n;i++)e[i].SortDirection>t.None&&r++;return r},i.computeAndUpdateSortOrder=function(e,t,r,n){var a,o,s=e.length,l=t.SortOrder;for(o=0;o<s;o++)(a=e[o]).SortOrder>0&&l<=a.SortOrder&&(l<a.SortOrder?a.SortOrder--:l===a.SortOrder&&(a.SortOrder=0),i.metaData.tableProps.alwaysShowRecent||i.setSortProps(o,a.SortOrder,a.SortDirection,a,!0),n.push(a))},i.fireSortCallback=function(t,r){var n=e.Utilities.getDataProvider(i.webRTPUItem,i.metaData.instanceID);n&&"function"==typeof n.sort&&n.sort(t,r)},i.hasCustomSort=function(){var e,t,r=i.columns.length;if(i.metaData.configuration.AllowSort)for(e=0;e<r;e++)if((t=i.columns[e]).SortOrder>0&&t.SortDirection>0)return!0;return!1},i.showSortDirectionandOrder=function(){var e,t=0,r=i.columns.length;if(i.metaData.configuration.AllowSort)for(t=0;t<r;t++)(e=i.columns[t])&&e.AllowSort&&e.SortDirection>0&&i.setSortProps(t,e.SortOrder,e.SortDirection,e,!0)},i.computeAndUpdateSortCriteria=function(t){var r=e.getChromEnum("HmiSortDirection"),n=[],a=i.metaData.viewport.visibleColumns[t];a&&a.AllowSort&&(a.SortDirection=(a.SortDirection+1)%Object.keys(r).length,a.SortDirection>r.None?(0===a.SortOrder&&(a.SortOrder=i.calculateNextSortOrder(i.metaData.viewport.getTotalVisibleColumns(),r)),i.metaData.tableProps.alwaysShowRecent||i.setSortProps(t,a.SortOrder,a.SortDirection,a,!0),n[0]=a):i.computeAndUpdateSortOrder(i.metaData.viewport.getTotalVisibleColumns(),a,r,n),i.fireSortCallback(n,!0))},i.updateSortOrder=function(e){var t=i.metaData.configuration.Columns[e];t&&t.AllowSort&&t.SortDirection>0&&i.metaData.configuration.AllowSort&&(i.metaData.tableProps.alwaysShowRecent||i.setSortProps(e,t.SortOrder,t.SortDirection,t,!0),i.fireSortCallback([t],!1))},i.updateSortDirection=function(e){var t=i.metaData.configuration.Columns[e];t&&t.AllowSort&&t.SortOrder>0&&i.metaData.configuration.AllowSort&&(i.metaData.tableProps.alwaysShowRecent||i.setSortProps(e,t.SortOrder,t.SortDirection,t,!0),i.fireSortCallback([t],!1))},i.columns=[],i}return r(i,t),i.prototype.getHeaderIndex=function(e){for(var t=-1,i=0;i<this.headerCollection.length;i++)if(this.headerCollection[i].getProps("HmiProps.Name")===e.Name){t=i;break}return t},i.prototype.setAllowSort=function(e,t){if(this.headerCollection){var i=this.headerCollection[e];i&&(i.setHmiProps(t,"HmiProps.AllowSort"),i.update())}},i.prototype.setSortProps=function(e,t,i,r,n){var a,o=this.getHeaderIndex(r);this.headerCollection&&o>-1&&(a=this.headerCollection[o])&&(null!==t&&a.setHmiProps(t,"HmiProps.SortOrder"),null!==i&&a.setHmiProps(i,"HmiProps.SortDirection"),a.update()),n&&(null!==t&&this.webRTPUItem.setHmiProps({SortOrder:t},"HmiProps.Columns["+e+"]"),null!==i&&this.webRTPUItem.setHmiProps({SortDirection:i},"HmiProps.Columns["+e+"]"))},i.prototype.updateHeaderTextOrFont=function(e){var t,i,r,n,a;if(void 0!==e)(e=this.metaData.tableProps.getVisibleColIndex(this.metaData,e))>-1&&(t=this.columns[e])&&(""!==t.Header.Text&&void 0!==t.Header.Text||(i=t.Name,this.headerCollection&&((r=this.headerCollection[e]).setHmiProps(i,"HmiProps.Text"),r.update())));else for(i=this.metaData.configuration.HeaderSettings.Font,n=this.headerCollection.length,a=0;a<n;a++)this.headerCollection&&((r=this.headerCollection[a]).setHmiProps(i,"HmiProps.Font"),r.update())},i.prototype.onEnabledChanged=function(){var e=this.metaData.configuration.HeaderSettings.AllowColumnReorder&&!1!==this.webRTPUItem.Store.props.Enabled;this.metaData.headerGroup;e?this.dom.setAttribute("cursor","move"):this.dom.setAttribute("cursor","auto")},i.prototype.draw=function(t,i){var r,n,a,o,s,l,u,h,d,c,p=0,m=e.getChromEnum("HmiContentMode"),g=e.getChromEnum("HmiGraphicStretchMode"),T=e.getChromEnum("HmiDataGridHeaderType");if(this.dom)for(this.dom=i.headerGroup;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=i.headerGroup,this.webRTPUItem=t;if(this.metaData=i,this.columns=this.metaData.viewport.getColumns(),this.metaData.tableProps.hasColumnHeader)for(l=this.metaData.configuration,this.headerCollection=[],p=this.metaData.tableProps.rowHeaderWidth+this.metaData.tableProps.leftBorder/this.DIVISION_FACTOR,r=this.columns.length,u=e.getSystemPart("HeaderCellSystemPart"),this.metaData.viewport.autocompleteColumnVisible&&(r=this.columns.length+1),h=this.metaData.tableProps.topBorder/this.DIVISION_FACTOR,n=0;n<r;n++)o=this.columns[n],(s=e.Utilities.cloneObj(u)).Content=e.Utilities.cloneObj(u.Content),s.Font=e.Utilities.cloneObj(l.HeaderSettings.Font),o?(d=void 0===o.SortDirection?0:o.SortDirection,c=void 0===o.SortOrder?0:o.SortOrder,this.metaData.tableProps.alwaysShowRecent?(s.SortDirection=0,s.SortOrder=0):(s.SortDirection=d,s.SortOrder=c),s.AllowSort=o.AllowSort,s.Content.ContentMode=o.Header.Content.ContentMode,this.metaData.configuration.HeaderSettings.ColumnHeaderType===T.Index?s.Text=o.ActualIndex:this.metaData.configuration.HeaderSettings.ColumnHeaderType===T.Content&&(s.Text=o.Header.Text,this.metaData.tableProps.latestProjectVersion&&(s.Name=o.Name),s.Graphic=o.Header.Graphic),s.Content.HorizontalTextAlignment=o.Header.Content.HorizontalTextAlignment,s.Content.TextTrimming=o.Header.Content.TextTrimming,s.Content.VerticalTextAlignment=o.Header.Content.VerticalTextAlignment,s.Content.Spacing=o.Header.Content.Spacing,s.Content.SplitRatio=o.Header.Content.SplitRatio,s.Content.TextPosition=o.Header.Content.TextPosition,s.Content.GraphicStretchMode=o.Header.Content.GraphicStretchMode,s.Width=o.Width):(s.Text="",s.Width=this.metaData.tableProps.width-p-this.metaData.tableProps.rightBorder/this.DIVISION_FACTOR),s.ForeColor=l.HeaderSettings.HeaderForeColor,s.BackColor=l.HeaderSettings.HeaderBackColor,s.Height=this.metaData.tableProps.cellHeight,(a=t.createSubtemplate(this,this.Templates[""],s,null,s.Width,s.Height)).RootNode.setAttribute("x",p),a.RootNode.setAttribute("y",h),p+=s.Width,this.dom.appendChild(a.RootNode),this.headerCollection[n]=a,o&&o.Header.Content.ContentMode!==m.Text&&""!==o.Header.Graphic&&o.Header.Content.GraphicStretchMode===g.None&&e.loadImage(this.webRTPUItem.Store,o.Header.Graphic,this.onGraphicLoaded.bind(this),{columnIndex:n});return this.dom},i.prototype.createHighlighter=function(t,i){var r,n;this.removeHighlighterHeaderGroup(),(n=(r=this.headerCollection[t].RootNode.cloneNode(!0)).getElementsByTagName("rect")[0]).setAttribute("fill",e.getRGBAcolor(this.metaData.configuration.SelectionBackColor)),n.setAttribute("opacity","0.8"),r.setAttribute("x",parseFloat(r.getAttribute("x"))+i.deltaX),r.setAttribute("y",parseFloat(this.Parent.dom.getAttribute("y"))),r.setAttribute("pointer-events","none"),r.getElementsByTagName("text")[1].textContent=this.columns[t].Header.Text,void 0===this.metaData.highlighterGroup&&(this.metaData.highlighterGroup=document.createElementNS("http://www.w3.org/2000/svg","g")),this.metaData.highlighterGroup.appendChild(r),this.Parent.dom.parentElement.appendChild(this.metaData.highlighterGroup)},i.prototype.onGraphicLoaded=function(e,t){var i,r,n,a;this.headerCollection&&(i=this.headerCollection[t.params.columnIndex],a=this.columns[t.params.columnIndex],r=this.metaData.tableProps.cellHeight,r=t.h>r?r:t.h,n=a.Width,n=t.w>n?n:t.w,i.setHmiProps(r,"HmiProps.GraphicHeight"),i.setHmiProps(n,"HmiProps.GraphicWidth"),i.update())},i.prototype.redraw=function(e,t){this.headerCollection=[],this.draw(e,t)},i.prototype.setSelection=function(e){var t={Fore:this.metaData.configuration.HeaderSettings.HeaderSelectionForeColor,Back:this.metaData.configuration.HeaderSettings.HeaderSelectionBackColor};this.updateCellColor([e],t)},i.prototype.reorderColumns=function(e,t){var i,r,n;for(r=this.columns[e].Index,n=this.columns[t].Index,this.metaData.configuration.Columns.splice(r,0,this.metaData.configuration.Columns.splice(n,1)[0]),this.metaData.viewport.setTotalVisibleColumns(this.metaData.configuration,!1),this.metaData.viewport.updateVisibleColumns(this.Parent.prevDataInstance.columnIndex),this.columns=this.metaData.viewport.getColumns(),this.headerCollection.splice(e,0,this.headerCollection.splice(t,1)[0]),this.metaData.featureList.DataTemplates.reorderColumnData(e,t),e===this.firstColCurrIndex?this.firstColCurrIndex=t:t===this.firstColCurrIndex&&(this.firstColCurrIndex=e),e<t?(r=e,n=t):(r=t,n=e),this.metaData.featureList.Gridlines.updateLinePositions(r,n);r<=n;r++)i=this.metaData.tableProps.rowHeaderWidth+this.metaData.tableProps.leftBorder/this.DIVISION_FACTOR+this.metaData.tableProps.getTotalColumnWidth(this.metaData,r),this.headerCollection[r].RootNode.setAttribute("x",i),this.metaData.featureList.DataTemplates.updateXPosOnColReorder(r,i);this.metaData.featureList.ColumnBackGround&&this.metaData.featureList.ColumnBackGround.draw(this.webRTPUItem,this.metaData)},i.prototype.updateHeaderColor=function(e){var t,i,r=this.metaData.selectionDetail.getSelection().columnIndex;if(i=this.metaData.viewport.getColumnCount(),this.headerCollection)for(i+=this.metaData.viewport.autocompleteColumnVisible?1:0,t=0;t<i;t++)r!==t&&this.updateCellColor([t],e)},i.prototype.updateSelectedHeaderColor=function(e){var t,i=this.metaData.viewport.getColumnCount(),r=this.metaData.selectionDetail.getSelection().columnIndex;if(this.headerCollection)for(t=0;t<i;t++)if(r===t){this.updateCellColor([t],e);break}},i.prototype.updateOnColResize=function(t,i){var r,n,a,o,s,l,u=t<0?0:t,h=this.headerCollection.length,d=-1;for(r=u;r<h;r++)r===t?(d=this.columns[r].Index,(s=this.metaData.configuration.Columns[d].Width+i)>-1&&(this.metaData.configuration.Columns[d].Width=s,(n=this.headerCollection[r]).RootNode.setAttribute("width",s),n.setHmiProps(s,"HmiProps.Width"),n.update(),this.metaData.viewport.updateVisibleColumns(this.Parent.prevDataInstance.columnIndex),(l=e.Utilities.getDataProvider(this.webRTPUItem,this.metaData.instanceID))&&"function"==typeof l.updateColumnWidth&&l.updateColumnWidth(d))):this.metaData.viewport.autocompleteColumnVisible&&r===this.headerCollection.length-1?(n=this.headerCollection[r],a=parseFloat(n.RootNode.getAttribute("x"))+i,(o=n.RootScope.Properties.HmiProps.Width-i)>-1&&(n.RootNode.setAttribute("x",a),n.RootNode.setAttribute("width",o),n.setHmiProps(o,"HmiProps.Width"),n.update())):(n=this.headerCollection[r],a=parseFloat(n.RootNode.getAttribute("x"))+i,n.RootNode.setAttribute("x",a))},i.prototype.updateCellColor=function(e,t){var i,r,n=e.length;for(i=0;i<n;i++)e[i]<0||(r=this.headerCollection[e[i]])&&(t.Back&&r.setHmiProps(t.Back,"HmiProps.BackColor"),t.Fore&&r.setHmiProps(t.Fore,"HmiProps.ForeColor"),r.update())},i.prototype.updateTextAndGraphicProperty=function(t,i,r){var n;this.headerCollection&&(i=this.metaData.tableProps.getVisibleColIndex(this.metaData,i),r?i>-1&&""!==t&&(n=this.headerCollection[i],e.loadImage(this.webRTPUItem.Store,t,this.onGraphicLoaded.bind(this),{columnIndex:i}),n.setHmiProps(t,"HmiProps.Graphic")):i>-1&&(this.metaData.configuration.HeaderSettings.ColumnHeaderType!==e.getChromEnum("HmiDataGridHeaderType").Index||!isNaN(t))&&((n=this.headerCollection[i]).setHmiProps(t,"HmiProps.Text"),n.update()))},i.prototype.updateContentRelatedProps=function(e,t,i,r){switch(e){case"SplitRatio":case"ContentMode":case"TextPosition":case"GraphicStretchMode":case"VerticalTextAlignment":case"HorizontalTextAlignment":case"Spacing":case"TextTrimming":this.headerCollection&&(t=this.metaData.tableProps.getVisibleColIndex(this.metaData,t))>-1&&(this.headerCollection[t].setHmiProps(i,"HmiProps.Content"),this.headerCollection[t].update()),r=!0}return r},i.prototype.onPropertyChanged=function(e,t,i,r){var n,a=!1;if(!(a=this.updateContentRelatedProps(e,i,r,a)))switch(e){case"Text":this.updateTextAndGraphicProperty(t,i,!1),a=!0;break;case"Graphic":this.updateTextAndGraphicProperty(t,i,!0),a=!0;break;case"HeaderSelectionBackColor":this.updateSelectedHeaderColor({Back:t});break;case"HeaderSelectionForeColor":this.updateSelectedHeaderColor({Fore:t});break;case"HeaderForeColor":this.updateHeaderColor({Fore:t}),a=!0;break;case"HeaderBackColor":this.updateHeaderColor({Back:t}),a=!0;break;case"ColumnHeaderType":case"Visible":case"Width":case"OutputFormat":case"MinimumWidth":case"MaximumWidth":this.Parent.resizeControl=!0,this.Parent.update(),a=!0;break;case"SortDirection":n=this.metaData.viewport.getColumnIndexByActualIndex(i),this.updateSortDirection(n),a=!0;break;case"SortOrder":n=this.metaData.viewport.getColumnIndexByActualIndex(i),this.updateSortOrder(n),a=!0;break;case"AllowSort":n=this.metaData.viewport.getColumnIndexByActualIndex(i),this.setAllowSort(n,t),a=!0;break;case"Italic":case"Name":case"Size":case"Weight":case"Underline":case"StrikeOut":this.updateHeaderTextOrFont(i),a=!0}return a},i.prototype.showHideHighlighterHeaderGroup=function(e,t){var i="none";t?(i="BLOCK",this.isHilighterVisible=!0):this.isHilighterVisible=!1,this.metaData.highlighterGroup&&(this.metaData.highlighterGroup.style.display=i)},i.prototype.removeHighlighterHeaderGroup=function(){if(this.metaData.highlighterGroup)for(;this.metaData.highlighterGroup.firstChild;)this.metaData.highlighterGroup.removeChild(this.metaData.highlighterGroup.firstChild)},i.prototype.clearAllSortCriteria=function(){var e,t=this.columns?this.columns.length:0;for(e=0;e<t;e++)(this.columns[e].SortOrder>0||this.columns[e].SortDirection>0)&&this.setSortProps(e,0,0,this.columns[e],!1)},i.prototype.clearSelection=function(e){var t={Fore:this.metaData.configuration.HeaderSettings.HeaderForeColor,Back:this.metaData.configuration.HeaderSettings.HeaderBackColor};this.updateCellColor([e],t)},i.prototype.remove=function(e){var i,r;if(void 0===e&&(e=!0),this.headerCollection){for(r=this.headerCollection.length,i=0;i<r;i++)this.headerCollection[i].remove(!1,!0,!1),this.headerCollection[i]=null;this.headerCollection=null,this.columns=null,this.metaData=null,e&&t.prototype.remove.call(this)}},i}(t.FeatureBase);t.Header=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={"input-on-activate":!0,"accept-on-deactivated":!0,"accept-on-completed":!1,"clear-on-invalid-input":!1,"clear-on-activate":!1,"hidden-input":!1},e.dirtyList=new Array,e}return r(i,t),i.prototype.draw=function(e,t){return this.metaData=t,document.createElementNS("http://www.w3.org/2000/svg","g")},i.prototype.redraw=function(e,t){this.dirtyList=[],this.draw(e,t)},i.prototype.getProperty=function(e){return void 0!==this.Attributes[e]?this.Attributes[e]:this.defaults[e]},i.prototype.isValid=function(){return!0},i.prototype.getDisplayText=function(e,t,i){var r,n,a,o,s,l=0;if(n=i||{},this.mergeWithDefaultsAndScope(),Array.isArray(t))if(this.getProperty("hidden-input")){for(r="",o=t.length,a=0;a<o;a++){if(s=t[a],a>0&&!0!==n[a-1]&&(r+="*",l++),l+=s.length,!e&&l>6){r="******";break}r+=s.replace(/(.|\n)/g,"*")}r=[r]}else r=t;else r=t.toString(),this.getProperty("hidden-input")&&(!e&&r.length>6&&(r=r.substr(0,6)),r=r.replace(/(.|\n)/g,"*"));return r},i.prototype.getInitialInput=function(e){var t="";return this.mergeWithDefaultsAndScope(),this.getProperty("clear-on-activate")||null!=e&&(t=e),t},i.prototype._getBoolValue=function(t){return null!=t&&(t=e.Utilities.convertToBool(t)),t},i.prototype.mergeWithDefaultsAndScope=function(){var e;e=this.getAttribute("scope"),this.Attributes["input-on-activate"]=this._getBoolValue(this.Attributes["input-on-activate"]),this.Attributes["accept-on-deactivated"]=this._getBoolValue(this.Attributes["accept-on-deactivated"]),this.Attributes["accept-on-completed"]=this._getBoolValue(this.Attributes["accept-on-completed"]),this.Attributes["clear-on-invalid-input"]=this._getBoolValue(this.Attributes["clear-on-invalid-input"]),this.Attributes["clear-on-activate"]=this._getBoolValue(this.Attributes["clear-on-activate"]),this.Attributes["hidden-input"]=this._getBoolValue(this.Attributes["hidden-input"]),null!=e&&(null!=e.InputOnActivate&&(this.defaults["input-on-activate"]=e.InputOnActivate),null!=e.AcceptOnDeactivated&&(this.defaults["accept-on-deactivated"]=e.AcceptOnDeactivated),null!=e.AcceptOnCompleted&&(this.defaults["accept-on-completed"]=e.AcceptOnCompleted),null!=e.ClearOnInvalidInput&&(this.defaults["clear-on-invalid-input"]=e.ClearOnInvalidInput),null!=e.ClearOnActivate&&(this.defaults["clear-on-activate"]=e.ClearOnActivate),null!=e.HiddenInput&&(this.defaults["hidden-input"]=e.HiddenInput))},i.prototype.propertyChanged=function(e){-1===this.dirtyList.indexOf(e)&&this.dirtyList.push(e),t.prototype.propertyChanged.call(this,e)},i.prototype.setMetaData=function(e){this.metaData=e},i}(t.NVEFeatureBase);t.InputBehavior=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=t.call(this)||this;return i.templateInstance=null,i.Templates=new e.Dictionary,i.defaults={width:0,height:0,"horizontal-preference":1,"vertical-preference":-1,"offset-x":0,"offset-y":0,show:"focused"},i.dom=null,i}return r(i,t),i.prototype.draw=function(t,i){return e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.Attributes["horizontal-preference"]<-1&&(this.Attributes["horizontal-preference"]=-1),this.Attributes["horizontal-preference"]>1&&(this.Attributes["horizontal-preference"]=1),this.Attributes["vertical-preference"]<-1&&(this.Attributes["vertical-preference"]=-1),this.Attributes["vertical-preference"]>1&&(this.Attributes["vertical-preference"]=1),this.inputHintPart=e.getSystemPart("HmiInputHintSystemPart"),this.inputHintPart.Width=this.Attributes.width,this.inputHintPart.Height=this.Attributes.height,this.inputHintPart.VerticalAlignment=this.Attributes["vertical-preference"],this.inputHintPart.HorizontalAlignment=this.Attributes["horizontal-preference"],this.inputHintPart.OffsetX=this.Attributes["offset-x"],this.inputHintPart.OffsetY=this.Attributes["offset-y"],this.item=t,this.dom},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.setInputHintDivDomAttributes=function(e,t,i,r){var n;return null===this.templateInstance&&this.createTemplateInstance(),(n=document.createElement("div")).style.position="absolute",n.style.pointerEvents="none",n.style.zIndex="2000",n.style.left=window.scrollX+t+.5*(parseFloat(this.Attributes["horizontal-preference"])+1)*r+parseInt(this.Attributes["offset-x"],10)+"px",n.style.top=window.scrollY+e-this.Attributes.height+.5*(parseFloat(this.Attributes["vertical-preference"])+1)*i+parseInt(this.Attributes["offset-y"],10)+"px",n},i.prototype.setInputHintSvgAttributes=function(e,t){null===this.templateInstance&&this.createTemplateInstance();var i=this.dom,r=.5*(parseFloat(this.Attributes["horizontal-preference"])+1)*t+parseInt(this.Attributes["offset-x"],10),n=-this.Attributes.height+.5*(parseFloat(this.Attributes["vertical-preference"])+1)*e+parseInt(this.Attributes["offset-y"],10);return i.setAttribute("x",r.toString()),i.setAttribute("y",n.toString()),i},i.prototype.createTemplateInstance=function(){this.templateInstance=this.item.createSubtemplate(this,this.Templates["inputHint-details"],this.inputHintPart,null,this.inputHintPart.Width,this.inputHintPart.Height),this.dom=this.templateInstance.RootNode},i.prototype.remove=function(){this.templateInstance=null,this.dom=null,this.Templates=null,this.inputHintPart=null,this.item=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.InputHint=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Templates=new e.Dictionary,i}return r(i,t),i.prototype.draw=function(t,i){return e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.webRTPUItem=t,this.metaData=i,this.metaData.logicFeatureInstance=this,this.dom},i.prototype.redraw=function(e){this.draw(e,this.metaData)},i.prototype.render=function(t){var i,r,n,a,o,s,l,u,h,d,c,p,m,g,T,f,y,D,S,b,C,v=e.getSystemPart("HmiLogicSymbolSystemPart");v=this.metaData.updateMissingLogicSubParts(v);var P=this.metaData.flowLineFeatureInstances.inactivedash,_=this.metaData.flowLineFeatureInstances.normalsolid,A={Content:{HeaderTag:null!==(i=t.headerOperand.tagValue)&&void 0!==i?i:"",HeaderAddress:null!==(r=t.headerOperand.address)&&void 0!==r?r:"",HeaderAddressForeColor:e.getRGBAcolor(t.headerOperand.addressForeColor),HeaderText:t.headerOperand.infoText,FooterTag:null!==(a=null===(n=t.footerOperand)||void 0===n?void 0:n.tagValue)&&void 0!==a?a:"",FooterAddress:null!==(s=null===(o=t.footerOperand)||void 0===o?void 0:o.address)&&void 0!==s?s:"",FooterAddressForeColor:(null===(l=t.footerOperand)||void 0===l?void 0:l.addressForeColor)?e.getRGBAcolor(t.footerOperand.addressForeColor):"",FooterText:null!==(h=null===(u=t.footerOperand)||void 0===u?void 0:u.infoText)&&void 0!==h?h:"",HeaderBackColor:null!==(d=t.headerOperand.tagBackColor)&&void 0!==d?d:t.headerOperand.backColor,HeaderForeColor:null!==(c=t.headerOperand.tagForeColor)&&void 0!==c?c:t.headerOperand.foreColor,HeaderOperandBackColor:null!==(p=t.headerOperand.textBackColor)&&void 0!==p?p:"",HeaderOperandForeColor:null!==(m=t.headerOperand.textForeColor)&&void 0!==m?m:"",FooterOperandBackColor:null!==(T=null===(g=t.footerOperand)||void 0===g?void 0:g.textBackColor)&&void 0!==T?T:"",FooterOperandForeColor:null!==(y=null===(f=t.footerOperand)||void 0===f?void 0:f.textForeColor)&&void 0!==y?y:"",FooterBackColor:null!==(S=null===(D=t.footerOperand)||void 0===D?void 0:D.tagBackColor)&&void 0!==S?S:t.headerOperand.backColor,FooterForeColor:null!==(C=null===(b=t.footerOperand)||void 0===b?void 0:b.tagForeColor)&&void 0!==C?C:t.headerOperand.foreColor,ContentText:t.contentText,ContentWidth:t.contentWidth,ContentHeight:t.contentHeight,Stroke:t.stroke,StrokeWidth:t.strokeWidth,InActiveStroke:P?P.Attributes.stroke:_.Attributes.stroke,Type:t.type===e.Data.LogicElementType.Contact?"input":"output",ActiveStatus:t.activeStatus,IsDashAllowed:!!P},Colors:{}},w=e.Utilities.cloneObj(v);return w.Width=t.width,w.Height=t.height,w.ContentFont.Size=t.contentFontSize,this.webRTPUItem.createSubtemplate(this,this.Templates["logic-details"],w,A,w.Width,w.Height)},i.prototype.remove=function(){this.metaData=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.Logic=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.defaults={},t}return r(t,e),t.prototype.draw=function(e,t){return null},t.prototype.redraw=function(e,t){},t}(e.FeatureBase);e.Properties=t}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=t.call(this)||this;return i.Templates=new e.Dictionary,i.clonedCollection=[],i}return r(i,t),i.prototype.draw=function(t,i){var r,n,a,o,s,l=0;if(this.dom)for(this.dom=i.recordHeaderGroup;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=i.recordHeaderGroup,this.webRTPUItem=t;for(this.data=i,this.xPos=this.data.tableProps.leftBorder/2,this.yPos=this.data.tableProps.topBorder/2,n=this.data.configuration,this.headerCellSystemPart=e.getSystemPart("HeaderCellSystemPart"),this.headerCellSystemPart.Width=this.data.tableProps.rowHeaderWidth,this.headerCellSystemPart.Height=this.data.tableProps.cellHeight,this.headerCellSystemPart.Font=e.Utilities.cloneObj(this.data.configuration.HeaderSettings.Font),this.headerCellSystemPart.Content.HorizontalTextAlignment=1,this.headerCellSystemPart.ForeColor=n.HeaderSettings.HeaderForeColor,this.headerCellSystemPart.BackColor=n.HeaderSettings.HeaderBackColor,r=this.data.viewport.getSize(),i.tableProps.hasColumnHeader?(s={Content:{Index:""}},r++):(s={Content:{Index:1}},l=1),o=this.webRTPUItem.createSubtemplate(this,this.Templates["header-view"],this.headerCellSystemPart,null,this.headerCellSystemPart.Width,this.headerCellSystemPart.Height),this.clonedCollection=[],this.clonedCollection.push(o),a=0;a<r;a++)null===s&&(s={Content:{Index:a+l}}),this.clonedCollection[a]=this.createCell(a,o,s),s=null;return this.clearSelectionCells(),this.dom},i.prototype.createCell=function(e,t,i){var r=t.clone(i);return r.RootNode.setAttribute("x",this.xPos),r.RootNode.setAttribute("y",e*this.data.tableProps.cellHeight+this.yPos),r.RootNode.style.position="absolute",r.RootNode.style.left="1px",this.dom.appendChild(r.RootNode),r},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.remove=function(e){var i,r;if(void 0===e&&(e=!0),this.clonedCollection){for(r=this.clonedCollection.length,i=0;i<r;i++)this.clonedCollection[i].remove(!1,!0,!1),this.clonedCollection[i]=null;this.clonedCollection=null,e&&(this.data=null,t.prototype.remove.call(this)),this.clearSelectionCells(),this.headerCellSystemPart=null}},i.prototype.clearSelectionCells=function(){var e,t;if(this.selectedCell&&(this.selectedCell.remove(!1,!0,!1),this.selectedCell=null),this.selectedCells){for(t=this.selectedCells.length,e=0;e<t;e++)this.selectedCells[e].remove(!1,!0,!1),this.selectedCells[e]=null;this.selectedCells=null}},i.prototype.updateCellData=function(e,t){var i;this.data.tableProps.hasColumnHeader&&e++,i=this.clonedCollection[e],t?i.setDataContent({Index:t.toString()}):i.setDataContent({Index:e.toString()}),i.update()},i.prototype.clearSelection=function(e,t){var i,r,n,a,o=Array.isArray(e)?e:e.indices;if(o)for(i=o.length,n=this.data.tableProps.hasColumnHeader?1:0,this.data.viewport.getStartIndex(),r=0;r<i;r++)this.selectedCells&&this.selectedCells[r]&&null!==this.selectedCells[r].RootNode.parentNode&&(this.dom.removeChild(this.selectedCells[r].RootNode),(a=this.clonedCollection[o[r]+n])&&a.RootNode&&this.dom.appendChild(a.RootNode));t&&this.clearSelectionCells()},i.prototype.setSelection=function(t){var i,r,n,a,o,s,l,u,h=Array.isArray(t)?t:t.indices;if(h)for(this.selectedCell||(this.selectedCells=[],(i=e.Utilities.cloneObj(this.headerCellSystemPart)).Font=e.Utilities.cloneObj(this.data.configuration.HeaderSettings.Font),i.Content=e.Utilities.cloneObj(this.headerCellSystemPart.Content),i.Text="",i.Width=this.data.tableProps.rowHeaderWidth,i.Height=this.data.tableProps.cellHeight,i.Content.HorizontalTextAlignment=1,i.ForeColor=this.data.configuration.HeaderSettings.HeaderSelectionForeColor,i.BackColor=this.data.configuration.HeaderSettings.HeaderSelectionBackColor,this.selectedCell=this.webRTPUItem.createSubtemplate(this,this.Templates["header-view"],i,null,i.Width,i.Height)),this.data.configuration.GridSelectionMode&&(r=h.length),o=this.data.viewport.getStartIndex(),u=this.data.tableProps.hasColumnHeader?1:0,n=0;n<r;n++)-1!==(l=h[n]+u)&&(this.clonedCollection&&this.clonedCollection[l]&&this.clonedCollection[l].RootNode&&this.dom.removeChild(this.clonedCollection[l].RootNode),void 0===(a=this.selectedCells[n])?(s={Content:{Index:h[n]+o+1}},this.selectedCells[n]=this.createCell(l,this.selectedCell,s)):(a.setDataContent({Index:h[n]+o+1}),a.RootNode.setAttribute("x",this.xPos),a.RootNode.setAttribute("y",l*this.data.tableProps.cellHeight+this.yPos),a.RootNode.style.position="absolute",a.RootNode.style.left="1px",a.update(),this.dom.appendChild(a.RootNode)))},i.prototype.updateRowCellColor=function(e,t,i){var r,n,a,o=Array.isArray(t)?t:t.indices,s=1;if(i?this.selectedCells:this.clonedCollection)for(this.data.tableProps.hasColumnHeader||(s=0),n=o.length,t.isSelectAll&&(a=this.clonedCollection[0],e&&(e.Fore&&a.setHmiProps(e.Fore,"HmiProps.ForeColor"),e.Back&&a.setHmiProps(e.Back,"HmiProps.BackColor")),a.update()),r=0;r<n;r++)(a=i?this.selectedCells[r]:this.clonedCollection[o[r]+s])&&(e&&(e.Fore&&a.setHmiProps(e.Fore,"HmiProps.ForeColor"),e.Back&&a.setHmiProps(e.Back,"HmiProps.BackColor")),a.update())},i.prototype.updateHeaderColor=function(e){var t,i,r=this.data.selectionDetail.getSelection().indices;if(i=this.data.viewport.getSize(),this.clonedCollection)for(this.data.tableProps.hasColumnHeader&&++i,t=0;t<i;t++)-1===r.indexOf(t)&&this.updateRowCellColor(e,[t])},i.prototype.onPropertyChange=function(e,t){var i,r,n=this.data.selectionDetail.getSelection().indices;switch(r=this.data.viewport.getSize(),e){case"RowHeaderType":this.Parent.resizeControl=!0,this.Parent.update();break;case"HeaderBackColor":t={Back:this.data.configuration.HeaderSettings.HeaderBackColor},this.updateHeaderColor(t);break;case"HeaderForeColor":t={Fore:this.data.configuration.HeaderSettings.HeaderForeColor},this.updateHeaderColor(t);break;case"HeaderSelectionBackColor":t={Back:this.data.configuration.HeaderSettings.HeaderSelectionBackColor},this.updateRowCellColor(t,n,!0);break;case"HeaderSelectionForeColor":t={Fore:this.data.configuration.HeaderSettings.HeaderSelectionForeColor},this.updateRowCellColor(t,n,!0);break;case"Italic":case"Name":case"Size":case"Weight":case"Underline":case"StrikeOut":t=this.data.configuration.HeaderSettings.Font,this.data.tableProps.hasColumnHeader&&++r,r&&this.clonedCollection&&((i=this.clonedCollection[0]).setHmiProps(t,"HmiProps.Font"),i.update())}},i.prototype.updateOnColResize=function(e){var t,i,r,n=this.data.tableProps.rowHeaderWidth+e;if(n>-1&&(this.data.tableProps.rowHeaderWidth=n,(i=this.clonedCollection[0]).RootNode.setAttribute("width",n),i.setHmiProps(n,"HmiProps.Width"),i.update(),this.selectedCells))for(t=0;t<this.selectedCells.length;t++)(r=this.selectedCells[t]).RootNode.setAttribute("width",n),r.setHmiProps(n,"HmiProps.Width"),r.update();this.data.featureList.Header.updateOnColResize(-1,e)},i.prototype.handleResize=function(e){var t=this.clonedCollection.length;if((e=this.data.tableProps.hasColumnHeader?e+1:e)<0){e=t-Math.abs(e),this.clonedCollection.splice(e,t);for(var i=t-1;i>=e;i--)this.dom.removeChild(this.dom.childNodes[i])}},i}(t.FeatureBase);t.RecordHeader=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Templates=new e.Dictionary,i}return r(i,t),i.prototype.draw=function(t,i){if(this.coloringMode=e.getChromEnum("HmiGridColoringMode"),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=i.rowBackgoundGroup;this.metaData=i,this.clearTemplates(),this.rowBackGrounds=[],this.drawBackgroundRect(i,t);for(var r=0;r<this.Features.length;r++)this.dom.appendChild(this.Features[r].draw(t,i));return this.dom},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.onPropertyChange=function(e,t){var i,r,n;if(this.rowBackGrounds)if(i=this.rowBackGrounds.length,this.metaData.configuration.ColoringMode===this.coloringMode.Rows){if("BackColor"===e)for(r=0;r<i;r++)this.metaData.helper.isEven(r)&&((n=this.rowBackGrounds[r]).setHmiProps(t,"HmiProps.Color"),n.update());else if("AlternateBackColor"===e)for(r=0;r<i;r++)this.metaData.helper.isEven(r)||((n=this.rowBackGrounds[r]).setHmiProps(t,"HmiProps.Color"),n.update())}else if("BackColor"===e)for(r=0;r<i;r++)(n=this.rowBackGrounds[r]).setHmiProps(t,"HmiProps.Color"),n.update()},i.prototype.remove=function(){this.clearTemplates(),this.metaData=null,t.prototype.remove.call(this)},i.prototype.clearTemplates=function(){var e,t;if(this.rowBackGrounds){for(e=this.rowBackGrounds.length,t=0;t<e;t++)this.rowBackGrounds[t].remove(!1,!0,!1),this.rowBackGrounds[t]=null;this.rowBackGrounds=null}this.rowbackground=null,this.altRowbackground=null},i.prototype.drawBackgroundRect=function(t,i){var r,n,a,o,s,l,u,h,d,c=0;for(a=t.configuration.BackColor,o=t.configuration.AlternateBackColor,s=t.viewport.getSize(),(d=e.getSystemPart("BackgroundSystemPart")).Height=t.tableProps.cellHeight,u=(t.tableProps.hasColumnHeader?t.tableProps.cellHeight:0)+this.metaData.tableProps.topBorder/2,h=(t.tableProps.hasRowHeader?this.metaData.tableProps.rowHeaderWidth:0)+this.metaData.tableProps.leftBorder/2,d.Width=t.tableProps.width-(this.metaData.tableProps.leftBorder/2+this.metaData.tableProps.rightBorder/2),c=0;c<s;c++)n=e.Utilities.cloneObj(d),l=c*t.tableProps.cellHeight+u,this.metaData.configuration.ColoringMode===this.coloringMode.Rows?t.helper.isEven(c)?(n.Color=a,r=this.evenRow(i,n)):(n.Color=o,r=this.oddRow(i,n)):(n.Color=a,r=this.evenRow(i,n)),r.RootNode.setAttribute("x",h),r.RootNode.setAttribute("y",l),this.dom.appendChild(r.RootNode),this.rowBackGrounds.push(r)},i.prototype.evenRow=function(e,t){return this.rowbackground?this.rowbackground.clone():(this.rowbackground=e.createSubtemplate(this,this.Templates[""],t,null,t.Width,t.Height),this.rowbackground)},i.prototype.oddRow=function(e,t){return this.altRowbackground?this.altRowbackground.clone():(this.altRowbackground=e.createSubtemplate(this,this.Templates[""],t,null,t.Width,t.Height),this.altRowbackground)},i}(t.FeatureBase);t.RowBackground=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.defaults={"ruler-filter":"regular min max","indicator-filter":"primary","alignment-horizontal":"0","alignment-vertical":"0",alignment:"","content-width":0,"content-height":0},i.Templates=new e.Dictionary,i}return r(i,t),i.prototype.draw=function(t,i){return e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.metaData=i,this.rulerFilter=this.Attributes["ruler-filter"],this.indicatorFilter=this.Attributes["indicator-filter"],this.contentWidth=this.Attributes["content-width"],this.contentHeight=this.Attributes["content-height"],this.dom},i.prototype.drawRuler=function(t,i,r,n,a){var o,s;this.webRTPUItem=t;var l=e.Utilities.getProjectMajorVersion(this.webRTPUItem);o=e.getSystemPart("RulerIndicatorSystemPart"),l>=17||""===l||r===e.Data.TrendObjectType.Function?this.useOldStyle=!1:this.useOldStyle=!0,s={Content:{Text1:"",ID:"",RotationAngle:"(0)",positionX:1,positionY:1},Colors:{Fore:"FFFF0000",Back:"FFFFFF00"}},this.useOldStyle?(a&&(s.Content.ID=a),this.myTemplate=this.webRTPUItem.createSubtemplate(this,this.Templates["ruler-details"],o,s)):(i?(o.Height=this.contentHeight,o.Width=this.contentWidth):(o.Height=this.contentWidth,o.Width=this.contentHeight),n&&(o.Orientation=n),o.OutputFormat="",this.rulerPosition=o.RulerPosition=0,this.myTemplate=this.webRTPUItem.createSubtemplate(this,this.Templates["ruler-details"],o,s,o.Width,o.Height));var u=document.createElementNS("http://www.w3.org/2000/svg","g");return u.appendChild(this.myTemplate.RootNode),this.useOldStyle||this.myTemplate.RootNode.setAttribute("id",a),u},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.remove=function(){t.prototype.remove.call(this)},i.prototype.addRuler=function(e){var t;for(t=0;t<e.length;t++)e[t].addRulerToArea(this)},i.prototype.matchRuler=function(t,i,r){var n,a,o,s,l,u=[],h={};h.contentWidth=this.contentWidth,h.contentHeight=this.contentHeight;var d=e.getChromEnum("HmiOrientation"),c=t.length,p=this.rulerFilter.split(" "),m=this.indicatorFilter.split(" ");for(l=0;l<c;l++)if(n=(o=t[l].getRulerView()).getRulerType(),u=t[l].trends,a=t[l]._trendView.trendObjectType,m.indexOf("primary")>-1&&(t[l].setRulerIndicatorFeature(this),p.indexOf("regular")>-1&&(a===e.Data.TrendObjectType.Function?r?(n.regularvertical.dom=this.drawRuler(i,r,a,d.Vertical,o._ruler1._rulerAttr.id),h.rulerPosition=this.rulerPosition,h.useOldStyle=this.useOldStyle,n.regularvertical.setRulerData(this.myTemplate,n.regularvertical.dom,h),this.myTemplate=null,n.regularhorizontal.dom=this.drawRuler(i,r,a,void 0,o._rulerHoriz._rulerAttr.id),n.regularhorizontal.setRulerData(this.myTemplate,n.regularhorizontal.dom,h),this.myTemplate=null):(h.contentWidth=this.contentWidth,h.contentHeight=this.contentHeight,n.regularvertical.dom=this.drawRuler(i,r,a,void 0,o._ruler1._rulerAttr.id),n.regularvertical.setRulerData(this.myTemplate,n.regularvertical.dom,h),this.myTemplate=null,n.regularhorizontal.dom=this.drawRuler(i,r,a,d.Vertical,o._rulerHoriz._rulerAttr.id),n.regularhorizontal.setRulerData(this.myTemplate,n.regularhorizontal.dom,h),this.myTemplate=null):(n.regularvertical.dom&&n.regularvertical.dom.remove(),n.regularvertical.dom=this.drawRuler(i,r,a,d.Vertical,o._ruler1._rulerAttr.id),h.rulerPosition=this.rulerPosition,h.useOldStyle=this.useOldStyle,n.regularvertical.setRulerData(this.myTemplate,n.regularvertical.dom,h),this.myTemplate=null))),m.indexOf("secondary")>-1&&p.indexOf("regular")>-1)for(t[l].getTrendView().secondaryRulerIndicatorFeature=this,h.rulerPosition=this.rulerPosition,h.useOldStyle=this.useOldStyle,s=0;s<u.length;s++)u[s].secondaryRulerToolTipTemplate=[],u[s].setRulerData(h)},i.prototype.addSecondaryToolTip=function(e){var t={};t.contentWidth=this.contentWidth,t.contentHeight=this.contentHeight,t.rulerPosition=this.rulerPosition,t.useOldStyle=this.useOldStyle,e.secondaryRulerToolTipTemplate=[],e.setRulerData(t)},i.prototype.loadSecondaryToolTip=function(e,t,i){var r,n,a,o,s,l=t.length;for(a=0;a<l;a++)for(o=t[a].trends,s=0;s<o.length;s++)for(r=0;r<2;r++)n=this.drawRuler(e,i.isLeftOrRight(),i.trendObjectType),this.useOldStyle||this.myTemplate.RootNode.parentNode.setAttribute("display","none"),o[s].secondaryRulerToolTipTemplate[r]=this.myTemplate,t[a].setSecondaryIndicatorData(n),this.myTemplate=null},i.prototype.loadStatisticRulerIndicator=function(t,i){var r=this.rulerFilter.split(" "),n=t.getRulerView(),a=n.getRulerType(),o={},s=i.isLeftOrRight(),l=i.trendObjectType,u=e.getChromEnum("HmiOrientation");a.min.dom||(o.contentWidth=this.contentWidth,o.contentHeight=this.contentHeight,r.indexOf("min")>-1&&(a.min.dom=this.drawRuler(this.webRTPUItem,s,l,u.Vertical,n._rulerStat1._rulerAttr.id),o.rulerPosition=this.rulerPosition,o.useOldStyle=this.useOldStyle,a.min.setRulerData(this.myTemplate,a.min.dom,o),this.myTemplate=null),r.indexOf("max")>-1&&(a.max.dom=this.drawRuler(this.webRTPUItem,s,l,u.Vertical,n._rulerStat2._rulerAttr.id),o.rulerPosition=this.rulerPosition,o.useOldStyle=this.useOldStyle,a.max.setRulerData(this.myTemplate,a.max.dom,o),this.myTemplate=null))},i}(t.FeatureBase);t.RulerIndicator=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var e=t.call(this)||this;return e.defaults={stroke:"#000000","stroke-width":"1","low-extension":"0","high-extension":"0"},e.dom=null,e}return r(i,t),i.prototype.draw=function(e,t){var i,r=null,n=0;if(this.data=t,this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);for(this.webRTPUItem=e,i=this.Features.length,this.Attributes.hasOwnProperty("low-extension")||(this.Attributes["low-extension"]=this.defaults["low-extension"]),this.Attributes.hasOwnProperty("high-extension")||(this.Attributes["high-extension"]=this.defaults["high-extension"]),n=0;n<i;n++)r=this.Features[n].draw(e,t);return this.dom=r,r},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.templatePropertyCheck=function(t){var i,r,n,a,o,s,l,u;for(n=t.length,this.trendAreas=t,a=0;a<n;a++)s=(o=t[a].getRulerView()).getRulerType(),l=o.getRulerGrad(),u=o.getStatisticRulerGrad(),this.Attributes.stroke&&(t[a].templateStroke=!0,i=e.getRGBAcolor(this.Attributes.stroke),r=e.getDarkercolor(this.Attributes.stroke,.7),l.childNodes[0].setAttributeNS(null,"stop-color",i),l.childNodes[1].setAttributeNS(null,"stop-color",r),u.childNodes[0].setAttributeNS(null,"stop-color",i),u.childNodes[1].setAttributeNS(null,"stop-color",r),s.regular.setRulerColor(this.Attributes.stroke),s.min.setRulerColor(this.Attributes.stroke),s.max.setRulerColor(this.Attributes.stroke)),this.Attributes["stroke-width"]&&(t[a].templateStrokeWidth=!0,s.regular.setRulerWidth(Number(this.Attributes["stroke-width"])),s.min.setRulerWidth(Number(this.Attributes["stroke-width"])),s.max.setRulerWidth(Number(this.Attributes["stroke-width"])))},i.prototype.propertyChanged=function(e){switch(e){case"low-extension":case"high-extension":var t,i=void 0;for(t=this.trendAreas.length,i=0;i<t;i++)this.trendAreas[i].updateRulerExtent()}},i.prototype.remove=function(){this.trendAreas=new Array,t.prototype.remove.call(this)},i}(t.FeatureBase);t.Rulers=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={origin:"0","maximum-sections":"10",extend:"none",type:"linear","auto-scale-mode":"decimal"},e.Features=new Array,e.timezone=-1,e}return r(n,i),n.prototype.draw=function(i,r){if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=document.createElementNS("http://www.w3.org/2000/svg","g");this.metaData=r,this.webRTPUItem=i,this.checkAndConvertEnums();var n=this.getAttribute("type");if(n&&"string"==typeof n&&(n=n.replace("-","")),r.setCalculationMethod(n),this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.ScaleStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ScaleArc(this))),r.scaleBegin=parseFloat(this.getAttribute("begin-value")),r.scaleEnd=parseFloat(this.getAttribute("end-value")),r.beginSurcharge=parseFloat(this.Parent.Attributes["begin-surcharge"]),r.endSurcharge=parseFloat(this.Parent.Attributes["end-surcharge"]),r.timezone=this.timezone,this.isValid())for(var a=0;a<this.Features.length;a++)this.dom.appendChild(this.Features[a].draw(i,r));return this.dom.scale=this,this.dom},n.prototype.checkAndConvertEnums=function(){if("number"==typeof this.Attributes.type){var t=e.Utilities.getEnumKeyByValue("HmiScalingType",this.Attributes.type);null!=t?this.Attributes.type=t:e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid enum for type")}},n.prototype.isValid=function(){var t=parseFloat(this.Attributes["begin-value"]),i=parseFloat(this.Attributes["end-value"]);return isNaN(t)?(e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid begin-value"),!1):isNaN(i)?(e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid end-value"),!1):isNaN(parseInt(this.Attributes.origin))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid origin"),!1):this.Attributes.extend&&"string"==typeof this.Attributes.extend?isNaN(parseInt(this.Attributes["maximum-sections"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid maximum-sections"),!1):Math.abs(i-t)<=Math.exp(-20)?(e.trace(e.enumTraceMode.Warning,"Begin and end value are too close for the scale to be visible."),!1):this.Attributes.type&&"string"==typeof this.Attributes.type?!(!this.Attributes["auto-scale-mode"]||"string"!=typeof this.Attributes["auto-scale-mode"])||(e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid auto-scale-mode"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid type"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a Scale with invalid extend"),!1)},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.getPoles=function(e){return this.implementation.getPoles(e)},n.prototype.getStructure=function(){return this.implementation.getStructure()},n.prototype.getValueAtPosition=function(e,t,i){return void 0===i&&(i=!1),this.implementation.getValueAtPosition(e,t,i)},n.prototype.getPositionForValue=function(e){return this.implementation.getPositionForValue(e)},n.prototype.getValueRange=function(){return this.implementation.getValueRange()},n.prototype.getSpacing=function(e,t){var i=1,r=parseFloat(this.getAttribute("maximum-sections"));t-e<0&&(i=-1);var n=this.normalize(t-e);return i*this.normalize(n/r)},n.prototype.normalize=function(e){var t,i;return t=Math.floor(Math.log(Math.abs(e))/Math.LN10),((i=Math.abs(e)/Math.pow(10,t))<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,t)},n}(t.NVEFeatureBase);t.Scale=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(e){this.scale=e}return t.prototype.getStructure=function(){var t=this.scale.Parent.getStructure(),i=t.getSections(),r=new Array,n=parseFloat(this.scale.getAttribute("begin-value")),a=parseFloat(this.scale.getAttribute("end-value")),o=this.scale.getAttribute("extend");if("none"!=o){var s=this.scale.getSpacing(n,a),l=Math.floor(n/s)*s,u=Math.ceil(a/s)*s;"both"===o?(n=l,a=u):"begin"===o?n=l:"end"===o&&(a=u)}var h=new e.Data.SectionArc(i[0].centerX,i[0].centerY,i[0].beginAngle,i[0].endAngle,i[0].radius,n,a);r.push(h);var d=this.getScalePoles(r,n,a),c=new e.Data.HierarchyLevel(r,d,this.scale);return i[0].children=c,t},t.prototype.getPoles=function(t){var i=new Array,r=new e.Data.PoleArc(t[0].centerX,t[0].centerY,t[0].radius,t[0].beginAngle,t[0].beginValue),n=new e.Data.PoleArc(t[0].centerX,t[0].centerY,t[0].radius,t[0].endAngle,t[0].endValue);return i.push(r),i.push(n),i},t.prototype.getScalePoles=function(t,i,r){var n=new Array,a=new e.Data.PoleArc(t[0].centerX,t[0].centerY,t[0].radius,t[0].beginAngle,i),o=new e.Data.PoleArc(t[0].centerX,t[0].centerY,t[0].radius,t[0].endAngle,r);return n.push(a),n.push(o),n},t.prototype.getValueAtPosition=function(t,i,r){void 0===r&&(r=!1);var n=this.scale.Parent,a=n.getStructure().getSections()[0],o=n.getOffsetToSVGElement(),s=n.getCurrentValueForHmiProp("HmiProps.RotationAngle")||0,l={x:(n.getCurrentValueForHmiProp("HmiProps.RotationCenterX")||0)+o.x,y:(n.getCurrentValueForHmiProp("HmiProps.RotationCenterY")||0)+o.y,angle:null},u={x:t,y:i,angle:null};0!=s&&(u=e.Geometry.Calculations.rotatePoint(u,-s*e.Geometry.degree,l));var h=Math.atan2(u.y-a.centerY,u.x-a.centerX)/e.Geometry.degree;if(h<0&&(h+=360),r){var d=this.getAngleForValue(this.scale.metaData.scaleBegin,a,this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd),c=this.getAngleForValue(this.scale.metaData.scaleEnd,a,this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd);h=e.Utilities.restrictToRange(h,d,c)}return e.Calculations.createCalc(this.scale.metaData.calcMethod).calcByPosition(h,a.beginAngle,a.endAngle,this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)},t.prototype.getAngleForValue=function(t,i,r,n){return e.Calculations.createCalc(this.scale.metaData.calcMethod).calcByValue(t,i.beginAngle,i.endAngle,r,n)},t.prototype.getPositionForValue=function(t){var i=this.scale.Parent.getStructure().getSections()[0],r=parseFloat(this.scale.getAttribute("begin-value")),n=parseFloat(this.scale.getAttribute("end-value")),a=this.getAngleForValue(t,i,r,n);return e.Geometry.Calculations.getPointOnArc(a*e.Geometry.degree,i.radius,i.centerX,i.centerY)},t.prototype.getValueRange=function(){var e=this.getStructure().getPoles();return Math.abs(e[0].angle-e[1].angle)},t}();t.ScaleArc=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(e){this.scale=e}return t.prototype.getPoles=function(t){var i=new Array;return i.push(new e.Data.PoleStraight(t[0].beginX,t[0].beginY,t[0].beginValue)),i.push(new e.Data.PoleStraight(t[0].endX,t[0].endY,t[0].endValue)),i},t.prototype.getScalePoles=function(t,i,r){var n=new Array;return n.push(new e.Data.PoleStraight(t[0].beginX,t[0].beginY,i)),n.push(new e.Data.PoleStraight(t[0].endX,t[0].endY,r)),n},t.prototype.getStructure=function(){var t=this.scale.Parent.getStructure(),i=t.getSections(),r=new Array,n=parseFloat(this.scale.getAttribute("begin-value")),a=parseFloat(this.scale.getAttribute("end-value")),o=this.scale.getAttribute("extend");if("none"!=o){var s=this.scale.getSpacing(n,a),l=Math.floor(n/s)*s,u=Math.ceil(a/s)*s;"both"===o?(n=l,a=u):"begin"===o?n=l:"end"===o&&(a=u)}var h=new e.Data.SectionStraight(i[0].beginX,i[0].beginY,i[0].endX,i[0].endY,n,a);r.push(h);var d=this.getScalePoles(r,n,a),c=new e.Data.HierarchyLevel(r,d,this.scale);return i[0].children=c,t},t.prototype.getValueAtPosition=function(t,i,r){void 0===r&&(r=!1);var n=this.getStructure().getSections()[0].children,a=e.Calculations.createCalc(this.scale.metaData.calcMethod),o=n.getPoles();if(this.scale.metaData.isVertical){if(r){var s=this.scale.getPositionForValue(Math.min(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).y,l=this.scale.getPositionForValue(Math.max(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).y;i=e.Utilities.restrictToRange(i,s,l)}return a.calcByPosition(i,o[0].y,o[1].y,o[0].value,o[1].value)}if(r){var u=this.scale.getPositionForValue(Math.min(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).x,h=this.scale.getPositionForValue(Math.max(this.scale.metaData.scaleBegin,this.scale.metaData.scaleEnd)).x;t=e.Utilities.restrictToRange(t,u,h)}return a.calcByPosition(t,o[0].x,o[1].x,o[0].value,o[1].value)},t.prototype.getPositionForValue=function(t){var i=this.getStructure().getSections()[0].children,r=e.Calculations.createCalc(this.scale.metaData.calcMethod),n=i.getPoles();return this.scale.metaData.isVertical?{x:n[0].x,y:r.calcByValue(t,n[0].y,n[1].y,n[0].value,n[1].value),angle:null}:{x:r.calcByValue(t,n[0].x,n[1].x,n[0].value,n[1].value),y:n[0].y,angle:null}},t.prototype.getValueRange=function(){var e=this.getStructure().getPoles();return this.scale.metaData.isVertical?Math.abs(e[0].y-e[1].y):Math.abs(e[0].x-e[1].x)},t}();t.ScaleStraight=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.defaults={},t}return r(t,e),t.prototype.draw=function(e,t){return null},t.prototype.redraw=function(e,t){},t}(e.FeatureBase);e.Select=t}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Templates=new e.Dictionary,i}return r(i,t),i.prototype.draw=function(e,t){var i,r,n;if(this.dom?this.clearBorder():(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.dom.setAttribute("id","selectionBorderGroup"),(n=this.Parent.getHorScrollBarSVGNode())?this.Parent.dom.insertBefore(this.dom,n):this.Parent.dom.appendChild(this.dom),t.selectionBorderGroup=this.dom),this.webRTPUItem=e,this.data=t,this.selectionBorders=[],this.Features)for(r=this.Features.length,i=0;i<r;i++)this.dom.appendChild(this.Features[i].draw(e,t));return this.dom},i.prototype.drawRect=function(t){var i,r;(i=e.getSystemPart("SelectionSystemPart")).BorderWidth=this.data.configuration.SelectionBorderWidth,i.BorderColor=this.data.configuration.SelectionBorderColor,i.Width=t.width,i.Height=t.height,(r=this.webRTPUItem.createSubtemplate(this,this.Templates[""],i,null,i.Width,i.Height)).RootNode.setAttribute("x",t.x-this.data.configuration.SelectionBorderWidth/2),r.RootNode.setAttribute("y",t.y-this.data.configuration.SelectionBorderWidth/2),r.RootNode.setAttribute("height",t.height+this.data.configuration.SelectionBorderWidth),r.RootNode.setAttribute("width",t.width+this.data.configuration.SelectionBorderWidth),this.dom.appendChild(r.RootNode),this.selectionBorders.push(r)},i.prototype.createBorderOnSelectFullRow=function(e,t){var i,r,n,a=e.indices.length;for(r=e.indices[0],n=e.indices[0],i=1;i<a;i++)e.indices[i]===n+1&&e.shiftSelection.indices.indexOf(e.indices[i])>-1||(this.calculateBorderDimesion(t,r,n,!1,0,this.data.viewport.getColumnCount()-1),this.drawRect(t),r=e.indices[i]),n=e.indices[i];this.calculateBorderDimesion(t,r,n,!1,0,this.data.viewport.getColumnCount()-1),this.drawRect(t)},i.prototype.createBorder=function(e){var t,i,r,n,a,o,s=0,l=0,u=0,h=e;if(h.indices.length>0)if(t={x:0,y:0,width:0,height:0},n=h.shiftSelection,this.data.configuration.SelectFullRow)this.createBorderOnSelectFullRow(h,t);else if(-1!==n.endIndex&&-1!==n.startIndex){for(s=(a=h.cellSelection.sort((function(e,t){return e.rowIndex-t.rowIndex}))).length,i=h.indices[0],r=h.indices[0],o=h.shiftSelection.indices.indexOf(r)>-1,l=1;l<s;l++)u=0,o=o&&h.shiftSelection.indices.indexOf(r+1)>-1,h.indices[l]===r+1&&o||(this.calculateBorderDimesion(t,i,r,!0,a[u].cellIndex[0],a[u].cellIndex[a[u].cellIndex.length-1]),this.drawRect(t),i=h.indices[l]),r=h.indices[l],u++;this.calculateBorderDimesion(t,i,r,!0,a[u].cellIndex[0],a[u].cellIndex[a[u].cellIndex.length-1]),this.drawRect(t)}else for(s=(a=h.cellSelection).length,l=0;l<s;l++)this.drawRectForCell(0,a[l],t,!0)},i.prototype.drawRectForCell=function(e,t,i,r){for(var n=t.cellIndex.length;e<n;e++)t.cellIndex[e]>-1&&(this.calculateBorderDimesion(i,t.rowIndex,t.rowIndex,r,t.cellIndex[e],t.cellIndex[e]),this.drawRect(i))},i.prototype.calculateBorderDimesion=function(e,t,i,r,n,a){e.y=t*this.data.tableProps.cellHeight+this.data.tableProps.headerHeight+this.data.tableProps.topBorder/2,e.height=(Math.abs(i-t)+1)*this.data.tableProps.cellHeight,-1!==n&&-1!==a&&(r?(e.x=this.data.tableProps.rowHeaderWidth+this.data.tableProps.leftBorder/2+this.data.helper.getColumnWidthTillIndex(n-1),e.width=this.data.helper.getColumnWidthByIndex(n,a)):(e.x=this.data.tableProps.leftBorder/2,e.width=this.data.helper.getVisibleColumnWidth()+this.data.tableProps.rowHeaderWidth))},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.onPropertyChanged=function(e,t){var i,r;if(this.selectionBorders)switch(i=this.selectionBorders.length,r=0,e){case"SelectionBorderWidth":for(;r<i;r++)this.selectionBorders[r].setHmiProps(t,"HmiProps.BorderWidth"),this.selectionBorders[r].update();break;case"SelectionBorderColor":for(;r<i;r++)this.selectionBorders[r].setHmiProps(t,"HmiProps.BorderColor"),this.selectionBorders[r].update()}},i.prototype.clearBorder=function(){var e,t;if(this.selectionBorders)for(e=this.selectionBorders.length,t=0;t<e;t++)this.selectionBorders[t].remove(!1,!0,!1);if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild)},i.prototype.remove=function(){var e,i;if(this.selectionBorders){for(i=this.selectionBorders.length,e=0;e<i;e++)this.selectionBorders[e].remove(!1,!0,!1),this.selectionBorders[e]=null;this.selectionBorders=null}this.data=null,this.dim=null,t.prototype.remove.call(this)},i}(t.FeatureBase);t.SelectionBorder=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){var i=t.call(this)||this;return i.Templates=new e.Dictionary,i.isTooltipShown=!1,i.dom=null,i}return r(i,t),i.prototype.draw=function(t,i){this.webRTPUItem=t;var r=e.Utilities.getProjectMajorVersion(t);return r>=17||""===r||"FunctionTrendControl"===t.Store.props.Type?this.useOldStyle=!1:this.useOldStyle=!0,this.dom},i.prototype.redraw=function(e,t){this.draw(e,t)},i.prototype.remove=function(){this.templateInstance&&this.templateInstance.remove(),this.templateInstance=null,this.Templates=null,this.tooltipPart=null,t.prototype.remove.call(this)},i.prototype.loadToolTipTemplate=function(){this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"),this.Parent.Parent.Parent.trendView.svgTooltipGroup.appendChild(this.dom),this.tooltipPart=e.getSystemPart("TooltipSystemPart"),this.tooltipPart.Content.VerticalTextAlignment=0,this.useOldStyle?(this.tooltipPart.BackColor="rgba(255,0,0,1)",this.tooltipPart.ForeColor="rgba(0,0,0,1)",this.tooltipPart.Font.Size=12,this.tooltipPart.Font.Weight="700",this.tooltipPart.Font.Name="Serif",this.tooltipPart.Font.Italic=!1,this.tooltipPart.Font.Underline=!1,this.tooltipPart.Font.StrikeOut=0,this.tooltipPart.Content.HorizontalTextAlignment=0,this.tooltipPart.Graphic="",this.tooltipPart.Text=""):(this.tooltipPart.HorizontalAlignment=e.getChromEnum("HmiHorizontalAlignment").Left,this.tooltipPart.VerticalAlignment=e.getChromEnum("HmiVerticalAlignment").Top,this.tooltipPart.Height=1e3,this.tooltipPart.Width=1e3),this.templateInstance=this.webRTPUItem.createSubtemplate(this,this.Templates[""],this.tooltipPart,null,1e3,1e3),this.templateInstance.RootNode.setAttribute("x",0),this.templateInstance.RootNode.setAttribute("y",0),this.dom.appendChild(this.templateInstance.RootNode),this.dom.setAttribute("display","none"))},i.prototype.setToolTipValueData=function(t){var r,n,a,o,s,l=0,u=0,h="",d=e.getChromEnum("HmiMarkerType");this.loadToolTipTemplate();var c=e.Utilities.getInvertedColor(t.trendData.trendAreaBackColor);switch(this.templateInstance.setHmiProps(c,"HmiProps.BackColor"),this.templateInstance.setHmiProps(t.trendData.trendAreaBackColor,"HmiProps.ForeColor"),t.trendData.markerStyle){case d.Square:case d.Graphic:t.highlighterGroup.childNodes[1].setAttribute("x",t.tempX-t.trendData.markerWidth/2),t.highlighterGroup.childNodes[1].setAttribute("y",t.tempY-t.trendData.markerWidth/2),t.highlighterGroup.childNodes[1].setAttribute("height",t.trendData.markerWidth),t.highlighterGroup.childNodes[1].setAttribute("width",t.trendData.markerWidth),t.highlighterGroup.childNodes[1].setAttribute("fill",t.trendData.markerColor),t.highlighterGroup.childNodes[1].setAttribute("visibility","visible");break;case d.Point:case d.Circle:case d.None:t.highlighterGroup.childNodes[0].setAttribute("r",t.trendData.markerWidth/2),t.highlighterGroup.childNodes[0].setAttribute("fill",t.trendData.markerColor),t.highlighterGroup.childNodes[0].setAttribute("cx",t.tempX),t.highlighterGroup.childNodes[0].setAttribute("cy",t.tempY),t.highlighterGroup.childNodes[0].setAttribute("visibility","visible")}var p=this.createTooltipImage({TrendRectBackColor:t.trendData.trendWindowColor,Stroke:t.trendData.trendColor,StrokeDashArray:t.trendData.lineStyle,MarkerType:t.trendData.markerStyle,MarkerColor:t.trendData.markerColor,MarkerGraphic:t.trendData.graphicMarkerSrc});this.templateInstance.setHmiProps(p,"HmiProps.Graphic");var m=1===t.xAxisValue.length?t.xAxisValue[0]:t.xAxisValue[0]+","+t.xAxisValue[1];h=m+""+t.yAxisValue,l=3*e.getTextHeight(t.yAxisValue,this.tooltipPart.Font),t.header&&(h=(s=e.textEllipsis(t.header,500,this.tooltipPart.Font))+""+h,l+=e.getTextHeight(s,this.tooltipPart.Font),u=e.getTextWidth(s,this.tooltipPart.Font)),this.templateInstance.setHmiProps(h,"HmiProps.Text"),n=this.useOldStyle?e.getTextWidth(t.xAxisValue,this.tooltipPart.Font):e.getTextWidth(m,this.tooltipPart.Font);var g=e.getTextWidth(t.yAxisValue,this.tooltipPart.Font);r=Math.max(n,g,u)+30,this.useOldStyle&&(this.templateInstance.setHmiProps(l+10,"HmiProps.Height"),this.templateInstance.setHmiProps(r,"HmiProps.Width"),this.templateInstance.RootNode.setAttribute("width",r+4),this.templateInstance.RootNode.setAttribute("height",l+20)),void 0!==t.tempX&&void 0!==t.tempY&&(t.tempX+=i.POINTER_SPACING,t.tempY+=i.POINTER_SPACING,a=t.tempX,o=t.tempY),t.tempX+r>t.boundaryRect.left+t.boundaryRect.width&&(a=t.tempX-r-2*i.POINTER_SPACING),parseInt(t.tempY+l,10)>t.boundaryRect.top+t.boundaryRect.height&&(o=t.tempY-l-2*i.POINTER_SPACING),this._setAnimationTimer(a,o,this.dom),this.dom.setAttribute("display","inherit"),this.templateInstance.update(),t.highlighterGroup.setAttribute("visibility","visible"),this.isTooltipShown=!0},i.prototype.hideToolTip=function(e){this.dom.setAttribute("display","none"),e.setAttribute("visibility","hidden"),e.childNodes[1].setAttribute("visibility","hidden"),e.childNodes[0].setAttribute("visibility","hidden"),this.isTooltipShown=!1},i.prototype._setAnimationTimer=function(e,t,i){i.setAttribute("transform","translate("+e+","+t+") scale(1 , 1) ")},i.prototype.createTooltipImage=function(t){var i,r,n=e.getChromEnum("HmiMarkerType"),a=e.getChromEnum("HmiDashType");(i=document.createElement("canvas")).setAttribute("height",20),i.setAttribute("width",40);var o=i.getContext("2d");switch(o.beginPath(),o.fillStyle=t.TrendRectBackColor,o.fillRect(10,5,20,10),t.StrokeDashArray){case a.Dash:o.setLineDash([10,5]);break;case a.Dot:o.setLineDash([5,5]);break;case a.DashDot:o.setLineDash([5,5,10,5]);break;case a.DashDotDot:o.setLineDash([10,5,5,5,5,5])}return o.strokeStyle=t.Stroke,o.lineWidth=2,o.moveTo(10,10),o.lineTo(30,10),o.stroke(),t.MarkerType===n.Square?(o.fillStyle=t.MarkerColor,o.fillRect(16,6.5,7,7)):t.MarkerType===n.Graphic?((r=new Image(7,7)).setAttribute("x",16),r.setAttribute("y",6.5),r.setAttribute("src",t.MarkerGraphic),o.drawImage(r,16,6.5,7,7)):(o.beginPath(),o.fillStyle=t.MarkerType===n.None?t.Stroke:t.MarkerColor,o.arc(20,10,4,0,2*Math.PI),o.fill()),i.toDataURL("image/png").replace(/^base64,/,"")},i.POINTER_SPACING=5,i}(t.FeatureBase);t.Tooltip=i}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){this.items=[]}return e.prototype.enqueue=function(e){return this.items.push(e)},e.prototype.dequeue=function(){if(this.items.length>0)return this.items.shift()},e.prototype.peek=function(){return this.items[this.items.length-1]},e.prototype.isEmpty=function(){return 0==this.items.length},e.prototype.size=function(){return this.items.length},e.prototype.clear=function(){this.items=[]},e}();e.Queue=t}(e.Utils||(e.Utils={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.store=function(t,i,r){e._storage[t]||(e._storage[t]={}),e._storage[t][i]=r},e.retrieve=function(t,i){var r=e._storage[t][i];return delete e._storage[t][i],r},e._storage={identifier:0,map:null},e}();e.FlowDiagramStateStore=t;var i=function(){};e.FlowDiagramStateData=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,i){this.attributes=e,this.rtpuItem=t,this.template=i,this.FONTNAME="Name",this.FONTSIZE="Size",this.FONTWEIGHT="Weight",this.SIEMENS_SANS="Siemens Sans",this.flowLineFeatureInstances={},this.dim={width:0,height:0},this.isCompactMode=!1,this._zoomFactor=1,this.activeData=[],this.operandData=[],this._diagrams=[],this.elemToActivateOnReRender=[],this.diagramType=e.type,this.startX=+e["start-x"],this.startY=+e["start-y"]}return Object.defineProperty(e.prototype,"zoomFactor",{get:function(){return this._zoomFactor},set:function(e){this._zoomFactor=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagrams",{get:function(){return this._diagrams},enumerable:!1,configurable:!0}),e.prototype.addDiagram=function(e){this._diagrams.push(e)},e.prototype.unloadDiagrams=function(){for(var e=0;e<this._diagrams.length;e++){this._diagrams[e].remove(),this._diagrams.splice(e)}},e.prototype.remove=function(){for(var e in this.flowLineFeatureInstances)delete this.flowLineFeatureInstances[e];this.flowLineFeatureInstances=null,this.blockFeatureInstance=null,this.logicFeatureInstance=null,this.scrollHandler.remove(),this.scrollHandler=null,this._diagrams=null,this.dp=null,this.dim=null},e.prototype.clearDiagrams=function(){this._diagrams.length=0},e.prototype.getNextDiagramId=function(){return this._diagrams.length+1},e.prototype.updateMissingBlockSubParts=function(e){return this.updateBlockContentFont(e),this.updateBlockHeaderFont(e),this.updateBlockTitleFont(e),e},e.prototype.updateMissingLogicSubParts=function(e){return this.updateLogicContentFont(e),this.updateLogicHeaderFont(e),e},e.prototype.updateBlockContentFont=function(e){var t=e.ContentFont;t&&(t[this.FONTNAME]=this.SIEMENS_SANS,t[this.FONTSIZE]=14,t[this.FONTWEIGHT]=400)},e.prototype.updateBlockHeaderFont=function(e){var t=e.HeaderFont;t&&(t[this.FONTNAME]=this.SIEMENS_SANS,t[this.FONTSIZE]=14,t[this.FONTWEIGHT]=700)},e.prototype.updateBlockTitleFont=function(e){var t=e.TitleFont;t&&(t[this.FONTNAME]=this.SIEMENS_SANS,t[this.FONTSIZE]=14,t[this.FONTWEIGHT]=400)},e.prototype.updateLogicHeaderFont=function(e){var t=e.HeaderFont;t&&(t[this.FONTNAME]=this.SIEMENS_SANS,t[this.FONTSIZE]=14,t[this.FONTWEIGHT]=400)},e.prototype.updateLogicContentFont=function(e){var t=e.ContentFont;t&&(t[this.FONTNAME]=this.SIEMENS_SANS,t[this.FONTSIZE]=14,t[this.FONTWEIGHT]=700)},e.prototype.getDiagram=function(e){var t;return this.diagrams.every((function(i){return!i.getTitleText().hasOwnProperty(e)||(t=i,!1)})),t},e.OFFSET=30,e.Space_Between_Blocks=40,e}();e.FlowDiagramMetaData=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e,t,i){this.decoratorPosition=0,this.dt=e,this.currentDiagram=t,this.type=this.dt.DecoratorType,this.subType=this.dt.DecoratorSubType,this.metaData=i,this.linkRef=this.goToStep.bind(this)}return i.prototype.render=function(i,r){var n,a,o,s,l=e.Features.FlowLineDecorator.DECORATOR_LAYOUT_DIM/2;if(this.metaData.diagramType===t.FlowDiagramType.Step){var u="";this.type===t.FlowLineDecoratorType.Transition?u=this.dt.Data.Content:this.type===t.FlowLineDecoratorType.Links&&this.subType===t.FlowLineDecoratorSubType.JumpOut?u=(null===(o=null===(a=null===(n=this.currentDiagram)||void 0===n?void 0:n.getBlockData)||void 0===a?void 0:a.call(n,this.dt.Key))||void 0===o?void 0:o.header)||this.dt.Key:this.type===t.FlowLineDecoratorType.Links&&this.subType===t.FlowLineDecoratorSubType.JumpIn&&(u=this.dt.Key),this.decoratorDOM=r.decoratorFeatureInstance[this.type].render(i,this.dt,u),this.type===t.FlowLineDecoratorType.Links&&this.subType===t.FlowLineDecoratorSubType.JumpIn?(this.decoratorDOM.setAttribute("y",i.y1-l+this.decoratorPosition),this.decoratorDOM.setAttribute("x",i.x1-l+2)):(this.decoratorDOM.setAttribute("y",i.y1-l+this.decoratorPosition),this.decoratorDOM.setAttribute("x",i.x1-l))}else if(this.dt.DecoratorType===t.FlowLineDecoratorType.Terminal){var h=r.decoratorFeatureInstance[this.type];h&&(h.Attributes["symbol-dimension"]=this.subType===t.FlowLineDecoratorSubType.Step?3:6,this.decoratorDOM=h.renderTerminalDecorator(i.stroke,i.strokeDashArray,i.strokeWidth,null===(s=this.dt.Data)||void 0===s?void 0:s.Content),this.decoratorDOM&&(this.decoratorDOM.setAttribute("y",i.y2-l),this.decoratorDOM.setAttribute("x",i.x2-l)))}else this.renderIODecorator(i,r);return this.decoratorDOM},i.prototype.renderIODecorator=function(r,n){if("input"===this.dt.DecoratorType||"output"===this.dt.DecoratorType){var a=e.getSystemPart("HmiBlockSymbolSystemPart"),o=(a=this.metaData.updateMissingBlockSubParts(a)).ContentFont;if(this.dt.Data.Content instanceof t.FBDOperandMetaData){var s=this.dt.Data.Content,l=e.getTextHeight("X",o),u=r.y1,h=this.type===t.FlowLineDecoratorType.Input?r.x1-t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING-t.FunctionConnectorElement.OPERAND_WIDTH:r.x2+t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING;if(this.decoratorDOM=e.Features.Shape.SvgShape.CreateSvgElement("g"),s.infoText){var d=n.decoratorFeatureInstance[this.type].renderIODecorator(s.infoText,s.infoForeColor?e.getRGBAcolor(s.infoForeColor):e.getRGBAcolor(a.ContentForeColor),o,t.FunctionConnectorElement.OPERAND_WIDTH),c=d.dom,p=d.textField,m=+c.firstElementChild.getAttribute("width"),g=+c.firstElementChild.getAttribute("height");if(u=r.y1-g,c.firstElementChild.setAttribute("y",u.toString()),h=this.type===t.FlowLineDecoratorType.Input?r.x1-m-t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING:r.x2+t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,c.firstElementChild.setAttribute("x",h.toString()),p.Attributes["start-x"]=h,p.Attributes["start-y"]=u,(this.dt.Data.Type===t.ConnectorType.Input&&"input"===this.type||this.dt.Data.Type===t.ConnectorType.Output&&"output"===this.type)&&(c.firstElementChild.setAttribute("id",this.dt.Data.BlockId+" "+this.dt.Data.PinId),c.firstElementChild.setAttribute("className","ClickableIODecorator")),s.infoBackColor){var T=void 0,f=e.getTextWidth(s.infoText,o,!0)+t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING;T=this.type===t.FlowLineDecoratorType.Input?t.FunctionConnectorElement.OPERAND_WIDTH-f+h+t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING/2:h-t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING/2;var y=e.Features.Shape.SvgShape.CreateSvgElement("rect",{fill:e.getRGBAcolor(s.infoBackColor),height:g+i.PADDING/2,width:f,x:T,y:u});c.prepend(y)}this.decoratorDOM=c}if(s.address)u-=l,(c=this.getIODecoratorDOM(n,s.address,e.getRGBAcolor(s.addressForeColor),o,t.FunctionConnectorElement.OPERAND_WIDTH,h,u).dom).setAttribute("id","TIFID_FBDPinAddress"),this.decoratorDOM.appendChild(c);if(s.tagValue){u-=l;var D=t.FunctionConnectorElement.OPERAND_WIDTH,S=this.getIODecoratorDOM(n,s.tagValue.toString(),s.tagForeColor?e.getRGBAcolor(s.tagForeColor):e.getRGBAcolor(a.ContentForeColor),o,D,h,u);c=S.dom,p=S.textField;this.tagTextField=p;var b=e.getTextWidth(s.tagValue,o),C=b>D?D:b,v=this.type===t.FlowLineDecoratorType.Input?r.x1-C-t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING:r.x2+t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING;y=e.Features.Shape.SvgShape.CreateSvgElement("rect",{fill:s.tagBackColor?e.getRGBAcolor(s.tagBackColor):e.getRGBAcolor(a.HeaderBackColor),height:c.firstElementChild.getAttribute("height"),width:C,x:v,y:c.firstElementChild.getAttribute("y")});c.setAttribute("id","TIFID_FBDPinTagValue"),c.prepend(y),this.decoratorDOM.appendChild(c)}}else{var P=n.decoratorFeatureInstance[this.type].renderIODecorator(this.dt.Data.Content,e.getRGBAcolor(a.ContentForeColor),o,t.FunctionConnectorElement.OPERAND_WIDTH);c=P.dom,p=P.textField,m=+c.firstElementChild.getAttribute("width"),g=+c.firstElementChild.getAttribute("height"),u=r.y1-g;c.firstElementChild.setAttribute("y",u.toString());h=this.type===t.FlowLineDecoratorType.Input?r.x1-m-t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING:r.x2+t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING;c.firstElementChild.setAttribute("x",h.toString()),p.Attributes["start-x"]=h,p.Attributes["start-y"]=u,c.id=r.tifId+"_"+this.dt.Data.BlockId,this.decoratorDOM=c}}},i.prototype.updateTagValue=function(i,r){var n=t.FunctionConnectorElement.OPERAND_WIDTH,a=e.getSystemPart("HmiBlockSymbolSystemPart"),o=(a=this.metaData.updateMissingBlockSubParts(a)).ContentFont,s=this.dt.Data.Content,l=e.getTextWidth(s.tagValue,o),u=l>n?n:l,h=this.type===t.FlowLineDecoratorType.Input?i-u-t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING:r+t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,d=this.decoratorDOM.querySelector("#TIFID_FBDPinTagValue > rect");d.setAttribute("width",u),d.setAttribute("x",h),this.tagTextField.Attributes.value=this.dt.Data.Content.tagValue,this.tagTextField.updateTextContent()},i.prototype.getIODecoratorDOM=function(e,t,i,r,n,a,o){var s=e.decoratorFeatureInstance[this.type].renderIODecorator(t,i,r,n),l=s.dom,u=s.textField;return l.firstElementChild.setAttribute("y",o.toString()),l.firstElementChild.setAttribute("x",a.toString()),u.Attributes["start-x"]=a,u.Attributes["start-y"]=o,{dom:l,textField:u}},i.prototype.update=function(e,t){return this.decoratorDOM.parentNode.removeChild(this.decoratorDOM),this.decoratorDOM=this.render(e,t),this.decoratorDOM},i.prototype.addPointer=function(){this.style.cursor="pointer"},i.prototype.goToStep=function(){var i=this.currentDiagram.getBlockData(this.dt.Key);!i&&this.metaData.dp&&this.metaData.dp.onRequestNewData&&"function"==typeof this.metaData.dp.onRequestNewData?this.metaData.dp.onRequestNewData(e.Utilities.toInitialCap(this.metaData.diagramType),this.dt.Key):(this.metaData.diagrams.forEach((function(e){e.clearPrevSelectedBlock()})),this.currentDiagram.updateSelectedBlock(this.dt.Key),this.vertScrollBarInstance&&this.metaData.scrollHandler.changeVScroll((i.y-t.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor),this.horizScrollBarInstance&&this.metaData.scrollHandler.changeHScroll((i.getNormalizedXPos()-t.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor))},i.prototype.registerLinkClick=function(){var e=this.decoratorDOM.getElementById("jumpOutText");e&&(e.addEventListener("mouseover",this.addPointer),e.addEventListener("click",this.linkRef))},i.prototype.unregisterLinkClick=function(){var e=this.decoratorDOM.getElementById("jumpOutText");e&&(e.removeEventListener("mouseover",this.addPointer),e.style.cursor="default",e.removeEventListener("click",this.linkRef))},i.prototype.handleAutoMode=function(e){e?this.unregisterLinkClick():this.registerLinkClick()},i.prototype.remove=function(){if(this.type===t.FlowLineDecoratorType.Links&&this.subType===t.FlowLineDecoratorSubType.JumpOut&&this.unregisterLinkClick(),this.linkRef=null,this.tagTextField&&this.tagTextField.remove(),this.decoratorDOM){for(;this.decoratorDOM.firstChild;)this.decoratorDOM.removeChild(this.decoratorDOM.firstChild);this.decoratorDOM.parentNode&&this.decoratorDOM.parentNode.removeChild(this.decoratorDOM),this.decoratorDOM=null}this.currentDiagram=null,this.metaData=null},i.PADDING=4,i}();t.FlowLineDecoratorElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.calcFactor=function(e,t,i){return i==t?42:(e-t)/(i-t)},e.prototype.calcValue=function(e,t,i){return e*(i-t)+t},e.prototype.shiftScaleIntoPositiveRange=function(e,t,i){var r=Math.min(i,t,e),n=1;return r<1&&(n=.01),{value:e-=r-n,start:t-=r-n,end:i-=r-n}},e.prototype.prepareLogValues=function(e,t,i){var r=this.shiftScaleIntoPositiveRange(e,t,i);return e=r.value,i=r.end,{value:e,start:t=r.start,end:i}},e.prototype.unprepareLogValue=function(e,t,i){var r=Math.min(i,t),n=1;return r<1&&(n=.01),e+r-n},e}();e.CalculationBase=t}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){e.createCalc=function(e){return new e}}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(t){function i(){return t.call(this)||this}return r(i,t),i.prototype.calcByValue=function(e,t,i,r,n){var a=this.prepareLogValues(e,r,n),o=Math.pow(a.start,3),s=Math.pow(a.end,3),l=Math.pow(a.value,3),u=this.calcFactor(l,o,s);return this.calcValue(u,t,i)},i.prototype.calcByPosition=function(t,i,r,n,a){var o=this.prepareLogValues(n,n,a),s=this.calcFactor(t,i,r),l=Math.pow(o.start,3),u=Math.pow(o.end,3),h=this.calcValue(s,l,u),d=e.Utilities.cubicRoot(h);return this.unprepareLogValue(d,n,a)},i}(t.CalculationBase);t.CubicCalculation=i}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(e){e.getGCF=function(e,t){return 0===t?e:this.getGCF(t,e%t)},e.getLCM=function(e,t){return e/this.getGCF(e,t)*t},e.getLCMOfNums=function(e){return e.length>1?(e.push(this.getLCM(e.shift(),e.shift())),this.getLCMOfNums(e)):e[0]}}(e.Helper||(e.Helper={}))}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.calcByValue=function(e,t,i,r,n){return this.calcFactor(e,r,n)*(i-t)+t},t.prototype.calcByPosition=function(e,t,i,r,n){var a=this.calcFactor(e,t,i);return this.calcValue(a,r,n)},t}(e.CalculationBase);e.LinearCalculation=t}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.calcByValue=function(e,t,i,r,n){var a=this.prepareLogValues(e,r,n);e=a.value,n=a.end,r=a.start;var o=Math.log(r)/Math.LN10,s=Math.log(n)/Math.LN10,l=Math.log(e)/Math.LN10,u=this.calcFactor(l,o,s);return this.calcValue(u,t,i)},t.prototype.calcByPosition=function(e,t,i,r,n){var a=this.prepareLogValues(r,r,n),o=this.calcFactor(e,t,i),s=Math.log(a.start)/Math.LN10,l=Math.log(a.end)/Math.LN10,u=this.calcValue(o,s,l),h=Math.pow(10,u);return this.unprepareLogValue(h,r,n)},t}(e.CalculationBase);e.LogarithmicCalculation=t}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.calcByValue=function(e,t,i,r,n){e=n-e+r;var a=this.prepareLogValues(e,r,n);e=a.value,n=a.end,r=a.start;var o=Math.log(r)/Math.LN10,s=Math.log(n)/Math.LN10,l=Math.log(e)/Math.LN10,u=this.calcFactor(l,s,o);return this.calcValue(u,t,i)},t.prototype.calcByPosition=function(e,t,i,r,n){var a=this.prepareLogValues(r,r,n),o=this.calcFactor(e,t,i),s=Math.log(a.start)/Math.LN10,l=Math.log(a.end)/Math.LN10,u=this.calcValue(o,l,s),h=Math.pow(10,u);return n+r-this.unprepareLogValue(h,r,n)},t}(e.CalculationBase);e.NegativeLogarithmicCalculation=t}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.calcByValue=function(e,t,i,r,n){var a=this.prepareLogValues(e,r,n),o=a.start*a.start,s=a.end*a.end,l=a.value*a.value,u=this.calcFactor(l,o,s);return this.calcValue(u,t,i)},t.prototype.calcByPosition=function(e,t,i,r,n){var a=this.prepareLogValues(r,r,n),o=this.calcFactor(e,t,i),s=a.start*a.start,l=a.end*a.end,u=this.calcValue(o,s,l),h=Math.sqrt(u);return this.unprepareLogValue(h,r,n)},t}(e.CalculationBase);e.QuadraticCalculation=t}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=Math.tan(-.45*Math.PI),i=Math.tan(.45*Math.PI),n=function(e){function n(){return e.call(this)||this}return r(n,e),n.prototype.calcByValue=function(e,t,i,r,n){var a=this.scaleValue(e,r,n),o=a.value,s=a.start,l=a.end,u=Math.atan(s),h=Math.atan(l),d=Math.atan(o),c=this.calcFactor(d,u,h);return this.calcValue(c,t,i)},n.prototype.calcByPosition=function(e,r,n,a,o){var s=this.calcFactor(e,r,n),l=this.scaleValue(e,a,o),u=l.start,h=l.end,d=Math.atan(u),c=Math.atan(h),p=this.calcValue(s,c,d),m=Math.tan(p),g=Math.min(o,a),T=(a-g)/(i-t),f=(o-g)/(i-t),y=(m+(Math.max(f,T)-Math.min(f,T))/2)*(i-t)+g;return y=o+a-y},n.prototype.scaleValue=function(e,r,n){var a=Math.min(n,r),o=(r-a)/(i-t),s=(n-a)/(i-t),l=(e-a)/(i-t),u=(Math.max(s,o)-Math.min(s,o))/2;return{value:e=l-u,start:r=o-u,end:n=s-u}},n}(e.CalculationBase);e.TangentCalculation=n}(e.Calculations||(e.Calculations={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){e.degree=Math.PI/180;var t=function(){function t(){}return t.distance=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},t.getCenterPoint=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2,angle:null}},t.getPointAt=function(e,t,i){return{x:(e.x+i*t.x)/(i+1),y:(e.y+i*t.y)/(i+1),angle:null}},t.getPointOnArc=function(e,t,i,r){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e),angle:e}},t.rotatePoint=function(e,t,i){return{x:(e.x-i.x)*Math.cos(t)-(e.y-i.y)*Math.sin(t)+i.x,y:(e.x-i.x)*Math.sin(t)+(e.y-i.y)*Math.cos(t)+i.y,angle:null}},t.abs=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.getRadiusAtAngle=function(e,t,i,r,n){return r+(n-r)*(e-t)/(i-t)},t.det=function(e,t,i,r){return e*r-t*i},t.getEllipseIntersectionPoint=function(e,i,r,n){var a={x:i.y-e.y,y:e.x-i.x},o=t.abs(a);return n?{x:e.x+r*a.x/o,y:e.y+r*a.y/o,angle:e.angle}:{x:e.x-r*a.x/o,y:e.y-r*a.y/o,angle:e.angle}},t.getCornerCenterPoint=function(e,i,r,n){var a={x:e.x-i.x,y:e.y-i.y},o=t.abs(a);return{x:r.x+a.x*n/o,y:r.y+a.y*n/o,angle:null}},t.getTangentPoint=function(e,i,r,n){var a={x:e.x-i.x,y:e.y-i.y},o=t.abs(a),s=r.x-i.x,l=r.y-i.y,u=Math.sqrt(s*s+l*l-n*n);return{x:i.x+a.x*u/o,y:i.y+a.y*u/o,angle:null}},t.getSubDivisionPoints=function(i,r,n,a,o,s,l){if(i.angle=n,r.angle=a,Math.abs(n-a)<20*e.degree||i.x===r.x&&i.y===r.y)return[i,r];var u=[],h=void 0,d=void 0,c=void 0,p=void 0;n<a?(h=n,d=a,c=i,p=r):(h=a,d=n,c=r,p=i),u.push(c);for(var m=h+20*e.degree;m<d;){var g=t.getRadiusAtAngle(m,n,a,o,s),T={x:l.x+g*Math.cos(m),y:l.y+g*Math.sin(m),angle:m};u.push(T),m+=20*e.degree}return u.push(p),a<n&&u.reverse(),u},t.getRoundedArcCorner=function(e,i,r,n,a,o,s){var l,u,h,d;return a?t.distance(i,r[r.length-2])<n?r.length>2&&t.distance(i,r[r.length-3])>=n&&(r[r.length-2],l=r[r.length-3],r.splice(1,1)):(r[r.length-2],l=i):t.distance(i,r[1])<n?r.length>2&&t.distance(i,r[2])>=n&&(r[1],l=r[2],r.splice(-1,1)):(i,l=r[1]),l?(n>0&&(i.x!=s.x||i.y!=s.y)?(u=t.getEllipseIntersectionPoint(i,s,n,o),h=t.getCornerCenterPoint(e,i,u,n),d=t.getTangentPoint(e,i,h,n)):u=h=d=i,a?r[r.length-1]=u:r[0]=u,{ellipseIntersectionPoint:u,tangentPoint:d,modifiedArc:r}):null},t.getControlPoints=function(e,i,r){for(var n=new Array,a=t.distance(r,e),o=t.distance(r,i),s=new Array,l=0;l<=3;l++)s.push({x:(a+l/3*(o-a))*Math.cos(e.angle+l/3*(i.angle-e.angle))+r.x,y:(a+l/3*(o-a))*Math.sin(e.angle+l/3*(i.angle-e.angle))+r.y,angle:null});var u=s[1].x-8/27*s[0].x-1/27*s[3].x,h=s[1].y-8/27*s[0].y-1/27*s[3].y,d=s[2].x-1/27*s[0].x-8/27*s[3].x,c=s[2].y-1/27*s[0].y-8/27*s[3].y;return n.push({x:6.75*(4*u/9-2*d/9),y:6.75*(4*h/9-2*c/9),angle:null}),n.push({x:6.75*(2*-u/9+4*d/9),y:6.75*(2*-h/9+4*c/9),angle:null}),n},t.getHypothenuse=function(e,t){var i=(e=Math.pow(e,2))+(t=Math.pow(t,2));return Math.sqrt(i)},t}();e.Calculations=t}(e.Geometry||(e.Geometry={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t};e.Point=t}(e.Geometry||(e.Geometry={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){};e.RoundedArcCorner=t}(e.Geometry||(e.Geometry={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(){}return i.drawRoundedCorner=function(r,n,a,o,s){if(!o)return i.drawLineTo(n);var l=new t.Point,u=new t.Point,h=t.Calculations.distance(r,n),d=t.Calculations.distance(n,a),c=s?"1":"0";o=Math.min(o,h/2,d/2);var p=Math.acos(((r.x-n.x)*(a.x-n.x)+(r.y-n.y)*(a.y-n.y))/(h*d)),m=Math.sin(p/2),g=Math.sin((Math.PI-p)/2);return l.x=n.x+(r.x-n.x)*o*g/(h*m),l.y=n.y+(r.y-n.y)*o*g/(h*m),u.x=n.x+(a.x-n.x)*o*g/(d*m),u.y=n.y+(a.y-n.y)*o*g/(d*m)," L "+e.Utilities.preprocessCoordinateForSVG(l.x)+" "+e.Utilities.preprocessCoordinateForSVG(l.y)+" A "+e.Utilities.preprocessCoordinateForSVG(o)+" "+e.Utilities.preprocessCoordinateForSVG(o)+" 0 0 "+c+" "+e.Utilities.preprocessCoordinateForSVG(u.x)+" "+e.Utilities.preprocessCoordinateForSVG(u.y)},i.drawArc=function(e,t,r){void 0===r&&(r=!1);for(var n="",a=1;a<e.length;a++)n+=" "+i.drawPartialArc(e[a-1],e[a],t,r);return n},i.drawPartialArc=function(i,r,n,a){if(void 0===a&&(a=!1),i.x===r.x&&i.y===r.y)return"";for(var o="C",s=0,l=t.Calculations.getControlPoints(i,r,n);s<l.length;s++){var u=l[s];o+=" "+e.Utilities.preprocessCoordinateForSVG(u.x,a)+" "+e.Utilities.preprocessCoordinateForSVG(u.y,a)+","}return o+=e.Utilities.preprocessCoordinateForSVG(r.x,a)+" "+e.Utilities.preprocessCoordinateForSVG(r.y,a)},i.drawArcToTarget=function(t,i,r){return void 0===r&&(r=!1)," A "+t+" "+t+" 0 0 1 "+e.Utilities.preprocessCoordinateForSVG(i.x,r)+" "+e.Utilities.preprocessCoordinateForSVG(i.y,r)},i.drawLineTo=function(t,i){return void 0===i&&(i=!1)," L "+e.Utilities.preprocessCoordinateForSVG(t.x,i)+" "+e.Utilities.preprocessCoordinateForSVG(t.y,i)},i.moveTo=function(t,i){return void 0===i&&(i=!1),"M "+e.Utilities.preprocessCoordinateForSVG(t.x,i)+" "+e.Utilities.preprocessCoordinateForSVG(t.y,i)},i.returnToStart=function(){return" Z"},i}();t.Svg=i}(e.Geometry||(e.Geometry={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){};e.Vector=t}(e.Geometry||(e.Geometry={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){var n=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.Events=new e.Dictionary,t.defaults=n.default,t.registeredEvents=new Array,t}return r(n,i),n.prototype.draw=function(t,i){if(this.metaData=i,this.webRTPUItem=t,this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),!this.dom){this.dom=document.createElementNS("http://www.w3.org/2000/svg","g");var r=[];for(var n in this.Events)r.push(this.Events[n]);r.length>0&&this.registerAndActivateEvent(this.dom,t,r)}return this.applyVisibility(),this.dom},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.hasEvents=function(){return this.registeredEvents.length>0},n.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.offset))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Shape Object with invalid offset"),!1):isNaN(parseInt(this.Attributes["modulo-divisor"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Shape Object with invalid modulo-divisor"),!1):isNaN(parseInt(this.Attributes["modulo-bias"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Shape Object with invalid modulo-bias"),!1):this.Attributes["position-filter"]&&"string"==typeof this.Attributes["position-filter"]?null!==e.Utilities.convertToBool(this.Attributes.condition)||(e.trace(e.enumTraceMode.Warning,"Can't draw a Shape Object with invalid condition"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a Shape Object with invalid position-filter"),!1)},n.prototype.remove=function(){this.removeEvents(),i.prototype.remove.call(this)},n.prototype.applyFilters=function(e){var t=parseFloat(this.getAttribute("modulo-divisor")),i=parseFloat(this.getAttribute("modulo-bias"));if(this.getAttribute("modulo")){var r=this.getAttribute("modulo").split(" ");t=parseFloat(r[0]),i=parseFloat(r[1])}this.applyModuloFilter(e,t,i);var n=this.getAttribute("position-filter");if(n&&this.applyPositionFilter(e,n),this.getAttribute("index-filter")&&this.applyIndexFilter(e,parseFloat(this.getAttribute("index-filter"))),this.getAttribute("threshold-filter")){var a=this.getAttribute("threshold-filter").split(" ");this.applyThreshFilter(e,a)}if(this.getAttribute("threshold-index-filter")){var o=parseFloat(this.getAttribute("threshold-index-filter"));this.applyThresholdIndexFilter(e,o)}},n.prototype.getThresholdMode=function(e){var t,i=this.Parent;switch(e){case"lower":t=i.thresholdMode.Lower;break;case"upper":t=i.thresholdMode.Upper;break;case"out":t=i.thresholdMode.Minimum;break;case"in":t=i.thresholdMode.Maximum;break;default:t=i.thresholdMode.Normal}return t},n.prototype.applyThresholdIndexFilter=function(e,i){if(this.Parent instanceof t.Structure.Thresholds){for(var r,n=0;n<e.length;n++)if(this.isDataPartOfScrope(["normal"],e[n])){r=n;break}if((i+=r)>=0&&i<e.length)for(n=0;n<e.length;n++)n!=i&&(e[n].isVisible=!1)}},n.prototype.applyThreshFilter=function(e,i){if(this.Parent instanceof t.Structure.Thresholds)for(var r=0;r<e.length;r++)this.isDataPartOfScrope(i,e[r])||(e[r].isVisible=!1)},n.prototype.isDataPartOfScrope=function(e,t){for(var i=this.getBeginAndEndSection(t),r=this.Parent.getAttribute("config"),n=0;n<e.length;n++)for(var a=this.getThresholdMode(e[n]),o=0;o<r.length;o++){var s=parseFloat(r[o].BeginValue),l=parseFloat(r[o].EndValue);if(parseFloat(r[o].ThresholdMode)===a&&i[0]>=s&&i[1]<=l)return!0}return!1},n.prototype.getBeginAndEndSection=function(t){var i;if(t instanceof e.Data.PoleStraight){var r=t;i=[r.value,r.value]}else if(t instanceof e.Data.SectionStraight){var n=t;i=[n.beginValue,n.endValue]}return i},n.prototype.applyPositionFilter=function(t,i){var r=i.split(" ").filter((function(t){return["inner","begin","end","regular"].indexOf(t)>=0||(e.trace(e.enumTraceMode.Warning,"Wrong position-filter: "+t),!1)}));if(r.length>0&&(1!==r.length||"regular"!==r[0])){if(-1===r.indexOf("inner")&&-1===r.indexOf("regular"))for(var n=t.length-2;n>0;n--)t[n].isVisible=!1;t.length>0&&(-1===r.indexOf("begin")?t[0].isVisible=!1:t[0].isVisible=!0,t.length>1&&(-1===r.indexOf("end")?t[t.length-1].isVisible=!1:t[t.length-1].isVisible=!0))}},n.prototype.applyModuloFilter=function(e,t,i){if(!isNaN(t)&&!isNaN(i))for(var r=0;r<e.length;r++)r%t!=i&&(e[r].isVisible=!1)},n.prototype.applyIndexFilter=function(e,t){for(var i=0;i<e.length;i++)i!=t&&(e[i].isVisible=!1)},n.prototype.removeEvents=function(){for(var e=[],t=this.registeredEvents.length,i=0;i<t;i++){var r=this.registeredEvents[i],n=i===t-1;e.push(r.link),n&&r.evt.deactivate(e)}this.registeredEvents=[]},n.prototype.registerAndActivateEvent=function(e,t,i){for(var r=i.length,n=[],a=0;a<r;a++){var o=a===r-1;n=i[a].activate(e,t,o,this)}for(a=0;a<r;a++)this.registeredEvents.push({link:n[a],evt:i[a]})},n.default={},n}(t.NVEFeatureBase);i.ShapeBase=n}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults=n.default,e}return r(n,i),n.prototype.draw=function(i,r){return this.callSuperDraw(i,r),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.LabelsStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.LabelsArc(this))),this.isValid()&&this.implementation.draw(),this.dom},n.prototype.isValid=function(){return this.Attributes["output-format"]&&"string"==typeof this.Attributes["output-format"]?this.Attributes.fill&&"string"==typeof this.Attributes.fill?isNaN(parseInt(this.Attributes.angle))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid angle"),!1):!this.Attributes["alignment-horizontal"]||isNaN(parseInt(this.Attributes["alignment-horizontal"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid alignment-horizontal"),!1):!this.Attributes["alignment-vertical"]||isNaN(parseInt(this.Attributes["alignment-vertical"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid alignment-vertical"),!1):this.Attributes.alignment&&"string"!=typeof this.Attributes.alignment?(e.trace(e.enumTraceMode.Warning,"Can't draw a Labels Object with invalid alignment"),!1):this.Attributes["alignment-mode"]&&"string"==typeof this.Attributes["alignment-mode"]?i.prototype.isValid.call(this):(e.trace(e.enumTraceMode.Warning,"Can't draw a Labels Object with invalid alignment-mode"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a Labels Object with invalid fill"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a Labels Object with invalid output-format"),!1)},n.prototype.callSuperDraw=function(e,t){i.prototype.draw.call(this,e,t)},n.default={fill:"black",angle:"0","alignment-mode":"regular","alignment-horizontal":"0","alignment-vertical":"0","output-format":"{S}",offset:"0",condition:"true","modulo-divisor":"1","modulo-bias":"0","position-filter":"regular"},n}(t.ShapeBase);t.Labels=i}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.highlighterHideColor="rgba(139,102,139,0)",this.highlighterVisibleColor="rgba(139,102,139,0.4)",this.isGridLineHilighterVisible=!1,this.me=e}return t.prototype.draw=function(){var t,i=this.me.lineConfig.mergeVBeginEndLineConfigs(),r=this.me.lineConfig.mergeHLineConfigs(),n=this.me.lineConfig.getVInnerExpInner(),a=this.me.lineConfig.getVInnerExpHeader(),o=this.me.lineConfig.mergeHBeginEndHeaderLineConfigs(),s=this.me.lineConfig.getHInnerExpHeader();i.length>0&&(this.vBeginEndElementProvider=new e.Data.SvgElementProvider("line",this.me.verticalLineGroup),this.vBeginEndElementProvider.reset(),t=this.vBeginEndElementProvider.getFreeNodes(i.length),this.vBeginEndElementProvider.finish(),this.setAttr(t,i,null));var l=this.me.lineConfig.vHeaderExpHeader,u=this.me.lineConfig.vHeaderExpInner;l&&(this.vHeaderExpHeaderElementProvider=new e.Data.SvgElementProvider("line",this.me.verticalLineGroup),this.vHeaderExpHeaderElementProvider.reset(),t=this.vHeaderExpHeaderElementProvider.getFreeNodes(1),this.vHeaderExpHeaderElementProvider.finish(),this.setAttr(t,[l],null)),u&&(this.vHeaderExpInnerElementProvider=new e.Data.SvgElementProvider("line",this.me.verticalLineGroup),this.vHeaderExpInnerElementProvider.reset(),t=this.vHeaderExpInnerElementProvider.getFreeNodes(1),this.vHeaderExpInnerElementProvider.finish(),this.setAttr(t,[u],null)),r.length>0&&(this.hLineElementProvider=new e.Data.SvgElementProvider("line",this.me.horizontalLineGroup),this.hLineElementProvider.reset(),t=this.hLineElementProvider.getFreeNodes(r.length),this.hLineElementProvider.finish(),this.setAttr(t,r,null)),n.length>0&&(this.vInnerExpInnerElementProvider=new e.Data.SvgElementProvider("line",this.me.vInnerExpInnerLineGroup),this.vInnerExpInnerElementProvider.reset(),t=this.vInnerExpInnerElementProvider.getFreeNodes(n.length),this.vInnerExpInnerElementProvider.finish(),this.setAttr(t,n,null)),a.length>0&&(this.vInnerExpHeaderElementProvider=new e.Data.SvgElementProvider("line",this.me.vInnerExpHeaderLineGroup),this.vInnerExpHeaderElementProvider.reset(),t=this.vInnerExpHeaderElementProvider.getFreeNodes(a.length),this.vInnerExpHeaderElementProvider.finish(),this.setAttr(t,a,null)),o.length>0&&(this.hBeginEndHeaderElementProvider=new e.Data.SvgElementProvider("line",this.me.hHeaderLineGroup),this.hBeginEndHeaderElementProvider.reset(),t=this.hBeginEndHeaderElementProvider.getFreeNodes(o.length),this.hBeginEndHeaderElementProvider.finish(),this.setAttr(t,o,null)),s.length>0&&(this.hInnerExpHeaderElementProvider=new e.Data.SvgElementProvider("line",this.me.hHeaderLineGroup),this.hInnerExpHeaderElementProvider.reset(),t=this.hInnerExpHeaderElementProvider.getFreeNodes(s.length),this.hInnerExpHeaderElementProvider.finish(),this.setAttr(t,s,null))},t.prototype.setAttr=function(e,t,i){var r,n,a,o=e.length;for(r=0;r<o;r++)a=e[r],t?(n=t[r],a.setAttribute("x1",n.x1.toString()),a.setAttribute("x2",n.x2.toString()),a.setAttribute("y1",n.y1.toString()),a.setAttribute("y2",n.y2.toString()),a.setAttribute("stroke",n.stroke),a.setAttribute("stroke-width",n.strokeWidth)):a.setAttribute(i.name,i.value.toString())},t.prototype.setAttribute=function(e,t){var i={name:"",value:""};switch(e){case"HeaderGridLineColor":i.name="stroke",i.value=t,this.updateLines(i,"Header");break;case"GridLineWidth":i.name="stroke-width",i.value=t,this.updateLines(i,"All");break;case"GridLineColor":i.name="stroke",i.value=t,this.updateLines(i,"data");break;case"onResize":this.updateLines(i,"onResize")}},t.prototype.vInnerElementProvider=function(e){var t,i,r=[],n=[],a=this.me.iLinesToMove.length;this.me.data.tableProps.isRowHeaderActionAllowed&&(r=this.vHeaderExpInnerElementProvider.getActiveNodes(),e.name="x1",e.value=this.me.lineConfig.vHeaderExpInner.x1.toString(),this.setAttr([r[0]],null,e),this.highlighterHeaderExpInnerElementProvider&&this.setAttr([this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0]],null,e),e.name="x2",this.setAttr([r[0]],null,e),this.highlighterHeaderExpInnerElementProvider&&this.setAttr([this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0]],null,e));var o=this.me.lineConfig.vInnerExpInner;for(this.vInnerExpInnerElementProvider&&(r=this.vInnerExpInnerElementProvider.getActiveNodes()),this.highlighterInnerExpInnerElementProvider&&(n=this.highlighterInnerExpInnerElementProvider.getActiveNodes()),t=0;t<a;t++)i=this.me.iLinesToMove[t],e.name="x1",e.value=o[i].x1.toString(),this.setAttr([r[i]],null,e),e.name="x2",this.setAttr([r[i]],null,e),this.highlighterInnerExpInnerElementProvider&&(this.setAttr([n[i]],null,e),e.name="x1",this.setAttr([n[i]],null,e))},t.prototype.updateLines=function(e,t){var i,r,n,a,o,s=[],l=[];switch(t){case"Header":this.updateGridLines(e);break;case"data":this.hLineElementProvider&&(s=this.hLineElementProvider.getActiveNodes()).length>0&&this.setAttr(s,null,e),this.vInnerExpInnerElementProvider&&(s=this.vInnerExpInnerElementProvider.getActiveNodes()).length>0&&this.setAttr(s,null,e);break;case"onResize":if(this.me.data.tableProps.isRowHeaderActionAllowed)for(this.vHeaderExpHeaderElementProvider&&(s=this.vHeaderExpHeaderElementProvider.getActiveNodes()),this.highlighterHeaderExpHeaderElementProvider&&(l=this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()),e.name="x1",e.value=this.me.lineConfig.vHeaderExpHeader.x1.toString(),this.setAttr([s[0]],null,e),l&&this.setAttr([l[0]],null,e),e.name="x2",this.setAttr([s[0]],null,e),l&&this.setAttr([l[0]],null,e),i=(o=this.me.lineConfig.hInnerExpHeader).length,s=this.hInnerExpHeaderElementProvider.getActiveNodes(),n=0;n<i;n++)e.name="x2",e.value=o[n].x2.toString(),this.setAttr([s[n]],null,e);for(a=this.me.lineConfig.vInnerExpHeader,this.vInnerExpHeaderElementProvider&&(s=this.vInnerExpHeaderElementProvider.getActiveNodes()),this.highlighterInnerExpHeaderElementProvider&&(l=this.highlighterInnerExpHeaderElementProvider.getActiveNodes()),i=this.me.hLinesToMove.length,r=0;r<i;r++)n=this.me.hLinesToMove[r],e.name="x1",e.value=a[n].x1.toString(),this.setAttr([s[n]],null,e),e.name="x2",this.setAttr([s[n]],null,e),l&&(this.setAttr([l[n]],null,e),e.name="x1",this.setAttr([l[n]],null,e));this.vInnerElementProvider(e);break;default:this.updateGridLines(e),this.hLineElementProvider&&(s=this.hLineElementProvider.getActiveNodes()).length>0&&this.setAttr(s,null,e),this.vInnerExpInnerElementProvider&&(s=this.vInnerExpInnerElementProvider.getActiveNodes()).length>0&&this.setAttr(s,null,e)}},t.prototype.updateGridLines=function(e){var t=[];this.vInnerExpHeaderElementProvider&&(t=this.vInnerExpHeaderElementProvider.getActiveNodes()).length>0&&this.setAttr(t,null,e),this.vBeginEndElementProvider&&(t=this.vBeginEndElementProvider.getActiveNodes()).length>0&&this.setAttr(t,null,e),this.vHeaderExpHeaderElementProvider&&(t=this.vHeaderExpHeaderElementProvider.getActiveNodes()),this.vHeaderExpInnerElementProvider&&(t=[].concat(t,this.vHeaderExpInnerElementProvider.getActiveNodes())),t.length>0&&this.setAttr(t,null,e),this.hBeginEndHeaderElementProvider&&(t=this.hBeginEndHeaderElementProvider.getActiveNodes()).length>0&&this.setAttr(t,null,e),this.hInnerExpHeaderElementProvider&&(t=this.hInnerExpHeaderElementProvider.getActiveNodes()).length>0&&this.setAttr(t,null,e)},t.prototype.createLines=function(t,i){var r=new e.Data.SvgElementProvider("line",t);r.reset();var n=r.getFreeNodes(i.length);return r.finish(),this.setAttr(n,i,null),r},t.prototype.getHighlighterLineConfigs=function(t){var i,r,n=[];for(i=0;i<t.length;i++)(r=new e.Data.LineConfig).x1=t[i].x1,r.x2=t[i].x2,r.y1=t[i].y1,r.y2=t[i].y2,r.stroke=this.highlighterHideColor,r.strokeWidth=12,n.push(r);return n},t.prototype.drawHighlighterLines=function(){var e;this.me.lineConfig.vHeaderExpHeader&&(e=this.getHighlighterLineConfigs([this.me.lineConfig.vHeaderExpHeader]),this.highlighterHeaderExpHeaderElementProvider=this.createLines(this.me.highlighterHeaderLineGroup,e)),e=this.getHighlighterLineConfigs(this.me.lineConfig.vInnerExpHeader),this.highlighterInnerExpHeaderElementProvider=this.createLines(this.me.highlighterHeaderLineGroup,e),this.me.lineConfig.vHeaderExpInner&&(e=this.getHighlighterLineConfigs([this.me.lineConfig.vHeaderExpInner]),this.highlighterHeaderExpInnerElementProvider=this.createLines(this.me.highlighterHeaderLineGroup,e)),e=this.getHighlighterLineConfigs(this.me.lineConfig.vInnerExpInner),this.highlighterInnerExpInnerElementProvider=this.createLines(this.me.highlighterInnerLineGroup,e)},t.prototype.showHideHighlighterLine=function(e,t,i){var r="none";i?(r="BLOCK",this.isGridLineHilighterVisible=!0):this.isGridLineHilighterVisible=!1,this.me.data.tableProps.isRowHeaderAction?this.me.data.tableProps.isRowHeaderActionAllowed&&(this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()[0].style.display=r,this.highlighterHeaderExpInnerElementProvider.getActiveNodes().length>0&&(this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0].style.display=r)):(this.highlighterInnerExpHeaderElementProvider.getActiveNodes()[e].style.display=r,this.highlighterInnerExpInnerElementProvider.getActiveNodes().length>0&&(this.highlighterInnerExpInnerElementProvider.getActiveNodes()[t].style.display=r))},t.prototype.showHighlighterLine=function(e,t){this.me.data.tableProps.isRowHeaderAction?this.me.data.tableProps.isRowHeaderActionAllowed&&(this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterVisibleColor),this.highlighterHeaderExpInnerElementProvider.getActiveNodes().length>0&&this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterVisibleColor)):(this.highlighterInnerExpHeaderElementProvider.getActiveNodes()[e].setAttribute("stroke",this.highlighterVisibleColor),this.highlighterInnerExpInnerElementProvider.getActiveNodes().length>0&&this.highlighterInnerExpInnerElementProvider.getActiveNodes()[t].setAttribute("stroke",this.highlighterVisibleColor))},t.prototype.removeHighlighterLine=function(e,t){this.me.data.tableProps.isRowHeaderAction?this.me.data.tableProps.isRowHeaderActionAllowed&&(this.highlighterHeaderExpHeaderElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterHideColor),this.highlighterHeaderExpInnerElementProvider.getActiveNodes().length>0&&this.highlighterHeaderExpInnerElementProvider.getActiveNodes()[0].setAttribute("stroke",this.highlighterHideColor)):(this.highlighterInnerExpHeaderElementProvider.getActiveNodes()[e].setAttribute("stroke",this.highlighterHideColor),this.highlighterInnerExpInnerElementProvider.getActiveNodes().length>0&&this.highlighterInnerExpInnerElementProvider.getActiveNodes()[t].setAttribute("stroke",this.highlighterHideColor))},t.prototype.remove=function(){this.vBeginEndElementProvider&&(this.vBeginEndElementProvider.cleanup(),this.vBeginEndElementProvider=null),this.vHeaderExpHeaderElementProvider&&(this.vHeaderExpHeaderElementProvider.cleanup(),this.vHeaderExpHeaderElementProvider=null),this.vHeaderExpInnerElementProvider&&(this.vHeaderExpInnerElementProvider.cleanup(),this.vHeaderExpInnerElementProvider=null),this.hLineElementProvider&&(this.hLineElementProvider.cleanup(),this.hLineElementProvider=null),this.vInnerExpHeaderElementProvider&&(this.vInnerExpHeaderElementProvider.cleanup(),this.vInnerExpHeaderElementProvider=null),this.vInnerExpInnerElementProvider&&(this.vInnerExpInnerElementProvider.cleanup(),this.vInnerExpInnerElementProvider=null),this.highlighterHeaderExpHeaderElementProvider&&(this.highlighterHeaderExpHeaderElementProvider.cleanup(),this.highlighterHeaderExpHeaderElementProvider=null),this.highlighterHeaderExpInnerElementProvider&&(this.highlighterHeaderExpInnerElementProvider.cleanup(),this.highlighterHeaderExpInnerElementProvider=null),this.highlighterInnerExpHeaderElementProvider&&(this.highlighterInnerExpHeaderElementProvider.cleanup(),this.highlighterInnerExpHeaderElementProvider=null),this.highlighterInnerExpInnerElementProvider&&(this.highlighterInnerExpInnerElementProvider.cleanup(),this.highlighterInnerExpInnerElementProvider=null),this.hBeginEndHeaderElementProvider&&(this.hBeginEndHeaderElementProvider.cleanup(),this.hBeginEndHeaderElementProvider=null),this.hInnerExpHeaderElementProvider&&(this.hInnerExpHeaderElementProvider.cleanup(),this.hInnerExpHeaderElementProvider=null),this.me=null},t}();t.Lines=i}(t.Line||(t.Line={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=i.default,e}return r(i,t),i.prototype.callSuperDraw=function(e,i){t.prototype.draw.call(this,e,i)},i.prototype.getAlignments=function(){var e=0,t=0;if(this.getAttribute("alignment")){var i=this.getAttribute("alignment").split(" ");2===i.length&&(e=parseFloat(i[0]),t=parseFloat(i[1]))}return void 0!==this.getAttribute("alignment-horizontal")&&(e=parseFloat(this.getAttribute("alignment-horizontal"))),void 0!==this.getAttribute("alignment-vertical")&&(t=parseFloat(this.getAttribute("alignment-vertical"))),{horizontal:e=((e=Math.min(1,Math.max(-1,e)))+1)/2,vertical:t=((t=Math.min(1,Math.max(-1,t)))+1)/2}},i.prototype.isValid=function(){return this.Attributes["content-width"]?0===parseInt(this.Attributes["content-width"])?(e.trace(e.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker with content-width 0"),!1):this.Attributes["content-height"]?0===parseInt(this.Attributes["content-height"])?(e.trace(e.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker with content-height 0"),!1):isNaN(parseInt(this.Attributes.angle))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid angle"),!1):this.Attributes["alignment-horizontal"]&&isNaN(parseInt(this.Attributes["alignment-horizontal"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid alignment-horizontal"),!1):this.Attributes["alignment-vertical"]&&isNaN(parseInt(this.Attributes["alignment-vertical"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid alignment-vertical"),!1):this.Attributes.alignment&&"string"!=typeof this.Attributes.alignment?(e.trace(e.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid alignment"),!1):isNaN(parseInt(this.Attributes["origin-x"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid origin-x"),!1):!isNaN(parseInt(this.Attributes["origin-y"]))||(e.trace(e.enumTraceMode.Warning,"Can't draw a Pole/SectionMarker Object with invalid origin-y"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker without content-height"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw an Pole/SectionMarker without content-width"),!1)},i.default={"alignment-mode":"radial",angle:"0","modulo-bias":"0","modulo-divisor":"1",offset:"0","origin-x":"0","origin-y":"0",position:"0","position-filter":"regular",condition:"true"},i}(t.ShapeBase);t.MarkersBase=i}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return r(n,i),n.prototype.draw=function(i,r){return this.callSuperDraw(i,r),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.PoleMarkersStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.PoleMarkersArc(this))),this.isValid()&&this.implementation.draw(),this.dom},n}(t.MarkersBase);t.PoleMarkers=i}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults=n.default,e}return r(n,i),n.prototype.draw=function(r,n){return i.prototype.draw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.RibbonsStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.RibbonsArc(this))),this.isValid()&&this.implementation.draw(),this.dom},n.prototype.isValid=function(){return isNaN(parseInt(this.Attributes["begin-stroke-width"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-stroke-width"),!1):isNaN(parseInt(this.Attributes["end-stroke-width"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-stroke-width"),!1):this.Attributes["stroke-width"]&&isNaN(parseInt(this.Attributes["stroke-width"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid stroke-width"),!1):this.Attributes["begin-stroke"]&&"string"==typeof this.Attributes["begin-stroke"]?this.Attributes["end-stroke"]&&"string"==typeof this.Attributes["end-stroke"]?this.Attributes.stroke&&"string"!=typeof this.Attributes.stroke?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid stroke"),!1):isNaN(parseInt(this.Attributes["begin-surcharge"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-surcharge"),!1):isNaN(parseInt(this.Attributes["end-surcharge"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-surcharge"),!1):this.Attributes.surcharge&&isNaN(parseInt(this.Attributes.surcharge))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid surcharge"),!1):isNaN(parseInt(this.Attributes["begin-radius"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-radius"),!1):isNaN(parseInt(this.Attributes["end-radius"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-radius"),!1):i.prototype.isValid.call(this):(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid end-stroke"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a Ribbons Object with invalid begin-stroke"),!1)},n.prototype.getStrokeColors=function(){var e="transparent",t="transparent";return this.getAttribute("begin-stroke")&&(e=this.getAttribute("begin-stroke")),this.getAttribute("end-stroke")&&(t=this.getAttribute("end-stroke")),this.getAttribute("stroke")&&(e=t=this.getAttribute("stroke")),{begin:e,end:t}},n.prototype.getBeginEndParameters=function(e,t){var i=NaN,r=NaN;if(this.Attributes[e]){var n=String(this.Attributes[e]).split(" ");1===n.length?i=r=parseFloat(n[0]):2===n.length&&(i=parseFloat(n[0]),r=parseFloat(n[1]))}else i=parseFloat(this.getAttribute("begin-"+e)),r=parseFloat(this.getAttribute("end-"+e));return isNaN(i)&&(i=t),isNaN(r)&&(r=t),{begin:i,end:r}},n.default={"begin-surcharge":"0","end-surcharge":"0","modulo-divisor":"1","modulo-bias":"0","position-filter":"regular","begin-radius":"0","end-radius":"0",condition:"true",offset:"0","begin-stroke-width":"1","end-stroke-width":"1","begin-stroke":"transparent","end-stroke":"transparent"},n}(t.ShapeBase);t.Ribbons=i}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults=n.default,e}return r(n,i),n.prototype.draw=function(r,n){return i.prototype.callSuperDraw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.SectionLabelsStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.SectionLabelsArc(this))),this.isValid()&&this.implementation.draw(),this.dom},n.prototype.isValid=function(){return isNaN(parseInt(this.getAttribute("position")))?(e.trace(e.enumTraceMode.Warning,"Can't draw a SectionLabels Object with invalid position"),!1):i.prototype.isValid.call(this)},n.default={fill:"black",angle:"0","alignment-mode":"regular","alignment-horizontal":"0","alignment-vertical":"0","output-format":"{S}",offset:"0",position:"0",condition:"true","modulo-divisor":"1","modulo-bias":"0","position-filter":"regular"},n}(t.Labels);t.SectionLabels=i}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults=n.default,e}return r(n,i),n.prototype.draw=function(i,r){return this.callSuperDraw(i,r),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.SectionMarkersStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.SectionMarkersArc(this))),this.isValid()&&this.implementation.draw(),this.dom},n.default={"alignment-mode":"radial",angle:"0","modulo-bias":"0","modulo-divisor":"1",offset:"0","origin-x":"0","origin-y":"0",position:"0","position-filter":"regular",condition:"true"},n}(t.MarkersBase);t.SectionMarkers=i}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){e.CreateSvgElement=function(e,t){var i,r,n=document.createElementNS("http://www.w3.org/2000/svg",e);if(t)for(i in t)if(i)switch(r=t[i],i){case"rect":n.setAttributeNS(null,"x",r.left),n.setAttributeNS(null,"y",r.top),n.setAttributeNS(null,"width",r.width),n.setAttributeNS(null,"height",r.height);break;case"displayText":var a=document.createTextNode(r);n.appendChild(a);break;case"appendTo":r.appendChild(n);break;case"textDecoration":n.style.textDecoration=r;break;default:n.setAttributeNS(null,i,r)}return n},e.SetAttributes=function(e,t){var i,r;for(i in t)if(i)switch(r=t[i],i){case"rect":e.setAttributeNS(null,"x",r.left),e.setAttributeNS(null,"y",r.top),e.setAttributeNS(null,"width",r.width),e.setAttributeNS(null,"height",r.height);break;case"displayText":var n=document.createTextNode(r);e.appendChild(n);break;case"appendTo":r.appendChild(e);break;case"textDecoration":e.style.textDecoration=r;break;default:e.setAttributeNS(null,i,r)}e=null},e.GetElementsByClassName=function(e,t,i){var r,n,a,o,s=[];if(e.getElementsByClassName)s=e.getElementsByClassName(t);else for(i=i||"*",o=(r=e.all||e.getElementsByTagName(i)).length,a=0;a<o;a++)(n=r[a]).className&&-1!==n.className.baseVal.indexOf(t)&&s.push(n);return s.remove=function(){var e;for(e=this.length-1;e>=0;e--)this[e].parentNode.removeChild(this[e])},s.attr=function(e,t){var i,r=this.length;for(i=0;i<r;i++)if("text-decoration"===e)this[i].style.textDecoration=t;else this[i].setAttribute(e,t)},s},e.getElementByIDSafariHack=function(e,t,i){var r,n=e.getElementsByTagName(t),a=n.length;for(r=0;r<a;r++)if(i===n[r].id)return n[r]},e.updateDOMAttributes=function(e,t){var i,r,n;if(i=e.length)for(n=0;n<i;n++)for(r in t)e[n].setAttribute(r,t[r]);else if(void 0===e.length)for(r in t)e.setAttribute(r,t[r])},e.AddSvgEvents=function(e,t){var i,r;if(t)for(i in t)i&&(r=t[i],e.addEventListener(i,r,!1));e=null},e.RemoveSvgEvents=function(e,t){var i,r;if(t)for(i in t)i&&(r=t[i],e.removeEventListener(i,r,!1));e=null}}(e.SvgShape||(e.SvgShape={}))}(e.Shape||(e.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults=n.default,e}return r(n,i),n.prototype.draw=function(r,n){return i.prototype.draw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.TicksStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.TicksArc(this))),this.isValid()&&this.implementation.draw(),this.dom},n.prototype.isValid=function(){return this.Attributes.stroke&&"string"==typeof this.Attributes.stroke?isNaN(parseInt(this.Attributes.length))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid length"),!1):isNaN(parseInt(this.Attributes["stroke-width"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid stroke-width"),!1):i.prototype.isValid.call(this):(e.trace(e.enumTraceMode.Warning,"Can't draw a Ticks Object with invalid stroke"),!1)},n.default={length:"1","stroke-width":"1",stroke:"black","modulo-divisor":"1","modulo-bias":"0",offset:"0","position-filter":"regular",condition:"true"},n}(t.ShapeBase);t.Ticks=i}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){var n=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults=n.default,e}return r(n,i),n.prototype.draw=function(t,i){return this.metaData=i,this.webRTPUItem=t,this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.prepareDom(),this.applyVisibility(),this.dom},n.prototype.prepareDom=function(){if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);else this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")},n.prototype.redraw=function(e,t){this.draw(e,t)},n.prototype.getPoles=function(t){return t||(t=this.getAllChildrenSections(this.getStructure())),this.metaData.NVE instanceof e.StraightDial?this.getStraightPoles(t):this.getArcPoles(t)},n.prototype.getStraightPoles=function(t){for(var i=new Array,r=0;r<t.length;r++){var n=t[r],a=new e.Data.PoleStraight(n.beginX,n.beginY,n.beginValue);i.push(a),r==t.length-1&&(a=new e.Data.PoleStraight(n.endX,n.endY,n.endValue),i.push(a))}return i},n.prototype.getArcPoles=function(t){for(var i=new Array,r=0;r<t.length;r++){var n=t[r],a=new e.Data.PoleArc(n.centerX,n.centerY,n.radius,n.beginAngle,n.beginValue);i.push(a),r==t.length-1&&(a=new e.Data.PoleArc(n.centerX,n.centerY,n.radius,n.endAngle,n.endValue),i.push(a))}return i},n.prototype.getStructure=function(){return new e.Data.HierarchyLevel(null,null,this)},n.prototype.getAllChildrenSections=function(e){for(var t=new Array,i=e.getSections(),r=0;r<i.length;r++)if(null==i[r].children)t.push(i[r]);else{var n=this.getAllChildrenSections(i[r].children);t=t.concat(n)}return t},n.prototype.getScaleSections=function(e){if(null==e)return null;if(e.structureElement instanceof t.Scale)return e.getSections();for(var i=e.getSections(),r=0;r<i.length;r++)return this.getScaleSections(i[r].children)},n.default={},n}(t.NVEFeatureBase);i.StructureBase=n}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={condition:"true"},e.origin=0,e.collisionDetection=function(t){for(var i=0;i<t.length-1;i++){var r=i+1;if(Math.abs(t[r][0]-t[i][0])<(t[i][1]+t[r][1])/2){t[r-=i<t.length-2?0:1][2].parentNode.removeChild(t[r][2]),t.splice(r,1),e.collisionDetection(t);break}}},e}return r(n,i),n.prototype.draw=function(r,n){i.prototype.draw.call(this,r,n);var a=this.Parent;if(this.origin=parseFloat(a.getAttribute("origin")),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.AutoMeasureStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.AutoMeasureArc(this))),this.isValid()){for(var o=0;o<this.Features.length;o++)this.dom.appendChild(this.Features[o].draw(r,n));return this.cleanLabelCollisions(),this.dom}},n.prototype.getStructure=function(){return this.implementation.getStructure()},n.prototype.isValid=function(){return this.Parent instanceof e.Features.Scale?null!==e.Utilities.convertToBool(this.Attributes.condition)||(e.trace(e.enumTraceMode.Warning,"Can't draw a Automeasure Object with invalid condition"),!1):(e.trace(e.enumTraceMode.Error,"Automeasure can only be a direct child of Scale"),!1)},n.prototype.cleanLabelCollisions=function(){var t="vertical"===this.getStructure().structureElement.Attributes.orientation?["y","dy",e.getTextHeight]:["x","dx",e.getTextWidth];try{var i=this.Features.filter((function(e){return e.defaults.angle})).map((function(e){return e.implementation.elementProvider.activeDomNodes.map((function(t){return[t,e.implementation.getFontWebRHAttributes(e.implementation.labels.Features[0])]}))})).reduce((function(e,t){return e.length?e.concat(t):t})).map((function(e){return[Number(e[0].getAttribute(t[0]))+Number(e[0].getAttribute(t[1])),t[2](e[0].innerHTML,e[1]),e[0]]})).sort((function(e,t){return e[0]-t[0]}));this.collisionDetection(i)}catch(t){t.message.startsWith("labels.implementation.getFontWebRHAttributes")||e.trace(e.enumTraceMode.Warning,"LabelCollision Detection failed")}},n}(t.StructureBase);t.AutoMeasure=i}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){this.calculateHeight=function(){var e;return this._axis.trendView.alignmentEnum,e=this._axis.rect.height=this._axis.getNeededDimension(),this._axis.rect.height&&(this._axis.innerRect.height=this._axis.rect.height-this._axis.trendView.getLineWidth()),e},this.calculateWidth=function(){var e;return this._axis.trendView.alignmentEnum,e=this._axis.rect.width=this._axis.getNeededDimension(),this._axis.rect.width&&(this._axis.innerRect.width=this._axis.rect.width-this._axis.trendView.getLineWidth()),e},this.getAlignment=function(){return this._axis.align},this.getAxisId=function(){return!!this._axis.config.Visible&&this._axis.id},this.getHeight=function(){return this._axis.config.Visible?this._axis.rect.height:0},this.getWidth=function(){return this._axis.config.Visible?this._axis.rect.width:0},this.draw=function(e){return this._axis.svgParent=e,this._axis.config.Visible?this._axis.draw():this._axis.drawInvisibleAxis()},this.update=function(e){return this._axis.update()},this.setHeight=function(e){this._axis.trendView.alignmentEnum,this._axis.rect.height=e,e&&(this._axis.innerRect.height=e-this._axis.trendView.getLineWidth())},this.setWidth=function(e){this._axis.trendView.alignmentEnum,this._axis.rect.width=e,e&&(this._axis.innerRect.width=e-this._axis.trendView.getLineWidth())},this.setLeft=function(e){this._axis.trendView.alignmentEnum,this._axis.rect.left=e,this._axis.innerRect.left=e+this._axis.trendView.getLineWidth()/2},this.setTop=function(e){this._axis.trendView.alignmentEnum,this._axis.rect.top=e,this._axis.innerRect.top=e+this._axis.trendView.getLineWidth()/2},this.getLeft=function(){return this._axis.rect.left},this.getTop=function(){return this._axis.rect.top},this.cleanUp=function(){this._axis=null},this._axis=e};e.AxisArea=t}(e.Structure||(e.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){var r=function(){function i(i,r){this._rect=new t.Structure.Rectangle,this._axesArea=[],this.hasAxis=function(){return this._axesArea.length>0},this.calculateHeight=function(){var e,t;for(this._rect.height=0,e=0;e<this._axesArea.length;++e)t=this._axesArea[e],this._rect.height+=t.calculateHeight();return this._rect.height+=this._lineWidth/2,this._rect.height},this.getHeight=function(){return this._rect.height},this.setHeight=function(t){var i,r=0,n=this._axesArea.length;switch(this._rect.height=t,this.alignment){case e.Data.GraphAlignment.Right:case e.Data.GraphAlignment.Left:for(i=0;i<n;++i)this._axesArea[i].setHeight(t);break;case e.Data.GraphAlignment.Top:case e.Data.GraphAlignment.Bottom:for(i=0;i<n-1;++i)r+=this._axesArea[i].getHeight();n>0&&this._axesArea[n-1].setHeight(t-r-this._lineWidth/2)}},this.calculateWidth=function(){var e,t;for(this._rect.width=0,e=0;e<this._axesArea.length;++e)t=this._axesArea[e],this._rect.width+=t.calculateWidth();return this._rect.width+=this._lineWidth/2,this._rect.width},this.getWidth=function(){return this._rect.width},this.setWidth=function(t){this._rect.width=t;var i,r=0,n=this._axesArea.length;switch(this.alignment){case e.Data.GraphAlignment.Right:case e.Data.GraphAlignment.Left:for(i=0;i<n-1;++i)r+=this._axesArea[i].getWidth();n>0&&this._axesArea[n-1].setWidth(t-r-this._lineWidth/2);break;case e.Data.GraphAlignment.Top:case e.Data.GraphAlignment.Bottom:for(i=0;i<n;++i)this._axesArea[i].setWidth(t)}},this.getLeft=function(){return this._rect.left},this.setLeft=function(t){var i,r,n,a=t,o=this._axesArea.length;for(n=0;n<o;n++)switch(this.alignment){case e.Data.GraphAlignment.Right:this._axesArea[n].setLeft(a),a+=this._axesArea[n].getWidth();break;case e.Data.GraphAlignment.Left:for(i=a,r=o-1;r>n;r--)a+=this._axesArea[r].getWidth();this._axesArea[n].setLeft(a+this._lineWidth/2),a=i;break;case e.Data.GraphAlignment.Top:case e.Data.GraphAlignment.Bottom:this._axesArea[n].setLeft(a)}this._rect.left=t},this.getTop=function(){return this._rect.top},this.setTop=function(t){var i,r,n,a=t,o=this._axesArea.length;for(n=0;n<o;n++)switch(this.alignment){case e.Data.GraphAlignment.Top:for(i=a,r=o-1;r>n;r--)a+=this._axesArea[r].getHeight();this._axesArea[n].setTop(a+this._lineWidth/2),a=i;break;case e.Data.GraphAlignment.Bottom:this._axesArea[n].setTop(a),a+=this._axesArea[n].getHeight();break;case e.Data.GraphAlignment.Right:case e.Data.GraphAlignment.Left:this._axesArea[n].setTop(a)}this._rect.top=t},this.getLeftRightBound=function(t){var i;switch(this.alignment){case e.Data.GraphAlignment.Left:if(t<0)i=this._rect.left;else if(0===t)i=this._rect.left+this._rect.width;else if(i=this._rect.left,t<=this._axesArea.length){var r=void 0,n=0,a=this._axesArea.length;for(r=0;r<a;r++)if(this._axesArea[r].getWidth()>0&&n++,n===t){i=this._axesArea[r].getLeft();break}}break;case e.Data.GraphAlignment.Right:if(t<0)i=this._rect.left+this._rect.width;else if(0===t)i=this._rect.left;else if(i=this._rect.left+this._rect.width,t<=this._axesArea.length){r=void 0,n=0;var o=this._axesArea.length,s=void 0;for(r=0;r<o;r++)if((s=this._axesArea[r].getWidth())>0&&n++,n===t){i=this._axesArea[r].getLeft()+s;break}}break;default:i=this._rect.left}return i},this.getTopBottomBound=function(t){var i;switch(this.alignment){case e.Data.GraphAlignment.Top:if(t<0)i=this._rect.top;else if(0===t)i=this._rect.top+this._rect.height;else if(i=this._rect.top,t<=this._axesArea.length){var r=void 0,n=0,a=this._axesArea.length;for(r=0;r<a;r++)if(this._axesArea[r].getHeight()>0&&n++,n===t){i=this._axesArea[r].getTop();break}}break;case e.Data.GraphAlignment.Bottom:if(t<0)i=this._rect.top+this._rect.height;else if(0===t)i=this._rect.top;else if(i=this._rect.top+this._rect.height,t<=this._axesArea.length){r=void 0,n=0;var o=this._axesArea.length,s=void 0;for(r=0;r<o;r++)if((s=this._axesArea[r].getHeight())>0&&n++,n===t){i=this._axesArea[r].getTop()+s;break}}break;default:i=this._rect.top}return i},this.setTrendIndicatorRect=function(e,i){var r,n,a,o,s,l={},u={},h=0,d=this._lineWidth/2,c=3*d;if((a=e.bottomAxes.length)>0)for(h=(n=e.bottomAxisAreaHeight/a)-c,s=0;s<a;++s)r=new t.Structure.Rectangle,e.bottomAxisAreaHeight>d&&(i?(r.top=this._rect.top+this._rect.height+d+(a-(1+s))*(n+this._lineWidth),r.height=h):(r.left=this._rect.left+this._rect.width+d+(a-(1+s))*(n+this._lineWidth),r.width=h),l[e.bottomAxes[s]]=r);if((a=e.topAxes.length)>0)for(h=(n=e.topAxisAreaHeight/a)-c,s=0;s<a;++s)r=new t.Structure.Rectangle,e.topAxisAreaHeight>d&&(i?(r.top=this._rect.top-e.topAxisAreaHeight+d+s*(n+this._lineWidth),r.height=h):(r.left=this._rect.left-e.topAxisAreaHeight+d+s*(n+this._lineWidth),r.width=h),u[e.topAxes[s]]=r);for(o=0;o<this._axesArea.length;++o)this._axesArea[o].setTrendIndicatorRect({topTrendIndicatorRects:u,bottomTrendIndicatorRects:l})},this.addAxisArea=function(e){this._axesArea.push(e)},this.getVisibleAxisAreaIds=function(){var e,t,i=[];for(e=0;e<this._axesArea.length;++e)!1!==(t=this._axesArea[e].getAxisId())&&i.push(t);return i},this.cleanUp=function(){var e;for(e=0;e<this._axesArea.length;++e)this._axesArea[e].cleanUp();this._axesArea=null,this._rect=null},this.alignment=i,this._lineWidth=r}return i.prototype.draw=function(e){var t;for(t=0;t<this._axesArea.length;++t)if(!this._axesArea[t].draw(e))return!1;return!0},i.prototype.update=function(e){var t;for(t=0;t<this._axesArea.length;++t)if(!this._axesArea[t].update(e))return!1;return!0},i}();i.AxisAreaCollection=r}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){var r=function(i){this._trendAreaCollection=[],this._spaceOnLeftAndRight=30,this._layoutDrawn="",this._createTrendAreas=function(){var e,i,r=this._trendView.getDrawableTrendWindow(),n=r.length,a=t.Structure.GraphAreaStructure;for(this._trendAreaCollection=[],e=n-1;e>=0;--e)i=new a(r[e]),this._trendAreaCollection.push(i)},this._calculateDim=function(i){var r,n,a,o,s,l,u,h,d,c,p,m,g,T=0,f=0,y=this._trendView.isLeftOrRight(),D=this._trendView.chart.getAttribute("area-spacing"),S="",b=0,C=this._trendView.yAxesScrollbar?1:0,v=new t.Structure.Rectangle;if((a=e.Utilities.getProjectMajorVersion(this._trendView.chart.RTPUItem))>=17||""===a||this._trendView.trendObjectType===e.Data.TrendObjectType.Function?(v.height=this._trendView.height,v.width=this._trendView.width,v.left=parseFloat(this._trendView.chart.getAttribute("start-x"))):(v.height=this._trendView.height-this._spaceOnLeftAndRight/2,v.width=this._trendView.width-2*this._spaceOnLeftAndRight,v.left=parseFloat(this._trendView.chart.getAttribute("start-x"))+this._spaceOnLeftAndRight),v.top=parseFloat(this._trendView.chart.getAttribute("start-y")),i)o=this._trendAreaCollection;else for(o=[],r=0;r<this._trendAreaCollection.length;++r)this._trendAreaCollection[r].trendWindowArea.trendWindow.trendWindowDrawn&&o.push(this._trendAreaCollection[r]);for(n=o.length,l=v.height+(n-1)*(0-D),u=v.width+(n-1)*(0-D),h=this._calculateSpacePortion(i),d=v.top,c=v.left+v.width,r=0;r<n;++r)p=(s=o[r]).trendWindowArea.trendWindow,y?(s.calculateAxisAreaWidth(),m=s.leftAxisArea.getWidth(),g=s.rightAxisArea.getWidth()):(s.calculateAxisAreaHeight(),m=s.topAxisArea.getHeight(),g=s.bottomAxisArea.getHeight()),T<m&&(T=m),f<g&&(f=g),b<(m=p.getMinMaxRulerWidth())&&(b=m);for(T=e.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,0,T),f=e.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,1,f),b=e.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,2,b),C=e.ChartBalancer.setAndGetMaxValue(this._trendView.rtoid,this._trendView.layoutBalancerId,3,C),r=0;r<n;++r)p=(s=o[r]).trendWindowArea.trendWindow,y?(v.height=p.config.SizeFactor*l/h,r>0?(v.top=d-0,d+=v.height-0+D):(v.top=d,d+=v.height+D),s.leftAxisArea.setWidth(T),s.rightAxisArea.setWidth(f)):(v.width=p.config.SizeFactor*u/h,r>0?(v.left=c-v.width+0,c-=v.width-0+D):(v.left=c-v.width,c-=v.width+D),s.topAxisArea.setHeight(T),s.bottomAxisArea.setHeight(f)),s.calculateDim(v,b,C)?S+="1":S+="0",y?v.height=0:v.width=0;return S},this._calculateSpacePortion=function(e){var t,i,r=0;for(i=0;i<this._trendAreaCollection.length;++i)t=this._trendAreaCollection[i].trendWindowArea.trendWindow,(e||t.trendWindowDrawn)&&(r+=parseInt(t.config.SizeFactor,10));return r},this._draw=function(e){var t,i,r;for(t=0;t<this._trendAreaCollection.length&&(!(r=this._trendAreaCollection[t]).trendWindowArea.trendWindow.trendWindowDrawn||(i=document.createElementNS("http://www.w3.org/2000/svg","g"),e.childNodes[0].appendChild(i),!1!==r.draw(i)));++t);},this._dimCalculator=function(e){var t,i,r=this._calculateDim(e);if(r.indexOf("0")>-1&&"0"!==r)for(t=this._trendAreaCollection.length,i=0;i<t;i++)this._trendAreaCollection[i].trendWindowArea.trendWindow.setLayoutSuccess(!1);return r},this.drawLayout=function(e){var t;if(this._trendView)return this._createTrendAreas(),this._trendView.hasVerticalScrollbar(),-1!==(t=this._dimCalculator(!0)).indexOf("1")?(t.length!==this._trendAreaCollection.length||"0"===t?(this._trendView.createDrawableTrendsCollection(),this._trendView.allAreasDrawn=!1):("0"===this._layoutDrawn&&(this._trendView.clearDrawableTrendAreas(),this._trendView.updateDrawableTrends()),this._trendView.allAreasDrawn=!0),this._draw(e),this._layoutDrawn=t,!0):(this._layoutDrawn=t,this._trendView.allAreasDrawn=!1,!1)},this.updateLayout=function(){var e,t,i;if(this._trendView.hasVerticalScrollbar(),(i=this._dimCalculator(!0))!==this._layoutDrawn)return i.length>this._layoutDrawn.length?this._trendView.saveTrendWindowIndex(this._layoutDrawn.length):"0"===this._layoutDrawn&&this._trendView.saveTrendWindowIndex(0),this._layoutDrawn=i,this._layoutDrawn.length!==this._trendAreaCollection.length||"0"===this._layoutDrawn?this._trendView.allAreasDrawn=!1:this._trendView.allAreasDrawn=!0,!1;for(e=0;e<this._trendAreaCollection.length;++e)if((t=this._trendAreaCollection[e]).trendWindowArea.trendWindow.trendWindowDrawn&&!1===t.update())return this._layoutDrawn;return!0},this.cleanUp=function(){var e;for(e=0;e<this._trendAreaCollection.length;++e)this._trendAreaCollection[e].cleanUp();this._trendAreaCollection=null,this._trendView=null},this._trendView=i};i.ChartLayouter=r}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={count:"1",condition:"true"},e}return r(n,i),n.prototype.draw=function(r,n){if(i.prototype.draw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.DivisionStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.DivisionArc(this))),this.isValid())for(var a=0;a<this.Features.length;a++)this.dom.appendChild(this.Features[a].draw(r,n));return this.dom},n.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.count))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Division without valid count"),!1):null!==e.Utilities.convertToBool(this.Attributes.condition)||(e.trace(e.enumTraceMode.Warning,"Can't draw a Division Object with invalid condition"),!1)},n.prototype.getStructure=function(){return this.implementation.getStructure()},n.prototype.getAttribute=function(e){return"count"===e&&parseFloat(this.Attributes[e])<1?"1":this.Attributes[e]},n.prototype.getMetaData=function(){if(!this.metaData)throw"No metaData available, the draw(...) method needs to be called first.";return this.metaData},n}(t.StructureBase);t.Division=i}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){var r=function(){function i(i){this._lineWidth=0,this._areaDrawn=!0,this.SCROLLBAR_WIDTH=17,this._rect=new t.Structure.Rectangle,this._valueScrollbarWidth=0,this._timeScrollbarWidth=0,this._createAxisCollection=function(){var e,i,r=0,n=t.Structure.AxisArea,a=this.trendWindow.getIsLeftOrRight();for(r=(e=a?this.trendWindow.topAxes:this.trendWindow.leftAxes).length,i=0;i<r;++i)this.topAxisArea.addAxisArea(new n(e[i]));for(r=(e=a?this.trendWindow.bottomAxes:this.trendWindow.rightAxes).length,i=0;i<r;++i)this.bottomAxisArea.addAxisArea(new n(e[i]));for(r=(e=a?this.trendWindow.leftAxes:this.trendWindow.bottomAxes).length,i=0;i<r;++i)this.leftAxisArea.addAxisArea(new n(e[i]));for(r=(e=a?this.trendWindow.rightAxes:this.trendWindow.topAxes).length,i=0;i<r;++i)this.rightAxisArea.addAxisArea(new n(e[i]))},this.calculateAxisAreaWidth=function(){this.leftAxisArea.calculateWidth(),this.rightAxisArea.calculateWidth()},this.calculateAxisAreaHeight=function(){this.topAxisArea.calculateHeight(),this.bottomAxisArea.calculateHeight()},this.draw=function(e){var i=this.trendWindowArea.rect,r=null;return this._topAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._bottomAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._leftAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._rightAxisAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._trendWindowAreaSVGGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this._trendAreaRect=t.Shape.SvgShape.CreateSvgElement("rect",{stroke:this.trendWindow.getTrendViewLineColor(),"stroke-width":this._lineWidth,fill:this.trendWindow.backColor,"fill-opacity":1,class:"lineColorClass",x:i.left,y:i.top,width:i.width,height:i.height}),this._areaDrawn?(r=!1,this.bottomAxisArea.draw(this._bottomAxisAreaSVGGroup)&&this.topAxisArea.draw(this._topAxisAreaSVGGroup)&&this.leftAxisArea.draw(this._leftAxisAreaSVGGroup)&&this.rightAxisArea.draw(this._rightAxisAreaSVGGroup)&&(this.trendWindowArea.draw(this._trendWindowAreaSVGGroup,this._trendAreaRect),this.trendWindow.drawScrollbars(),e.appendChild(this._trendAreaRect),e.appendChild(this._topAxisAreaSVGGroup),e.appendChild(this._bottomAxisAreaSVGGroup),e.appendChild(this._leftAxisAreaSVGGroup),e.appendChild(this._rightAxisAreaSVGGroup),e.appendChild(this._trendWindowAreaSVGGroup),r=!0)):(this.trendWindowArea.draw(this._trendWindowAreaSVGGroup,this._trendAreaRect),e.appendChild(this._trendWindowAreaSVGGroup)),r},this.update=function(){var e=this.trendWindowArea.rect,t=!0;return this._trendAreaRect&&(this._trendAreaRect.setAttributeNS(null,"x",e.left),this._trendAreaRect.setAttributeNS(null,"y",e.top),this._trendAreaRect.setAttributeNS(null,"height",e.height),this._trendAreaRect.setAttributeNS(null,"width",e.width),this._areaDrawn&&(this.bottomAxisArea.update(this._bottomAxisAreaSVGGroup)&&this.topAxisArea.update(this._topAxisAreaSVGGroup)&&this.leftAxisArea.update(this._leftAxisAreaSVGGroup)&&this.rightAxisArea.update(this._rightAxisAreaSVGGroup)?(this.trendWindowArea.update(this._trendWindowAreaSVGGroup),this.trendWindow.getRedrawForScrollbars()?this.trendWindow.drawScrollbars():this.trendWindow.updateScrollbars()):t=!1)),t},this.cleanUp=function(){this._rect=this._topAxisAreaSVGGroup=this._bottomAxisAreaSVGGroup=this._leftAxisAreaSVGGroup=this._rightAxisAreaSVGGroup=this._trendWindowAreaSVGGroup=this._trendAreaRect=null,this.leftAxisArea.cleanUp(),this.rightAxisArea.cleanUp(),this.bottomAxisArea.cleanUp(),this.topAxisArea.cleanUp(),this.trendWindowArea.cleanUp(),this.leftAxisArea=this.rightAxisArea=this.bottomAxisArea=this.topAxisArea=this.trendWindowArea=this.trendWindow=null},this.trendWindow=i,this.trendWindowArea=new t.Structure.GraphAreaWindow(this.trendWindow),this.leftAxisArea=new t.Structure.AxisAreaCollection(e.Data.GraphAlignment.Left,this._lineWidth),this.rightAxisArea=new t.Structure.AxisAreaCollection(e.Data.GraphAlignment.Right,this._lineWidth),this.bottomAxisArea=new t.Structure.AxisAreaCollection(e.Data.GraphAlignment.Bottom,this._lineWidth),this.topAxisArea=new t.Structure.AxisAreaCollection(e.Data.GraphAlignment.Top,this._lineWidth),i.getMinMaxRulerExtent=this._getMinMaxRulerExtent.bind(this),i.getRulerBounds=this._getRulerBoundaries.bind(this),this._createAxisCollection()}return i.prototype._getMinMaxRulerExtent=function(){return this.trendWindow.getIsLeftOrRight()?this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth()+this.rightAxisArea.getWidth()+this._valueScrollbarWidth:this.topAxisArea.getTop()},i.prototype._getRulerBoundaries=function(e,i){var r=new t.Structure.Rectangle,n=this.trendWindow.getIsLeftOrRight(),a=this.trendWindow.isOnlineTrendControl();return n?(this.topAxisArea.hasAxis()?r.top=this.topAxisArea.getTopBottomBound(e):r.top=this.trendWindowArea.getTop(),this.bottomAxisArea.hasAxis()?r.bottom=this.bottomAxisArea.getTopBottomBound(i):r.bottom=this.trendWindowArea.getTop()+this.trendWindowArea.getHeight(),r.height=r.bottom-r.top,a?(r.left=this.trendWindowArea.getLeft(),r.right=this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth()):(this.leftAxisArea.hasAxis()?r.left=this.leftAxisArea.getLeftRightBound(i):r.left=this.trendWindowArea.getLeft(),this.rightAxisArea.hasAxis()?r.right=this.rightAxisArea.getLeftRightBound(e):r.right=this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth()),r.width=r.right-r.left):(this.leftAxisArea.hasAxis()?r.left=this.leftAxisArea.getLeftRightBound(i):r.left=this.trendWindowArea.getLeft(),this.rightAxisArea.hasAxis()?r.right=this.rightAxisArea.getLeftRightBound(e):r.right=this.trendWindowArea.getLeft()+this.trendWindowArea.getWidth(),r.width=r.right-r.left,a?(r.top=this.trendWindowArea.getTop(),r.bottom=this.trendWindowArea.getTop()+this.trendWindowArea.getHeight()):(this.topAxisArea.hasAxis()?r.top=this.topAxisArea.getTopBottomBound(e):r.top=this.trendWindowArea.getTop(),this.bottomAxisArea.hasAxis()?r.bottom=this.bottomAxisArea.getTopBottomBound(i):r.bottom=this.trendWindowArea.getTop()+this.trendWindowArea.getHeight()),r.height=r.bottom-r.top),r},i.prototype.calculateDim=function(e,t,i){var r,n,a,o,s,l,u=null,h=null,d=null,c=null,p=null,m=null,g=this.trendWindow,T=g.getIsLeftOrRight(),f=(g.isOnlineTrendControl(),g.getRulerHandleWidthHeight(),0);return this._timeScrollbarWidth=0,this._valueScrollbarWidth=0,T?(this._rect.left=e.left,this._rect.top=e.top,this._rect.height=e.height,this._rect.width=e.width-t):(f=t,this._rect.left=e.left,this._rect.top=e.top+f,this._rect.height=e.height-f,this._rect.width=e.width),g.getAxesZoomed().xZoomed&&(this._timeScrollbarWidth=this.SCROLLBAR_WIDTH+this._lineWidth),i&&(this._valueScrollbarWidth=this.SCROLLBAR_WIDTH+this._lineWidth),l=T?0:this._timeScrollbarWidth,T?(n=this.bottomAxisArea.calculateHeight()+this._timeScrollbarWidth,a=this.topAxisArea.calculateHeight(),o=this.leftAxisArea.getWidth()+this._valueScrollbarWidth,s=this.rightAxisArea.getWidth()):(n=this.bottomAxisArea.getHeight()+this._valueScrollbarWidth,a=this.topAxisArea.getHeight(),o=this.leftAxisArea.calculateWidth()+this._timeScrollbarWidth,s=this.rightAxisArea.calculateWidth()),this.trendWindowArea.setHeight(this._rect.height-(n+a)),this.trendWindowArea.setWidth(this._rect.width-(o+s)),r=this.trendWindowArea.rect,this.leftAxisArea.setHeight(r.height),this.rightAxisArea.setHeight(r.height),this.topAxisArea.setWidth(r.width),this.bottomAxisArea.setWidth(r.width),this.topAxisArea.setLeft(this._rect.left+this.leftAxisArea.getWidth()+l),this.topAxisArea.setTop(this._rect.top),this.leftAxisArea.setLeft(this._rect.left+l),this.leftAxisArea.setTop(this._rect.top+a),this.bottomAxisArea.setLeft(this.topAxisArea.getLeft()),this.bottomAxisArea.setTop(this._rect.top+a+this.leftAxisArea.getHeight()),this.rightAxisArea.setLeft(this.topAxisArea.getLeft()+this.topAxisArea.getWidth()),this.rightAxisArea.setTop(this.leftAxisArea.getTop()),this.trendWindowArea.setLeft(this._rect.left+this.leftAxisArea.getWidth()+l),this.trendWindowArea.setTop(this._rect.top+a),this._valueScrollbarWidth&&(T?(p=this.trendWindowArea.getHeight()-this._lineWidth,h=this._rect.top+a+this._lineWidth/2,u=this.rightAxisArea.getLeft()+this.rightAxisArea.getWidth()):(p=this.trendWindowArea.getWidth()-this._lineWidth,h=this.bottomAxisArea.getTop()+this.bottomAxisArea.getHeight(),u=this._rect.left+this.leftAxisArea.getWidth()+l+this._lineWidth/2)),this._timeScrollbarWidth&&(T?(m=this.trendWindowArea.getWidth()-this._lineWidth,c=this.bottomAxisArea.getTop()+this.bottomAxisArea.getHeight(),d=this._rect.left+this.leftAxisArea.getWidth()+this._lineWidth/2):(m=this.trendWindowArea.getHeight()-this._lineWidth,c=this._rect.top+a+this._lineWidth/2,d=this._rect.left+this._lineWidth)),(this._timeScrollbarWidth||this._valueScrollbarWidth)&&g.setScrollbarDim(u,h,d,c,p,m),r.isEmpty()?(this.trendWindowArea.setWidth(this._rect.width),this.trendWindowArea.setHeight(this._rect.height),this._areaDrawn=!1,g.setLayoutSuccess(!1)):(g.setLayoutSuccess(!0),this._areaDrawn=!0),this._areaDrawn},i}();i.GraphAreaStructure=r}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(t){var i=function(t){this.setHeight=function(e){this.rect.height=e,this.innerRect.height=e-this.trendWindow.getTrendViewLineWidth()},this.setWidth=function(e){this.rect.width=e,this.innerRect.width=e-this.trendWindow.getTrendViewLineWidth()},this.setLeft=function(e){this.rect.left=e,this.innerRect.left=e+this.trendWindow.getTrendViewLineWidth()/2},this.setTop=function(e){this.rect.top=e,this.innerRect.top=e+this.trendWindow.getTrendViewLineWidth()/2},this.getHeight=function(){return this.rect.height},this.getWidth=function(){return this.rect.width},this.getLeft=function(){return this.rect.left},this.getTop=function(){return this.rect.top},this.draw=function(e,t){this.trendWindow&&(this.trendWindow.setSVG(e,t),this.trendWindow.draw())},this.update=function(){this.trendWindow&&this.trendWindow.update()},this.cleanUp=function(){this.trendWindow=this.rect=this.innerRect=null},this.trendWindow=t,this.rect=new e.Structure.Rectangle,this.innerRect=new e.Structure.Rectangle,t.setRect(this.rect,this.innerRect)};t.GraphAreaWindow=i}(e.Structure||(e.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={condition:"true"},e}return r(n,i),n.prototype.draw=function(r,n){if(i.prototype.draw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.MarkerStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.MarkerArc(this))),this.Attributes.value=this.getAttribute("value"),this.isValid())for(var a=0;a<this.Features.length;a++){var o=this.Features[a].draw(r,n);this.dom.contains(o)||this.dom.appendChild(o)}return this.dom},n.prototype.prepareDom=function(){this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g"))},n.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.value))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Marker without value"),!1):null!==e.Utilities.convertToBool(this.Attributes.condition)||(e.trace(e.enumTraceMode.Warning,"Can't draw a Marker Object with invalid condition"),!1)},n.prototype.getStructure=function(){return this.implementation.getStructure()},n.prototype.getAttribute=function(e){var t=this.Parent.getStructure(),i=this.getScaleSections(t);switch(this.Attributes[e]){case"scale-begin":return String(this.metaData.scaleBegin);case"scale-end":return String(this.metaData.scaleEnd);case"begin-surcharge":return String(this.metaData.getBeginSurchargeValue(i[0]));case"end-surcharge":return String(this.metaData.getEndSurchargeValue(i[0]));default:return this.Attributes[e]}},n.prototype.hasSpecialValue=function(e){return"scale-begin"==this.Attributes[e]||"scale-end"==this.Attributes[e]||"begin-surcharge"==this.Attributes[e]||"end-surcharge"==this.Attributes[e]},n}(t.StructureBase);t.Marker=i}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={origin:"0",condition:"true"},e}return r(n,i),n.prototype.draw=function(r,n){if(i.prototype.draw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.MeasureStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.MeasureArc(this))),this.isValid())for(var a=0;a<this.Features.length;a++)this.dom.appendChild(this.Features[a].draw(r,n));return this.dom},n.prototype.isValid=function(){return isNaN(parseInt(this.Attributes.graduation))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Measure without graduation"),!1):null!==e.Utilities.convertToBool(this.Attributes.condition)||(e.trace(e.enumTraceMode.Warning,"Can't draw a Measure with invalid condition"),!1)},n.prototype.getStructure=function(){return this.implementation.getStructure()},n.prototype.calculateTickSpacing=function(e){return Math.abs(Number(this.getAttribute("graduation")))},n}(t.StructureBase);t.Measure=i}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={"begin-value":"scale-begin","end-value":"scale-end",condition:"true"},e}return r(n,i),n.prototype.draw=function(r,n){if(i.prototype.draw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.RangeStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.RangeArc(this))),this.isValid())for(var a=0;a<this.Features.length;a++)this.dom.appendChild(this.Features[a].draw(r,n));return this.dom},n.prototype.isValid=function(){return!this.hasSpecialValue("begin-value")&&isNaN(parseInt(this.getAttribute("begin-value")))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Range without begin-value"),!1):!this.hasSpecialValue("end-value")&&isNaN(parseInt(this.getAttribute("end-value")))?(e.trace(e.enumTraceMode.Warning,"Can't draw a Range without end-value"),!1):null!==e.Utilities.convertToBool(this.getAttribute("condition"))||(e.trace(e.enumTraceMode.Warning,"Can't draw a Range with invalid condition"),!1)},n.prototype.getStructure=function(){return this.implementation.getStructure()},n.prototype.getAttribute=function(e){switch(e){case"begin-value":case"end-value":var t=this.Parent.getStructure(),i=this.getScaleSections(t);switch(this.Attributes[e]){case"scale-begin":return String(this.metaData.scaleBegin);case"scale-end":return String(this.metaData.scaleEnd);case"begin-surcharge":return String(this.metaData.getBeginSurchargeValue(i[0]));case"end-surcharge":return String(this.metaData.getEndSurchargeValue(i[0]));default:return this.Attributes[e]}default:return this.Attributes[e]}},n.prototype.getPositionFromAttribute=function(e){var t;switch(this.Attributes[e]){case"scale-begin":t=this.metaData.scaleBegin;break;case"scale-end":t=this.metaData.scaleEnd;break;case"begin-surcharge":return this.implementation.getBeginSurchargePosition();case"end-surcharge":return this.implementation.getEndSurchargePosition();default:t=parseFloat(this.Attributes[e])}return t=this.restrictToScale(t),this.implementation.getPosition(t)},n.prototype.hasSpecialValue=function(e){switch(e){case"begin-value":case"end-value":switch(this.Attributes[e]){case"scale-begin":case"scale-end":case"begin-surcharge":case"end-surcharge":return!0;default:return!1}default:return!1}},n.prototype.getParentSection=function(){var e=this.Parent.getStructure(),t=this.getScaleSections(e);return t?t[0]:null},n.prototype.restrictToScale=function(e){var t=this.getParentSection(),i=Math.min(t.beginValue,t.endValue),r=Math.max(t.beginValue,t.endValue);return Math.max(Math.min(e,r),i)},n}(t.StructureBase);t.Range=i}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){this.left=0,this.top=0,this.height=0,this.width=0,this.right=0,this.bottom=0,this.Inflate=function(e){e<0?(e*=-1,this.top-=e,this.left-=e,this.width+=2*e,this.height+=2*e):(this.top+=e/2,this.left+=e/2,this.width-=e,this.height-=e)},this.isEmpty=function(){return this.width<=1||this.height<=1}};e.Rectangle=t}(e.Structure||(e.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={condition:"true"},e.thresholdMode={Upper:1,Lower:2,Normal:3,Minimum:4,Maximum:5},e}return r(n,i),n.prototype.draw=function(r,n){i.prototype.draw.call(this,r,n),this.implementation||(this.metaData.NVE instanceof e.StraightDial?this.implementation=new t.StraightDial.ThresholdsStraight(this):this.metaData.NVE instanceof e.ArcDial&&(this.implementation=new t.ArcDial.ThresholdsArc(this))),this.getAttribute("config")&&this.getAttribute("config").sort((function(e,t){return e.BeginValue-t.BeginValue}));for(var a=0;a<this.Features.length;a++)this.dom.appendChild(this.Features[a].draw(r,n));return this.dom},n.prototype.getStructure=function(){return this.implementation.getStructure()},n}(t.StructureBase);t.Thresholds=i}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(t,i){this._diagramID=t,this.metaData=i,this.lines={},this.branches={},this.functions={},this._titleText={},this.isNegated=!1,this.operandData=[],this._selectionFbdCallBackRef=this.fbdSelectionHandler.bind(this),this.dataHandler=new e.FBDRTDataHandler(this)}return Object.defineProperty(t.prototype,"titleText",{set:function(t){this.titleKey=t.Key,this._titleText[t.Key]=new e.TextElement(t.Value,this.metaData,"title")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedFbdElement",{get:function(){return this._selectedFbdElement},enumerable:!1,configurable:!0}),t.prototype.getTitleText=function(){return this._titleText},Object.defineProperty(t.prototype,"errorDescription",{set:function(t){t&&(this._errorDescription=new e.TextElement(t,this.metaData,"error"))},enumerable:!1,configurable:!0}),t.prototype.getErrorDescription=function(){return this._errorDescription},Object.defineProperty(t.prototype,"diagramID",{get:function(){return this._diagramID},enumerable:!1,configurable:!0}),t.prototype.update=function(e){e&&(e.ErrorDescription&&this._errorDescription&&this._errorDescription.update(e.ErrorDescription),e.Name&&e.Name.Value&&this._titleText&&this._titleText[this.titleKey].update(e.Name.Value))},t.prototype.render=function(e){if(this.renderTitle(e),this._errorDescription?this.renderError(e):(this.renderBranches(e),this.renderFlowLines(e),this.renderFunction(e)),this.metaData.activeData){var t=n(this.metaData.activeData);this.dataHandler.setActiveStatus(t),this.metaData.activeData=null}if(this.metaData.operandData){var i=n(this.metaData.operandData);this.setData(i),this.metaData.operandData=null}},t.prototype.addFlowLine=function(t,i){var r=new e.FlowLineElement(t,this,i,e.Orientation.horizontal);this.lines[t.Key]=r},t.prototype.addBranch=function(t,i){var r=new e.BranchElement(t,this,i,e.Orientation.vertical);this.branches[t.Key]=r},t.prototype.addFunction=function(t,i){var r=new e.FunctionBlockElement(t,i);this.functions[t.Key]=r},t.prototype.addFunctionContact=function(t,i){var r=new e.FunctionTransitionElement(t,i);this.functions[t.Key]=r},t.prototype.setStartYPos=function(e){this._yPos=e,this._titleText[this.titleKey].setStartYPos(this._yPos),this._errorDescription&&this._errorDescription.setStartYPos(this._titleText[this.titleKey].y+10)},t.prototype.setLayoutProps=function(e,t){this._height=t,this._width=e},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.getStartYPos=function(){return this._yPos},t.prototype.getStartElement=function(){var e=null,t=null;for(this.list&&this.list.length>0&&(e=this.getElementDetails(this.list[0].Key));e;)for(var i in t=e,e=null,t.outputs)if(e=this.getNextBlockElement(t.id,i))break;return t},t.prototype.getLastElement=function(e){for(var t,i=this.getElementDetails(e);i;)for(var r in t=i,i=null,t.outputs)if(i=this.getNextBlockElement(t.id,r))break;return t},t.prototype.renderTitle=function(e){this._titleText[this.titleKey].render(e)},t.prototype.renderError=function(e){this._errorDescription.render(e)},t.prototype.renderBranches=function(e){for(var t in this.branches){var i=this.getElementDetails(t);e.contains(this.branchParentGroup)||this.createElementsParentGroup(e,"branchParentGroup"),i.render(this.branchParentGroup)}},t.prototype.renderFlowLines=function(e){for(var t in this.lines){var i=this.lines[t];e.contains(this.lineParentGroup)||this.createElementsParentGroup(e,"lineParentGroup"),i.render(this.lineParentGroup)}},t.prototype.getParent=function(e){var t=null;return this.connDetails.every((function(i){return i.To!==e||(t=i.From,!1)})),this.getElementDetails(t)},t.prototype.renderFunction=function(e){for(var t in this.functions){var i=this.getElementDetails(t);e.contains(this.functionParentGroup)||this.createElementsParentGroup(e,"functionParentGroup"),i.render(this.functionParentGroup)}},t.prototype.getElementDetails=function(e,t){return this.branches[e]?this.branches[e]:this.functions[e]?t?this.functions[e].getConnector(t):this.functions[e]:this.lines[e]?this.lines[e]:void 0},t.prototype.createElementsParentGroup=function(e,t){this[t]=document.createElementNS("http://www.w3.org/2000/svg","g"),this[t].setAttribute("class",t),e.appendChild(this[t])},t.prototype.getNextBlockElement=function(t,i){var r=this.getNextConnection(t,i);if(r){var n=this.getElementDetails(r.id);return!n||n instanceof e.FunctionBlockElement?n:this.getNextBlockElement(n.id)}return null},t.prototype.getNextElement=function(e,t){var i=this.getNextConnection(e,t);return i?this.getElementDetails(i.id,null==i?void 0:i.toPin):null},t.prototype.getNextLayoutElement=function(t,i){var r=this.getNextConnection(t,i);if(r){var n=this.getElementDetails(r.id);if(n instanceof e.FunctionBlockElement||n instanceof e.BranchElement)return n}return null},t.prototype.getPrevLayoutElement=function(e,t){var i=this.getPrevConnection(e,t);return i?this.getElementDetails(i.id):null},t.prototype.getChildren=function(e){var t=this,i=[];return this.connDetails.forEach((function(r){if(r.From===e){var n=t.getElementDetails(r.To);i.push(n)}})),i},t.prototype.getLastChild=function(e){var t=this,i=null;return this.connDetails.forEach((function(r){r.From===e&&(i=t.getElementDetails(r.To,r.ToPin))})),i},t.prototype.getNextConnection=function(e,t){var i=null;return this.connDetails.every((function(r){return!!(r.From!==e||t&&r.FromPin!==t)||(i={id:r.To,toPin:r.ToPin},!1)})),i},t.prototype.getPrevElement=function(e,t){var i=this.getPrevConnection(e,t);return i?this.getElementDetails(i.id,i.fromPin):null},t.prototype.getPrevConnection=function(e,t){var i=null;return this.connDetails.every((function(r){return!!(r.To!==e||t&&r.ToPin!==t)||(i={id:r.From,fromPin:r.FromPin},!1)})),i},t.prototype.setActiveStatus=function(e){this.dataHandler.setActiveStatus(e)},t.prototype.getEndYPos=function(){return this._errorDescription?this._errorDescription.getStartYPos():this._yPos?this._yPos+this._height:this._titleText[this.titleKey].height},t.prototype.unRegisterForFbdSelection=function(){this.functionParentGroup&&this.functionParentGroup.removeEventListener("click",this._selectionFbdCallBackRef)},t.prototype.registerForFbdSelection=function(){this.functionParentGroup&&this.functionParentGroup.addEventListener("click",this._selectionFbdCallBackRef)},t.prototype.setFbdSelectionHandlerCallBack=function(e){this._fbdSelectionHandler=e},t.prototype.fbdSelectionHandler=function(e){var t=e&&e.target.parentElement.parentElement;if("ClickableIODecorator"===t.getAttribute("className")){var i=t.id.split(" ");this._fbdSelectionHandler(i[0],i[1],this._diagramID)}},t.prototype.clearPrevFbdSelection=function(){this._selectedFbdElement&&(this._selectedFbdElement=null)},t.prototype.updateSelectedFbdElement=function(e,t,i){e&&(this._selectedFbdElement=this.getElementDetails(e),this.metaData.dp.setSelectedBlockId("FBD",{diagTitle:i,blockId:e,pinName:t}))},t.prototype.setData=function(e){this.operandData=e;for(var t=0,i=e;t<i.length;t++){var r=i[t];this.dataHandler.setData(r)}},t.prototype.getActiveData=function(){return this.dataHandler.getActiveStatus()},t.prototype.getOperandData=function(){return this.operandData},t.prototype.getInitialBlock=function(){var e=null,t=[];for(var i in this.functions){var r=!1;for(var n in this.connDetails)if(this.connDetails[n].To===this.functions[i].id){r=!0;break}r||t.push(this.functions[i])}for(var a=0,o=t;a<o.length;a++){i=o[a];(!e||e&&i.getStartXPos()<e.getStartXPos()&&i.getStartYPos()<e.getStartYPos())&&(e=i)}return e},t.prototype.getNextFunctionBlocks=function(e){var t=this,i=[],r=[];return this.connDetails.forEach((function(n){n.From===e&&(n.To.indexOf("ILBranch")>-1?r.includes(n.To)||(r.push(n.To),i.push.apply(i,t.getNextFunctionBlocks(n.To))):i.includes(n.To)||i.push(n.To))})),r.length=0,i},t.prototype.getPreviousFunctionBlocks=function(e){var t=this,i=[],r=[];return this.connDetails.forEach((function(n){n.To===e&&(n.From.indexOf("ILBranch")>-1?r.includes(n.From)||(r.push(n.From),i.push.apply(i,t.getPreviousFunctionBlocks(n.From))):i.includes(n.From)||i.push(n.From))})),i},t.prototype.getPreviousConnFunctionBlocks=function(e,t){var i,r,n,a=null===(i=this.functions[e])||void 0===i?void 0:i.inputs;if(a){for(var o in a){var s=a[o].line;if(s.tifId===t){t=s.id;break}}var l=null===(r=this.getPrevConnection(this.functions[e].id,t))||void 0===r?void 0:r.id;return(null==l?void 0:l.indexOf("ILBranch"))>-1?null===(n=this.getPrevConnection(l,t))||void 0===n?void 0:n.id:l}},t.prototype.getNextConnFunctionBlocks=function(e,t){var i,r,n,a=null===(i=this.functions[e])||void 0===i?void 0:i.outputs;if(a){for(var o in a){var s=a[o].line;if(s.tifId===t){t=s.id;break}}var l=null===(r=this.getNextConnection(this.functions[e].id,t))||void 0===r?void 0:r.id;return(null==l?void 0:l.indexOf("ILBranch"))>-1?null===(n=this.getNextConnection(l,t))||void 0===n?void 0:n.id:l}},t.prototype.remove=function(){for(var e in this.branches)this.branches[e].remove();for(var t in this.lines)this.lines[t].remove();for(var i in this.functions)this.functions[i].remove();this._titleText[this.titleKey].remove(),this.dataHandler.remove(),this._errorDescription&&this._errorDescription.remove(),this.operandData=null,this.connDetails=null,this.list=null,this.branchParentGroup=null,this.lineParentGroup=null,this.functionParentGroup=null,this.dataHandler=null,this._fbdSelectionHandler=null,this._selectedFbdElement=null,this._selectionFbdCallBackRef=null},t}();e.FBDModel=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(e){this.diag=e,this.activeData=[]}return t.prototype.setActiveStatus=function(t){t.length>0&&(this.activeData=t);for(var i=0,r=t;i<r.length;i++){var n=r[i],a=this.diag.getElementDetails(n.Key,n.Pin);if(a&&(!(a instanceof e.FunctionConnectorElement)||a.line.isActive!==n.Data.isActive)&&void 0!==n.Data.isActive&&(a.updateActivationStatus(n.Data.isActive),a instanceof e.FunctionConnectorElement)){var o=this.diag.getNextElement(a.id,a.pin);(o instanceof e.FlowLineElement||o instanceof e.FunctionTransitionElement&&"Transition"===o.decoratorSubType||o instanceof e.BranchElement)&&o.updateActivationStatus(n.Data.isActive)}}},t.prototype.getActiveStatus=function(){return this.activeData},t.prototype.setData=function(e){var t=this.diag.getElementDetails(e.Key,e.Pin);t&&t.updateOperandData(e)},t.prototype.remove=function(){this.activeData=null},t}();e.FBDRTDataHandler=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(i,r){var n,a,o,s,l,u,h,d;this.masterData=i,this.metaData=r,this.minBoxWidth=80,this.minHeaderHeight=22,this.headerPadding=4,this.inputs={},this.outputs={},this.x=0,this.y=0,this.title=null,this.titleHeight=0,this.content="",this.isSelected=!1,this.id=this.masterData.Key,this.height=0;var c=e.getSystemPart("HmiBlockSymbolSystemPart");c=this.metaData.updateMissingBlockSubParts(c),this.setUpConnectors();var p=this.masterData.Data.Content;this.calculateWidthOfBox(p.Text),this.header=new t.FBDOperandMetaData(r,p.Text,c.HeaderFont,null===(n=p.Value)||void 0===n?void 0:n.TagValue,p.hasValue,c.ContentFont,this.width,null===(a=p.Address)||void 0===a?void 0:a.Value,null===(o=p.Address)||void 0===o?void 0:o.Fore),this.headerHeight=this.header.height;var m=this.masterData.Data.Header;m&&(this.title=new t.FBDOperandMetaData(r,m.Text,c.TitleFont,null===(s=m.Value)||void 0===s?void 0:s.TagValue,m.hasValue,c.ContentFont,this.width,null===(l=m.Address)||void 0===l?void 0:l.Value,null===(u=m.Address)||void 0===u?void 0:u.Fore,m.Back,m.Fore,null===(h=m.Value)||void 0===h?void 0:h.Back,null===(d=m.Value)||void 0===d?void 0:d.Fore),this.titleHeight=this.title.height),this.positionConnectors()}return i.prototype.setUpConnectors=function(){var e=this;this.masterData.Data.Parameters.Input&&0!==this.masterData.Data.Parameters.Input.length&&this.masterData.Data.Parameters.Input.forEach((function(i){var r=e.masterData.Data.Parameters.Input.indexOf(i),n=new t.FunctionConnectorElement(e,i.Key,i.Operand,i.Text,e.metaData,t.ConnectorType.Input,i.IsNegated,r);e.inputs[i.Key]=n,e.firstInPin||(e.firstInPin=n)})),this.masterData.Data.Parameters.Output&&0!==this.masterData.Data.Parameters.Output.length&&this.masterData.Data.Parameters.Output.forEach((function(i){var r=e.masterData.Data.Parameters.Output.indexOf(i),n=new t.FunctionConnectorElement(e,i.Key,i.Operand,i.Text,e.metaData,t.ConnectorType.Output,i.IsNegated,r);e.outputs[i.Key]=n,e.firstOutPin||(e.firstOutPin=n)}))},i.prototype.calculateWidthOfBox=function(i){var r=e.getSystemPart("HmiBlockSymbolSystemPart");r=this.metaData.updateMissingBlockSubParts(r);var n=0,a=0;for(var o in this.inputs)n=Math.max(this.inputs[o].getFormalTextWidth(),n);for(var s in this.outputs)a=Math.max(this.outputs[s].getFormalTextWidth(),a);this.width=Math.max(e.getTextWidth(i,r.HeaderFont,!0)+20+4,n+a+4*t.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING,this.minBoxWidth)},i.prototype.positionConnectors=function(){this.firstInPin&&(this.firstInPin.yPos=this.titleHeight+this.headerHeight+t.FunctionConnectorElement.CONN_PADDING),this.firstOutPin&&(this.firstOutPin.yPos=this.titleHeight+this.headerHeight+t.FunctionConnectorElement.CONN_PADDING)},i.prototype.getStartXPos=function(){return this.x},i.prototype.setStartXPos=function(e){for(var i in this.x=e,this.inputs)this.inputs[i].x1=e-t.FunctionConnectorElement.CONN_WIDTH,this.inputs[i].x2=e;for(var r in this.outputs)this.outputs[r].x1=e+this.width,this.outputs[r].x2=e+this.width+t.FunctionConnectorElement.CONN_WIDTH},i.prototype.setStartYPos=function(e){this.y=e},i.prototype.getStartYPos=function(){return this.y},Object.defineProperty(i.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),i.prototype.getConnector=function(e){return this.inputs[e]||this.outputs[e]},i.prototype.getDownConnector=function(e){return this.getDownPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},i.prototype.getUpConnector=function(e){return this.getUpPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},i.prototype.hasOperand=function(e){if("input"===e){for(var t in this.inputs)if(this.inputs[t].operand.infoText.length>0)return!0}else for(var i in this.outputs)if(this.outputs[i].operand.infoText.length>0)return!0},i.prototype.updateOperandData=function(e){var t,i,r,n;this.title.updateTagValue(null===(t=e.Operand.Value)||void 0===t?void 0:t.TagValue),(null===(i=e.Operand.Value)||void 0===i?void 0:i.TagValue.toString())&&this.blockTemplate.setDataContent({TitleTag:e.Operand.Value.TagValue}),(null===(r=e.Operand.Value)||void 0===r?void 0:r.Back)&&this.blockTemplate.setDataContent({TitleTagBackColor:e.Operand.Value.Back}),(null===(n=e.Operand.Value)||void 0===n?void 0:n.Fore)&&this.blockTemplate.setDataContent({TitleTagForeColor:e.Operand.Value.Fore}),e.Operand.Back&&this.blockTemplate.setDataContent({TitleTextBackColor:e.Operand.Back}),e.Operand.Fore&&this.blockTemplate.setDataContent({TitleTextForeColor:e.Operand.Fore}),this.blockTemplate.update()},i.prototype.getDownPinConnector=function(e,t){var i=null,r=!1;for(var n in e)if(t===n)r=!0;else if(r){i=e[n];break}return i},i.prototype.getUpPinConnector=function(e,t){var i=null,r=!1;return Object.keys(e).reverse().every((function(n){if(t===n)r=!0;else if(r)return i=e[n],!1;return!0})),i},Object.defineProperty(i.prototype,"isProcessed",{get:function(){return this._isProcessed},set:function(e){if(!e){for(var t in this.inputs)this.inputs[t].isProcessed=e;for(var t in this.outputs)this.outputs[t].isProcessed=e}this._isProcessed=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linePos",{get:function(){return Math.max(this.firstInPin.yPos+this.firstInPin.height,this.firstOutPin.yPos+this.firstOutPin.height)},set:function(e){this.y=e-this.firstInPin.height-this.headerHeight-this.titleHeight-t.FunctionConnectorElement.CONN_PADDING},enumerable:!1,configurable:!0}),i.prototype.resizeBlock=function(e){var t=this.titleHeight+this.headerHeight+this.minHeaderHeight;e<t&&(e=t),this.height=e,this.contentHeight=this.height-this.headerHeight-this.titleHeight},i.prototype.render=function(e){for(var t in this.blockTemplate=this.metaData.blockFeatureInstance.render(this),this.dom=this.blockTemplate.RootNode,this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),this.dom.id=this.id,e.appendChild(this.dom),this.inputs)this.inputs[t].render(e);for(var i in this.outputs)this.outputs[i].render(e)},i.prototype.updateActivationStatus=function(e){var t=!1,i=this.metaData.flowLineFeatureInstances.normalsolid;if(this.blockTemplate.setDataContent({InActive:!e}),e){var r="active",n="solid";i=this.metaData.flowLineFeatureInstances[r+n]}else{r="inactive",n="dash";this.metaData.flowLineFeatureInstances[r+n]&&(i=this.metaData.flowLineFeatureInstances[r+n],t=!0)}this.blockTemplate.setDataContent({LineColor:i.Attributes.stroke}),this.blockTemplate.setDataContent({IsDashAllowed:t}),this.blockTemplate.update()},i.prototype.remove=function(){for(var e in this.inputs)this.inputs[e].remove();for(var t in this.outputs)this.outputs[t].remove();this.firstInPin=null,this.firstOutPin=null,this.inputs=null,this.outputs=null,this.dom=null,this.blockTemplate.remove(),this.blockTemplate=null},i}();t.FunctionBlockElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(r,n,a,o,s,l,u,h){var d,c,p,m,g;this.block=r,this.pin=n,this.text=o,this.metaData=s,this.type=l,this.width=i.CONN_WIDTH,this.isNegated=!1;var T=e.getSystemPart("HmiBlockSymbolSystemPart");T=this.metaData.updateMissingBlockSubParts(T),this.operand=new t.FBDOperandMetaData(this.metaData,a.Text,T.ContentFont,null===(d=a.Value)||void 0===d?void 0:d.TagValue,a.hasValue,T.ContentFont,i.OPERAND_WIDTH,null===(c=a.Address)||void 0===c?void 0:c.Value,null===(p=a.Address)||void 0===p?void 0:p.Fore,a.Back,a.Fore,null===(m=a.Value)||void 0===m?void 0:m.Back,null===(g=a.Value)||void 0===g?void 0:g.Fore),this.height=this.operand.height,this.initFlowLine(h),this.id=r.id,this.isNegated=u}return i.prototype.initFlowLine=function(e){var i=this.getLineDecorators();this.line=new t.FlowLineElement({Key:this.pin,Decorator:i},null,this.metaData,t.Orientation.horizontal),this.line.tifId=this.type+"_"+e},i.prototype.getLineDecorators=function(){var e=[];return(this.type===t.ConnectorType.Input||this.type===t.ConnectorType.Output&&this.text)&&e.push({DecoratorType:"input",Data:{Content:this.type===t.ConnectorType.Input?this.operand:this.text,Type:this.type,BlockId:this.block.id,PinId:this.pin}}),(this.type===t.ConnectorType.Input&&this.text||this.type===t.ConnectorType.Output)&&e.push({DecoratorType:"output",Data:{Content:this.type===t.ConnectorType.Input?this.text:this.operand,Type:this.type,BlockId:this.block.id,PinId:this.pin}}),e},i.prototype.getFormalTextWidth=function(){var t=e.getSystemPart("HmiBlockSymbolSystemPart");return t=this.metaData.updateMissingBlockSubParts(t),e.getTextWidth(this.text,t.ContentFont)},i.prototype.setStartYPos=function(e){this===this.block.firstInPin||this===this.block.firstOutPin?this.yPos=e+this.block.titleHeight+this.block.headerHeight+i.CONN_PADDING:this.yPos=e+i.CONN_PADDING},i.prototype.setStartXPos=function(e){if(this.type===t.ConnectorType.Input){var r=e+i.CONN_WIDTH;this.block.getStartXPos()<r?this.block.setStartXPos(r):(this.x1=this.block.getStartXPos()-i.CONN_WIDTH,this.x2=this.block.getStartXPos())}},i.prototype.setEndXPos=function(e){this.x2=e},Object.defineProperty(i.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),i.prototype.getStartYPos=function(){return this.yPos},i.prototype.getStartXPos=function(){return this.x1},Object.defineProperty(i.prototype,"linePos",{get:function(){return this.yPos+this.height},set:function(e){this.yPos=this.yPos+(e-this.linePos),this.block.resizeBlock(Math.max(this.block.height,this.yPos+this.height-this.block.getStartYPos()+i.CONN_PADDING))},enumerable:!1,configurable:!0}),i.prototype.render=function(e){if(this.parent=e,this.line.setStartYPos(this.yPos+this.height),this.line.setStartXPos(this.x1),this.line.setEndXPos(this.x2),this.isNegated){var t=this.getNegatedSymbolDim(),i=t.radius,r=t.negationStrokeWidth,n=t.lineMargin,a=2*i+r,o=this.metaData.flowLineFeatureInstances.normalsolid.Attributes.stroke;this.drawNegatedSymbol(o,!1),"Input"===this.type&&this.line.setEndXPos(this.x2-(a+n)),"Output"===this.type&&this.line.setStartXPos(this.x1+(a+n))}this.line.render(e,this.id)},i.prototype.updateActivationStatus=function(e){var i,r;if(this.line.updateActivationStatus(e),this.isNegated){var n=void 0,a=!1;if(this.type===t.ConnectorType.Output&&!e||this.type===t.ConnectorType.Input&&e){var o=t.FlowLineState.InActive,s=t.FlowLineType.dash;n=null!==(i=this.metaData.flowLineFeatureInstances[o+s])&&void 0!==i?i:this.metaData.flowLineFeatureInstances.normalsolid,a=!0}else{o=t.FlowLineState.Active,s=t.FlowLineType.solid;n=null!==(r=this.metaData.flowLineFeatureInstances[o+s])&&void 0!==r?r:this.metaData.flowLineFeatureInstances["normal"+s],a=!1}var l=n.Attributes.stroke;this.negatedDOM.parentElement.removeChild(this.negatedDOM),this.drawNegatedSymbol(l,a)}},i.prototype.drawNegatedSymbol=function(i,r){var n=this.getNegatedSymbolDim(),a=n.radius,o=n.negationStrokeWidth,s=0;"Input"===this.type?s=this.x2-a-o:"Output"===this.type&&(s=this.x1+2*a),this.negatedDOM=e.Features.Shape.SvgShape.CreateSvgElement(t.SymbolType.circle,{fill:"none",stroke:i,"stroke-width":o,"stroke-dasharray":r?5:null,cx:s,cy:this.yPos+this.height,r:a.toString(),appendTo:this.parent})},i.prototype.updateOperandData=function(e){var t,i,r=!1,n=!1;if((null===(t=e.Operand.Value)||void 0===t?void 0:t.TagValue)!==this.operand.tagValue&&(this.operand.updateTagValue(null===(i=e.Operand.Value)||void 0===i?void 0:i.TagValue),n=!0),this.operand.infoBackColor!==e.Operand.Back||this.operand.infoForeColor!==e.Operand.Fore){var a=this.operand.updateColor(e.Operand.Back,e.Operand.Fore),o=a.back,s=a.fore;e.Operand.Back=o,e.Operand.Fore=s,n=r=!0}n&&this.line.updateDecorators(r)},i.prototype.getNegatedSymbolDim=function(){return{radius:3,negationStrokeWidth:2,lineMargin:1}},i.prototype.remove=function(){this.line.remove(),this.line=null,this.operand=null,this.parent=null,this.negatedDOM=null},i.CONN_PADDING=10,i.TEXT_TO_SYMBOL_PADDING=10,i.CONN_WIDTH=20,i.OPERAND_WIDTH=100,i}();t.FunctionConnectorElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e,i){this.masterData=e,this.metaData=i,this.inputs={},this.outputs={},this.x=0,this.y=0,this.titleHeight=0,this.headerHeight=0,this.content="",this.isSelected=!1,this.id=this.masterData.Key,this.setUpConnectors();var r=t.FlowLineState.Normal,n=t.FlowLineType.solid;this.flowLineFeature=this.metaData.flowLineFeatureInstances[r+n],this.width=+this.flowLineFeature.Attributes[t.LineParam.StrokeWidth],this.decoratorSubType=this.masterData.Data.DecoratorSubType,this.height=this.firstInPin.height}return i.prototype.setUpConnectors=function(){var e=this;this.masterData.Data.Parameters.Input&&0!==this.masterData.Data.Parameters.Input.length&&this.masterData.Data.Parameters.Input.forEach((function(i){var r=e.masterData.Data.Parameters.Input.indexOf(i),n=new t.FunctionConnectorElement(e,i.Key,i.Operand,i.Text,e.metaData,t.ConnectorType.Input,i.IsNegated,r);e.inputs[i.Key]=n,e.firstInPin||(e.firstInPin=n)})),this.masterData.Data.Parameters.Output&&0!==this.masterData.Data.Parameters.Output.length&&this.masterData.Data.Parameters.Output.forEach((function(i){var r=e.masterData.Data.Parameters.Output.indexOf(i),n=new t.FunctionConnectorElement(e,i.Key,i.Operand,i.Text,e.metaData,t.ConnectorType.Output,i.IsNegated,r);e.outputs[i.Key]=n,e.firstOutPin||(e.firstOutPin=n)}))},i.prototype.getStartXPos=function(){return this.x},i.prototype.setStartXPos=function(e){for(var t in this.x=e,this.inputs)this.inputs[t].x1=e-i.CONN_WIDTH,this.inputs[t].x2=e;for(var r in this.outputs)this.outputs[r].x1=e+this.width,this.outputs[r].x2=e+this.width+i.CONN_WIDTH},i.prototype.setStartYPos=function(e){this.y=e},i.prototype.getStartYPos=function(){return this.y},i.prototype.getConnector=function(e){return this.inputs[e]||this.outputs[e]},i.prototype.getDownConnector=function(e){return this.getDownPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},i.prototype.getUpConnector=function(e){return this.getUpPinConnector(this.inputs,e)||this.getDownPinConnector(this.outputs,e)},i.prototype.getDownPinConnector=function(e,t){var i=null,r=!1;for(var n in e)if(t===n)r=!0;else if(r){i=e[n];break}return i},i.prototype.getUpPinConnector=function(e,t){var i=null,r=!1;return Object.keys(e).reverse().every((function(n){if(t===n)r=!0;else if(r)return i=e[n],!1;return!0})),i},i.prototype.resizeBlock=function(e){var t,i=Math.max(null===(t=this.firstInPin)||void 0===t?void 0:t.height,50,e);this.height=i},i.prototype.render=function(e){var i=this.flowLineFeature.Attributes[t.LineParam.Stroke],r=this.flowLineFeature.Attributes[t.LineParam.StrokeWidth];for(var n in this.dom=this.appendLine(i,r,null),e.appendChild(this.dom),this.inputs)this.inputs[n].render(e);for(var a in this.outputs)this.outputs[a].render(e)},i.prototype.appendLine=function(i,r,n){var a=e.Features.Shape.SvgShape.CreateSvgElement(t.SymbolType.line);return a.setAttribute("y1",this.getLineStartPos()),a.setAttribute("y2",this.getLineEndPos()),a.setAttribute("x1",this.x),a.setAttribute("x2",this.x),a.setAttribute(t.LineParam.StrokeWidth,r),a.setAttribute(t.LineParam.Stroke,i),a.setAttribute(t.LineParam.StrokeDashArray,n),a},i.prototype.getLineStartPos=function(){var e=this.y;if(this.decoratorSubType){var i=this.decoratorSubType===t.FlowLineDecoratorSubType.Step?6:12;e=this.firstInPin.yPos+this.firstInPin.height-i/2}return e},i.prototype.getLineEndPos=function(){var e=this.y+this.height;if(this.decoratorSubType){var i=this.decoratorSubType===t.FlowLineDecoratorSubType.Step?6:12;e=this.firstInPin.yPos+this.firstInPin.height+i/2}return e},i.prototype.updateActivationStatus=function(e){var i,r,n=null;e?(i=t.FlowLineState.Active,r=t.FlowLineType.solid):(i=t.FlowLineState.InActive,r=t.FlowLineType.dash,n="5");var a=this.metaData.flowLineFeatureInstances[i+r];a&&(this.flowLineFeature=a);var o=this.flowLineFeature.Attributes[t.LineParam.Stroke],s=+this.flowLineFeature.Attributes[t.LineParam.StrokeWidth];this.dom.setAttribute(t.LineParam.StrokeWidth,s),this.dom.setAttribute(t.LineParam.Stroke,o),this.dom.setAttribute(t.LineParam.StrokeDashArray,n)},i.prototype.remove=function(){for(var e in this.inputs)this.inputs[e].remove();for(var t in this.outputs)this.outputs[t].remove();this.dom=null,this.flowLineFeature=null},i.CONN_WIDTH=50,i}();t.FunctionTransitionElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(e,t){this.elementList=e,this.diagram=t}return Object.defineProperty(t.prototype,"left",{get:function(){return this.startElement.getStartXPos()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.endElement.getStartXPos()+this.endElement.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startElement",{get:function(){return this.elementList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endElement",{get:function(){return this.elementList[this.elementList.length-1]},enumerable:!1,configurable:!0}),t.prototype.intersects=function(e,t){return this.left<t&&e<this.right},t.prototype.getDownPosBetween=function(e,t){for(var i=0,r=0,n=0,a=this.elementList;n<a.length;n++){var o=a[n];o.getStartXPos()+o.width>e&&o.getStartXPos()<t&&(r=o.getStartYPos()+o.innerHeight),i<r&&(i=r)}return i},Object.defineProperty(t.prototype,"TopPos",{set:function(t){this.y=t;for(var i,r=0,n=0,a=this.elementList;n<a.length;n++){((l=a[n])instanceof e.LogicElement||l instanceof e.FunctionBlockElement||l instanceof e.FunctionConnectorElement)&&(l.setStartYPos(t),r=Math.max(r,l.linePos))}for(var o=0,s=this.elementList;o<s.length;o++){var l;(l=s[o])instanceof e.LogicElement||l instanceof e.FunctionBlockElement||l instanceof e.FunctionConnectorElement?l.linePos=r:l instanceof e.BranchElement?l.subType===e.BranchSubType.Begin?1===this.diagram.getProcessedElements(l.id).length?l.setStartYPos(r):l.setEndYPos(r):l.subType===e.BranchSubType.End&&(this.diagram.getPrevGuardian(i.id,l.id)?l.setEndYPos(r):l.setStartYPos(r)):l instanceof e.FlowLineElement&&(r=0===r?this.y+e.LADModel.MIN_HEIGHT/2:r,l.setStartYPos(r)),i=l}},enumerable:!1,configurable:!0}),t}();e.BranchInfo=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(e,t,i,r,n,a,o,s,l,u,h,d,c){this.metaData=e,this.infoFont=i,this.tagValue=r,this.hasValue=n,this.contentFont=a,this.width=o,this.address=s,this.addressForeColor=l,this.infoBackColor=u,this.infoForeColor=h,this.tagBackColor=d,this.tagForeColor=c,this.calculateHeight(t)}return t.prototype.updateTagValue=function(e){void 0!==e&&(this.tagValue=e)},t.prototype.updateColor=function(e,t){return this.infoBackColor=null!=e?e:this.infoBackColor,this.infoForeColor=null!=t?t:this.infoForeColor,{back:this.infoBackColor,fore:this.infoForeColor}},t.prototype.calculateHeight=function(i){var r=this.getInfoTextHeight(i),n=e.getTextHeight("X",this.contentFont);this.height=this.address?n+t.TEXT_TO_SYMBOL_PADDING:0,this.height+=(this.hasValue||this.tagValue?n+t.TEXT_TO_SYMBOL_PADDING:0)+r+t.TEXT_TO_SYMBOL_PADDING},t.prototype.getInfoTextHeight=function(t){for(var i=e.getTextHeight("X",this.infoFont),r=[],n=t.split("\n"),a=0;a<n.length;a++)r.push.apply(r,e.textWrap(n[a],this.width,this.infoFont,/[^\.|_|\s]+|(\.|_|\s)/g));return this.infoText=r.join("\n"),r.length*i},t.MAX_TEXT_WIDTH=100,t.TEXT_TO_SYMBOL_PADDING=4,t}();t.FBDOperandMetaData=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(t,i){this._diagramID=t,this.metaData=i,this._contacts={},this._coils={},this._lines={},this._branches={},this._functions={},this._titleText={},this._activeData=[],this.operandData=[],this._selectionLogicCallBackRef=this.logicSelectionHandler.bind(this),this._selectionFunctionCallBackRef=this.functionSelectionHandler.bind(this),this.dataHandler=new e.LADRTHandler(this)}return Object.defineProperty(t.prototype,"connDetails",{get:function(){return this._connDetails},set:function(e){this._connDetails=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"diagramID",{get:function(){return this._diagramID},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleText",{set:function(t){this.titleKey=t.Key,this._titleText[t.Key]=new e.TextElement(t.Value,this.metaData,"title")},enumerable:!1,configurable:!0}),t.prototype.getTitleText=function(){return this._titleText},Object.defineProperty(t.prototype,"errorDescription",{set:function(t){t&&(this._errorDescription=new e.TextElement(t,this.metaData,"error"))},enumerable:!1,configurable:!0}),t.prototype.getErrorDescription=function(){return this._errorDescription},Object.defineProperty(t.prototype,"flowLines",{get:function(){return this._lines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedLogicElement",{get:function(){return this._selectedLogicElement},enumerable:!1,configurable:!0}),t.prototype.setStartYPos=function(e){this._yPos=e,this._titleText[this.titleKey].setStartYPos(e),this._errorDescription&&this._errorDescription.setStartYPos(this._titleText[this.titleKey].y+10)},t.prototype.getStartYPos=function(){return this._yPos},t.prototype.getEndYPos=function(){return this._powerRail?this._powerRail.y2:this._errorDescription?this._errorDescription.getStartYPos():this._titleText[this.titleKey].height},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.setLayoutProps=function(e,t){this._height=t,this._width=e},t.prototype.reset=function(){for(var e in this._powerRail.isProcessed=!1,this._contacts)this._contacts[e].isProcessed=!1;for(var t in this._coils)this._coils[t].isProcessed=!1;for(var i in this._lines)this._lines[i].isProcessed=!1;for(var r in this._functions)this._functions[r].isProcessed=!1;for(var n in this._branches)this._branches[n].clearNodes()},t.prototype.update=function(e){e&&(e.ErrorDescription&&this._errorDescription&&this._errorDescription.update(e.ErrorDescription),e.Name&&e.Name.Value&&this._titleText&&this._titleText[this.titleKey].update(e.Name.Value))},t.prototype.render=function(e){if(this.renderTitle(e),this._errorDescription?this.renderError(e):(this.renderCoils(e),this.renderBranches(e),this.renderPowerRail(e),this.renderFlowLines(e),this.renderContacts(e),this.renderFunction(e)),this.metaData.activeData){var t=n(this.metaData.activeData);this.setActiveStatus(t),this.metaData.activeData=null}if(this.metaData.operandData){var i=n(this.metaData.operandData);this.setData(i),this.metaData.operandData=null}},t.prototype.addPowerRail=function(t,i){var r=new e.PowerRailElement(t,i);this._powerRail=r},t.prototype.addContact=function(t,i){var r=new e.LogicElement(t,i,e.LogicElementType.Contact);this._contacts[t.Key]=r},t.prototype.addCoil=function(t,i){var r=new e.LogicElement(t,i,e.LogicElementType.Coil);this._coils[t.Key]=r},t.prototype.addFlowLine=function(t,i){var r=new e.FlowLineElement(t,this,i,e.Orientation.horizontal);this._lines[t.Key]=r},t.prototype.addBranch=function(t,i){var r=new e.BranchElement(t,this,i,e.Orientation.vertical);this._branches[t.Key]=r},t.prototype.addFunction=function(t,i){var r=new e.FunctionBlockElement(t,i);this._functions[t.Key]=r},t.prototype.getStartElement=function(){if(this._powerRail)return this._powerRail.id},t.prototype.getElementDetails=function(e,t){return this._powerRail&&this._powerRail.id===e?this._powerRail:this._contacts[e]?this._contacts[e]:this._coils[e]?this._coils[e]:this._lines[e]?this._lines[e]:this._branches[e]?this._branches[e]:this._functions[e]?t?this._functions[e].getConnector(t):this._functions[e]:void 0},t.prototype.getNextLogicElement=function(t){var i=this.getNextConnection(t),r=i.id,n=i.toPin;if(r){var a=this.getElementDetails(r,n);return a instanceof e.FlowLineElement||a instanceof e.PowerRailElement?this.getNextLogicElement(r):a}return null},t.prototype.getNextUnProcessedElement=function(e){var t=null;return this.getChildren(e).every((function(e){return!!e.isProcessed||(t=e,!1)})),t},t.prototype.getUnProcessedElements=function(e){var t=[];return this.getChildren(e).forEach((function(e){e.isProcessed||t.push(e)})),t},t.prototype.getProcessedElements=function(e){var t=[];return this.getChildren(e).forEach((function(e){e.isProcessed&&t.push(e)})),t},t.prototype.getGuardians=function(e){var t=[];return this.connDetails.forEach((function(i){return i.To===e&&t.push(i.From),!0})),t},t.prototype.getNextElement=function(e,t){var i=this.getNextConnection(e,t);return i?this.getElementDetails(i.id,i.toPin):null},t.prototype.getPrevElement=function(e,t){var i=this.getPrevConnection(e,t);return i?this.getElementDetails(i.id,i.fromPin):null},t.prototype.isInPinConnected=function(e,t){var i=!1;return this.connDetails.every((function(r){return r.To!==e||r.ToPin!==t||(i=!0,!1)})),i},t.prototype.isOutPinConnected=function(e,t){var i=!1;return this.connDetails.every((function(r){return r.From!==e||r.ToPin!==t||(i=!0,!1)})),i},t.prototype.getNextConnection=function(e,t){var i={id:"",toPin:""};return this.connDetails.every((function(r){return!!(r.From!==e||t&&r.FromPin!==t)||(i={id:r.To,toPin:r.ToPin},!1)})),i},t.prototype.getPrevConnection=function(e,t){var i=null;return this.connDetails.every((function(r){return!!(r.To!==e||t&&r.ToPin!==t)||(i={id:r.From,fromPin:r.FromPin},!1)})),i},t.prototype.getChildren=function(e,t){var i=this,r=[];return this.connDetails.forEach((function(n){if(n.From===e&&(t&&n.FromPin===t||!t)){var a=i.getElementDetails(n.To,n.ToPin);r.push(a)}})),r},t.prototype.getPrevGuardian=function(e,t){var i=null;return this.connDetails.every((function(r){return r.To===t&&r.From!==e?(i=r.From,!0):r.To!==t||r.From!==e})),this.getElementDetails(i)},t.prototype.renderTitle=function(e){this._titleText[this.titleKey].render(e)},t.prototype.renderError=function(e){this._errorDescription.render(e)},t.prototype.renderContacts=function(e){for(var t in this._contacts){var i=this.getElementDetails(t);e.contains(this.contactParentGroup)||this.createElementsParentGroup(e,"contactParentGroup"),i.render(this.contactParentGroup)}},t.prototype.renderCoils=function(e){for(var t in this._coils){var i=this.getElementDetails(t);e.contains(this.coilParentGroup)||this.createElementsParentGroup(e,"coilParentGroup"),i.render(this.coilParentGroup)}},t.prototype.renderBranches=function(e){for(var t in this._branches){var i=this.getElementDetails(t);e.contains(this.branchParentGroup)||this.createElementsParentGroup(e,"branchParentGroup"),i.render(this.branchParentGroup)}},t.prototype.renderFlowLines=function(e){for(var t in this._lines){var i=this.getElementDetails(t);e.contains(this.lineParentGroup)||this.createElementsParentGroup(e,"lineParentGroup"),i.render(this.lineParentGroup)}},t.prototype.renderFunction=function(e){for(var t in this._functions){var i=this.getElementDetails(t);e.contains(this.functionParentGroup)||this.createElementsParentGroup(e,"functionParentGroup"),i.render(this.functionParentGroup)}},t.prototype.renderPowerRail=function(e){this._powerRail&&(this._powerRail.y1=this._yPos+this._titleText[this.titleKey].height,this._powerRail.y2=this._yPos+this._titleText[this.titleKey].height+this._height,this._powerRail.render(e))},t.prototype.createElementsParentGroup=function(e,t){this[t]=document.createElementNS("http://www.w3.org/2000/svg","g"),this[t].setAttribute("class",t),e.appendChild(this[t])},t.prototype.unRegisterForLogicSelection=function(){this.contactParentGroup&&this.contactParentGroup.removeEventListener("click",this._selectionLogicCallBackRef),this.functionParentGroup&&this.functionParentGroup.removeEventListener("click",this._selectionFunctionCallBackRef)},t.prototype.registerForLogicSelection=function(){this.contactParentGroup&&this.contactParentGroup.addEventListener("click",this._selectionLogicCallBackRef),this.functionParentGroup&&this.functionParentGroup.addEventListener("click",this._selectionFunctionCallBackRef)},t.prototype.setSelectionHandlerCallBack=function(e){this._selectionHandler=e},t.prototype.logicSelectionHandler=function(e){if(e&&"text"===e.target.nodeName){var t=this.findParentElementWithId(e,e.target);t.length>0&&this._selectionHandler(t[0],t[1],this._diagramID)}},t.prototype.translateCoordinates=function(e,t){var i=t.getScreenCTM(),r=null;return(r=t.createSVGPoint()).x=e.x,r.y=e.y,r=r.matrixTransform(i.inverse()),[e.x=r.x,e.y=r.y]},t.prototype.functionSelectionHandler=function(e){var t=e&&e.target.parentElement.parentElement;if("ClickableIODecorator"===t.getAttribute("className")){var i=t.id.split(" ");this._selectionHandler(i[0],i[1],this._diagramID)}},t.prototype.clearPrevSelection=function(){this._selectedLogicElement&&(this._selectedLogicElement=null)},t.prototype.updateSelectedLogicElement=function(e,t,i){e&&(this._selectedLogicElement=this.getElementDetails(e),this.metaData.dp.setSelectedBlockId("LAD",{diagTitle:i,logicId:e,type:t}))},t.prototype.findParentElementWithId=function(e,t){var i;for(i=this._getMousePos(e);t.parentNode;)if((t=t.parentNode)&&"svg"===t.nodeName){var r=t.id||"";if(r.indexOf("Part")>-1){var n=this.translateCoordinates(i,t),a=this.getElementDetails(t.id).height/2;return[r,n[1]<a?"header":"footer"]}}return""},t.prototype._getMousePos=function(e){var t={x:0,y:0};return e.changedTouches?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t},t.prototype.setActiveStatus=function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];this._activeData.push(r),this.dataHandler.setActiveStatus(r)}},t.prototype.getActiveStatus=function(){return this._activeData},t.prototype.setData=function(e){this.operandData=e;for(var t=0,i=e;t<i.length;t++){var r=i[t];this.dataHandler.setData(r)}},t.prototype.getOperandData=function(){return this.operandData},t.prototype.getNextLogicBlocks=function(e,t){var i=this,r=[],n=[];return this.connDetails.forEach((function(a){a.From===e&&a.To!=e&&(a.To.indexOf("Branch")>-1||a.To.indexOf("Line")>-1?n.includes(a.To)||(n.push(a.To),r.push.apply(r,i.getNextLogicBlocks(a.To,t))):r.includes(a.To)||"Powerrail"==a.To||(t?i._functions[a.To]&&r.push(a.To):i._functions[a.To]||r.push(a.To)))})),n.length=0,r},t.prototype.getPreviousLogicBlocks=function(e,t){var i=this,r=[],n=[];return this.connDetails.forEach((function(a){a.To===e&&a.From!=e&&(a.From.indexOf("Branch")>-1||a.From.indexOf("Line")>-1?n.includes(a.From)||(n.push(a.From),r.push.apply(r,i.getPreviousLogicBlocks(a.From,t))):r.includes(a.From)||"Powerrail"==a.From||(t?i._functions[a.From]&&r.push(a.From):i._functions[a.From]||r.push(a.From)))})),r},t.prototype.getPreviousConnFunctionBlocks=function(e,t){var i,r,n,a=null===(i=this._functions[e])||void 0===i?void 0:i.inputs,o=[];if(a){for(var s in a){var l=a[s].line;if(l.tifId===t){t=l.id;break}}var u=null===(r=this.getPrevConnection(this._functions[e].id,t))||void 0===r?void 0:r.id;(null==u?void 0:u.indexOf("Line"))>-1||(null==u?void 0:u.indexOf("Branch"))>-1?o.push(null===(n=this.getPrevConnection(u))||void 0===n?void 0:n.id):o.push(u)}},t.prototype.getNextConnFunctionBlocks=function(e,t){var i,r,n,a=null===(i=this._functions[e])||void 0===i?void 0:i.outputs,o=[];if(a){for(var s in a){var l=a[s].line;if(l.tifId===t){t=l.id;break}}var u=null===(r=this.getNextConnection(this._functions[e].id,t))||void 0===r?void 0:r.id;((null==u?void 0:u.indexOf("Line"))>-1||(null==u?void 0:u.indexOf("Branch"))>-1)&&((null==u?void 0:u.indexOf("Line"))>-1||(null==u?void 0:u.indexOf("Branch"))>-1?o.push(null===(n=this.getNextConnection(u))||void 0===n?void 0:n.id):o.push(u))}return o},t.prototype.remove=function(){for(var e in this._contacts)this._contacts[e].remove();for(var t in this._coils)this._coils[t].remove();for(var i in this._branches)this._branches[i].remove();for(var r in this._lines)this._lines[r].remove();for(var n in this._functions)this._functions[n].remove();this._titleText[this.titleKey].remove(),this._errorDescription&&this._errorDescription.remove(),this._powerRail&&this._powerRail.remove(),this._contacts=null,this._coils=null,this._branches=null,this._lines=null,this._functions=null,this._errorDescription=null,this._powerRail=null,this.dataHandler=null,this.titleKey=null,this.coilParentGroup=null,this.contactParentGroup=null,this.branchParentGroup=null,this._connDetails=null,this._list=null,this._activeData=null},t.MIN_HEIGHT=100,t}();e.LADModel=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){!function(t){var i=function(){function i(e){this.diag=e}return i.prototype.setActiveStatus=function(e){var t=this;this.diag.list.every((function(i){return i.Key!==e.Key||(i.isActivated=e.Data.isActive,t.updateActivationStatus(i.Key,e.Pin,i.isActivated),!1)}))},i.prototype.updateActivationStatus=function(i,r,n){var a=new e.Lib.NVEs.Utils.Queue,o=this.diag.getElementDetails(i,r);a.enqueue({element:o,isActive:n});var s=[];for(s.push(i+"-"+n);!a.isEmpty();){var l=a.dequeue(),u=l.element,h=l.isActive;if(u instanceof t.PowerRailElement||u instanceof t.FlowLineElement&&!u.inActiveLine||u instanceof t.BranchElement&&u.subType===t.BranchSubType.Begin||u instanceof t.FunctionConnectorElement&&u.type===t.ConnectorType.Output)u.updateActivationStatus(h);else if(u instanceof t.LogicElement)u.id===i?this.setActivationStatus(h,u):this.setPowerFlowStatus(h,u),h=u.isBitCoil?this.diag.getPrevElement(u.id).isActive:u.activeStatus===t.ActivationStatus.Completed||u.activeStatus===t.ActivationStatus.UnBlocked;else if(u instanceof t.BranchElement&&u.subType===t.BranchSubType.End)h=this.updateBranchEndStatus(u);else{if(u instanceof t.FunctionConnectorElement&&u.type===t.ConnectorType.Input||u instanceof t.FunctionBlockElement){u.updateActivationStatus(h);continue}if(u instanceof t.FlowLineElement&&u.inActiveLine)continue}for(var d=0,c=this.diag.getChildren(u.id,u instanceof t.FunctionConnectorElement?u.pin:null);d<c.length;d++){var p=c[d],m=p instanceof t.FunctionConnectorElement?p.pin:"";-1===s.indexOf(p.id+"-"+m+"-"+h)&&(a.enqueue({element:p,isActive:h}),s.push(p.id+"-"+m+"-"+h))}}},i.prototype.updateBranchEndStatus=function(e){for(var t=!1,i=this.diag.getGuardians(e.id),r=i.length-1;r>=0;r--){var n=this.diag.getElementDetails(i[r]);if(n.isActive){e.updateActivationStatus(!0,n),t=!0;break}e.updateActivationStatus(!1),t=!1}return t},i.prototype.setPowerFlowStatus=function(e,i){var r=i.activeStatus;i.isInvert?r=this.handleInvertPowerStatus(e,i):e?r===t.ActivationStatus.Running?r=t.ActivationStatus.Completed:r!==t.ActivationStatus.InActive&&r!==t.ActivationStatus.None||(r=i.isBitCoil?t.ActivationStatus.NotRunning:t.ActivationStatus.Ready):r===t.ActivationStatus.Ready||r===t.ActivationStatus.None||r===t.ActivationStatus.NotRunning?r=t.ActivationStatus.InActive:r===t.ActivationStatus.Completed&&(r=t.ActivationStatus.Running),i.updateActivationStatus(r)},i.prototype.handleInvertPowerStatus=function(e,i){i.activeStatus;return e?t.ActivationStatus.Blocked:t.ActivationStatus.UnBlocked},i.prototype.setActivationStatus=function(e,i){var r=i.activeStatus;e?r===t.ActivationStatus.Ready||r===t.ActivationStatus.NotRunning?r=t.ActivationStatus.Completed:r!==t.ActivationStatus.InActive&&r!==t.ActivationStatus.None||(r=t.ActivationStatus.Running):r===t.ActivationStatus.Completed?r=i.isBitCoil?t.ActivationStatus.NotRunning:r=t.ActivationStatus.Ready:r===t.ActivationStatus.Running&&(r=t.ActivationStatus.InActive),i.updateActivationStatus(r)},i.prototype.setData=function(e){this.diag.getElementDetails(e.Key,e.Pin).updateOperandData(e)},i}();t.LADRTHandler=i}(t.Data||(t.Data={}))}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i;!function(e){e[e.Contact=0]="Contact",e[e.Coil=1]="Coil"}(t.LogicElementType||(t.LogicElementType={})),function(e){e[e.None=0]="None",e[e.InActive=1]="InActive",e[e.Ready=2]="Ready",e[e.Running=3]="Running",e[e.Completed=4]="Completed",e[e.Blocked=5]="Blocked",e[e.UnBlocked=6]="UnBlocked",e[e.NotRunning=7]="NotRunning"}(i=t.ActivationStatus||(t.ActivationStatus={}));var r=function(){function r(e,r,n){var a,o,s,l,u,h,d,c,p,m,g;this.masterData=e,this.metaData=r,this.type=n,this.id=this.masterData.Key,this._subType=e.SubType,this.headerOperand=new t.OperandMetaData(this.metaData,this.masterData.Header.Text,!1,null===(a=this.masterData.Header.Value)||void 0===a?void 0:a.TagValue,null===(o=this.masterData.Header.Value)||void 0===o?void 0:o.Back,null===(s=this.masterData.Header.Value)||void 0===s?void 0:s.Fore,this.masterData.Header.hasValue,null===(l=this.masterData.Header.Address)||void 0===l?void 0:l.Value,null===(u=this.masterData.Header.Address)||void 0===u?void 0:u.Fore,this.masterData.Header.Back,this.masterData.Header.Fore),this.masterData.Footer&&(this.footerOperand=new t.OperandMetaData(this.metaData,this.masterData.Footer.Text,!0,null===(h=this.masterData.Footer.Value)||void 0===h?void 0:h.TagValue,null===(d=this.masterData.Footer.Value)||void 0===d?void 0:d.Back,null===(c=this.masterData.Footer.Value)||void 0===c?void 0:c.Fore,this.masterData.Footer.hasValue,null===(p=this.masterData.Footer.Address)||void 0===p?void 0:p.Value,null===(m=this.masterData.Footer.Address)||void 0===m?void 0:m.Fore,this.masterData.Footer.Back,this.masterData.Footer.Fore)),this.contentText=null!==(g=this.masterData.Value)&&void 0!==g?g:"",this.setStrokeStyle(),this.setWidth(),this.setHeight(),this.activeStatus=i.None}return r.prototype.calculateContentTextWidth=function(){var t=e.getSystemPart("HmiLogicSymbolSystemPart");t=this.metaData.updateMissingLogicSubParts(t);var i=this.contentText;this.contentFontSize="/"===i?22:t.ContentFont.Size;var r=t.ContentFont,n=e.getTextWidth(i,r);n<30&&(n=30),this.contentWidth=n},r.prototype.calculateContentTextHeight=function(){var t=e.getSystemPart("HmiLogicSymbolSystemPart");t=this.metaData.updateMissingLogicSubParts(t);var i=this.contentText.split("\n");this.contentText=i.join("\n");var n=e.getTextHeight("X",t.ContentFont);this.contentHeight=i.length*n+r.LOGIC_PADDING,this.contentHeight<r.SYMBOL_HEIGHT&&(this.contentHeight=r.SYMBOL_HEIGHT)},r.prototype.setWidth=function(){this._width=Math.max(this.metaData.logicFeatureInstance.Attributes["content-width"],t.OperandMetaData.MAX_TEXT_WIDTH),this.calculateContentTextWidth()},r.prototype.setHeight=function(){var e=this.headerOperand.height,t=this.footerOperand?this.footerOperand.height:0;this.calculateContentTextHeight();var i=2*Math.max(e,t)+this.contentHeight;this._height=Math.max(this.metaData.logicFeatureInstance.Attributes["content-height"],i)},r.prototype.setStrokeStyle=function(){this.defaultFlowLineFeature=this.metaData.flowLineFeatureInstances.normalsolid,this.stroke=this.defaultFlowLineFeature.Attributes.stroke,this.strokeWidth=+this.defaultFlowLineFeature.Attributes["stroke-width"]},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"innerHeight",{get:function(){return this._height/2+r.SYMBOL_HEIGHT/2+(this.footerOperand?this.footerOperand.height:0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"linePos",{get:function(){return this.y+this._height/2},set:function(e){this.y=this.y+(e-this.linePos)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isInvert",{get:function(){return"NOT"===this.contentText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isBitCoil",{get:function(){return"BitCoil"===this._subType},enumerable:!1,configurable:!0}),r.prototype.setStartXPos=function(e){this.x=e},r.prototype.getStartXPos=function(){return this.x},r.prototype.getStartYPos=function(){return this.y},r.prototype.setStartYPos=function(e){this.y=e},r.prototype.render=function(e){this.logicTemplate=this.metaData.logicFeatureInstance.render(this),this.dom=this.logicTemplate.RootNode,this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),this.dom.setAttribute("id",this.id),e.appendChild(this.dom)},r.prototype.updateOperandData=function(e){var t,i,r,n,a,o,s,l;if(this.logicTemplate){if(e.Header&&((null===(t=e.Header.Value)||void 0===t?void 0:t.TagValue)||"0"===String(null===(i=e.Header.Value)||void 0===i?void 0:i.TagValue))){this.headerOperand.updateTagValues(this.logicTemplate,e.Header.Value.TagValue,null===(r=e.Header.Value)||void 0===r?void 0:r.Back,null===(n=e.Header.Value)||void 0===n?void 0:n.Fore);var u=this.headerOperand.updateColor(this.logicTemplate,e.Header.Back,e.Header.Fore);e.Header.Fore=u.fore,e.Header.Back=u.back}if(e.Footer&&((null===(a=e.Footer.Value)||void 0===a?void 0:a.TagValue)||"0"===String(null===(o=e.Footer.Value)||void 0===o?void 0:o.TagValue))){this.footerOperand.updateTagValues(this.logicTemplate,e.Footer.Value.TagValue,null===(s=e.Footer.Value)||void 0===s?void 0:s.Back,null===(l=e.Footer.Value)||void 0===l?void 0:l.Fore);u=this.footerOperand.updateColor(this.logicTemplate,e.Footer.Back,e.Footer.Fore);e.Footer.Fore=u.fore,e.Footer.Back=u.back}this.logicTemplate.update()}},r.prototype.updateActivationStatus=function(e){this.activeStatus=e,this.logicTemplate.setDataContent({ActiveStatus:e});var t=this.metaData.flowLineFeatureInstances.activesolid||this.defaultFlowLineFeature;this.logicTemplate.setDataContent({Stroke:t.Attributes.stroke}),this.logicTemplate.update()},r.prototype.remove=function(){this.headerOperand=null,this.footerOperand=null,this.logicTemplate.remove(),this.logicTemplate=null,this.dom=null},r.SYMBOL_HEIGHT=22,r.LOGIC_PADDING=4,r}();t.LogicElement=r}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(t,i,r,n,a,o,s,l,u,h,d){this.metaData=t,this.isFooter=r,this.tagValue=n,this.tagBackColor=a,this.tagForeColor=o,this.hasValue=s,this.address=l,this.addressForeColor=u,this.textBackColor=h,this.textForeColor=d;var c=e.getSystemPart("HmiLogicSymbolSystemPart");this.logicSystemPart=this.metaData.updateMissingLogicSubParts(c),this.calculateHeight(i),this.backColor=c.HeaderBackColor,this.foreColor=c.HeaderForeColor,this.textBackColor=this.textBackColor?this.textBackColor:"",this.textForeColor=this.textForeColor?this.textForeColor:""}return t.prototype.updateTagValues=function(e,t,i,r){this.isFooter?(e.setDataContent({FooterTag:t}),i&&e.setDataContent({FooterBackColor:i}),r&&e.setDataContent({FooterForeColor:r})):(e.setDataContent({HeaderTag:t}),i&&e.setDataContent({HeaderBackColor:i}),r&&e.setDataContent({HeaderForeColor:r}))},t.prototype.updateColor=function(e,t,i){return this.textBackColor=null!=t?t:this.textBackColor,this.textForeColor=null!=i?i:this.textForeColor,this.isFooter?(e.setDataContent({FooterOperandBackColor:this.textBackColor}),e.setDataContent({FooterOperandForeColor:this.textForeColor})):(e.setDataContent({HeaderOperandBackColor:this.textBackColor}),e.setDataContent({HeaderOperandForeColor:this.textForeColor})),{back:this.textBackColor,fore:this.textForeColor}},t.prototype.calculateHeight=function(i){var r=e.getTextHeight("X",this.logicSystemPart.HeaderFont),n=this.getInfoTextHeight(i,r);this.height=this.address?r+t.TEXT_TO_SYMBOL_PADDING:0,this.height+=(this.hasValue||this.tagValue?r+t.TEXT_TO_SYMBOL_PADDING:0)+n+t.TEXT_TO_SYMBOL_PADDING},t.prototype.getInfoTextHeight=function(i,r){var n=e.textWrap(i,t.MAX_TEXT_WIDTH,this.logicSystemPart.HeaderFont,/[^\.|_]+|(\.|_)/g);return this.infoText=n.join("\n"),n.length*r},t.MAX_TEXT_WIDTH=90,t.TEXT_TO_SYMBOL_PADDING=4,t}();t.OperandMetaData=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(e,t){this.masterData=e,this.metaData=t,this.id=this.masterData.Key,this.x1=this.x2=this.metaData.startX;this.defaultFlowLineFeature=this.metaData.flowLineFeatureInstances.normalsolid}return t.prototype.setHeight=function(){},Object.defineProperty(t.prototype,"width",{get:function(){return this.x2-this.x1},enumerable:!1,configurable:!0}),t.prototype.getStartXPos=function(){return this.x1},t.prototype.getStartYPos=function(){return this.y1},t.prototype.setStartYPos=function(e){this.y1=e},t.prototype.setEndYPos=function(e){this.y2=e},Object.defineProperty(t.prototype,"height",{get:function(){return this.y2-this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this.defaultFlowLineFeature.Attributes.stroke,i=+this.defaultFlowLineFeature.Attributes["stroke-width"];this.dom=this.appendLine(t,i),e.appendChild(this.dom)},t.prototype.appendLine=function(t,i){return this.dom=e.Features.Shape.SvgShape.CreateSvgElement("line"),this.dom.setAttribute("y1",this.y1),this.dom.setAttribute("y2",this.y2),this.dom.setAttribute("x1",this.x1),this.dom.setAttribute("x2",this.x2),this.dom.setAttribute("stroke-width",i),this.dom.setAttribute("stroke",t),this.dom},t.prototype.updateActivationStatus=function(e){var t;if(e){var i=null!==(t=this.metaData.flowLineFeatureInstances.activesolid)&&void 0!==t?t:this.defaultFlowLineFeature,r=i.Attributes.stroke,n=+i.Attributes["stroke-width"];this.dom.setAttribute("stroke-width",n),this.dom.setAttribute("stroke",r)}},t.prototype.remove=function(){if(this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}},t}();t.PowerRailElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(i,r,n){this.textContent=i,this.metaData=r,this.type=n,this.x=this.metaData.startX;var a=e.getSystemPart("HmiLogicSymbolSystemPart");a=this.metaData.updateMissingLogicSubParts(a);var o=e.getTextHeight("X",a.HeaderFont),s=e.getTextWidth("X",a.HeaderFont);this.height=o+t.TEXT_PADDING,this.width=s*this.textContent.length}return t.prototype.setStartYPos=function(e){this.y=e+this.height/2},t.prototype.setStartXPos=function(e){this.x=e},t.prototype.getStartYPos=function(){return this.y},t.prototype.update=function(e){this.textDetailsTemplate&&(this.textDetailsTemplate.setDataContent({Text:e}),this.textDetailsTemplate.update())},t.prototype.render=function(t){var i=e.getSystemPart("HmiLogicSymbolSystemPart");i=this.metaData.updateMissingLogicSubParts(i);var r={Content:{Text:this.textContent,TextFontSize:16,TextFontWeight:"title"===this.type?"bold":i.HeaderFont.Weight,TextFontName:i.HeaderFont.Name}};this.textDetailsTemplate=this.metaData.rtpuItem.createSubtemplate(this,this.metaData.template["text-details"],{},r,this.width,this.height),this.textDetailsTemplate&&this.textDetailsTemplate.RootNode&&(this.dom=this.textDetailsTemplate.RootNode,this.type&&this.dom.setAttribute("class","flowdiagram-"+this.type),this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),t.appendChild(this.dom))},t.prototype.remove=function(){this.textDetailsTemplate.remove(!1,!0,!1),this.textDetailsTemplate=null,this.dom=null},t.TEXT_PADDING=10,t}();t.TextElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function t(e,t){this.masterData=e,this.isSelected=!1,this.setStartYPos=function(e){this.y=e},this.getStartYPos=function(){return this.y},this.getHeight=function(){return this.height},this.getEndPos=function(){return this.y+this.height},this.setStartXPos=function(e){this.x=e},this.getNormalizedXPos=function(){return this.x+(+this.dom.getAttribute("width")-this.width)/2},this.metaData=t,this.id=this.masterData.Key,this.height=0,this.masterData.Data.Header&&(this.header=e.Data.Header),this.setBlockDim(),this.masterData.Data.Content&&this.trimmedContent()}return t.prototype.setBlockDim=function(){this.headerHeight=this.metaData.isCompactMode?61:20,this.contentHeight=this.metaData.isCompactMode?0:41,this.width=120,this.height=this.headerHeight+this.contentHeight},t.prototype.trimmedContent=function(){var t=e.getSystemPart("HmiBlockSymbolSystemPart");t=this.metaData.updateMissingBlockSubParts(t);var i=this.masterData.Data.Content,r=t.ContentFont,n=[],a=e.getTextHeight("X",r);if(0===this.contentHeight)this.content=i;else{var o=Math.floor(this.contentHeight/a),s=[];(s=e.textWrap(i,this.width,r)).length>o?(s[o-1]=s[o-1]+"…",s[o-1]=e.textEllipsis(s[o-1],this.width,r)):o=s.length;for(var l=0;l<o;l++)n.push(s[l]);this.content=n.join("")}},t.prototype.render=function(e){this.blockTemplate=this.metaData.blockFeatureInstance.render(this),this.dom=this.blockTemplate.RootNode,this.setStartXPos(this.x-(+this.dom.getAttribute("width")-this.width)/2),this.dom.setAttribute("x",this.x),this.dom.setAttribute("y",this.y),this.dom.setAttribute("id",this.id),e.appendChild(this.dom)},t.prototype.updateBlockElementText=function(e){this.blockTemplate&&e&&(e.Data.Header&&(this.header=e.Data.Header,this.masterData.Data.Header=this.header),e.Data.Content&&(this.masterData.Data.Content=e.Data.Content,this.trimmedContent()),this.setBlockDim(),this.blockTemplate.setDataContent({HeaderText:this.header}),this.blockTemplate.setDataContent({ContentText:this.content}),this.blockTemplate.update())},t.prototype.updateSelectionStatus=function(e){this.blockTemplate&&(this.isSelected=e,this.blockTemplate.setDataContent({IsSelected:this.isSelected}),this.blockTemplate.update())},t.prototype.updateActiveStatus=function(t){if(t)this.blockTemplate.setHmiProps(this.activeStateForeColor,"HmiProps.HeaderForeColor"),this.blockTemplate.setHmiProps(this.activeStateForeColor,"HmiProps.ContentForeColor"),this.blockTemplate.setHmiProps(this.activeStateBackColor,"HmiProps.HeaderBackColor"),this.blockTemplate.setHmiProps(this.activeStateBackColor,"HmiProps.ContentBackColor"),this.blockTemplate.update();else{var i=e.getSystemPart("HmiBlockSymbolSystemPart");i=this.metaData.updateMissingBlockSubParts(i),this.blockTemplate.setHmiProps(i.HeaderForeColor,"HmiProps.HeaderForeColor"),this.blockTemplate.setHmiProps(i.ContentForeColor,"HmiProps.ContentForeColor"),this.blockTemplate.setHmiProps(i.HeaderBackColor,"HmiProps.HeaderBackColor"),this.blockTemplate.setHmiProps(i.ContentBackColor,"HmiProps.ContentBackColor"),this.blockTemplate.update()}},t.prototype.remove=function(){if(this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}this.blockTemplate.remove(),this.blockTemplate=null,this.metaData=null},t}();t.BlockElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){var i=function(){function i(e,t,i,r){this.masterData=e,this.orientation=r,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.activatedLine=[],this.diagram=t,this.metaData=i,this.id=this.masterData.Key,this.subType=this.masterData.SubType,this.domArray=[]}return i.prototype.setStartYPos=function(e){this.y1=e,this.orientation===t.Orientation.horizontal&&(this.y2=e)},i.prototype.setEndYPos=function(e){this.y2=e},i.prototype.setStartXPos=function(e){this.x1=e,this.orientation===t.Orientation.vertical&&(this.x2=e)},i.prototype.setEndXPos=function(e){this.x2=e},i.prototype.getStartXPos=function(){return this.x1},i.prototype.getStartYPos=function(){return this.y1},Object.defineProperty(i.prototype,"width",{get:function(){return this.x2-this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.y2-this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),i.prototype.render=function(e){this.parent=e;var i=this.masterData.State&&this.masterData.State.LineState?this.masterData.State.LineState:"normal";this.lineStyle=this.masterData.State&&this.masterData.State.LineStyle?this.masterData.State.LineStyle:"solid";var r=this.metaData.flowLineFeatureInstances[i+this.lineStyle].Attributes.stroke,n=+this.metaData.flowLineFeatureInstances[i+this.lineStyle].Attributes["stroke-width"];if(this.diagram instanceof t.StepDiagramModel){var a=this.diagram.getParent(this.id);this.setStartXPos(a.x1);var o=void 0;if("Begin"===this.subType){var s=this.diagram.getChildren(this.id);o=s[s.length-1]}else o=this.diagram.getLastGuardian(this.id);this.setEndXPos(o.x2),this.domArray.push(this.appendLine(r,n,null)),e.appendChild(this.domArray[0]),"parallel"===this.lineStyle&&(this.domArray.push(this.appendLine(r,n,"parallel")),e.appendChild(this.domArray[1]))}else this.domArray.push(this.appendLine(r,n,null)),e.appendChild(this.domArray[0])},i.prototype.appendLine=function(t,i,r){var n=e.Features.Shape.SvgShape.CreateSvgElement("line");return n.setAttribute("y1",this.y1),n.setAttribute("y2",this.y2),n.setAttribute("x1",this.x1),n.setAttribute("x2",this.x2),"parallel"===r&&("Begin"===this.subType?(n.setAttribute("y1",this.y1+i+1),n.setAttribute("y2",this.y2+i+1)):(n.setAttribute("y1",this.y1-i-1),n.setAttribute("y2",this.y2-i-1))),n.setAttribute("stroke-width",i),n.setAttribute("stroke",t),n},i.prototype.updateActivationStatus=function(e,i){var r;void 0===i&&(i=null);var n,a=null;if(e){var o="active",s=this.lineStyle;n=null!==(r=this.metaData.flowLineFeatureInstances[o+s])&&void 0!==r?r:this.metaData.flowLineFeatureInstances.normalsolid}else{o="inactive",s="dash";(n=this.metaData.flowLineFeatureInstances[o+s])?a="5":n=this.metaData.flowLineFeatureInstances.normalsolid}var l=n.Attributes.stroke,u=+n.Attributes["stroke-width"];if(this.metaData.diagramType===t.FlowDiagramType.Step)e?0===this.activatedLine.length?(this.createNewActiveLine(l,u,null).setAttribute("x2",i.x1),this.domArray.length>0&&this.createNewActiveLine(l,u,this.lineStyle).setAttribute("x2",i.x1)):+this.activatedLine[0].getAttribute("x2")<i.x1&&this.activatedLine.forEach((function(e){e.setAttribute("x2",i.x1)})):this.clearActiveLine();else if(this.metaData.diagramType===t.FlowDiagramType.Ladder&&this.subType===t.BranchSubType.End){if(e)if(0===this.activatedLine.length)this.createNewActiveLine(l,u,null).setAttribute("y2",i.y1);else+this.activatedLine[0].getAttribute("y2")<i.y1&&this.activatedLine.forEach((function(e){e.setAttribute("y2",i.y1)}));else this.domArray.forEach((function(e){e.setAttribute("stroke-width",u),e.setAttribute("stroke",l),e.setAttribute("stroke-dasharray",a)})),this.clearActiveLine()}else this.domArray.forEach((function(e){e.setAttribute("stroke-width",u),e.setAttribute("stroke",l),e.setAttribute("stroke-dasharray",a)}))},i.prototype.createNewActiveLine=function(e,t,i){var r=this.appendLine(e,t,i);return this.activatedLine.push(r),this.parent.appendChild(r),r},i.prototype.remove=function(){this.clearNodes(),this.metaData=null,this.diagram=null},i.prototype.clearActiveLine=function(){this.activatedLine.forEach((function(e){e.parentElement.removeChild(e)})),this.activatedLine.length=0},i.prototype.clearNodes=function(){this.domArray.length=0,this.activatedLine.length=0},i}();t.BranchElement=i}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){!function(i){var r=function(){function r(e,t,n,a){var o,s=this;this.masterData=e,this.metaData=n,this.orientation=a,this.strokeDashArray=null,this.inActiveLine=!1,this.setStartYPos=function(e){this.y1=e,this.orientation===i.Orientation.horizontal?this.y2=this.y1:this.y2=this.getY2Pos()},this.setEndPos=function(e){this.y2=e},this.getEndPos=function(){return this.y2},this.getStartYPos=function(){return this.y1},this.setStartXPos=function(e){this.x1=e,this.orientation===i.Orientation.vertical&&(this.x2=this.x1)},this.setEndXPos=function(e){this.x2=e},this.getStartXPos=function(){return this.x1},this.getY2Pos=function(){for(var e=0,t=0;t<this.decorators.length;t++)0===t?((this.decorators[t].DecoratorType===i.FlowLineDecoratorType.Transition||this.decorators[t].DecoratorType===i.FlowLineDecoratorType.Links&&this.decorators[t].DecoratorSubType===i.FlowLineDecoratorSubType.JumpIn)&&(this.decoratorElements[t].decoratorPosition=e+r.DEF_FLOWLINE_LENGTH),(this.decorators[t].DecoratorType===i.FlowLineDecoratorType.Terminal||this.decorators[t].DecoratorType===i.FlowLineDecoratorType.Links&&this.decorators[t].DecoratorSubType===i.FlowLineDecoratorSubType.JumpOut)&&(this.decoratorElements[t].decoratorPosition=e+2*r.DEF_FLOWLINE_LENGTH),this.decorators[t].DecoratorType===i.FlowLineDecoratorType.Links&&this.decorators[t].DecoratorSubType===i.FlowLineDecoratorSubType.JumpIn?e+=r.DEF_FLOWLINE_LENGTH:e+=2*r.DEF_FLOWLINE_LENGTH):(e+=r.DEF_FLOWLINE_LENGTH,this.decoratorElements[t].decoratorPosition=e);return this.decorators.length>0&&this.decorators[this.decorators.length-1].DecoratorType===i.FlowLineDecoratorType.Links&&this.decorators[this.decorators.length-1].DecoratorSubType===i.FlowLineDecoratorSubType.JumpIn&&(e+=r.DEF_FLOWLINE_LENGTH),e||(e=r.DEF_FLOWLINE_LENGTH),this.y1+e},this.id=this.masterData.Key,this.currentDiagram=t,this.decorators=null!==(o=this.masterData.Decorator)&&void 0!==o?o:[],this.decoratorElements=[],this.decorators.forEach((function(e){s.decoratorElements.push(new i.FlowLineDecoratorElement(e,s.currentDiagram,n))}));var l=this.masterData.State&&this.masterData.State.LineState?this.masterData.State.LineState:"normal",u=this.masterData.State&&this.masterData.State.LineStyle?this.masterData.State.LineStyle:"solid";"InActive"===this.masterData.SubType&&(this.inActiveLine=!0),this.flowLineFeature=this.metaData.flowLineFeatureInstances[l+u]}return Object.defineProperty(r.prototype,"height",{get:function(){return this.y2-this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"innerHeight",{get:function(){return this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){if(this.orientation===i.Orientation.vertical){var e=this.masterData.State&&this.masterData.State.LineState?this.masterData.State.LineState:"normal";return+this.metaData.flowLineFeatureInstances[e+"solid"].Attributes["stroke-width"]}return this.x2-this.x1},enumerable:!1,configurable:!0}),r.prototype.render=function(t,i){this.stroke=this.flowLineFeature.Attributes.stroke,this.strokeWidth=this.flowLineFeature.Attributes["stroke-width"],this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step&&this.setStartXPos(this.x1+60),this.dom=this.appendLine(i),t.appendChild(this.dom),this.renderDecorator(t,this.flowLineFeature)},r.prototype.renderDecorator=function(e,t){var i=this;this.parent=e,this.decoratorElements.forEach((function(r){var n=r.render(i,t);e.appendChild(n)}))},r.prototype.updateDecorators=function(e){var t=this;this.decoratorElements.forEach((function(i){if(!i.tagTextField||e){var r=i.update(t,t.flowLineFeature);t.parent.appendChild(r)}else i.updateTagValue(t.x1,t.x2)}))},r.prototype.updateDecoratorsText=function(e){var t=this.decoratorElements.length,i=0;for(i=0;i<t;i++)if(e[i]&&e[i].Data){var r=e[i].Data;r.Header&&(this.decoratorElements[i].dt.Data.Header=r.Header),r.Content&&(this.decoratorElements[i].dt.Data.Content=r.Content);var n=this.decoratorElements[i].update(this,this.flowLineFeature);this.parent.appendChild(n)}},r.prototype.appendLine=function(e){var i=t.Features.Shape.SvgShape.CreateSvgElement("line");return i.setAttribute("y1",this.y1),i.setAttribute("y2",this.y2),i.setAttribute("x1",this.x1),i.setAttribute("x2",this.x2),e&&this.tifId&&i.setAttribute("id","pin"+this.tifId+"_"+e),i.setAttribute("stroke-width",this.strokeWidth),i.setAttribute("stroke",this.stroke),this.flowLineFeature===this.metaData.flowLineFeatureInstances.normaldash&&(this.strokeDashArray="5",i.setAttribute("stroke-dasharray",this.strokeDashArray)),i},r.prototype.updateActivationStatus=function(e){var i;if(this.isActive=e,this.strokeDashArray=null,e){var r="active",n="solid";this.flowLineFeature=null!==(i=this.metaData.flowLineFeatureInstances[r+n])&&void 0!==i?i:this.metaData.flowLineFeatureInstances["normal"+n]}else{r="inactive",n="dash";var a=this.metaData.flowLineFeatureInstances[r+n];a?(this.flowLineFeature=a,this.strokeDashArray="5"):this.flowLineFeature=this.metaData.flowLineFeatureInstances.normalsolid}this.stroke=this.flowLineFeature.Attributes.stroke,this.strokeWidth=+this.flowLineFeature.Attributes["stroke-width"],this.dom.setAttribute("stroke-width",this.strokeWidth),this.dom.setAttribute("stroke",this.stroke),this.dom.setAttribute("stroke-dasharray",this.strokeDashArray),this.metaData.diagramType!==t.Data.FlowDiagramType.Step&&this.updateDecorators()},r.prototype.remove=function(){if(this.decoratorElements.forEach((function(e){e.remove()})),this.currentDiagram=null,this.decoratorElements=null,this.metaData=null,this.isActive=!1,this.dom){for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.dom=null}this.parent=null,this.flowLineFeature=null},r.DEF_FLOWLINE_LENGTH=30,r}();i.FlowLineElement=r}(t.Data||(t.Data={}))}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){!function(t){var i=function(){function i(e,i){this._diagramID=e,this.metaData=i,this._blocks={},this.flowLines={},this.branches={},this._errorHeight=40,this._errorWidth=20,this._selectionBlockCallBackRef=this.blockSelectionHandler.bind(this),this.dataHandler=new t.StepRTHandler(this),this._activeBlocks=[]}return Object.defineProperty(i.prototype,"connDetails",{get:function(){return this._connDetails},set:function(e){this._connDetails=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"errorDescription",{set:function(e){e&&(this._errorDescription=new t.TextElement(e,this.metaData,"error"))},enumerable:!1,configurable:!0}),i.prototype.getErrorDescription=function(){return this._errorDescription},Object.defineProperty(i.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"diagramID",{get:function(){return this._diagramID},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"activeBlocks",{get:function(){return this._activeBlocks},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedBlock",{get:function(){return this._selectedBlock},enumerable:!1,configurable:!0}),i.prototype.setActivationStatus=function(e,t){if(t)this._activeBlocks.push(e);else{var i=this._activeBlocks.indexOf(e);i>=0&&this._activeBlocks.splice(i,1)}},i.prototype.setActiveStatus=function(e){this.dataHandler.setActiveStatus(e)},i.prototype.update=function(t){var i,r,n,a=0,o=0,s=e.Lib.NVEs.Data.FlowDiagramElementType;if(t)if(t.ErrorDescription&&this._errorDescription)this._errorDescription.update(t.ErrorDescription);else if(t.ElementsList&&this.list)for(i=this.list,r=t.ElementsList,o=i.length,a=0;a<o;a++)i[a]&&r[a]&&r[a].Key===i[a].Key&&(n=r[a],this._blocks&&this._blocks[n.Key]&&n.Type===s.Block?this._blocks[n.Key].updateBlockElementText(n):this.flowLines&&this.flowLines[n.Key]&&n.Type===s.Line&&this.flowLines[n.Key].updateDecoratorsText(n.Decorator))},i.prototype.render=function(e){this._errorDescription?this.renderError(e):(this.renderFlowLine(e),this.renderBranch(e),this.renderBlock(e))},i.prototype.renderBlock=function(e){for(var t in this._blocks){var i=this.getBlockData(t);e.contains(this.blockParentGroup)||this.createElementsParentGroup(e,"blockParentGroup"),i.render(this.blockParentGroup)}},i.prototype.renderFlowLine=function(e){for(var t in this.flowLines){var i=this.getFlowLineData(t);e.contains(this.flowLineParentGroup)||this.createElementsParentGroup(e,"flowLineParentGroup"),i.render(this.flowLineParentGroup)}},i.prototype.renderBranch=function(e){for(var t in this.branches){var i=this.getBranchData(t);e.contains(this.branchParentGroup)||this.createElementsParentGroup(e,"branchParentGroup"),i.render(this.branchParentGroup)}},i.prototype.renderError=function(e){this._errorDescription.render(e)},i.prototype.createElementsParentGroup=function(e,t){this[t]=document.createElementNS("http://www.w3.org/2000/svg","g"),this[t].setAttribute("class",t),e.appendChild(this[t])},i.prototype.unRegisterForBlockSelection=function(){this.blockParentGroup&&this.blockParentGroup.removeEventListener("click",this._selectionBlockCallBackRef)},i.prototype.registerForBlockSelection=function(){this.blockParentGroup&&this.blockParentGroup.addEventListener("click",this._selectionBlockCallBackRef)},i.prototype.setSelectionBlockHandlerCallBack=function(e){this._selectedBlockHandlerCallBack=e},i.prototype.blockSelectionHandler=function(e){if(e&&e.target){var t=this.findParentElementWithId(e.target);t&&this._selectedBlockHandlerCallBack(t,this._diagramID)}},i.prototype.findParentElementWithId=function(e){for(;e.parentNode;)if((e=e.parentNode)&&"svg"===e.nodeName){var t=e.id||"";if(t.indexOf("Block")>-1)return t}return""},i.prototype.clearPrevSelectedBlock=function(){this._selectedBlock&&(this._selectedBlock.updateSelectionStatus(!1),this._selectedBlock=null)},i.prototype.updateSelectedBlock=function(e,t){e&&(this.clearPrevSelectedBlock(),this._selectedBlock=this.getBlockData(e),this._selectedBlock.updateSelectionStatus(!0),this.jumpToSlectedBlockPos(),t&&this.metaData.dp.setSelectedBlockId("Step",e))},i.prototype.jumpToSlectedBlockPos=function(){(this._selectedBlock.y<this.metaData.scrollHandler.getScrollYPos()||this._selectedBlock.y>this.metaData.scrollHandler.getScrollYPos()+this.metaData.dim.height/this.metaData.zoomFactor)&&this.metaData.scrollHandler.changeVScroll((this._selectedBlock.y-t.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor),(this._selectedBlock.getNormalizedXPos()<this.metaData.scrollHandler.getScrollXPos()||this._selectedBlock.getNormalizedXPos()>this.metaData.scrollHandler.getScrollXPos()+this.metaData.dim.width/this.metaData.zoomFactor)&&this.metaData.scrollHandler.changeHScroll((this._selectedBlock.getNormalizedXPos()-t.FlowDiagramMetaData.OFFSET)*this.metaData.zoomFactor)},i.prototype.reset=function(){for(var e in this._blocks)this._blocks[e].setBlockDim(),this._blocks[e].isProcessed=!1;for(var t in this.flowLines)this.flowLines[t].isProcessed=!1;for(var i in this.branches)this.branches[i].clearNodes()},i.prototype.getEndYPos=function(){return this._startYPos+this._height},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),i.prototype.setStartXYPos=function(e){this._startYPos=e,this._errorDescription&&(this._errorDescription.setStartYPos(this._errorHeight),this._errorDescription.setStartXPos(this._errorWidth))},i.prototype.setLayoutProps=function(e,t){this._height=t,this._width=e},i.prototype.addBlock=function(t,i){var r=new e.Lib.NVEs.Data.BlockElement(t,i);this._blocks[t.Key]=r},i.prototype.updateBlock=function(e){},i.prototype.addFlowLine=function(i,r){var n=new e.Lib.NVEs.Data.FlowLineElement(i,this,r,t.Orientation.vertical);this.flowLines[i.Key]=n},i.prototype.addBranch=function(i,r){var n=new e.Lib.NVEs.Data.BranchElement(i,this,r,t.Orientation.horizontal);this.branches[i.Key]=n},i.prototype.getBlockData=function(e){return this._blocks[e]},i.prototype.getFlowLineData=function(e){return this.flowLines[e]},i.prototype.getBranchData=function(e){return this.branches[e]},i.prototype.getStartStep=function(){return 0===this.connDetails.length?null:this.connDetails[0].From},i.prototype.getFirstBlock=function(e){return void 0===e&&(e=this.getElementDetails(this.connDetails[0].From)),e instanceof t.BlockElement?e:e=this.getNextElement(e.id)},i.prototype.getElementType=function(e){var t;return this.list.every((function(i){return i.Key!==e||(t=i.Type,!1)})),t},i.prototype.getElementDetails=function(e){return this._blocks[e]?this._blocks[e]:this.flowLines[e]?this.flowLines[e]:this.branches[e]?this.branches[e]:void 0},i.prototype.getNextElement=function(e){var t=this.getNextElementId(e);return t?this.getElementDetails(t):null},i.prototype.getPrevElement=function(e){var t=this.getPrevElementId(e);return t?this.getElementDetails(t):null},i.prototype.getNextElementId=function(e){var t;return this.connDetails.every((function(i){return i.From!==e||(t=i.To,!1)})),t},i.prototype.getPrevElementId=function(e){var t;return this.connDetails.every((function(i){return i.To!==e||(t=i.From,!1)})),t},i.prototype.getRightMostChild=function(e){var t=null;return this.connDetails.forEach((function(i){i.From===e&&(t=i.To)})),this.getElementDetails(t)},i.prototype.getFirstChild=function(e){var t=null;return this.connDetails.every((function(i){return i.From!==e||(t=i.To,!1)})),this.getElementDetails(t)},i.prototype.getChildren=function(e){var t=this,i=[];return this.connDetails.forEach((function(r){r.From===e&&i.push(t.getElementDetails(r.To))})),i},i.prototype.getParent=function(e){var t=null;return this.connDetails.every((function(i){return i.To!==e||(t=i.From,!1)})),this.getElementDetails(t)},i.prototype.getGuardians=function(e){var t=this,i=[];return this.connDetails.forEach((function(r){r.To===e&&i.push(t.getElementDetails(r.From))})),i},i.prototype.getPreviousSibling=function(e,t){var i=null;return this.connDetails.every((function(r){return r.From===e&&r.To!==t?(i=r.To,!0):r.From!==e||r.To!==t})),this.getElementDetails(i)},i.prototype.getNextGuardian=function(e,t){var i=null,r=!1;return this.connDetails.every((function(n){return n.From===e&&n.To===t?(r=!0,!0):!r||n.To!==t||(i=n.From,!1)})),this.getElementDetails(i)},i.prototype.getLastGuardian=function(e){var t=null;return this.connDetails.forEach((function(i){i.To===e&&(t=i.From)})),this.getElementDetails(t)},i.prototype.getPrevGuardian=function(e,t){var i=null;return this.connDetails.every((function(r){return r.To===t&&r.From!==e?(i=r.From,!0):r.To!==t||r.From!==e})),this.getElementDetails(i)},i.prototype.getNexUnprocessedChildOfBranch=function(e){var t=null;return this.getChildren(e).every((function(e){return!!e.isProcessed||(t=e,!1)})),t},i.prototype.getNextSteps=function(e){var i=this,r=[],n=this.getNextElement(e);if(n instanceof t.BlockElement)r.push(n.id);else if(n instanceof t.BranchElement)this.getChildren(n.id).forEach((function(e){r.push.apply(r,i.getNextSteps(e.id))}));else if(n)r.push.apply(r,this.getNextSteps(n.id));else{var a=this.getElementDetails(e);a instanceof t.FlowLineElement&&a.decoratorElements.every((function(e){return e.type!==t.FlowLineDecoratorType.Links||(r.push(e.dt.Key),!1)}))}return r},i.prototype.getPrevSteps=function(e){var i=this,r=[],n=this.getPrevElement(e);n instanceof t.BlockElement?r.push(n.id):n instanceof t.BranchElement?this.getGuardians(n.id).forEach((function(e){r.push.apply(r,i.getPrevSteps(e.id))})):n&&r.push.apply(r,this.getPrevSteps(n.id));return r},i.prototype.getJumpInLinks=function(e){var i=[],r=this.getPrevElement(e);return r instanceof t.FlowLineElement&&r.decoratorElements.forEach((function(e){var r,n,a;(null===(r=e.dt)||void 0===r?void 0:r.DecoratorType)===t.FlowLineDecoratorType.Links&&(null===(n=e.dt)||void 0===n?void 0:n.DecoratorSubType)===t.FlowLineDecoratorSubType.JumpIn&&i.push(null===(a=e.dt)||void 0===a?void 0:a.Key)})),i},i.prototype.getJumpOutLinks=function(e){var i=this,r=[];return this.getTransitionInfo(e).decoratorElements.forEach((function(e){var n,a,o;(null===(n=e.dt)||void 0===n?void 0:n.DecoratorType)===t.FlowLineDecoratorType.Links&&(null===(a=e.dt)||void 0===a?void 0:a.DecoratorSubType)===t.FlowLineDecoratorSubType.JumpOut&&r.push(e.dt.Key),i.hasTerminal=(null===(o=e.dt)||void 0===o?void 0:o.DecoratorType)===t.FlowLineDecoratorType.Terminal})),{hasTerminal:this.hasTerminal,jumpOutLinks:r}},i.prototype.getTransitionInfo=function(e){var t,i=this;return Object.keys(this.flowLines).forEach((function(r){i.flowLines[r].decoratorElements.forEach((function(n){var a;(null===(a=n.dt.Data)||void 0===a?void 0:a.Header)!==e||(t=i.flowLines[r])}))})),t},i.prototype.getSiblings=function(e){var i=this,r=[],n=!1,a=this.getPrevElement(e);(a instanceof t.FlowLineElement&&(a=this.getPrevElement(a.id)),a instanceof t.BranchElement)&&(a.lineStyle===t.FlowLineType.parallel?n=!0:a.lineStyle===t.FlowLineType.solid&&(n=!1),this.getChildren(a.id).forEach((function(n){if(n instanceof t.FlowLineElement){var a=i.getNextElement(n.id);a instanceof t.BlockElement&&e!==a.id&&r.push(a.id)}else n instanceof t.BlockElement&&r.push(n.id)})));return{list:r,isParallel:r.length>0&&n}},i.prototype.inComingTransitions=function(e){var i=this,r=[];return this.getGuardians(e).forEach((function(n){n instanceof t.FlowLineElement&&(n.decoratorElements.every((function(e){return e.type!==t.FlowLineDecoratorType.Transition||(r.push(e.dt.Data.Header),!1)})),0===n.decoratorElements.length&&r.push.apply(r,i.inComingTransitions(i.getGuardians(e)[0].id))),n instanceof t.BranchElement&&r.push.apply(r,i.inComingTransitions(n.id))})),r},i.prototype.outGoingTransitions=function(e){var i=this,r=[];return this.getChildren(e).forEach((function(n){n instanceof t.FlowLineElement&&(n.decoratorElements.every((function(e){return e.type===t.FlowLineDecoratorType.Transition?(r.push(e.dt.Data.Header),!1):(e.type===t.FlowLineDecoratorType.Links&&e.subType===t.FlowLineDecoratorSubType.JumpIn&&r.push(e.dt.Key),!0)})),0===n.decoratorElements.length&&r.push.apply(r,i.outGoingTransitions(i.getChildren(e)[0].id))),n instanceof t.BranchElement&&r.push.apply(r,i.outGoingTransitions(n.id))})),r},i.prototype.remove=function(){for(var e in this.unRegisterForBlockSelection(),this._blocks)this._blocks[e].remove();for(var t in this.flowLines)this.flowLines[t].remove();for(var i in this.branches)this.branches[i].remove();this._errorDescription&&this._errorDescription.remove(),this._blocks=null,this.flowLines=null,this.branches=null,this.metaData=null,this._errorDescription=null,this._activeBlocks=null,this._selectedBlock=null,this.blockParentGroup=null,this.flowLineParentGroup=null,this.branchParentGroup=null,this._selectedBlockHandlerCallBack=null,this._selectionBlockCallBackRef=null,this._connDetails=null,this._list=null,this.dataHandler=null},i}();t.StepDiagramModel=i}(t.Data||(t.Data={}))}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(e){this.diag=e}return t.prototype.setActiveStatus=function(t){for(var i,r=[],n=[],a=!1,o=0,s=t;o<s.length;o++){var l=s[o],u=this.diag.getBlockData(l.Key);l.Data.hasOwnProperty("isActive")&&(!0===l.Data.isActive?(r.push(l.Key),this.diag.setActivationStatus(u,!0),u.activeStateForeColor=l.Data.Fore,u.activeStateBackColor=l.Data.Back,u.updateActiveStatus(!0)):(n.push(l.Key),this.diag.setActivationStatus(u,!1),u.updateActiveStatus(!1))),l.Data.isSelected&&this.diag.updateSelectedBlock(l.Key,!0),l.Data.isReset&&(a=l.Data.isReset)}if(1===r.length&&r[0]===this.diag.getFirstBlock().id||!0===a){for(var h in this.diag.flowLines)this.diag.flowLines[h].updateActivationStatus(!1);for(var d in this.diag.branches)this.diag.branches[d].updateActivationStatus(!1);this.diag.metaData.elemToActivateOnReRender=[]}else for(var c=0,p=n;c<p.length;c++)for(var m=p[c],g=0,T=r;g<T.length;g++){var f=T[g],y=[];if(this.getPath(m,f,y)){for(var D=0,S=y;D<S.length;D++){var b=S[D],C=this.diag.getElementDetails(b.id);if(C instanceof e.FlowLineElement)C.updateActivationStatus(!0);else if(C instanceof e.BranchElement){var v=this.diag.getElementDetails(b.ref);C.updateActivationStatus(!0,v)}}(i=this.diag.metaData.elemToActivateOnReRender).push.apply(i,y)}}},t.prototype.getPath=function(t,i,r){var n=!1,a=this.diag.getNextElement(t);if(a instanceof e.BlockElement)n=a.id===i||this.getPath(a.id,i,r);else if(a instanceof e.FlowLineElement)r.push({id:a.id}),n=this.getPath(a.id,i,r);else if(a instanceof e.BranchElement&&a.subType===e.BranchSubType.End)r.push({id:a.id,ref:t}),n=this.getPath(a.id,i,r);else if(a instanceof e.BranchElement)for(var o=0,s=this.diag.getChildren(a.id);o<s.length;o++){var l=s[o],u=[];if(u.push({id:l.id}),n=this.getPath(l.id,i,u)){r.push({id:a.id,ref:l.id}),r.push.apply(r,u);break}}return n},t}();e.StepRTHandler=t}(e.Data||(e.Data={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){!function(i){var r=function(){function i(t){this.radius=0,this.angle=0,this.alignmentOffset=0,this.labels=t,this.elementProvider=new e.Data.SvgElementProvider("text",this.labels.dom)}return i.prototype.getFont=function(){for(var e,i=0;i<this.labels.Features.length;i++){var r=this.labels.Features[i];r instanceof t.Font&&(e=r)}return e||(e=new t.Font,this.labels.Features.push(e)),e},i.prototype.calcBaselineShift=function(t){return e.getTextPosY(t,Number(this.getFont().getAttribute("size")))},i.prototype.setBaseline=function(e,t){e.setAttributeNS(null,"dominant-baseline",t)},i.prototype.setTextAnchor=function(e,t){e.setAttributeNS(null,"text-anchor",t)},i.prototype.getShiftDirectionWidth=function(t){var i=0,r=e.Utilities.normalizeAngle(t.angle);return r>=0&&r<90||r>270&&r<=360?i=1:r>90&&r<270&&(i=-1),i},i.prototype.getShiftDirectionHeight=function(t){var i=0,r=e.Utilities.normalizeAngle(t.angle);return r>0&&r<180?i=1:r>180&&r<360&&(i=-1),i},i.prototype.handleAlignment=function(e,t){switch(this.labels.getAttribute("alignment-mode")){case"regular":default:this.handleRegularAlignment(e,t);break;case"center":this.handleCenterAlignment(e,t);break;case"tangential":this.handleTangentialAlignment(e,t)}},i.prototype.handleRegularAlignment=function(t,i){this.setTextAnchor(t,"middle");var r=e.convertFormatPattern(String(i.value),this.labels.getAttribute("output-format")),n=this.getFont().getWebRHAttributes(),a=e.getTextHeight(r,n)/2,o=e.getTextWidth(r,n)/2,s=this.getShiftDirectionWidth(i)*o,l=0;switch(this.getShiftDirectionHeight(i)){case 1:l=a;break;case 0:l=a/2}t.setAttributeNS(null,"dx",String(s)),t.setAttributeNS(null,"dy",String(l))},i.prototype.handleCenterAlignment=function(t,i){this.setTextAnchor(t,"middle");var r=e.convertFormatPattern(String(i.value),this.labels.getAttribute("output-format")),n=this.getFont().getWebRHAttributes(),a=e.getTextHeight(r,n),o=e.getTextWidth(r,n);t.setAttributeNS(null,"dy",String(this.calcBaselineShift(a)/4)),this.calculateAlignmentOffset(o,a,i)},i.prototype.calculateAlignmentOffset=function(t,i,r){var n,a=this.getShiftDirectionWidth(r)*t*-1,o=this.getShiftDirectionHeight(r)*i*-1,s=new e.Geometry.Point,l=new e.Geometry.Point(r.centerX,r.centerY);n=e.Geometry.Calculations.getPointOnArc(r.angle*e.Geometry.degree,r.radius,r.centerX,r.centerY),s.x=n.x+a,s.y=n.y+o;var u=e.Geometry.Calculations.distance(s,l),h=e.Geometry.Calculations.distance(n,l),d=Math.max(h,u),c=Math.min(h,u);this.alignmentOffset=(d-c)/2},i.prototype.handleTangentialAlignment=function(t,i){this.setTextAnchor(t,"middle");var r=e.Utilities.normalizeAngle(i.angle);((r-=270)>90||r<-90)&&(r+=180);var n=e.Geometry.Calculations.getPointOnArc(i.angle*e.Geometry.degree,i.radius,i.centerX,i.centerY);e.Utilities.rotateSVGObject(t,String(r),String(n.x),String(n.y))},i}();i.LabelsArcBase=r}(i.ArcDial||(i.ArcDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},i.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createLabels(e.getPoles());break}this.drawChilds(t[i].children)}},i.prototype.createLabels=function(e){this.labels.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this),i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},i.prototype.applyDomAttributes=function(e,t){var i=this.getFont(),r=this;t.forEach((function(t,n){var a=e[n];i.addFontAttributesToDomNode(r.labels.webRTPUItem,r.labels.metaData,a),r.handleAlignment(a,t),r.addPositionToDom(a,t),r.addTextNodeToDom(a,t),a.setAttributeNS(null,"fill",r.labels.getAttribute("fill"))}),this)},i.prototype.addPositionToDom=function(t,i){var r=parseFloat(this.labels.getAttribute("offset"));this.radius=i.radius,this.angle=i.angle;var n=i.radius+r+this.alignmentOffset,a=e.Geometry.Calculations.getPointOnArc(i.angle*e.Geometry.degree,n,i.centerX,i.centerY);t.setAttributeNS(null,"x",String(e.Utilities.preprocessCoordinateForSVG(a.x))),t.setAttributeNS(null,"y",String(e.Utilities.preprocessCoordinateForSVG(a.y)))},i.prototype.addTextNodeToDom=function(t,i){var r=e.convertFormatPattern(String(i.value),this.labels.getAttribute("output-format"));t.textContent=r},i}(t.LabelsArcBase);t.LabelsArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(t){this.alignmentOffset=0,this.alignmentOffsetX=0,this.alignmentOffsetY=0,this.markers=t,this.elementProvider=new e.Data.SvgElementProvider("g",this.markers.dom,this.createNodeContentCallback.bind(this),this.recycleNodeContentCallback.bind(this))}return t.prototype.createNodeContentCallback=function(e,t){var i=this.markers.Templates[""],r=this.markers.webRTPUItem.createSubtemplate(this.markers,i,{Width:1,Height:1},null,1,1);"0"==r.RootNode.getAttribute("width")&&r.RootNode.setAttribute("width","1"),"0"==r.RootNode.getAttribute("height")&&r.RootNode.setAttribute("height","1"),e.setAttribute("overflow","visible"),e.appendChild(r.RootNode)},t.prototype.recycleNodeContentCallback=function(e,t){for(var i=e;i&&"svg"!=i.tagName;)i=i.children[0];i&&("0"==i.getAttribute("width")&&i.setAttribute("width","1"),"0"==i.getAttribute("height")&&i.setAttribute("height","1"))},t.prototype.addPositionToDom=function(t,i){var r=parseFloat(this.markers.getAttribute("offset")),n=i.radius+r+this.alignmentOffset,a=e.Geometry.Calculations.getPointOnArc(i.angle*e.Geometry.degree,n,i.centerX,i.centerY);e.Utilities.transformSVGObject(t,"translate("+e.Utilities.preprocessCoordinateForSVG(a.x+this.alignmentOffsetX)+","+e.Utilities.preprocessCoordinateForSVG(a.y+this.alignmentOffsetY)+")"),this.handleRotation(t,a.x,a.y)},t.prototype.handleRotation=function(t,i,r){var n=this.markers.getAttribute("angle"),a=parseFloat(this.markers.getAttribute("origin-x")),o=parseFloat(this.markers.getAttribute("origin-y"));e.Utilities.rotateSVGObject(t,n,String(e.Utilities.preprocessCoordinateForSVG(i+a)),String(e.Utilities.preprocessCoordinateForSVG(r+o)))},t.prototype.handleAlignment=function(e,t,i,r){switch(this.markers.getAttribute("alignment-mode")){case"regular":default:this.handleRegularAlignment(e,t,i,r);break;case"center":this.handleCenterAlignment(e,t,i,r);break;case"tangential":this.handleTangentialAlignment(e,t,i,r);break;case"radial":this.handleRadialAlignment(e,t,i,r)}},t.prototype.handleRegularAlignment=function(e,t,i,r){this.alignmentOffsetX=-(this.getShiftDirectionWidth(t)+1)*i/2,this.alignmentOffsetY=-(this.getShiftDirectionHeight(t)+1)*r/2},t.prototype.handleCenterAlignment=function(t,i,r,n){var a,o=this.getShiftDirectionWidth(i)*r,s=this.getShiftDirectionHeight(i)*n,l=new e.Geometry.Point,u=new e.Geometry.Point;a=e.Geometry.Calculations.getPointOnArc(i.angle*e.Geometry.degree,i.radius+parseFloat(this.markers.getAttribute("offset")),i.centerX,i.centerY),l.x=a.x+o,l.y=a.y+s,u.x=i.centerX,u.y=i.centerY;var h=e.Geometry.Calculations.distance(l,u),d=e.Geometry.Calculations.distance(a,u),c=Math.max(d,h),p=Math.min(d,h);this.alignmentOffset=(c-p)/2,this.alignmentOffsetX=-r/2,this.alignmentOffsetY=-n/2},t.prototype.handleTangentialAlignment=function(t,i,r,n){var a=e.Utilities.normalizeAngle(i.angle)-270;this.alignmentOffset=n;var o=e.Geometry.Calculations.getPointOnArc(i.angle*e.Geometry.degree,i.radius+parseFloat(this.markers.getAttribute("offset"))+n,i.centerX,i.centerY);e.Utilities.transformSVGObject(t,"translate("+-r/2+",0)"),e.Utilities.rotateSVGObject(t,String(a),String(e.Utilities.preprocessCoordinateForSVG(o.x)),String(e.Utilities.preprocessCoordinateForSVG(o.y)))},t.prototype.handleRadialAlignment=function(t,i,r,n){this.alignmentOffset=n/2,e.Utilities.transformSVGObject(t,"translate("+-r/2+",0)"),e.Utilities.rotateSVGObject(t,String(i.angle-270))},t.prototype.getShiftDirectionWidth=function(t){var i=0,r=e.Utilities.normalizeAngle(t.angle);return(r>360||r<-360)&&(r%=360),(r=r<0?r+360:r)>=0&&r<90||r>270&&r<=360?i=-1:r>90&&r<270&&(i=1),i},t.prototype.getShiftDirectionHeight=function(e){var t=0,i=e.angle;return(i>360||i<-360)&&(i%=360),(i=i<0?i+360:i)>0&&i<180?t=-1:i>180&&i<360&&(t=1),t},t.prototype.applyDomAttributes=function(e,t){var i=this,r=parseFloat(this.markers.getAttribute("content-width")),n=parseFloat(this.markers.getAttribute("content-height"));t.forEach((function(t,a){var o=e[a];o.setAttribute("width",String(r)),o.setAttribute("height",String(n)),o.removeAttribute("transform"),i.handleAlignment(o,t,r,n),i.addPositionToDom(o,t)}),this)},t}();t.MarkersArcBase=i}(t.ArcDial||(t.ArcDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},t.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createPoleMarkers(e.getPoles());break}this.drawChildren(t[i].children)}},t.prototype.createPoleMarkers=function(e){this.markers.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this),i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},t}(e.MarkersArcBase);e.PoleMarkersArc=t}(e.ArcDial||(e.ArcDial={}))}(e.Shape||(e.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(t){this.ribbons=t,this.elementProvider=new e.Data.SvgElementProvider("path",this.ribbons.dom)}return t.prototype.draw=function(){var e=this.ribbons.Parent.getStructure();this.elementProvider.reset(),this.drawChildren(e),this.elementProvider.finish()},t.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createRibbons(t);break}this.drawChildren(t[i].children)}},t.prototype.createRibbons=function(e){this.ribbons.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this),i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},t.prototype.setColor=function(t,i,r,n){if(i.color)t.setAttribute("fill",i.color.getRGB()),t.setAttribute("fill-opacity",i.color.getAlpha());else if(r==n)t.setAttribute("fill",r),"transparent"==r?(t.setAttribute("fill","#FFFFFF"),t.setAttribute("fill-opacity","0")):t.setAttribute("fill",r);else if(r&&n){var a="RibbonGradient"+e.Utilities.guid(),o=(i.beginAngle+i.endAngle)/2;this.ribbons.metaData.defs.appendChild(this.createGradientSVG(r,n,a,o)),t.setAttributeNS(null,"fill","url(#"+a+")")}},t.prototype.applyDomAttributes=function(t,i){var r=this;i.forEach((function(i,n){var a,o=t[n],s=r.ribbons.getStrokeColors(),l=r.ribbons.getBeginEndParameters("stroke-width",1),u=r.ribbons.getBeginEndParameters("surcharge",0),h=parseFloat(r.ribbons.getAttribute("offset"))||0,d=Math.max(0,parseFloat(r.ribbons.getAttribute("begin-radius"))),c=Math.max(0,parseFloat(r.ribbons.getAttribute("end-radius"))),p=(i.beginAngle-u.begin)*e.Geometry.degree,m=(i.endAngle+u.end)*e.Geometry.degree,g=i.radius+h,T={x:i.centerX,y:i.centerY,angle:null},f={x:i.centerX+(g-l.begin/2)*Math.cos(p),y:i.centerY+(g-l.begin/2)*Math.sin(p),angle:p},y={x:i.centerX+(g+l.begin/2)*Math.cos(p),y:i.centerY+(g+l.begin/2)*Math.sin(p),angle:p},D={x:i.centerX+(g+l.end/2)*Math.cos(m),y:i.centerY+(g+l.end/2)*Math.sin(m),angle:m},S={x:i.centerX+(g-l.end/2)*Math.cos(m),y:i.centerY+(g-l.end/2)*Math.sin(m),angle:m};d=Math.min(d,l.begin/2),c=Math.min(c,l.end/2);var b={x:e.Utilities.preprocessCoordinateForSVG(f.x),y:e.Utilities.preprocessCoordinateForSVG(f.y),angle:null},C={x:e.Utilities.preprocessCoordinateForSVG(y.x),y:e.Utilities.preprocessCoordinateForSVG(y.y),angle:null},v=e.Geometry.Calculations.getCenterPoint(b,C);a=e.Geometry.Svg.moveTo(v,!0);var P=e.Geometry.Calculations.getSubDivisionPoints(y,D,p,m,g+l.begin/2,g+l.end/2,T),_=e.Geometry.Calculations.getRoundedArcCorner(v,y,P,d,!1,!0,T);_||(d=0,_=e.Geometry.Calculations.getRoundedArcCorner(v,y,P,d,!1,!0,T)),a+=d>0?e.Geometry.Svg.drawLineTo(_.tangentPoint,!0)+e.Geometry.Svg.drawArcToTarget(d,_.ellipseIntersectionPoint,!0):e.Geometry.Svg.drawLineTo(y);var A=e.Geometry.Calculations.getRoundedArcCorner(S,D,_.modifiedArc,c,!0,!1,T);A||(c=0,A=e.Geometry.Calculations.getRoundedArcCorner(S,D,_.modifiedArc,c,!0,!1,T)),a+=" "+e.Geometry.Svg.drawArc(A.modifiedArc,T,!0),c>0&&(a+=e.Geometry.Svg.drawArcToTarget(c,A.tangentPoint,!0));var w=e.Geometry.Calculations.getSubDivisionPoints(S,f,m,p,g-l.end/2,g-l.begin/2,T),x=e.Geometry.Calculations.getRoundedArcCorner(D,S,w,c,!1,!1,T);a+=c>0?e.Geometry.Svg.drawLineTo(x.tangentPoint,!0)+e.Geometry.Svg.drawArcToTarget(c,x.ellipseIntersectionPoint,!0):e.Geometry.Svg.drawLineTo(S,!0);var V=e.Geometry.Calculations.getRoundedArcCorner(y,f,x.modifiedArc,d,!0,!0,T);a+=" "+e.Geometry.Svg.drawArc(V.modifiedArc,T,!0),d>0&&(a+=e.Geometry.Svg.drawArcToTarget(d,V.tangentPoint,!0)),a+=" Z",o.setAttributeNS(null,"d",a),r.setColor(o,i,s.begin,s.end)}),this)},t.prototype.createGradientSVG=function(e,t,i,r){var n=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");n.setAttributeNS(null,"id",i),n.setAttributeNS(null,"gradientUnits","objectBoundingBox"),n.setAttributeNS(null,"gradientTransform","rotate("+r+" 0.5 0.5)"),n.setAttributeNS(null,"x1","0"),n.setAttributeNS(null,"x2","0"),n.setAttributeNS(null,"y1","1"),n.setAttributeNS(null,"y2","0");var a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttributeNS(null,"offset","0.05"),"transparent"==e?(a.setAttributeNS(null,"stop-color","#FFFFFF"),a.setAttributeNS(null,"stop-opacity","0.0")):a.setAttributeNS(null,"stop-color",e),n.appendChild(a);var o=document.createElementNS("http://www.w3.org/2000/svg","stop");return o.setAttributeNS(null,"offset","0.95"),"transparent"==t?(o.setAttributeNS(null,"stop-color","#FFFFFF"),o.setAttributeNS(null,"stop-opacity","0.0")):o.setAttributeNS(null,"stop-color",t),n.appendChild(o),n},t.prototype.getMetaData=function(){if(!this.ribbons.metaData)throw"No metaData available, the draw(...) method needs to be called first.";return this.ribbons.metaData},t}();t.RibbonsArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){!function(i){var n=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return r(n,i),n.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},n.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createLabels(t);break}this.drawChildren(t[i].children)}},n.prototype.createLabels=function(e){this.labels.applyFilters(e);for(var t=e.filter((function(e){return e.isVisible}),this),i=new Array,r=0;r<t.length;r++)i.push(this.createVirtualPole(t[r]));var n=this.elementProvider.getFreeNodes(i.length);this.applyDomAttributes(n,i)},n.prototype.applyDomAttributes=function(e,t){var i=this.getFont(),r=this;t.forEach((function(t,n){var a=e[n];i.addFontAttributesToDomNode(r.labels.webRTPUItem,r.labels.metaData,a),r.handleAlignment(a,t),r.addPositionToDom(a,t),r.addTextNodeToDom(a,t,n),a.setAttribute("fill",r.labels.getAttribute("fill"))}),this)},n.prototype.createVirtualPole=function(t){var i=parseFloat(this.labels.getAttribute("position"));i=((i=Math.min(Math.max(i,-1),1))+1)/2;var r=t.beginAngle+i*(t.endAngle-t.beginAngle),n=t.beginValue+i*(t.endValue-t.beginValue);return new e.Data.PoleArc(t.centerX,t.centerY,t.radius,r,n)},n.prototype.addPositionToDom=function(t,i){var r=parseFloat(this.labels.getAttribute("offset"))||0;this.radius=i.radius,this.angle=i.angle;var n=i.radius+r+this.alignmentOffset,a=e.Geometry.Calculations.getPointOnArc(i.angle*e.Geometry.degree,n,i.centerX,i.centerY);t.setAttribute("x",String(e.Utilities.preprocessCoordinateForSVG(a.x))),t.setAttribute("y",String(e.Utilities.preprocessCoordinateForSVG(a.y)))},n.prototype.addTextNodeToDom=function(i,r,n){var a,o=this.labels.Parent;if(o instanceof t.Structure.Thresholds){var s=parseFloat(o.getAttribute("config")[n].ThresholdMode);a=e.Utilities.getThresholdMode(s)}else a=String(r.value);var l=e.convertFormatPattern(a,this.labels.getAttribute("output-format"));i.textContent=l},n}(i.LabelsArcBase);i.SectionLabelsArc=n}(i.ArcDial||(i.ArcDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},i.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createSectionMarkers(t);break}this.drawChildren(t[i].children)}},i.prototype.createSectionMarkers=function(e){this.markers.applyFilters(e);for(var t=e.filter((function(e){return e.isVisible}),this),i=new Array,r=0;r<t.length;r++)i.push(this.createVirtualPole(t[r]));var n=this.elementProvider.getFreeNodes(i.length);this.applyDomAttributes(n,i)},i.prototype.createVirtualPole=function(t){var i=parseFloat(this.markers.getAttribute("position"));i=((i=Math.min(Math.max(i,-1),1))+1)/2;var r=t.beginAngle+i*(t.endAngle-t.beginAngle),n=t.beginValue+i*(t.endValue-t.beginValue);return new e.Data.PoleArc(t.centerX,t.centerY,t.radius,r,n)},i}(t.MarkersArcBase);t.SectionMarkersArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(t){this.ticks=t,this.elementProvider=new e.Data.SvgElementProvider("line",this.ticks.dom)}return t.prototype.draw=function(){var e=this.ticks.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},t.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createTicks(e.getPoles());break}this.drawChilds(t[i].children)}},t.prototype.createTicks=function(e){this.ticks.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this),i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},t.prototype.applyDomAttributes=function(t,i){var r=this;i.forEach((function(i,n){var a=t[n],o=0;r.ticks.getAttribute("offset")&&(o=parseFloat(r.ticks.getAttribute("offset")));var s=Math.cos(Math.PI*i.angle/180),l=Math.sin(Math.PI*i.angle/180),u=i.centerX+(i.radius+o)*s,h=i.centerY+(i.radius+o)*l,d=i.centerX+(i.radius+parseFloat(r.ticks.getAttribute("length"))+o)*s,c=i.centerY+(i.radius+parseFloat(r.ticks.getAttribute("length"))+o)*l;a.setAttributeNS(null,"x1",String(e.Utilities.preprocessCoordinateForSVG(u))),a.setAttributeNS(null,"x2",String(e.Utilities.preprocessCoordinateForSVG(d))),a.setAttributeNS(null,"y1",String(e.Utilities.preprocessCoordinateForSVG(h))),a.setAttributeNS(null,"y2",String(e.Utilities.preprocessCoordinateForSVG(c))),a.setAttributeNS(null,"stroke-width",r.ticks.getAttribute("stroke-width")),null!==i.color?(a.setAttributeNS(null,"stroke",i.color.getRGB()),a.setAttributeNS(null,"stroke-opacity",i.color.getAlpha())):a.setAttributeNS(null,"stroke",r.ticks.getAttribute("stroke"))}),this)},t}();t.TicksArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){!function(i){var r=function(){function i(t){this.horizontalAlignment=0,this.verticalAlignment=0,this.posX=0,this.posY=0,this.labels=t,this.elementProvider=new e.Data.SvgElementProvider("text",this.labels.dom)}return i.prototype.getFont=function(){for(var e,i=0;i<this.labels.Features.length;i++){var r=this.labels.Features[i];r instanceof t.Font&&(e=r)}return e||(e=new t.Font,this.labels.Features.push(e)),e},i.prototype.handleAlignments=function(e,t,i){return this.determineAlignment(),this.addAlignmentsToDom(e,t,i),e},i.prototype.determineAlignment=function(){var e=this.labels.getAttribute("alignment");if(null!=e){var t=e.split(" ");this.horizontalAlignment=this.checkAlignmentBoundary(Number(t[0])),this.verticalAlignment=this.checkAlignmentBoundary(Number(t[1]))}else this.horizontalAlignment=this.checkAlignmentBoundary(Number(this.labels.getAttribute("alignment-horizontal"))),this.verticalAlignment=this.checkAlignmentBoundary(Number(this.labels.getAttribute("alignment-vertical")))},i.prototype.addAlignmentsToDom=function(e,t,i){var r=t*this.horizontalAlignment/2,n=i*(this.verticalAlignment+1)/2;if(e.setAttributeNS(null,"text-anchor","middle"),n=this.calcBaselineShift(i)-n,r=-r,"g"==e.nodeName)for(var a=0;a<e.children.length;a++)e.children[a].setAttributeNS(null,"dx",String(r)),e.children[a].setAttributeNS(null,"dy",String(n));else e.setAttributeNS(null,"dx",String(r)),e.setAttributeNS(null,"dy",String(n))},i.prototype.calcBaselineShift=function(t){return e.getTextPosY(t,Number(this.getFont().getAttribute("size")))},i.prototype.checkAlignmentBoundary=function(e){return e<-1?e=-1:e>1&&(e=1),e},i}();i.LabelsStraightBase=r}(i.StraightDial||(i.StraightDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.numberOfLines=1,i.secondProvider=new e.Data.SvgElementProvider("text",i.labels.dom),i}return r(i,t),i.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.numberOfLines=this.poleValueToText(e.getPoles()[0].value).split("").length,this.numberOfLines>1?this.elementProvider.setTagName("g"):this.elementProvider.setTagName("text"),this.elementProvider.reset(),this.secondProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish(),this.secondProvider.finish()},i.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createLabels(e.getPoles());break}this.drawChilds(t[i].children)}},i.prototype.createLabels=function(e){this.labels.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this);this.getFont().reset();var i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},i.prototype.applyDomAttributes=function(t,i){var r=this,n=this.getFont(),a=r.getFontWebRHAttributes(n);if(i&&i.length>0)if(this.labels.metaData.isVertical){Math.abs(i[0].y-i[i.length-1].y);var o=r.poleValueToText(i[0].value);e.Utilities.resetSVGObject(t[0]),e.getTextHeight(o,a),o=r.poleValueToText(i[i.length-1].value),e.Utilities.resetSVGObject(t[i.length-1]),e.getTextHeight(o,a)}else{Math.abs(i[0].x-i[i.length-1].x);o=r.poleValueToText(i[0].value);e.Utilities.resetSVGObject(t[0]),e.getTextWidth(r.getTextForWidthMeasure(o),a),o=r.poleValueToText(i[i.length-1].value),e.Utilities.resetSVGObject(t[i.length-1]),e.getTextWidth(r.getTextForWidthMeasure(o),a)}i.forEach((function(i,a){var o,s=0,l=t[a];e.Utilities.resetSVGObject(l);var u=r.poleValueToText(i.value);if(r.numberOfLines>1){var h,d=r.labels.getAttribute("alignment");if(null!=d){var c=d.split(" ");h=r.checkAlignmentBoundary(Number(c[1]))}else this.verticalAlignment=r.checkAlignmentBoundary(Number(r.labels.getAttribute("alignment-vertical")));var p,m=0,g=u.split(""),T=r.secondProvider.getFreeNodes(this.numberOfLines);T.forEach((function(t,a){switch(p=r.addFontAttribute(n,g[a],t),o=e.getTextHeight(g[a],p),h){case 0:m=o*(r.numberOfLines-1)/2;break;case 1:m=o*(r.numberOfLines-1)}r.addPositionToDom(t,i,o*a-m),s=s<e.getTextWidth(g[a],p)?e.getTextWidth(g[a],p):s,l.appendChild(t)})),T.forEach((function(e){return r.handleInnerAlignement(e,p,s)})),r.addPositionToDom(l,i,-1*m),e.Utilities.rotateSVGObject(l,r.labels.getAttribute("angle"),String(r.posX),String(r.posY+m))}else{r.addPositionToDom(l,i),e.Utilities.rotateSVGObject(l,r.labels.getAttribute("angle"),String(r.posX),String(r.posY));var f=r.addFontAttribute(n,u,l);o=e.getTextHeight(u,f),s=e.getTextWidth(u,f)}this.handleAlignments(l,s,o)}),this)},i.prototype.poleValueToText=function(t){var i=e.format2Type(this.labels.getAttribute("output-format")),r=e.getHmiFieldDataTypeEnum();return i===r.DateTime||i===r.Date||i===r.Time||i===r.TimeSpan?e.convertFormatPattern(t,this.labels.getAttribute("output-format"),this.labels.metaData.timezone):e.convertFormatPattern(String(t),this.labels.getAttribute("output-format"))},i.prototype.getTextForWidthMeasure=function(e){var t,i,r,n;if(this.numberOfLines>1)for(n=(t=e.split("")).length,i=t[0],r=1;r<n;r++)i.length<t[r].length&&(i=t[r]);else i=e;return i},i.prototype.getFontWebRHAttributes=function(t){return t.Attributes=e.Utilities.mergeWithDefaults(t.Attributes,t.defaults),t.mergeWithScope(),t.checkAndConvertEnums(),t.getWebRHAttributes()},i.prototype.addFontAttribute=function(e,t,i){return e.addFontAttributesToDomNode(this.labels.webRTPUItem,this.labels.metaData,i),i.setAttributeNS(null,"fill",this.labels.getAttribute("fill")),i.textContent=t,this.getFont().getWebRHAttributes()},i.prototype.handleInnerAlignement=function(t,i,r){switch(this.labels.getAttribute("text-content-alignment")){case"right":var n=e.getTextWidth(t.textContent,i);t.setAttributeNS(null,"dx",String((r-n)/2));break;case"left":n=e.getTextWidth(t.textContent,i);t.setAttributeNS(null,"dx",String((n-r)/2))}},i.prototype.addPositionToDom=function(t,i,r){void 0===r&&(r=0);var n=parseFloat(this.labels.getAttribute("offset"));this.labels.metaData.isVertical?(this.posX=Number(i.x)+Number(n),this.posY=Number(i.y)+r):(this.posX=i.x,this.posY=Number(i.y)+Number(n)+r),t.setAttributeNS(null,"x",String(e.Utilities.preprocessCoordinateForSVG(this.posX))),t.setAttributeNS(null,"y",String(e.Utilities.preprocessCoordinateForSVG(this.posY)))},i}(t.LabelsStraightBase);t.LabelsStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(t){this.markers=t,this.elementProvider=new e.Data.SvgElementProvider("g",this.markers.dom,this.createNodeContentCallback.bind(this),this.recycleNodeContentCallback.bind(this))}return t.prototype.createNodeContentCallback=function(e,t){var i=this.markers.Templates[""],r=this.markers.webRTPUItem.createSubtemplate(this.markers,i,{Width:1,Height:1},null,1,1);"0"==r.RootNode.getAttribute("width")&&r.RootNode.setAttribute("width","1"),"0"==r.RootNode.getAttribute("height")&&r.RootNode.setAttribute("height","1"),e.setAttribute("overflow","visible"),e.appendChild(r.RootNode)},t.prototype.recycleNodeContentCallback=function(e,t){for(var i=e;i&&"svg"!=i.tagName;)i=i.children[0];i&&("0"==i.getAttribute("width")&&i.setAttribute("width","1"),"0"==i.getAttribute("height")&&i.setAttribute("height","1"))},t.prototype.applyDomAttributes=function(t,i){var r=this,n=parseFloat(this.markers.getAttribute("content-width")),a=parseFloat(this.markers.getAttribute("content-height"));i.forEach((function(i,o){var s=t[o],l=r.markers.getAlignments(),u=i.x-l.horizontal*n,h=i.y-l.vertical*a,d=parseFloat(r.markers.getAttribute("offset"));r.markers.metaData.isVertical?u+=d:h+=d,s.setAttribute("transform","translate("+String(e.Utilities.preprocessCoordinateForSVG(u))+","+String(e.Utilities.preprocessCoordinateForSVG(h))+")"),s.setAttribute("width",String(e.Utilities.preprocessCoordinateForSVG(n))),s.setAttribute("height",String(e.Utilities.preprocessCoordinateForSVG(a))),r.handleRotation(s,u,h)}),this)},t.prototype.handleRotation=function(t,i,r){var n=String(parseFloat(this.markers.getAttribute("origin-x"))+i),a=String(parseFloat(this.markers.getAttribute("origin-y"))+r);e.Utilities.rotateSVGObject(t,this.markers.getAttribute("angle"),n,a)},t}();t.MarkersStraightBase=i}(t.StraightDial||(t.StraightDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChildren(e),this.elementProvider.finish()},t.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createPoleMarkers(e.getPoles());break}this.drawChildren(t[i].children)}},t.prototype.createPoleMarkers=function(e){this.markers.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this),i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},t}(e.MarkersStraightBase);e.PoleMarkersStraight=t}(e.StraightDial||(e.StraightDial={}))}(e.Shape||(e.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(t){this.gradientId=null,this.ribbons=t,this.elementProvider=new e.Data.SvgElementProvider("path",this.ribbons.dom)}return t.prototype.draw=function(){var e=this.ribbons.Parent.getStructure();this.elementProvider.reset(),this.drawChildren(e),this.elementProvider.finish()},t.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createRibbons(t);break}this.drawChildren(t[i].children)}},t.prototype.createRibbons=function(e){this.ribbons.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this),i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},t.prototype.applyDomAttributes=function(t,i){var r=this;i.forEach((function(i,n){var a,o,s=t[n],l=r.ribbons.getBeginEndParameters("stroke-width",1),u=r.ribbons.getBeginEndParameters("surcharge",0),h=parseFloat(r.ribbons.getAttribute("offset"))||0,d=Math.max(0,parseFloat(r.ribbons.getAttribute("begin-radius"))),c=Math.max(0,parseFloat(r.ribbons.getAttribute("end-radius"))),p=new e.Geometry.Point,m=new e.Geometry.Point,g=new e.Geometry.Point,T=new e.Geometry.Point;if(r.getMetaData().isVertical?(p.x=i.beginX+l.begin/2+h,p.y=i.beginY-u.begin,m.x=i.endX+l.end/2+h,m.y=i.endY+u.end,g.x=i.endX-l.end/2+h,g.y=i.endY+u.end,T.x=i.beginX-l.begin/2+h,T.y=i.beginY-u.begin,a=i.beginY<i.endY):(p.x=i.beginX-u.begin,p.y=i.beginY+l.begin/2+h,m.x=i.endX+u.end,m.y=i.endY+l.end/2+h,g.x=i.endX+u.end,g.y=i.endY-l.end/2+h,T.x=i.beginX-u.begin,T.y=i.beginY-l.begin/2+h,a=i.beginX>i.endX),d>0||c>0){var f=e.Geometry.Calculations.getCenterPoint(p,m);o=e.Geometry.Svg.moveTo(f)+e.Geometry.Svg.drawRoundedCorner(p,m,g,c,a)+e.Geometry.Svg.drawRoundedCorner(m,g,T,c,a)+e.Geometry.Svg.drawRoundedCorner(g,T,p,d,a)+e.Geometry.Svg.drawRoundedCorner(T,p,m,d,a)+e.Geometry.Svg.returnToStart()}else o=e.Geometry.Svg.moveTo(p)+e.Geometry.Svg.drawLineTo(m)+e.Geometry.Svg.drawLineTo(g)+e.Geometry.Svg.drawLineTo(T)+e.Geometry.Svg.returnToStart();s.setAttributeNS(null,"d",o),r.setColor(s,i)}),this)},t.prototype.setColor=function(t,i){var r,n,a=this.ribbons.getStrokeColors();a.begin==a.end?(r=a.begin,"transparent"==a.begin&&(n="0",r="#FFFFFF")):a.begin&&a.end&&(this.gradientId="RibbonGradient"+e.Utilities.guid(),this.ribbons.metaData.defs.appendChild(this.createGradientSVG(a.begin,a.end,this.gradientId))),i.color?(t.setAttribute("fill",i.color.getRGB()),t.setAttribute("fill-opacity",i.color.getAlpha())):this.gradientId?t.setAttribute("fill","url(#"+this.gradientId+")"):r?(t.setAttribute("fill",r),n&&t.setAttribute("fill-opacity",n)):e.trace(30,"Couldn't determine color for RibbonStraight")},t.prototype.createGradientSVG=function(e,t,i){var r=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");r.setAttributeNS(null,"id",i),r.setAttributeNS(null,"gradientUnits","objectBoundingBox");var n="1",a="0";this.getMetaData().isVertical&&(n="0",a="1"),r.setAttributeNS(null,"x1","0"),r.setAttributeNS(null,"x2",n),r.setAttributeNS(null,"y1",a),r.setAttributeNS(null,"y2","0");var o=document.createElementNS("http://www.w3.org/2000/svg","stop");o.setAttributeNS(null,"offset","0.05"),"transparent"==e?(o.setAttributeNS(null,"stop-color","#FFFFFF"),o.setAttributeNS(null,"stop-opacity","0.0")):o.setAttributeNS(null,"stop-color",e),r.appendChild(o);var s=document.createElementNS("http://www.w3.org/2000/svg","stop");return s.setAttributeNS(null,"offset","0.95"),"transparent"==t?(s.setAttributeNS(null,"stop-color","#FFFFFF"),s.setAttributeNS(null,"stop-opacity","0.0")):s.setAttributeNS(null,"stop-color",t),r.appendChild(s),r},t.prototype.getMetaData=function(){if(!this.ribbons.metaData)throw"No metaData available, the draw(...) method needs to be called first.";return this.ribbons.metaData},t}();t.RibbonsStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){!function(i){var n=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return r(n,i),n.prototype.draw=function(){var e=this.labels.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},n.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createSectionLabels(t);break}this.drawChilds(t[i].children)}},n.prototype.createSectionLabels=function(e){this.labels.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this);this.getFont().reset();var i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},n.prototype.applyDomAttributes=function(t,i){var r=this.getFont(),n=(this.labels.Parent,this);i.forEach((function(i,a){var o=t[a];n.addSectionPositionToDom(o,i),r.addFontAttributesToDomNode(n.labels.webRTPUItem,n.labels.metaData,o),o.setAttributeNS(null,"fill",n.labels.getAttribute("fill")),e.Utilities.rotateSVGObject(o,n.labels.getAttribute("angle"),String(n.posX),String(n.posY));var s=n.getText(i),l=e.convertFormatPattern(String(s),n.labels.getAttribute("output-format")),u=n.getFont().getWebRHAttributes(),h=e.getTextHeight(l,u),d=e.getTextWidth(l,u);n.handleAlignments(o,d,h),o.textContent=l}),this)},n.prototype.getText=function(e){var i=this.labels.Parent;if(i instanceof t.Structure.Thresholds){var r=i.getAttribute("config");return this.getThresholdValue(r,e)}return e.beginValue.toString()},n.prototype.getThresholdValue=function(t,i){for(var r=0;r<t.length;r++){var n=parseFloat(t[r].BeginValue),a=parseFloat(t[r].EndValue);if(i.beginValue==n&&i.endValue==a){var o=parseFloat(t[r].ThresholdMode);return e.Utilities.getThresholdMode(o)}}},n.prototype.addSectionPositionToDom=function(t,i){this.labels.metaData.isVertical?(this.posX=i.beginX+parseFloat(this.labels.getAttribute("offset")),this.posY=this.calcPosition(i.beginY,i.endY)):(this.posX=this.calcPosition(i.beginX,i.endX),this.posY=i.beginY+parseFloat(this.labels.getAttribute("offset"))),t.setAttributeNS(null,"x",String(e.Utilities.preprocessCoordinateForSVG(this.posX))),t.setAttributeNS(null,"y",String(e.Utilities.preprocessCoordinateForSVG(this.posY)))},n.prototype.calcPosition=function(e,t){var i=parseFloat(this.labels.getAttribute("position"));return(t-e)*(i=((i=Math.min(Math.max(i,-1),1))+1)/2)+e},n}(i.LabelsStraightBase);i.SectionLabelsStraight=n}(i.StraightDial||(i.StraightDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.draw=function(){var e=this.markers.Parent.getStructure();this.elementProvider.reset(),this.drawChildren(e),this.elementProvider.finish()},i.prototype.drawChildren=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createSectionMarkers(t);break}this.drawChildren(t[i].children)}},i.prototype.createSectionMarkers=function(e){this.markers.applyFilters(e);for(var t=e.filter((function(e){return e.isVisible}),this),i=new Array,r=0;r<t.length;r++)i.push(this.createVirtualPole(t[r]));var n=this.elementProvider.getFreeNodes(i.length);this.applyDomAttributes(n,i)},i.prototype.createVirtualPole=function(t){var i,r,n=Number(this.markers.getAttribute("position"));return n=((n=Math.min(1,Math.max(-1,n)))+1)/2,this.markers.metaData.isVertical?(i=t.beginX,r=Math.min(t.beginY,t.endY)+n*Math.abs(t.endY-t.beginY)):(i=Math.min(t.beginX,t.endX)+n*Math.abs(t.endX-t.beginX),r=t.beginY),new e.Data.PoleStraight(i,r,null)},i}(t.MarkersStraightBase);t.SectionMarkersStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(t){this.ticks=t,this.elementProvider=new e.Data.SvgElementProvider("line",this.ticks.dom)}return t.prototype.draw=function(){var e=this.ticks.Parent.getStructure();this.elementProvider.reset(),null!=e&&this.drawChilds(e),this.elementProvider.finish()},t.prototype.drawChilds=function(e){for(var t=e.getSections(),i=0;i<t.length;i++){if(null===t[i].children){this.createTicks(e.getPoles());break}this.drawChilds(t[i].children)}},t.prototype.createTicks=function(e){this.ticks.applyFilters(e);var t=e.filter((function(e){return e.isVisible}),this),i=this.elementProvider.getFreeNodes(t.length);this.applyDomAttributes(i,t)},t.prototype.applyDomAttributes=function(t,i){var r=this;i.forEach((function(i,n){var a=t[n],o=0,s=i.x,l=i.x,u=i.y,h=i.y;r.ticks.getAttribute("offset")&&(o=parseFloat(r.ticks.getAttribute("offset"))),this.getMetaData().isVertical?l=(s+=o)+parseFloat(r.ticks.getAttribute("length")):h=(u+=o)+parseFloat(r.ticks.getAttribute("length")),a.setAttributeNS(null,"x1",String(e.Utilities.preprocessCoordinateForSVG(s))),a.setAttributeNS(null,"x2",String(e.Utilities.preprocessCoordinateForSVG(l))),a.setAttributeNS(null,"y1",String(e.Utilities.preprocessCoordinateForSVG(u))),a.setAttributeNS(null,"y2",String(e.Utilities.preprocessCoordinateForSVG(h))),a.setAttributeNS(null,"stroke-width",r.ticks.getAttribute("stroke-width")),null!==i.color?(a.setAttributeNS(null,"stroke",i.color.getRGB()),a.setAttributeNS(null,"stroke-opacity",i.color.getAlpha())):a.setAttributeNS(null,"stroke",r.ticks.getAttribute("stroke"))}),this)},t.prototype.getMetaData=function(){if(!this.ticks.metaData)throw"No metaData available, the draw(...) method needs to be called first.";return this.ticks.metaData},t}();t.TicksStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Shape||(t.Shape={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.autoMeasure=e}return t.prototype.getStructure=function(){for(var t=new Array,i=this.autoMeasure.Parent,r=i.getStructure(),n=this.autoMeasure.getAllChildrenSections(r)[0],a=i.getSpacing(this.autoMeasure.metaData.scaleBegin,this.autoMeasure.metaData.scaleEnd),o=this.autoMeasure.origin+a*Math.floor((n.beginValue-this.autoMeasure.origin)/a),s=n.beginValue,l=n.endValue,u=e.Calculations.createCalc(this.autoMeasure.metaData.calcMethod);!this.autoMeasure.metaData.isMirrored()&&s<n.endValue||this.autoMeasure.metaData.isMirrored()&&s>n.endValue;){var h,d,c;l=!this.autoMeasure.metaData.isMirrored()&&s<o+a||this.autoMeasure.metaData.isMirrored()&&s>o+a?o+a:s+a,(!this.autoMeasure.metaData.isMirrored()&&l>n.endValue||this.autoMeasure.metaData.isMirrored()&&l<n.endValue)&&(l=n.endValue),h=u.calcByValue(s,n.beginAngle,n.endAngle,n.beginValue,n.endValue),d=u.calcByValue(l,n.beginAngle,n.endAngle,n.beginValue,n.endValue),c=new e.Data.SectionArc(n.centerX,n.centerY,h,d,n.radius,s,l),s=l,t.push(c)}var p=this.autoMeasure.getPoles(t);return n.children=new e.Data.HierarchyLevel(t,p,this.autoMeasure),r},t}();t.AutoMeasureArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.division=e}return t.prototype.getStructure=function(){for(var t=this.division.Parent.getStructure(),i=this.division.getAllChildrenSections(t),r=parseFloat(this.division.getAttribute("count")),n=e.Calculations.createCalc(this.division.metaData.calcMethod),a=0;a<i.length;a++){var o=new Array,s=i[a].beginValue,l=i[a].endValue,u=i[a].beginAngle,h=i[a].endAngle,d=u,c=s;Math.abs(h-u)<r&&(r=Math.abs(h-u));for(var p=0;p<r;p++){var m=n.calcValue((p+1)/r,s,l),g=n.calcByValue(m,u,h,s,l);o.push(new e.Data.SectionArc(i[a].centerX,i[a].centerY,d,g,i[a].radius,c,m)),d=g,c=m}var T=new e.Data.HierarchyLevel(o,this.division.getPoles(o),this.division);i[a].children=T}return t},t}();t.DivisionArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.marker=e}return t.prototype.getPoles=function(e){var t=new Array,i=this.createPole(e[0]);return i&&t.push(i),t},t.prototype.createPole=function(t){var i,r=parseFloat(this.marker.getAttribute("value"));i=this.marker.hasSpecialValue("value")?r:this.marker.metaData.isMirrored()?Math.max(Math.min(r,t.beginValue),t.endValue):Math.min(Math.max(r,t.beginValue),t.endValue);var n=e.Calculations.createCalc(this.marker.metaData.calcMethod).calcByValue(i,t.beginAngle,t.endAngle,t.beginValue,t.endValue);return new e.Data.PoleArc(t.centerX,t.centerY,t.radius,n,i)},t.prototype.getStructure=function(){var t=this.marker.Parent.getStructure(),i=this.marker.getScaleSections(t);if(null==i)return null;i=new Array(new e.Data.SectionArc(i[0].centerX,i[0].centerY,i[0].beginAngle,i[0].endAngle,i[0].radius,i[0].beginValue,i[0].endValue));var r=this.getPoles(i);return new e.Data.HierarchyLevel(i,r,this.marker)},t}();t.MarkerArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){!function(i){var r=function(){function i(e){this.measure=e}return i.prototype.getStructure=function(){for(var t=this.measure.Parent.getStructure(),i=this.measure.getAllChildrenSections(t),r=0;r<i.length;r++){var n=Math.max(i[r].beginValue,i[r].endValue),a=Math.min(i[r].beginValue,i[r].endValue);this.calculateStartPosition(a,n);var o=this.createSections(this.firstStartPosition,this.firstEndPosition,n,i[r]);i[r].children=new e.Data.HierarchyLevel(o,this.measure.getPoles(o),this.measure)}return t},i.prototype.createSections=function(e,t,i,r){var n=new Array;do{var a=this.createSection(e,t,r);n.push(a),t=(e=t)+this.tickSpacing,Math.abs(t)>Math.abs(i)&&(t=i)}while(e<i);return n},i.prototype.createSection=function(t,i,r){var n=e.Calculations.createCalc(this.measure.metaData.calcMethod),a=n.calcByValue(t,r.beginAngle,r.endAngle,r.beginValue,r.endValue),o=n.calcByValue(i,r.beginAngle,r.endAngle,r.beginValue,r.endValue);return new e.Data.SectionArc(r.centerX,r.centerY,a,o,r.radius,t,i)},i.prototype.calculateStartPosition=function(e,t){if(this.tickSpacing=Math.abs(Number(this.measure.getAttribute("graduation"))),0==this.tickSpacing)return this.firstStartPosition=e,void(this.firstEndPosition=t);var i=this.getOrigin();for(this.firstStartPosition=e,this.firstEndPosition=i+this.tickSpacing*Math.floor((e-i)/this.tickSpacing);this.firstEndPosition<=e;)this.firstEndPosition+=this.tickSpacing},i.prototype.getOrigin=function(){for(var e=this.measure.Parent,i=this.measure;!(e instanceof t.Scale);)e=i.Parent;return Number(e.getAttribute("origin"))},i}();i.MeasureArc=r}(i.ArcDial||(i.ArcDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.range=e}return t.prototype.getStructure=function(){var t,i,r,n,a=this.range.getParentSection();if(null==a)return null;r=parseFloat(this.range.getAttribute("begin-value")),n=parseFloat(this.range.getAttribute("end-value")),this.range.hasSpecialValue("begin-value")||(r=this.range.restrictToScale(r)),this.range.hasSpecialValue("end-value")||(n=this.range.restrictToScale(n));var o=!1;if(r>n){var s=r;r=n,n=s,o=!0}o?(t=this.range.getPositionFromAttribute("end-value"),i=this.range.getPositionFromAttribute("begin-value")):(t=this.range.getPositionFromAttribute("begin-value"),i=this.range.getPositionFromAttribute("end-value"));var l=new Array(new e.Data.SectionArc(a.centerX,a.centerY,t,i,a.radius,r,n)),u=this.range.getPoles(l);return new e.Data.HierarchyLevel(l,u,this.range)},t.prototype.getPosition=function(t){var i=e.Calculations.createCalc(this.range.metaData.calcMethod),r=this.range.Parent.getStructure(),n=this.range.getScaleSections(r);return i.calcByValue(t,n[0].beginAngle,n[0].endAngle,n[0].beginValue,n[0].endValue)},t.prototype.getBeginSurchargePosition=function(){var e=this.range.getParentSection();return e.beginAngle<e.endAngle?e.beginAngle-this.range.metaData.beginSurcharge:e.beginAngle+this.range.metaData.beginSurcharge},t.prototype.getEndSurchargePosition=function(){var e=this.range.getParentSection();return e.beginAngle<e.endAngle?e.endAngle+this.range.metaData.endSurcharge:e.endAngle-this.range.metaData.endSurcharge},t}();t.RangeArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.thresholds=e}return t.prototype.createBeginSection=function(t,i,r){var n=this.thresholds.getAttribute("config"),a=r.calcByValue(parseFloat(n[0].BeginValue),t.beginAngle,t.endAngle,t.beginValue,t.endValue),o=new e.Data.SectionArc(t.centerX,t.centerY,t.beginAngle,a,t.radius,t.beginValue,parseFloat(n[0].BeginValue));t.beginAngle!==a&&(n[0].BeginValue>t.beginValue||this.thresholds.metaData.isMirrored()&&n[0].BeginValue<t.beginValue)&&i.push(o)},t.prototype.createEndSection=function(t,i,r){var n=this.thresholds.getAttribute("config"),a=r.calcByValue(parseFloat(n[n.length-1].EndValue),t.beginAngle,t.endAngle,t.beginValue,t.endValue),o=new e.Data.SectionArc(t.centerX,t.centerY,a,t.endAngle,t.radius,parseFloat(n[n.length-1].EndValue),t.endValue);a!==t.endAngle&&(n[n.length-1].EndValue<t.endValue||this.thresholds.metaData.isMirrored()&&n[n.length-1].EndValue>t.endValue)&&i.push(o)},t.prototype.createThresholdsSections=function(t,i,r){for(var n=this.thresholds.getAttribute("config"),a=0;a<n.length;a++){var o=parseFloat(n[a].BeginValue),s=parseFloat(n[a].EndValue);if(!(parseFloat(n[a].BeginValue)<t.beginValue&&(o=t.beginValue,parseFloat(n[a].EndValue)<t.beginValue||o===s))&&!(parseFloat(n[a].EndValue)>t.endValue&&(s=t.endValue,parseFloat(n[a].BeginValue)>t.endValue||o===s))){var l=r.calcByValue(o,t.beginAngle,t.endAngle,t.beginValue,t.endValue),u=r.calcByValue(s,t.beginAngle,t.endAngle,t.beginValue,t.endValue),h=new e.Data.SectionArc(t.centerX,t.centerY,l,u,t.radius,o,s);n[a].Color&&(h.color=new e.Data.Color(n[a].Color)),i.push(h)}}},t.prototype.getSectionsForChild=function(t){var i=e.Calculations.createCalc(this.thresholds.metaData.calcMethod),r=new Array;return this.createBeginSection(t,r,i),this.createThresholdsSections(t,r,i),this.createEndSection(t,r,i),r},t.prototype.getStructure=function(){var t=this.thresholds.Parent.getStructure(),i=this.thresholds.getAllChildrenSections(t);if(this.thresholds.getAttribute("config").length>=1)for(var r=0;r<i.length;r++){var n=this.getSectionsForChild(i[r]),a=new e.Data.HierarchyLevel(n,this.thresholds.getPoles(n),this.thresholds);i[r].children=a}return t},t}();t.ThresholdsArc=i}(t.ArcDial||(t.ArcDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(e,t){this.parentSVG=e,this.metaData=t,this.bufferHeight=40,this.bufferWidth=50,this.blockXPadding=10,this.flowLineLength=40,this.boxHeightPadding=10,this.startPosition=0,this.maxLeftPos=0,this.maxTopPos=0,this.connPadding=20}return t.prototype.render=function(e){this._currentDiagram=e,this._currentDiagram.setFbdSelectionHandlerCallBack(this.fbdSelectionHandler.bind(this));var t=this.metaData.diagrams.length>0?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()+this.bufferHeight:this.metaData.startY;if(this._currentDiagram.setStartYPos(t),e.list){t+=this._currentDiagram.getTitleText()[this._currentDiagram.titleKey].height;var i=e.getStartElement();this.formatXPos(i,0),this.resetProcessedState(),this.formatYPos(i,0),this.moveToViewPort(this.metaData.startX,t)}e.setLayoutProps(this.width,this.height),this.setFlowLines(),e.render(this.parentSVG),e.registerForFbdSelection(),this._currentDiagram=null},t.prototype.formatXPos=function(t,i){var r=0;if(t){t.isProcessed=!0;var n=t instanceof e.Data.BranchElement?this.formatHorizontalOutputBranch(t,i):this.formatHorizontalOutput(t,i);return n-=t instanceof e.Data.BranchElement?0:t.width,t.setStartXPos(n),r=this.formatHorizontalInput(t,n),this.maxLeftPos=Math.min(this.maxLeftPos,r),r}},t.prototype.formatYPos=function(t,i){if(t){t.isProcessed=!0;var r=t instanceof e.Data.FunctionBlockElement||t instanceof e.Data.FunctionTransitionElement?this.formatVerticalOutput(t,i):this.formatVerticalOutputBranch(t,i),n=this.formatVerticalInput(t,i);this.resizeElement(t);var a=Math.max(n,t.height+this.connPadding-i);return this.maxTopPos=Math.min(this.maxTopPos,t.getStartYPos()+this.boxHeightPadding),{yPos:r,upPos:a}}},t.prototype.formatHorizontalOutputBranch=function(e,t){for(var i=t,r=0,n=this._currentDiagram.getChildren(e.id);r<n.length;r++){var a=n[r];if(!a.isProcessed){var o=this.formatXPos(this._currentDiagram.getLastElement(a.id),t);o=i-o,this.moveElementX(a,e,o),this.maxLeftPos=o}}return i},t.prototype.formatHorizontalOutput=function(t,i){var r=i,n=0,a=0;for(var o in t.outputs){var s=this._currentDiagram.getNextLayoutElement(t.id,o);s?s.isProcessed||(r=this.formatXPos(s,i),n=Math.min(r,n)):a=Math.max(a,t.outputs[o].width+e.Data.FunctionConnectorElement.OPERAND_WIDTH)}return-n<a?r-=a-=n:(r=Math.min(n,r),r-=a),r},t.prototype.formatHorizontalInput=function(t,i){var r=this,n=i,a=0,o=!1;if(t instanceof e.Data.FunctionBlockElement||t instanceof e.Data.FunctionTransitionElement){Object.keys(t.inputs).reverse().forEach((function(e){var s=r._currentDiagram.getPrevLayoutElement(t.id,e);if(s&&!s.isProcessed){var l=r.formatXPos(s,i-r.connectorLength(t.inputs[e]));n=Math.min(n,l),o=!0}else a=Math.max(a,r.connectorLength(t.inputs[e])),o||(o=!0,n-=a)}))}else{var s=this._currentDiagram.getParent(t.id),l=this.formatXPos(s,i-this.connectorLength());n=Math.min(n,l)}return n},t.prototype.moveElementX=function(t,i,r){if(t.setStartXPos(t.getStartXPos()+r),t instanceof e.Data.FunctionBlockElement){for(var n in t.inputs){var a=this._currentDiagram.getPrevLayoutElement(t.id,t.inputs[n].pin);a&&a.id!==i.id&&this.moveElementX(a,t,r)}for(var o in t.outputs){var s=this._currentDiagram.getNextLayoutElement(t.id,t.outputs[o].pin);s&&s.id!==i.id&&this.moveElementX(s,t,r)}}else if(t instanceof e.Data.BranchElement)for(var l=0,u=this._currentDiagram.getChildren(t.id);l<u.length;l++){var h=u[l];h.id!==i.id&&this.moveElementX(h,t,r)}},t.prototype.moveElementY=function(t,i,r){if(t.setStartYPos(t.getStartYPos()+r),t instanceof e.Data.FunctionBlockElement){for(var n in t.inputs){t.inputs[n].yPos=t.inputs[n].getStartYPos()+r;var a=this._currentDiagram.getPrevLayoutElement(t.id,t.inputs[n].pin);a&&a.id!==i.id&&this.moveElementY(a,t,r)}for(var o in t.outputs){t.outputs[o].yPos=t.outputs[o].getStartYPos()+r;var s=this._currentDiagram.getNextLayoutElement(t.id,t.outputs[o].pin);s&&s.id!==i.id&&this.moveElementY(s,t,r)}}else if(t instanceof e.Data.BranchElement){t.setEndYPos(t.y2+r);for(var l=0,u=this._currentDiagram.getChildren(t.id);l<u.length;l++){var h=u[l];h.id!==i.id&&this.moveElementY(h,t,r)}}},t.prototype.formatVerticalOutput=function(e,t){var i,r=this,n=Object.keys(e.outputs).reverse(),a=t-this.connPadding/2,o=!1;return n.forEach((function(t){var n=r._currentDiagram.getNextLayoutElement(e.id,t);n?n.isProcessed&&(o||(i=a,o=!0),a=r.updateConnectorPos(e.outputs[t],a),a-=r.connPadding):(a=r.updateConnectorPos(e.outputs[t],a),a-=r.connPadding)})),i},t.prototype.formatVerticalOutputBranch=function(e,t){var i=this._currentDiagram.getChildren(e.id),r=t-this.connPadding/2;e.setStartYPos(r);for(var n=1;n<i.length;n++)if(!i[n].isProcessed){var a=i[n-1],o=this.getDownOfSubnet(a,e),s=this.formatYPos(this._currentDiagram.getLastElement(i[n].id),0).upPos;this.moveElementY(i[n],e,s+o)}return r},t.prototype.updateConnectorPos=function(e,t){var i=t-e.height;return e.yPos=i,i},t.prototype.formatVerticalInput=function(t,i){var r=this,n=0;if(t instanceof e.Data.FunctionBlockElement||t instanceof e.Data.FunctionTransitionElement){var a=Object.keys(t.inputs).reverse(),o=0,s=i-this.connPadding/2;a.forEach((function(e){var i=r._currentDiagram.getPrevLayoutElement(t.id,e);if(i)if(i.isProcessed)r.updateConnectorPos(t.inputs[e],s);else{s+=0===o?r.connPadding/2:r.connPadding;var a=r.formatYPos(i,s),l=a.yPos,u=a.upPos;n=u,s=r.updateConnectorPos(t.inputs[e],l)}else s=r.updateConnectorPos(t.inputs[e],s);s=r.setNextTopPos(t,e,s,n),o++}))}else{var l=this._currentDiagram.getParent(t.id),u=this.formatYPos(l,i).upPos;n=u}return n},t.prototype.setNextTopPos=function(e,t,i,r){var n=i;return this.isPrevPinConnected(e,t)&&-(n-this.connPadding)<r?n=-r-this.connPadding:n-=this.connPadding,n},t.prototype.isPrevPinConnected=function(t,i){var r=!1,n=t.getUpConnector(i);n&&(this._currentDiagram.getPrevLayoutElement(t.id,n.pin)instanceof e.Data.FunctionBlockElement&&(r=!0));return r},t.prototype.resizeElement=function(t){if(t instanceof e.Data.FunctionBlockElement||t instanceof e.Data.FunctionTransitionElement){var i=this.getUpPinOfElement(t),r=this.getDownPinOfElement(t);t.resizeBlock(r-i+t.titleHeight+t.headerHeight+this.boxHeightPadding),t.setStartYPos(r-t.height+this.boxHeightPadding)}else if(t instanceof e.Data.BranchElement){var n=this._currentDiagram.getLastChild(t.id);t.setEndYPos(n.getStartYPos()+n.height)}},t.prototype.getUpPinOfElement=function(e){var t=0;return e.firstInPin&&(t=e.firstInPin.getStartYPos()),e.firstOutPin&&(t=Math.min(t,e.firstOutPin.getStartYPos())),t},t.prototype.getDownPinOfElement=function(e){var t=Object.keys(e.inputs).reverse(),i=0;return t.every((function(t){return i=e.inputs[t].getStartYPos()+e.inputs[t].height,!1})),Object.keys(e.outputs).reverse().every((function(t){return i=Math.max(i,e.outputs[t].getStartYPos()+e.outputs[t].height),!1})),i},t.prototype.getDownOfSubnet=function(t,i){var r=0;if(t instanceof e.Data.FunctionBlockElement){for(var n in t.inputs){var a=this._currentDiagram.getPrevLayoutElement(t.id,n);a&&a.id!==i.id&&(r=Math.max(r,this.getDownOfSubnet(a,t)))}for(var o in t.outputs){var s=this._currentDiagram.getNextLayoutElement(t.id,o);s&&s.id!==i.id&&(r=Math.max(r,this.getDownOfSubnet(s,t)))}}if(t instanceof e.Data.FunctionBlockElement){var l=0;for(var o in t.outputs){var u=t.outputs[o];l=u.getStartYPos()+u.height+10}r=Math.max(r,l)}return r},Object.defineProperty(t.prototype,"totalHeight",{get:function(){var e=0;return this.metaData.diagrams.length>0&&(e=this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()),e*this.metaData.zoomFactor+this.bufferHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalWidth",{get:function(){var e=0;return this.metaData.diagrams.forEach((function(t){e=Math.max(e,t.width)})),e*this.metaData.zoomFactor+this.bufferWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=0;if(!this._currentDiagram.functions||0!==Object.keys(this._currentDiagram.functions).length){for(var t in this._currentDiagram.functions){var i=this._currentDiagram.functions[t];e=Math.max(e,i.getStartYPos()+i.height)}return e-this._currentDiagram.getStartYPos()}var r=this._currentDiagram.getErrorDescription();if(r)return r.y+r.height/2-this._currentDiagram.getStartYPos()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var e=0;for(var t in this._currentDiagram.functions){var i=this._currentDiagram.functions[t];for(var r in e=Math.max(e,i.getStartXPos()+i.width),i.outputs)e=Math.max(e,i.outputs[r].getStartXPos()+i.outputs[r].width)}return e},enumerable:!1,configurable:!0}),t.prototype.moveToViewPort=function(t,i){var r=this.maxLeftPos-t,n=this.maxTopPos-i;for(var a in this._currentDiagram.list){var o=this._currentDiagram.getElementDetails(this._currentDiagram.list[a].Key);if(o&&!(o instanceof e.Data.FlowLineElement))if(o.setStartXPos(o.getStartXPos()+-r),o.setStartYPos(o.getStartYPos()+-n),o instanceof e.Data.FunctionBlockElement||o instanceof e.Data.FunctionTransitionElement){for(var s in o.inputs)o.inputs[s].yPos+=-n;for(var l in o.outputs)o.outputs[l].yPos+=-n}else o instanceof e.Data.BranchElement&&o.setEndYPos(o.y2+-n)}},t.prototype.setFlowLines=function(){for(var t in this._currentDiagram.connDetails){var i=this._currentDiagram.connDetails[t],r=this._currentDiagram.getElementDetails(i.From,i.FromPin),n=this._currentDiagram.getElementDetails(i.To,i.ToPin);if(r&&n)if(r instanceof e.Data.FunctionConnectorElement)if(n instanceof e.Data.FlowLineElement){n.setStartYPos(r.getStartYPos()+r.height);var a=r.getNegatedSymbolDim(),o=a.radius,s=a.negationStrokeWidth,l=r.getStartXPos()+(r.isNegated?2*o+s:0);n.setStartXPos(l),n.setEndXPos(r.getStartXPos()+this.flowLineLength)}else r.setEndXPos(n.getStartXPos());else r instanceof e.Data.BranchElement&&(n.x1=r.getStartXPos())}},t.prototype.connectorLength=function(t){var i=2*e.Data.FunctionConnectorElement.TEXT_TO_SYMBOL_PADDING+e.Data.FunctionConnectorElement.OPERAND_WIDTH;return t&&(i+=t.width),i},t.prototype.resetProcessedState=function(){for(var e in this._currentDiagram.list){var t=this._currentDiagram.getElementDetails(this._currentDiagram.list[e].Key);t&&(t.isProcessed=!1)}},t.prototype.remove=function(){this.unregisterFbdSelectionEvent(),this.maxLeftPos=0,this.maxTopPos=0,this._currentDiagram=null},t.prototype.unregisterFbdSelectionEvent=function(){this.metaData.diagrams.forEach((function(e){e.unRegisterForFbdSelection()}))},t.prototype.registerFbdSelectionEvent=function(){this.metaData.diagrams.forEach((function(e){e.registerForFbdSelection()}))},t.prototype.fbdSelectionHandler=function(e,t,i){this.metaData.diagrams.forEach((function(r){r.clearPrevFbdSelection(),r.diagramID===i&&r.updateSelectedFbdElement(e,t,r.titleKey)}))},t}();e.FBDRenderer=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function e(e){this.metaData=e,this.partialSequenceList=[],this.x=0,this.y=0}return Object.defineProperty(e.prototype,"width",{get:function(){return 120},enumerable:!1,configurable:!0}),e.prototype.add=function(e){this.partialSequenceList.push(e)},e.prototype.get=function(){return this.partialSequenceList},Object.defineProperty(e.prototype,"height",{get:function(){var e=this.get();return e[0].height+e[0].y+10},enumerable:!1,configurable:!0}),e.prototype.remove=function(){this.metaData=null;for(var e=0,t=this.partialSequenceList;e<t.length;e++){t[e].remove()}this.partialSequenceList=null},e}();e.FlowColumn=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(e,t){this.parentSVG=e,this.metaData=t,this.bufferHeight=40,this.bufferWidth=50,this.preBufferLengthBranchBegin=4,this.operandPadding=20}return t.prototype.render=function(e){this._rowList=[],this._currentDiagram=e,this._currentDiagram.setSelectionHandlerCallBack(this.selectionHandler.bind(this));var t=this.metaData.diagrams.length>0?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()+this.bufferHeight:this.metaData.startY;e.setStartYPos(t);var i=e.getElementDetails(e.getStartElement());i&&(this.formatXPos(e.getNextElement(i.id),i),this.formatYPos(e.getNextElement(i.id))),e.setLayoutProps(this.width,this.height),e.render(this.parentSVG),e.registerForLogicSelection(),this._currentDiagram=null},t.prototype.formatXPos=function(t,i){for(;t;){var r=i.getStartXPos()+i.width;if(t instanceof e.Data.BranchElement)if(t.subType==e.Data.BranchSubType.Begin){t.setStartXPos(r);for(var n=this._currentDiagram.getChildren(t.id),a=n.length-1;a>0;a--)this.formatXPos(n[a],t)}else{if(this._currentDiagram.getPrevGuardian(i.id,t.id)){r=Math.max(t.getStartXPos(),r),t.setStartXPos(r);break}r=Math.max(t.getStartXPos(),r),t.setStartXPos(r),this.adjustParentFlowLine(t,r)}else if(t instanceof e.Data.LogicElement||t instanceof e.Data.FunctionBlockElement||t instanceof e.Data.FunctionConnectorElement){if(t.setStartXPos(r),t instanceof e.Data.FunctionConnectorElement&&t.type===e.Data.ConnectorType.Input)for(var o in t.block.inputs){var s=t.block.inputs[o],l=this._currentDiagram.getPrevElement(s.id,s.pin);l&&l.setEndXPos(t.getStartXPos())}}else t instanceof e.Data.FlowLineElement&&(t.setStartXPos(r),t.setEndXPos(r),t=this.extendFlowLineLength(t,r,i));i=t,t=this._currentDiagram.getNextElement(t.id,t instanceof e.Data.FunctionConnectorElement?t.pin:null)}},t.prototype.extendFlowLineLength=function(i,r,n){var a=this._currentDiagram.getNextElement(i.id),o=this.getPaddedWidth(n,a);return a instanceof e.Data.LogicElement&&a.type===e.Data.LogicElementType.Coil&&!this._currentDiagram.getNextLogicElement(a.id)&&r+a.width<t.MinimalNetWorkWidth?i.setEndXPos(t.MinimalNetWorkWidth-i.width):(a instanceof e.Data.FunctionConnectorElement||!a)&&(n instanceof e.Data.BranchElement||n instanceof e.Data.FlowLineElement)?i.setEndXPos(r+e.Data.FBDOperandMetaData.MAX_TEXT_WIDTH+this.operandPadding):o?i.setEndXPos(r+o):!a&&r<t.MinimalNetWorkWidth?i.setEndXPos(t.MinimalNetWorkWidth):!(n instanceof e.Data.BranchElement)&&a instanceof e.Data.BranchElement&&i.setEndXPos(r+this.preBufferLengthBranchBegin),i},t.prototype.getPaddedWidth=function(t,i){var r=0;return t instanceof e.Data.FunctionConnectorElement&&t.block.hasOperand("output")&&(r+=e.Data.FBDOperandMetaData.MAX_TEXT_WIDTH,r+=this.operandPadding),i instanceof e.Data.FunctionConnectorElement&&i.block.hasOperand("input")&&(r+=e.Data.FBDOperandMetaData.MAX_TEXT_WIDTH,r+=this.operandPadding),r},t.prototype.formatYPos=function(i){for(var r,n=[],a=[],o=i;o;)if(o instanceof e.Data.BranchElement){if(a.push(o),o.subType===e.Data.BranchSubType.Begin)this._currentDiagram.getUnProcessedElements(o.id).length>1&&n.push(o);else if(o.subType===e.Data.BranchSubType.End&&this._currentDiagram.getPrevGuardian(r.id,o.id))break;r=o,o=this._currentDiagram.getNextUnProcessedElement(o.id)}else if(o instanceof e.Data.FunctionConnectorElement){a.push(o);var s=o.block.getDownConnector(o.pin);s&&(s.type===e.Data.ConnectorType.Input&&!this._currentDiagram.isInPinConnected(o.id,s.pin)||s.type===e.Data.ConnectorType.Output&&!this._currentDiagram.isOutPinConnected(o.id,s.pin))&&n.push(s),o.isProcessed=!0,o=this._currentDiagram.getNextElement(o.id,o.pin)}else o.isProcessed=!0,r=o,a.push(o),o=this._currentDiagram.getNextElement(o.id);for(var l=new e.Data.BranchInfo(a,this._currentDiagram),u=this._currentDiagram.titleKey,h=this._currentDiagram.getStartYPos()+this._currentDiagram.getTitleText()[u].height,d=-1,c=function(e){p._rowList[e].forEach((function(i){i.intersects(l.left,l.right)&&(h=Math.max(h,i.getDownPosBetween(l.left,l.right))+t.BranchPadding,d=Math.max(d,e))}))},p=this,m=0;m<this._rowList.length;++m)c(m);for(l.TopPos=h;this._rowList.length<=d+1;){this._rowList.push([])}this._rowList[d+1].push(l);for(m=n.length-1;m>=0;--m)this.formatYPos(n[m])},t.prototype.adjustParentFlowLine=function(t,i){var r=this;this._currentDiagram.getGuardians(t.id).forEach((function(t){var n=r._currentDiagram.getElementDetails(t);n instanceof e.Data.FlowLineElement&&n.setEndXPos(i)}))},Object.defineProperty(t.prototype,"height",{get:function(){var t=this._rowList[this._rowList.length-1];if(t){for(var i=0,r=0;r<=this._rowList.length-1;r++){t=this._rowList[r];for(var n=0;n<=t.length-1;n++)i=Math.max(i,t[n].getDownPosBetween(t[n].left,t[n].right))}return Math.max(i-this._currentDiagram.getStartYPos(),e.Data.LADModel.MIN_HEIGHT)}var a=this._currentDiagram.getErrorDescription();if(a)return a.y+a.height/2-this._currentDiagram.getStartYPos()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){for(var e=0,t=0;t<=this._rowList.length-1;t++){var i=this._rowList[t];e=Math.max(e,i[0].right)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalHeight",{get:function(){var e=0;return this.metaData.diagrams.length>0&&(e=this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()),e*this.metaData.zoomFactor+this.bufferHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalWidth",{get:function(){var e=0;return this.metaData.diagrams.forEach((function(t){e=Math.max(e,t.width)})),e*this.metaData.zoomFactor+this.bufferWidth},enumerable:!1,configurable:!0}),t.prototype.remove=function(){this._rowList=null,this.unregisterLogicSelectionEvent()},t.prototype.unregisterLogicSelectionEvent=function(){this.metaData.diagrams.forEach((function(e){e.unRegisterForLogicSelection()}))},t.prototype.registerLogicSelectionEvent=function(){this.metaData.diagrams.forEach((function(e){e.registerForLogicSelection()}))},t.prototype.selectionHandler=function(e,t,i){this.metaData.diagrams.forEach((function(r){r.clearPrevSelection(),r.diagramID===i&&r.updateSelectedLogicElement(e,t,r.titleKey)}))},t.MinimalNetWorkWidth=400,t.BranchPadding=20,t}();e.LADRenderer=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function e(){this.x=0,this.y=0,this.height=0,this.width=0,this.elements=[]}return Object.defineProperty(e.prototype,"from",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),e.prototype.addElement=function(e){this.width<e.width&&(this.width=e.width),0==this.elements.length&&(this.y=e.getStartYPos()),this.height=this.height+e.height,this.elements.push(e)},e.prototype.overlapsVertical=function(e){return this.from>=e.from&&this.from<=e.to||(this.to>e.from&&this.to<=e.to||(e.from>=this.from&&e.from<this.to||e.to>=this.from&&e.to<=this.to))},e.prototype.remove=function(){this.elements.length=0,this.elements=null},e}();e.PartialSequence=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(e,t){this.parentSVG=e,this.metaData=t,this.bufferHeight=50,this.bufferWidth=50,this.pendingStackElements=[],this.columns=[]}return t.prototype.render=function(e){this._currentDiagram=e,this._currentDiagram.setSelectionBlockHandlerCallBack(this.selectionHandler.bind(this));var t=e.getElementDetails(e.getStartStep()),i=this.metaData.diagrams.length>0?this.metaData.diagrams[this.metaData.diagrams.length-1].getEndYPos()+this.metaData.startY:this.metaData.startY;this._currentDiagram.setStartXYPos(i),t&&this.calculateElementXY(t,i),e.render(this.parentSVG),e.setLayoutProps(this.width,this.height),e.registerForBlockSelection(),this._currentDiagram=null},t.prototype.selectionHandler=function(e,t,i){void 0===i&&(i=!0),this.metaData.diagrams.forEach((function(r){r.diagramID===t&&r.updateSelectedBlock(e,i)}))},t.prototype.calculateElementXY=function(e,t){this.calculateYCoordinates(e,t),this.divideElementsIntoColumns(e,0),this.assignXCoordinates()},t.prototype.calculateYCoordinates=function(t,i){for(var r=t,n=null,a=i;null!=r;){if(r.setStartYPos(a),a+=r.height,r instanceof e.Data.BranchElement){var o=r;if("Begin"==o.subType){for(var s=this._currentDiagram.getRightMostChild(o.id);s;)this.calculateYCoordinates(s,a),s=this._currentDiagram.getPreviousSibling(o.id,s.id);break}if(this._currentDiagram.getNextGuardian(n.id,r.id)){var l=this.pendingStackElements.pop(),u=Math.max(this.getMaxNeighborHeight(r.id),r.y2);n.setEndPos(u),r.setStartYPos(u),a=u,r.y2>l.y2?this.updateRightNeibhours(n,r.y2):(n.setEndPos(l.y2),r.setStartYPos(l.y2),a=l.y2)}if(n&&n instanceof e.Data.FlowLineElement&&this._currentDiagram.getPrevGuardian(n.id,r.id)){this.pendingStackElements.push(n);break}}n=r,r=this._currentDiagram.getNextElement(r.id)}},t.prototype.getMaxNeighborHeight=function(t){var i=this._currentDiagram.getPrevElement(t),r=[];for(r.push(t);0!==r.length&&i;)(i=this._currentDiagram.getPrevElement(i.id))instanceof e.Data.BranchElement&&("Begin"===i.subType?r.pop():r.push(i.id));return i?this.getMaxHeightOfBranch(i,t):0},t.prototype.getMaxHeightOfBranch=function(t,i){var r,n=this,a=0,o=0,s=0;return this._currentDiagram.getChildren(t.id).forEach((function(t){for(;null!==t&&t.id!==i;)a=t.getStartYPos()+t.height,r=t,(t=n._currentDiagram.getNextElement(t.id))instanceof e.Data.BranchElement&&"Begin"===t.subType&&(o=Math.max(o,n.getMaxHeightOfBranch(t,i)));null===t&&r.decoratorElements.forEach((function(t){t.type===e.Data.FlowLineDecoratorType.Links&&(a+=e.Features.FlowLineDecorator.DECORATOR_LAYOUT_DIM/2),t.type===e.Data.FlowLineDecoratorType.Terminal&&(a+=e.Features.FlowLineDecorator.DECORATOR_LAYOUT_DIM/4)})),s=Math.max(s,o,a)})),s},t.prototype.updateRightNeibhours=function(e,t){for(var i=this._currentDiagram.getFirstChild(e.id);null!=e;)e.setEndPos(t),e=this._currentDiagram.getNextGuardian(e.id,i.id)},t.prototype.divideElementsIntoColumns=function(t,i){for(var r=[];this.columns.length<=i;){var n=new e.FlowColumn(this.metaData);this.columns.push(n)}for(var a=t,o=new e.PartialSequence,s=null;null!=a&&((a instanceof e.Data.BlockElement||a instanceof e.Data.FlowLineElement)&&(a.isProcessed=!0,o.addElement(a)),!(a instanceof e.Data.BranchElement&&("Begin"!==a.subType||this._currentDiagram.getPrevGuardian(s.id,a.id)||r.push(a),"End"===a.subType&&this._currentDiagram.getPrevGuardian(s.id,a.id))));)s=a,a=this._currentDiagram.getNextElement(a.id);for(;!this.enoughSpaceInColumn(o,i);)i++;this.columns[i].add(o),this.calculateColumnXPos(this.columns.length-1);for(var l=r.length-1;l>=0;l--)for(var u=r[l],h=this._currentDiagram.getNexUnprocessedChildOfBranch(u.id),d=i+1;null!=h;)this.divideElementsIntoColumns(h,d),d++,h=this._currentDiagram.getNexUnprocessedChildOfBranch(u.id)},t.prototype.calculateColumnXPos=function(t){this.columns[t].x=0===t?this.metaData.startX:this.columns[t-1].x+this.columns[t-1].width+e.Data.FlowDiagramMetaData.Space_Between_Blocks},t.prototype.enoughSpaceInColumn=function(t,i){var r=!0;if(i==this.columns.length){var n=new e.FlowColumn(this.metaData);this.columns.push(n)}return this.columns[i].get().every((function(e){return!t.overlapsVertical(e)||(r=!1,!1)})),r},t.prototype.assignXCoordinates=function(){this.columns.forEach((function(e){e.get().forEach((function(t){t.x=e.x,t.elements.forEach((function(e){e.setStartXPos(t.x)}))}))}))},Object.defineProperty(t.prototype,"totalHeight",{get:function(){var e=0;return this.metaData.diagrams.forEach((function(t){e+=t.height})),e*this.metaData.zoomFactor+this.bufferHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalWidth",{get:function(){var e=0;return this.metaData.diagrams.forEach((function(t){e+=t.width})),e*this.metaData.zoomFactor+this.bufferWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){if(this._currentDiagram.getErrorDescription())return this._currentDiagram.getErrorDescription().height;var e=0;return this.columns.forEach((function(t){e<t.height&&(e=t.height)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){if(this._currentDiagram.getErrorDescription())return this._currentDiagram.getErrorDescription().width;var e=this.columns[this.columns.length-1];return(null==e?void 0:e.x)+(null==e?void 0:e.width)},enumerable:!1,configurable:!0}),t.prototype.unregisterBlockSelectionEvent=function(){this.metaData.diagrams.forEach((function(e){e.unRegisterForBlockSelection()}))},t.prototype.registerBlockSelectionEvent=function(){this.metaData.diagrams.forEach((function(e){e.registerForBlockSelection()}))},t.prototype.handleAutoMode=function(e){e?this.unregisterBlockSelectionEvent():this.registerBlockSelectionEvent()},t.prototype.getSelectedBlockDetails=function(){for(var e={diagramId:0,blockId:"0"},t=0,i=this.metaData.diagrams;t<i.length;t++){var r=i[t];if(r.selectedBlock){e.diagramId=r.diagramID,e.blockId=r.selectedBlock.id;break}}return e},t.prototype.getActiveBlockDetails=function(){var e=[];if(this.metaData.diagrams.length>0)for(var t=this.metaData.diagrams[0],i=0,r=t.activeBlocks;i<r.length;i++){var n=r[i];e.push({diagramId:t.diagramID,blockId:n.id,foreColor:n.activeStateForeColor,backColor:n.activeStateBackColor})}return e},t.prototype.remove=function(e){if(void 0===e&&(e=!1),e)this.parentSVG=null,this.metaData=null;else{this.unregisterBlockSelectionEvent();for(var t=0,i=this.columns;t<i.length;t++){i[t].remove()}this.columns.length=0,this._currentDiagram=null}},t}();e.StepDiagramRenderer=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.autoMeasure=e}return t.prototype.getStructure=function(){for(var t=new Array,i=this.autoMeasure.Parent,r=i.getStructure(),n=this.autoMeasure.getAllChildrenSections(r)[0],a=i.getSpacing(this.autoMeasure.metaData.scaleBegin,this.autoMeasure.metaData.scaleEnd),o=this.autoMeasure.origin+a*Math.floor((n.beginValue-this.autoMeasure.origin)/a),s=n.beginValue,l=n.endValue,u=e.Calculations.createCalc(this.autoMeasure.metaData.calcMethod);!this.autoMeasure.metaData.isMirrored()&&s<n.endValue||this.autoMeasure.metaData.isMirrored()&&s>n.endValue;){var h=void 0,d=void 0,c=void 0;l=!this.autoMeasure.metaData.isMirrored()&&s<o+a||this.autoMeasure.metaData.isMirrored()&&s>o+a?o+a:s+a,(!this.autoMeasure.metaData.isMirrored()&&l>n.endValue||this.autoMeasure.metaData.isMirrored()&&l<n.endValue)&&(l=n.endValue),this.autoMeasure.metaData.isVertical?(h=u.calcByValue(s,n.beginY,n.endY,n.beginValue,n.endValue),d=u.calcByValue(l,n.beginY,n.endY,n.beginValue,n.endValue),c=new e.Data.SectionStraight(n.beginX,h,n.endX,d,s,l)):(h=u.calcByValue(s,n.beginX,n.endX,n.beginValue,n.endValue),d=u.calcByValue(l,n.beginX,n.endX,n.beginValue,n.endValue),c=new e.Data.SectionStraight(h,n.beginY,d,n.endY,s,l)),s=l,t.push(c)}var p=this.autoMeasure.getPoles(t);return n.children=new e.Data.HierarchyLevel(t,p,this.autoMeasure),r},t}();t.AutoMeasureStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.division=e}return t.prototype.getStructure=function(){for(var t=this.division.Parent.getStructure(),i=this.division.getAllChildrenSections(t),r=parseFloat(this.division.getAttribute("count")),n=e.Calculations.createCalc(this.division.metaData.calcMethod),a=0;a<i.length;a++){var o=new Array,s=i[a].beginValue,l=i[a].endValue,u=i[a].beginX,h=i[a].endX,d=i[a].beginY,c=i[a].endY,p=u,m=d,g=s;this.division.metaData.isVertical&&Math.abs(c-d)<r?r=Math.abs(c-d):!this.division.metaData.isVertical&&Math.abs(h-u)<r&&(r=Math.abs(h-u));for(var T=0;T<r;T++){var f=n.calcValue((T+1)/r,s,l),y=void 0,D=void 0;this.division.metaData.isVertical?(y=p,D=n.calcByValue(f,d,c,s,l)):(y=n.calcByValue(f,u,h,s,l),D=m),o.push(new e.Data.SectionStraight(p,m,y,D,g,f)),p=y,m=D,g=f}var S=new e.Data.HierarchyLevel(o,this.division.getPoles(o),this.division);i[a].children=S}return t},t}();t.DivisionStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.marker=e}return t.prototype.getPoles=function(e){var t=new Array,i=this.createPole(e[0]);return i&&t.push(i),t},t.prototype.createPole=function(t){var i=this.getValue(t),r=e.Calculations.createCalc(this.marker.metaData.calcMethod);return this.marker.metaData.isVertical?this.createPoleVertical(i,t,r):this.createPoleHorizontal(i,t,r)},t.prototype.getValue=function(e){var t=parseFloat(this.marker.getAttribute("value"));return this.marker.hasSpecialValue("value")?t:this.marker.metaData.isMirrored()?Math.max(Math.min(t,e.beginValue),e.endValue):Math.min(Math.max(t,e.beginValue),e.endValue)},t.prototype.createPoleVertical=function(t,i,r){var n=r.calcByValue(t,i.beginY,i.endY,i.beginValue,i.endValue);return new e.Data.PoleStraight(i.beginX,n,t)},t.prototype.createPoleHorizontal=function(t,i,r){var n=r.calcByValue(t,i.beginX,i.endX,i.beginValue,i.endValue);return new e.Data.PoleStraight(n,i.beginY,t)},t.prototype.getStructure=function(){var t=this.marker.Parent.getStructure(),i=this.marker.getScaleSections(t);if(null==i)return null;var r=i[0].beginX,n=i[0].beginY,a=i[0].endX,o=i[0].endY,s=i[0].beginValue,l=i[0].endValue;i=new Array(new e.Data.SectionStraight(r,n,a,o,s,l));var u=this.getPoles(i);return new e.Data.HierarchyLevel(i,u,this.marker)},t}();t.MarkerStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(i){!function(i){var r=function(){function i(e){this.measure=e}return i.prototype.getStructure=function(){for(var t=this.measure.Parent.getStructure(),i=this.measure.getAllChildrenSections(t),r=0;r<i.length;r++){var n=Math.max(i[r].beginValue,i[r].endValue),a=Math.min(i[r].beginValue,i[r].endValue);this.calculateStartPosition(a,n);var o=this.createSections(this.firstStartPosition,this.firstEndPosition,n,i[r]);i[r].children=new e.Data.HierarchyLevel(o,this.measure.getPoles(o),this.measure)}return t},i.prototype.createSections=function(e,t,i,r){var n=new Array;do{var a=this.createSection(e,t,r);n.push(a),t=(e=t)+this.tickSpacing,Math.abs(t)>Math.abs(i)&&(t=i)}while(e<i);return n},i.prototype.getScale=function(){for(var e=this.measure.Parent;!(e instanceof t.Scale)&&null!=(e=e.Parent););return e},i.prototype.createSection=function(t,i,r){var n=e.Calculations.createCalc(this.measure.metaData.calcMethod);if(this.measure.metaData.isVertical){var a=n.calcByValue(t,r.beginY,r.endY,r.beginValue,r.endValue),o=n.calcByValue(i,r.beginY,r.endY,r.beginValue,r.endValue);return new e.Data.SectionStraight(r.beginX,a,r.endX,o,t,i)}a=n.calcByValue(t,r.beginX,r.endX,r.beginValue,r.endValue),o=n.calcByValue(i,r.beginX,r.endX,r.beginValue,r.endValue);return new e.Data.SectionStraight(a,r.beginY,o,r.endY,t,i)},i.prototype.calculateStartPosition=function(e,t){if(this.tickSpacing=Math.abs(Number(this.measure.getAttribute("graduation"))),0==this.tickSpacing)return this.firstStartPosition=e,void(this.firstEndPosition=t);var i=this.getOrigin();for(this.firstStartPosition=e,this.firstEndPosition=i+this.tickSpacing*Math.floor((e-i)/this.tickSpacing);this.firstEndPosition<=e;)this.firstEndPosition+=this.tickSpacing},i.prototype.getOrigin=function(){for(var e=this.measure.Parent,i=this.measure;!(e instanceof t.Scale);)e=i.Parent;return Number(e.getAttribute("origin"))},i}();i.MeasureStraight=r}(i.StraightDial||(i.StraightDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.range=e}return t.prototype.getStructure=function(){var t,i,r,n,a,o,s=this.range.getParentSection();if(null==s)return null;a=parseFloat(this.range.getAttribute("begin-value")),o=parseFloat(this.range.getAttribute("end-value")),this.range.hasSpecialValue("begin-value")||(a=this.range.restrictToScale(a)),this.range.hasSpecialValue("end-value")||(o=this.range.restrictToScale(o));var l=!1;if(a>o){var u=a;a=o,o=u,l=!0}this.range.metaData.isVertical?(t=s.beginX,r=s.endX,l?(i=this.range.getPositionFromAttribute("end-value"),n=this.range.getPositionFromAttribute("begin-value")):(i=this.range.getPositionFromAttribute("begin-value"),n=this.range.getPositionFromAttribute("end-value"))):(l?(t=this.range.getPositionFromAttribute("end-value"),r=this.range.getPositionFromAttribute("begin-value")):(t=this.range.getPositionFromAttribute("begin-value"),r=this.range.getPositionFromAttribute("end-value")),i=s.beginY,n=s.endY);var h=new Array(new e.Data.SectionStraight(t,i,r,n,a,o)),d=this.range.getPoles(h);return new e.Data.HierarchyLevel(h,d,this.range)},t.prototype.getPosition=function(t){var i=e.Calculations.createCalc(this.range.metaData.calcMethod),r=this.range.getParentSection(),n=Math.min(r.beginValue,r.endValue),a=Math.max(r.beginValue,r.endValue);return t=Math.max(Math.min(t,a),n),this.range.metaData.isVertical?i.calcByValue(t,r.beginY,r.endY,r.beginValue,r.endValue):i.calcByValue(t,r.beginX,r.endX,r.beginValue,r.endValue)},t.prototype.getBeginSurchargePosition=function(){var e=this.range.getParentSection();return this.range.metaData.isVertical?e.beginY<e.endY?e.beginY-this.range.metaData.beginSurcharge:e.beginY+this.range.metaData.beginSurcharge:e.beginX<e.endX?e.beginX-this.range.metaData.beginSurcharge:e.beginX+this.range.metaData.beginSurcharge},t.prototype.getEndSurchargePosition=function(){var e=this.range.getParentSection();return this.range.metaData.isVertical?e.beginY<e.endY?e.endY+this.range.metaData.endSurcharge:e.endY-this.range.metaData.endSurcharge:e.beginX<e.endX?e.endX+this.range.metaData.endSurcharge:e.endX-this.range.metaData.endSurcharge},t}();t.RangeStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(t){!function(t){!function(t){var i=function(){function t(e){this.thresholds=e}return t.prototype.createBeginSection=function(t,i,r){var n,a,o,s=this.thresholds.getAttribute("config");this.thresholds.metaData.isVertical?(n=t.beginY,a=r.calcByValue(parseFloat(s[0].BeginValue),t.beginY,t.endY,t.beginValue,t.endValue),o=new e.Data.SectionStraight(t.beginX,n,t.endX,a,t.beginValue,parseFloat(s[0].BeginValue))):(n=t.beginX,a=r.calcByValue(parseFloat(s[0].BeginValue),t.beginX,t.endX,t.beginValue,t.endValue),o=new e.Data.SectionStraight(n,t.beginY,a,t.endY,t.beginValue,parseFloat(s[0].BeginValue))),n!==a&&(s[0].BeginValue>t.beginValue||this.thresholds.metaData.isMirrored()&&s[0].BeginValue<t.beginValue)&&i.push(o)},t.prototype.createEndSection=function(t,i,r){var n,a,o,s=this.thresholds.getAttribute("config");this.thresholds.metaData.isVertical?(n=r.calcByValue(parseFloat(s[s.length-1].EndValue),t.beginY,t.endY,t.beginValue,t.endValue),a=t.endY,o=new e.Data.SectionStraight(t.beginX,n,t.endX,a,parseFloat(s[s.length-1].EndValue),t.endValue)):(n=r.calcByValue(parseFloat(s[s.length-1].EndValue),t.beginX,t.endX,t.beginValue,t.endValue),a=t.endX,o=new e.Data.SectionStraight(n,t.beginY,a,t.endY,parseFloat(s[s.length-1].EndValue),t.endValue)),n!==a&&(s[s.length-1].EndValue<t.endValue||this.thresholds.metaData.isMirrored()&&s[s.length-1].EndValue>t.endValue)&&i.push(o)},t.prototype.createThresholdsSections=function(t,i,r){for(var n,a,o,s=this.thresholds.getAttribute("config"),l=0;l<s.length;l++){var u=parseFloat(s[l].BeginValue),h=parseFloat(s[l].EndValue);parseFloat(s[l].BeginValue)<t.beginValue&&(u=t.beginValue,parseFloat(s[l].EndValue)<t.beginValue||u===h)||(parseFloat(s[l].EndValue)>t.endValue&&(h=t.endValue,parseFloat(s[l].BeginValue)>t.endValue||u===h)||(this.thresholds.metaData.isVertical?(n=r.calcByValue(u,t.beginY,t.endY,t.beginValue,t.endValue),a=r.calcByValue(h,t.beginY,t.endY,t.beginValue,t.endValue),o=new e.Data.SectionStraight(t.beginX,n,t.endX,a,u,h)):(n=r.calcByValue(u,t.beginX,t.endX,t.beginValue,t.endValue),a=r.calcByValue(h,t.beginX,t.endX,t.beginValue,t.endValue),o=new e.Data.SectionStraight(n,t.beginY,a,t.endY,u,h)),s[l].Color&&(o.color=new e.Data.Color(s[l].Color)),i.push(o)))}},t.prototype.getSectionsForChild=function(t){var i=e.Calculations.createCalc(this.thresholds.metaData.calcMethod),r=new Array;return this.createBeginSection(t,r,i),this.createThresholdsSections(t,r,i),this.createEndSection(t,r,i),r},t.prototype.getStructure=function(){var t=this.thresholds.Parent.getStructure(),i=this.thresholds.getAllChildrenSections(t);if(this.thresholds.getAttribute("config").length>=1)for(var r=0;r<i.length;r++){var n=this.getSectionsForChild(i[r]),a=new e.Data.HierarchyLevel(n,this.thresholds.getPoles(n),this.thresholds);i[r].children=a}return t},t}();t.ThresholdsStraight=i}(t.StraightDial||(t.StraightDial={}))}(t.Structure||(t.Structure={}))}(e.Features||(e.Features={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t=[],i={},r=!1,n=0,a=16.67,o=!1,s=function(){window.requestAnimationFrame(l),r=!0},l=function(){var e,l,u,h,d=+Date.now(),c=t.length;if(r=!1,h=d-n,o&&(o=!1,a=Math.max(16.67,3*h),h>=5e3&&(a=16.67)),h>a)for(o=!0,n=d-h%a,e=0;e<c&&(l=t.shift(),u=i[l],delete i[l],u(),!(Date.now()-d>10));e++);!1===r&&(t.length>0?s():(o=!1,a=16.67)),u=l=null};e.requestAF=function(e,n){i[e]||(i[e]=n,t.push(e),1===t.length&&!1===r&&s())},e.removeObj=function(e){i[e]&&(delete i[e],t.splice(t.indexOf(e),1))}}(e.AnimFrameRequestor||(e.AnimFrameRequestor={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(){this.Attributes={},this.Features=new Array,this.initialized=!1,this.Methods=new e.Dictionary,this.Templates={},this.defaults=t.default}return t.prototype.create=function(t){if(this.RTPUItem=t,this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.defs||(this.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.dom.appendChild(this.defs)),this.checkAndConvertEnums(),this.isValid()){var i="vertical"==this.Attributes.orientation;this.metaData=new e.Data.MetaData(this.defs,i,this);for(var r=0;r<this.Features.length;r++)this.dom.appendChild(this.Features[r].draw(t,this.metaData));this.Methods.set=this.setValue.bind(this),this.Methods["small-step"]=this.smallStep.bind(this),this.Methods["big-step"]=this.bigStep.bind(this),this.initialized=!0}return this.dom},t.prototype.checkAndConvertEnums=function(){},t.prototype.isValid=function(){return isNaN(parseInt(this.Attributes["begin-surcharge"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw an NVEElement with invalid begin-surcharge"),!1):!isNaN(parseInt(this.Attributes["end-surcharge"]))||(e.trace(e.enumTraceMode.Warning,"Can't draw an NVEElement with invalid end-surcharge"),!1)},t.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove();if(this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild)},t.prototype.update=function(){if(this.initialized){if(this.metaData.dirtyList.indexOf(this)>-1)return void this.create(this.RTPUItem);for(;this.metaData.dirtyList.length;){this.metaData.dirtyList.pop().redraw(this.RTPUItem,this.metaData)}}else this.create(this.RTPUItem)},t.prototype.propertyChanged=function(e){this.metaData&&this.metaData.dirtyList.indexOf(this)<0&&this.metaData.dirtyList.push(this)},t.prototype.getScale=function(e,t){if(1===this.Features.length)return this.Features[0];var i=this.RTPUItem.RootNode.getBoundingClientRect(),r=document.elementFromPoint(i.left+e,i.top+t);do{if(r.scale)return r.scale}while(r=r.parentNode);return this.Features[0]},t.prototype.setValue=function(e,t){var i,r=this.getScale(t.X,t.Y),n=this.getOffsetToSVGElement(),a=this.getCurrentValueForHmiProp(e),o=r.getPositionForValue(a);if(t&&t[".type"]&&14==t[".type"]){var s=r.getValueAtPosition(o.x+t.PanDeltaX,o.y+t.PanDeltaY,!0);i=s!==a?s:a}else{var l=t.X-n.x,u=t.Y-n.y;i=r.getValueAtPosition(l,u,!0)}a!==i&&(0===e.indexOf("LocalProps.")?this.RTPUItem.setLocalProps(i,e):(this.RTPUItem.setHmiProps(i,e),this.RTPUItem.update()))},t.prototype.smallStep=function(e,t){var i,r=this.getScale(t.X,t.Y),n=this.getOffsetToSVGElement(),a=t.X-n.x,o=t.Y-n.y,s=(r.getValueAtPosition(a,o),this.getCurrentValueForHmiProp(e));i=s+r.getValueRange()/5,0===e.indexOf("LocalProps.")?this.RTPUItem.setLocalProps(i,e):(this.RTPUItem.setHmiProps(i,e),this.RTPUItem.update())},t.prototype.bigStep=function(e,t){var i,r=this.getScale(t.X,t.Y),n=this.getOffsetToSVGElement(),a=t.X-n.x,o=t.Y-n.y,s=(r.getValueAtPosition(a,o),this.getCurrentValueForHmiProp(e));i=s+r.getValueRange()/10,0===e.indexOf("LocalProps.")?this.RTPUItem.setLocalProps(i,e):(this.RTPUItem.setHmiProps(i,e),this.RTPUItem.update())},t.prototype.getCurrentValueForHmiProp=function(e){return this.RTPUItem.getProps(e)},t.prototype.getOffsetToSVGElement=function(){var e=this.RTPUItem.RootNode,t=e.getBoundingClientRect(),i=this.dom.parentNode.parentNode.getBoundingClientRect(),r=this.dom.parentNode.parentNode.getBBox(),n=this.RTPUItem.Store.props.RotationAngle||0;n=(n<0?360+n:n)*Math.PI/180;var a,o=Math.ceil(2*n/Math.PI)>0?Math.ceil(2*n/Math.PI):1,s=o/2*Math.PI-n,l=["top","right","bottom","left","top"],u=o>2?1:-1,h=t[l[o]]+u*Number(e.getAttribute("width"))*Math.sin(s),d=i[l[o]]+u*r.width*Math.sin(s),c=Math.sqrt(Math.pow(h-d,2)+Math.pow(i[l[o-1]]-t[l[o-1]],2)),p=(1<o&&o<4?-1:1)*Math.atan((h-d)/(i[l[o-1]]-t[l[o-1]]));switch(o){case 1:a=Math.PI/2+n-p;break;case 2:a=s+p;break;default:a=s-p}var m=n-(o-1)/2*Math.PI+u*p;return{x:c*Math.sin(m)-r.x,y:c*Math.sin(a)-r.y}},t.prototype.getRotationCenter=function(){var e=this.RTPUItem.RootNode.getBoundingClientRect();return{x:e.width/2,y:e.height/2,angle:null}},t.default={},t}();e.NVEElementBase=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=i.default,e}return r(i,t),i.prototype.create=function(e){return t.prototype.create.call(this,e),this.dom},i.prototype.isValid=function(){if(!this.Attributes.radius)return e.trace(e.enumTraceMode.Warning,"Can't draw an ArcDial without radius"),!1;if(0===parseInt(this.Attributes.radius))return e.trace(e.enumTraceMode.Warning,"Can't draw an ArcDial radius 0"),!1;var i=parseInt(this.Attributes["angle-range"]);if(isNaN(i))return e.trace(e.enumTraceMode.Warning,"Can't draw an ArcDial with invalid angle-range"),!1;i<-360?this.Attributes["angle-range"]="-360":i>360&&(this.Attributes["angle-range"]="360");var r=parseInt(this.Attributes["begin-angle"]);return isNaN(r)?(e.trace(e.enumTraceMode.Warning,"Can't draw an ArcDial with invalid begin-angle"),!1):(r<-360?this.Attributes["begin-angle"]="-360":r>360&&(this.Attributes["begin-angle"]="360"),isNaN(parseInt(this.Attributes["center-x"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw an ArcDial with invalid center-x"),!1):isNaN(parseInt(this.Attributes["center-y"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw an ArcDial with invalid center-y"),!1):t.prototype.isValid.call(this))},i.prototype.getPoles=function(t){var i=new Array,r=new e.Data.PoleArc(t[0].centerX,t[0].centerY,t[0].radius,t[0].beginAngle,t[0].beginValue),n=new e.Data.PoleArc(t[0].centerX,t[0].centerY,t[0].radius,t[0].endAngle,t[0].endValue);return i.push(r),i.push(n),i},i.prototype.getStructure=function(){var t=new Array,i=parseFloat(this.Attributes["begin-angle"])+parseFloat(this.Attributes["angle-range"]),r=new e.Data.SectionArc(parseFloat(this.Attributes["center-x"]),parseFloat(this.Attributes["center-y"]),parseFloat(this.Attributes["begin-angle"]),i,parseFloat(this.Attributes.radius),0,0);return t.push(r),new e.Data.HierarchyLevel(t,this.getPoles(t),this)},i.default={"center-x":"0","center-y":"0","begin-angle":"0","angle-range":"180","begin-surcharge":"0","end-surcharge":"0"},i}(e.NVEElementBase);e.ArcDial=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(){this.Attributes={},this.Features=new Array,this.initialized=!1,this.Methods=new e.Dictionary,this.Templates={}}return t.prototype.create=function(e,t,i){return this.RTPUItem=e,t&&i?this.dom=i:this.dom||(this.dom=document.createElementNS("http://www.w3.org/2000/svg","g")),this.dom},t.prototype.remove=function(){for(var e=0;e<this.Features.length;e++)this.Features[e].remove();for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild);this.Attributes=[],this.dom=null,this.Features=[],this.RTPUItem=null,this.Templates=null},t.prototype.update=function(){},t.prototype.getAttribute=function(e){return this.Attributes[e]},t}();e.NVEBase=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={"area-spacing":0,"shift-axes":!1,"show-ruler":!1,"show-selector-rulers":!1,timezone:-1,online:!0,"start-y":0,"start-x":0},e.TemplateId="",e.Attributes={},e.Features=new Array,e.initialized=!1,e}return r(i,t),i.prototype.create=function(t){return this.RTPUItem=t,this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),"FunctionTrendControl"===this.RTPUItem.Store.props.Type?this.trendView=new e.FunctionTrendView(this):this.trendView=new e.OnlineTrendView(this),this.trendView.create(t)},i.prototype.remove=function(){this.trendView.remove(),t.prototype.remove.call(this)},i.prototype.onModified=function(){},i.prototype.propertyChanged=function(e){this.trendView.propertyChanged(e)},i.prototype.update=function(){this.trendView.update()},i}(e.NVEBase);e.Chart=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){!function(e){var t={};e.registerChart=function(e,i){var r;return r=e+"_"+Date.now(),void 0===t[e]&&(t[e]={charts:{},maxDims:[0,0,0,0],balanceRequired:!1}),t[e].charts[r]={},t[e].charts[r].balancers=i,t[e].charts[r].dims=[],r},e.setAndGetMaxValue=function(e,i,r,n){var a,o,s,l=t[e],u=l.charts,h=1;for(o in u[i].dims[r]=a=n,u)u.hasOwnProperty(o)&&o!==i&&(h++,(s=u[o].dims[r])>a&&(a=s));return l.maxDims[r]!==a&&(l.maxDims[r]=a,h>1&&(l.balanceRequired=!0)),a},e.balanceCharts=function(e,i,r){var n,a=t[e],o=a.charts;if(a.balanceRequired)for(n in a.balanceRequired=!1,o)o.hasOwnProperty(n)&&n!==i&&o[n].dims.length>0&&o[n].balancers[r]()},e.unregister=function(e,i){var r=t[e].charts,n=r[i],a=0;for(n in n.balancer=null,n=null,delete r[i],r)r.hasOwnProperty(n)&&a++;0===a&&(t[e]=null,delete t[e])}}(e.ChartBalancer||(e.ChartBalancer={}))}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var r=null!==t&&t.apply(this,arguments)||this;return r.defaults=i.default,r.selectedIndex=-1,r.Features=new Array,r.Methods=new e.Dictionary,r}return r(i,t),i.prototype.create=function(i){return t.prototype.create.call(this,i),this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.defs||(this.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.dom.appendChild(this.defs)),this.checkAndConvertEnums(),this.isValid()&&(this.initialized=!0,this.metaData=new e.Data.MetaData(this.defs,!0,this)),this.draw()},i.prototype.draw=function(){var t=this;this.source=this.Attributes.source,this.delay=this.Attributes.delay,this.width=this.Attributes.width,this.height=this.Attributes.height,this.limit=this.Attributes.limit,this.selectedIndex=-1;var i=this.RTPUItem.Store.handler.listProvider;if(i){i.setUpdateFunction(this.RTPUItem.Store,this.source,(function(e,i){t.subtemplate&&i>-1&&(t.subtemplate.setHmiProps(i,"HmiProps.SelectedIndex"),t.subtemplate.update()),t.updateList(e,!0),t.list=e})),i.setUpdateCurrentFunction&&i.setUpdateCurrentFunction(this.RTPUItem.Store,this.source,(function(e){void 0!==e.$index&&t.subtemplate.setHmiProps(e.$index,"HmiProps.SelectedIndex"),t.subtemplate&&(t.subtemplate.setHmiProps(e,"HmiProps.Current"),t.subtemplate.update())})),"function"==typeof i.setListHeightFunction&&i.setListHeightFunction(this.RTPUItem.Store,this.source,(function(e){t.subtemplate.setParamProps(e,"ParamProps.MaxListBoxViewCount")}));var r=i.getList(this.RTPUItem.Store,this.source,this.delay);this.list=r.List;var n=e.getSystemPart("ListContainerSystemPart");n.List=this.filterList(this.list),n.Current=this.filterList([r.Current])[0],n.Width=this.width,n["Height "]=this.height,n.SelectedIndex=r.SelectedIndex,this.selectedIndex=r.SelectedIndex,this.subtemplate=this.RTPUItem.createSubtemplate(this,this.Templates[""],n,null,this.Attributes.width,this.Attributes.height),this.subtemplate.RootNode.setAttribute("x",this.Attributes["start-x"]),this.subtemplate.RootNode.setAttribute("y",this.Attributes["start-y"]),this.subtemplate.PropertyChangedCallback=function(e,i){if("HmiProps.SelectedIndex"===e){var r=t.Attributes.source,a=t.RTPUItem.Store.handler.listProvider;a&&a.setSelection(t.RTPUItem.Store,i,n.List,r);var o=-1!==i&&i<t.list.length?t.filterList(t.list)[i]:{};t.subtemplate.setHmiProps(o,"HmiProps.Current"),t.subtemplate.update()}},this.initialMaxListCount||(this.initialMaxListCount=Number(this.subtemplate.getProps("ParamProps.MaxListBoxViewCount"))),this.dom.appendChild(this.subtemplate.RootNode)}else e.trace(e.enumTraceMode.Warning,"No listprovider found");return this.dom},i.prototype.update=function(){var t=!1;if(this.source!==this.Attributes.source||this.delay!==this.Attributes.delay){this.source=this.Attributes.source,this.delay=this.Attributes.delay;var i=this.RTPUItem.Store.handler.listProvider;if(i){var r=i.getList(this.RTPUItem.Store,this.source,this.delay);r.List&&!e.Utilities.equals(r.List,this.list)&&(t=!0,this.list=r.List)}}t&&this.updateList(this.list,!this.delay),this.width!==this.Attributes.width&&(this.width=this.Attributes.width,this.subtemplate.setHmiProps(this.width,"HmiProps.Width")),this.height!==this.Attributes.height&&(this.height=this.Attributes.height,this.subtemplate.setHmiProps(this.height,"HmiProps.Height")),this.subtemplate.update()},i.prototype.updateList=function(e,t){var i=this.RTPUItem.Store.handler.listProvider;if(i&&"function"==typeof i.setProperties){var r=Number(this.subtemplate.getProps("ParamProps.SelectionItemHeight")),n=Number(this.subtemplate.getProps("ParamProps.ContentPositionY"));i.setProperties(this.RTPUItem.Store,this.initialMaxListCount,r,n)}var a=this.subtemplate.getProps("HmiProps.SelectedIndex");t&&a>=e.length&&(a=-1,this.subtemplate.setHmiProps(a,"HmiProps.SelectedIndex"));var o=this.filterList(e);if(this.subtemplate.setHmiProps(o,"HmiProps.List"),t&&e.length>0&&-1!==a){var s=this.filterList(e[a]);this.subtemplate.setHmiProps(s,"HmiProps.Current")}this.subtemplate.update()},i.prototype.filterList=function(e){if(this.Features.length>0&&this.Features[0].Features.length>0&&e&&e.length>0){var t=n(e),i=[],r=[];return isFinite(this.limit)&&this.limit>0&&t.splice(this.limit),this.Features[0].Features.forEach((function(e){r.push([e.Attributes.name,e.Attributes.as?e.Attributes.as:e.Attributes.name])})),t.forEach((function(e){var t={};r.forEach((function(i){e&&void 0!==e[i[0]]&&(t[i[1]]=e[i[0]])})),i.push(t)})),i}return e},i.prototype.remove=function(){var e;null===(e=this.subtemplate)||void 0===e||e.remove();var i=this.RTPUItem.Store.handler.listProvider;if(i){var r=this.Attributes.source;i.releaseList(this.RTPUItem.Store,r)}this.subtemplate=null,this.delay=null,this.source=null,this.list=null,t.prototype.remove.call(this)},i.prototype.checkAndConvertEnums=function(){},i.prototype.isValid=function(){if(isNaN(parseInt(this.Attributes["start-x"])))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid start-x"),!1;if(isNaN(parseInt(this.Attributes["start-y"])))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid start-y"),!1;if("string"!=typeof this.Attributes.source)return e.trace(e.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid source"),!1;if(isNaN(parseInt(this.Attributes.width)))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid width"),!1;if(isNaN(parseInt(this.Attributes.height)))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid height"),!1;if("boolean"!=typeof this.Attributes.delay)return e.trace(e.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid delay"),!1;var t=parseInt(this.Attributes.limit);return!(!isNaN(t)&&t<=0)||(e.trace(e.enumTraceMode.Warning,"Cannot draw a ListContainer with invalid limit; limit must be a positive integer or infinity"),!1)},i.default={width:"100",height:"100","start-x":"0","start-y":"0",delay:!1,limit:1/0},i}(e.NVEBase);e.ListContainer=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t,i,r,n,a,o,s,l,u;e.enumTraceMode={None:0,Error:10,TestCurr:12,Perf:15,Warning:20,Test:35,Info:40,PerfLow:50,All:99},e.enumEventType={down:10,up:11,tapped:12,contextTapped:13,pan:14,mouseEnter:1,mouseHover:2,mouseLeave:3,wheel:4};var h=function(){};function d(e,t){i(e,t)}e.Options=h,e.initialize=function(h){h.register("straightDial",e.StraightDial),h.register("arcDial",e.ArcDial),h.register("textField",e.TextField),h.register("chart",e.Chart),h.register("listContainer",e.ListContainer),h.register("properties",e.Features.Properties),h.register("select",e.Features.Select),h.register("scale",e.Features.Scale),h.register("font",e.Features.Font),h.register("inputBehavior",e.Features.InputBehavior),h.register("inputHint",e.Features.InputHint),h.register("scrollableArea",e.ScrollableArea),h.register("labels",e.Features.Shape.Labels),h.register("poleMarkers",e.Features.Shape.PoleMarkers),h.register("ribbons",e.Features.Shape.Ribbons),h.register("sectionLabels",e.Features.Shape.SectionLabels),h.register("sectionMarkers",e.Features.Shape.SectionMarkers),h.register("ticks",e.Features.Shape.Ticks),h.register("autoMeasure",e.Features.Structure.AutoMeasure),h.register("division",e.Features.Structure.Division),h.register("marker",e.Features.Structure.Marker),h.register("measure",e.Features.Structure.Measure),h.register("range",e.Features.Structure.Range),h.register("thresholds",e.Features.Structure.Thresholds),h.register("dataTemplates",e.Features.DataTemplates),h.register("columnBackground",e.Features.ColumnBackGround),h.register("table",e.Table),h.register("gridlines",e.Features.Gridlines),h.register("gridline",e.Features.Gridline),h.register("header",e.Features.Header),h.register("recordHeader",e.Features.RecordHeader),h.register("rowBackground",e.Features.RowBackground),h.register("selection",e.Features.SelectionBorder),h.register("axes",e.Features.Axes),h.register("axis",e.Features.Axis),h.register("areaGridlines",e.Features.AreaGridlines),h.register("graphs",e.Features.Graphs),h.register("graph",e.Features.Graph),h.register("graphMarker",e.Features.GraphMarker),h.register("rulers",e.Features.Rulers),h.register("rulerIndicator",e.Features.RulerIndicator),h.register("tooltip",e.Features.Tooltip),h.register("flowDiagram",e.FlowDiagram),h.register("flowLines",e.Features.FlowLines),h.register("flowLine",e.Features.FlowLine),h.register("block",e.Features.Block),h.register("logic",e.Features.Logic),h.register("flowLineDecorator",e.Features.FlowLineDecorator),t=h.converter,i=h.debug.tracer,r=h.enums,n=h.helper,a=h.helper.getSystemPartDefaults,o=h.helper.loadSubTemplate,s=h.helper.removeSubTemplate,l=h.helper.registerEvent,u=h.helper.unregisterEvent},e.convertFormatPattern=function(i,r,n){var a=t.FormatPattern;return a?a(i,r,n):(d(e.enumTraceMode.Warning,"Missing converter: FormatPattern"),String(i))},e.getDefaultFormat=function(i){var r=t.GetDefaultFormat;return r?r(i):(d(e.enumTraceMode.Warning,"Missing converter: GetDefaultFormat"),String(i))},e.getTextPosY=function(i,r){var n=t.TextPosY;return n?n(1,i,r):(d(e.enumTraceMode.Warning,"Missing converter: TextPosY"),0)},e.getTextBBox=function(i,r){var n=t.TextBBox;return n?n(i,r):(d(e.enumTraceMode.Warning,"Missing converter: TextBBox"),0)},e.getFontPointSize=function(i,r){var n=t.FontPointSize;return n?n(i,r):(d(e.enumTraceMode.Warning,"Missing converter: FontPointSize"),0)},e.getTextHeight=function(i,r,n){var a=t.TextHeight;return a?a(i,r,n):(d(e.enumTraceMode.Warning,"Missing converter: TextHeight"),0)},e.getTextWidth=function(i,r,n){var a=t.TextWidth;return a?a(i,r,n):(d(e.enumTraceMode.Warning,"Missing converter: TextWidth"),0)},e.getMergedColor=function(i){var r=t.MergeColors;return r?r(i):(d(e.enumTraceMode.Warning,"Missing converter: MergeColors"),0)},e.textEllipsis=function(e,i,r){return t.TextEllipsis(e,i,r)},e.textWrap=function(e,i,r,n){return t.TextWrap(e,i,r,n)},e.format2Type=function(e){return t.Format2Type(e)},e.bin2dec=function(e){return t.Bin2Dec(e)},e.hex2dec=function(e){return t.Hex2Dec(e)},e.getHmiFieldDataTypeEnum=function(){return t.GetHmiFieldDataTypeEnum()},e.isAppModeRuntime=function(){return t.IsRuntime()},e.getTextByID=function(e){return t.GetTextByID(e)},e.mapEventName=function(e){return t.MapEventName(e)},e.trace=d,e.getChromEnum=function(e){return r[e]},e.getRGBAcolor=function(i){var r=t.RGBA;return r?r(i):(d(e.enumTraceMode.Warning,"Missing converter: RGBA"),i)},e.getDarkercolor=function(i,r){var n=t.Darker;return n?n(i,r):(d(e.enumTraceMode.Warning,"Missing converter: Darker"),i)},e.toHRef=function(i,r){var n=t.HRef;return n?n(i,r):(d(e.enumTraceMode.Warning,"Missing converter: HRef"),i)},e.propChanged=function(e,t,i){n.propChanged&&n.propChanged(e,t,i)},e.registerForFlashing=function(e,t,i,r,a){n.registerForFlashing&&n.registerForFlashing(e,t,i,r,a)},e.loadSubTemplate=function(t,i,r,n,a,s,l){return o?o(t,i,r,n,a,s,l):(d(e.enumTraceMode.Warning,"Missing subTemplateLoader"),0)},e.removeSubTemplate=function(t){if(!s)return d(e.enumTraceMode.Warning,"Missing subTemplateRemover"),0;s(t)},e.getSystemPart=function(t){if(a)return a(t);d(e.enumTraceMode.Error,"Missing getSystemPart")},e.loadImage=function(e,i,r,n){t.LoadImage(e,i,r,n)},e.showTooltip=function(i,r,n,a){if(!t.ShowTooltip)return d(e.enumTraceMode.Warning,"Missing converter: ShowTooltip"),i;t.ShowTooltip(i,r,n,a)},e.hideTooltip=function(){t.HideTooltip?t.HideTooltip():d(e.enumTraceMode.Warning,"Missing converter: HideTooltip")},e.textDecoration=function(i){t.TextDecoration?t.TextDecoration(i):d(e.enumTraceMode.Warning,"Missing converter: font")},e.isMultiLine=function(i){return t.IsMultiline?t.IsMultiline(i):void d(e.enumTraceMode.Warning,"Missing converter: IsMultiline")},e.registerEvent=function(e,t){l&&l(e,t)},e.unregisterEvent=function(e){u&&u(e)}}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){};e.Dictionary=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(t){!function(t){var i=function(i){function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.defaults={"start-x":0,"start-y":0,type:t.Data.FlowDiagramType.Step},e.TemplateId="",e.Attributes={},e.Features=new Array,e}return r(n,i),n.prototype.unLoadDiagram=function(){if(this.renderer.remove(),this.metaData.unloadDiagrams(),this.scrollHandler.remove(),this.dom)for(;this.dom.firstChild;)this.dom.removeChild(this.dom.firstChild)},n.prototype.handleLoadData=function(e){this.renderer.render(e),this.metaData.addDiagram(e)},n.prototype.create=function(i){var r,n=this,a=this.Features.length;for(this.RTPUItem=i,this.Attributes=t.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.metaData=new t.Data.FlowDiagramMetaData(this.Attributes,i,this.Templates),this.scrollHandler=new t.FlowDiagramScrollHandler(this),this.zoomHandler=new t.FlowDiagramZoomHandler(this),this.metaData.scrollHandler=this.scrollHandler,this.restoreScrollPos={x:0,y:0},this.dom||(this.dom=t.Features.Shape.SvgShape.CreateSvgElement("svg"),this.setDataProvider()),this.metaData.dp=this.dp,this.RTPUItem.Store.flowDiag||(this.RTPUItem.Store.flowDiag={}),this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step?(this.renderer=new t.StepDiagramRenderer(this.dom,this.metaData),this.dataHandler=new t.StepDiagramDataHandler(this.metaData),this.RTPUItem.Store.flowDiag.Step=this.getStepFamilyMembers.bind(this),this.RTPUItem.Store.flowDiag.Trans=this.getTransFamilyMembers.bind(this)):this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Ladder?(this.renderer=new t.LADRenderer(this.dom,this.metaData),this.dataHandler=new t.LADDataHandler(this.metaData),this.RTPUItem.Store.flowDiag.LAD=this.getLADFamilyMembers.bind(this),this.RTPUItem.Store.flowDiag.FBDConn=this.getLADConnectionDetails.bind(this)):this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&(this.renderer=new t.FBDRenderer(this.dom,this.metaData),this.dataHandler=new t.FBDDataHandler(this.metaData),this.RTPUItem.Store.flowDiag.FBD=this.getFBDFamilyMembers.bind(this),this.RTPUItem.Store.flowDiag.FBDConn=this.getFBDConnectionDetails.bind(this)),r=0;r<a;r++)this.Features[r].draw(i,this.metaData);return this.isStyleChange&&this.restoreStateOnStyleChange(),this.dp.diagramLoaded&&"function"==typeof this.dp.diagramLoaded&&setTimeout((function(){var e="step"===n.metaData.diagramType?"Step":"ladder"===n.metaData.diagramType?"LAD":"FBD";n.isStyleChange&&"step"===n.metaData.diagramType?n.dp.diagramLoaded(e):n.isStyleChange||n.dp.diagramLoaded(e)}),0),this.propertyChanged("height"),this.propertyChanged("width"),this.dom},n.prototype.getStepFamilyMembers=function(e){return this.dataHandler.getStepFamilyMembers(e)},n.prototype.getTransFamilyMembers=function(e){return this.dataHandler.getTransFamilyMembers(e)},n.prototype.getLADFamilyMembers=function(e,t){return this.dataHandler.getLADFamilyMembers(e,t)},n.prototype.getLADConnectionDetails=function(e,t,i){return this.dataHandler.getLADConnectionDetails(e,t,i)},n.prototype.getFBDFamilyMembers=function(e,t){return this.dataHandler.getFBDFamilyMembers(e,t)},n.prototype.getFBDConnectionDetails=function(e,t,i){return this.dataHandler.getFBDConnectionDetails(e,t,i)},n.prototype.setDataProvider=function(){this.dp=this.RTPUItem.Store.control.handler.getDataProvider(this.RTPUItem.Store),this.dp&&this.dp.register&&(this.dp.register("onAdded",this.onAdded.bind(this)),this.dp.register("onModified",this.onModified.bind(this)),this.dp.register("onValueChanged",this.onValueChanged.bind(this)),this.dp.register("onShowNext",this.onShowNext.bind(this)),this.dp.register("onZoom",this.zoomHandler.onZoom.bind(this.zoomHandler)),this.dp.register("onLanguageChanged",this.onLanguageChanged.bind(this)),this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step?this.dp.register("onAutoModeToggle",this.onAutoModeToggle.bind(this)):this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&this.dp.register("requestInitialBlock",this.getInitialBlock.bind(this)))},n.prototype.removeDataProvider=function(){this.dp&&this.dp.unRegister&&(this.dp.unRegister("onAdded",this.onAdded.bind(this)),this.dp.unRegister("onModified",this.onModified.bind(this)),this.dp.unRegister("onValueChanged",this.onValueChanged.bind(this)),this.dp.unRegister("onShowNext",this.onShowNext.bind(this)),this.dp.unRegister("onZoom",this.zoomHandler.onZoom.bind(this.zoomHandler)),this.dp.unRegister("onLanguageChanged",this.onLanguageChanged.bind(this)),this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step?this.dp.unRegister("onAutoModeToggle",this.onAutoModeToggle.bind(this)):this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&this.dp.unRegister("requestInitialBlock",this.getInitialBlock.bind(this)))},n.prototype.remove=function(){this.isStyleChange?(this.storeStateOnStyleChange(),this.removeDataProvider(),this.scrollHandler.remove()):(this.dp&&this.dp.unRegister(),this.unLoadDiagram(),this.renderer.remove(!0),this.renderer=null,this.viewBox=null,this.dataHandler.remove(),this.dataHandler=null,this.zoomHandler.remove(),this.zoomHandler=null),this.dp=null,this.metaData.remove(),this.metaData=null,this.scrollHandler=null,this.RTPUItem.Store.flowDiag=null,i.prototype.remove.call(this)},n.prototype.getScrollHandler=function(){return this.scrollHandler},n.prototype.onAdded=function(t){if("LAD"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Ladder||"Step"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step||"FBD"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock){this.unLoadDiagram();for(var i=0,r=t.Data;i<r.length;i++){var n=r[i],a=this.dataHandler.parseData(JSON.parse(JSON.stringify(n)));this.handleLoadData(a),this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step&&this.handleAutoMode()}this.propertyChanged()}},n.prototype.onModified=function(t){if("Step"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step)(i=this.metaData.diagrams[0]).setActiveStatus(t.Data);else if("LAD"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Ladder){(i=this.metaData.getDiagram(t.Name.Key))&&i.setActiveStatus(t.Data)}else if("FBD"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock){var i;(i=this.metaData.getDiagram(t.Name.Key))&&i.setActiveStatus(t.Data)}},n.prototype.onValueChanged=function(t){if("LAD"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Ladder)null==(i=this.metaData.getDiagram(t.Name.Key))||i.setData(t.Data);else if("FBD"===t.Type&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock){var i;null==(i=this.metaData.getDiagram(t.Name.Key))||i.setData(t.Data)}},n.prototype.onShowNext=function(e){this.unLoadDiagram(),this.onAdded(e)},n.prototype.onLanguageChanged=function(t){if(t&&t.Data&&t.Data.length>0)for(var i=t.Data.length,r=t.Type,n=0;n<i;n++){var a=t.Data[n],o=void 0;"Step"===r&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step?o=this.metaData.diagrams[0]:("LAD"===r&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Ladder||"FBD"===r&&this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock)&&(o=this.metaData.getDiagram(a.Name.Key)),o&&o.update(a)}},n.prototype.propertyChanged=function(e){if("height"===e?(this.height=parseFloat(this.Attributes.height),this.metaData.dim.height=this.height):"width"===e&&(this.width=parseFloat(this.Attributes.width),this.metaData.dim.width=this.width),this.height>0&&this.width>0){if(this.viewBox?(this.viewBox.width=this.width/this.metaData.zoomFactor,this.viewBox.height=this.height/this.metaData.zoomFactor):(this.dom.setAttribute("viewBox","0 0 "+this.width/this.metaData.zoomFactor+" "+this.height/this.metaData.zoomFactor),this.viewBox=this.dom.viewBox.baseVal),this.height<this.renderer.totalHeight){var t=this.restoreScrollPos.y;this.scrollHandler.loadVertScrollBar(this.renderer.totalHeight,t*this.metaData.zoomFactor)}else this.scrollHandler.removeVertScrollBar();if(this.width<this.renderer.totalWidth){t=this.restoreScrollPos.x;this.scrollHandler.loadHorizScrollBar(this.renderer.totalWidth,t*this.metaData.zoomFactor)}else this.scrollHandler.removeHorizScrollBar();this.scrollHandler.setHScrollBarPosition(),this.scrollHandler.setVScrollBarPosition()}},n.prototype.update=function(){},Object.defineProperty(n.prototype,"isStyleChange",{get:function(){var e=!1;return this.dp&&"function"==typeof this.dp.isStyleChange&&(e=this.dp.isStyleChange()),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"zoomFactor",{get:function(){var e=1;return this.dp&&"function"==typeof this.dp.isStyleChange&&(e=this.dp.getZoomFactor()),e},enumerable:!1,configurable:!0}),n.prototype.onAutoModeToggle=function(e){this.metaData.diagramType===t.Data.FlowDiagramType.Step&&(this.metaData.isAutoMode=e,this.handleAutoMode())},n.prototype.getInitialBlock=function(e){var t,i=this.metaData.getDiagram(e);if(i){var r=i.getInitialBlock(),n=null==r?void 0:r.firstInPin;this.dp.setInitialBlock({diagTitle:e,blockId:r?r.id:null===(t=i.getStartElement())||void 0===t?void 0:t.id,pinName:null==n?void 0:n.pin})}},n.prototype.handleAutoMode=function(){var e=this;this.renderer.handleAutoMode(this.metaData.isAutoMode),this.metaData.diagrams.forEach((function(i){var r=i;for(var n in r.flowLines)r.flowLines[n].decoratorElements.forEach((function(i){i.subType===t.Data.FlowLineDecoratorSubType.JumpOut&&i.handleAutoMode(e.metaData.isAutoMode)}))}))},n.prototype.storeStateOnStyleChange=function(){var i=this,r=new t.Data.FlowDiagramStateData;r.scrollX=this.scrollHandler.getScrollXPos(),r.scrollY=this.scrollHandler.getScrollYPos(),this.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step&&(r.selectedBlockDetails=this.renderer.getSelectedBlockDetails(),r.activeBlockDetails=this.renderer.getActiveBlockDetails(),r.elementsToActivate=this.metaData.elemToActivateOnReRender),r.diagram=[],this.metaData.diagrams.forEach((function(t){var n,a,o,s="",l="";if(i.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Ladder){var u=t.titleKey;s=t.getTitleText()[u].textContent,l=null===(n=t.getErrorDescription())||void 0===n?void 0:n.textContent,r.activeData=t.getActiveStatus(),r.ladOperandData=t.getOperandData()}if(i.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock){u=t.titleKey;s=t.getTitleText()[u].textContent,l=null===(a=t.getErrorDescription())||void 0===a?void 0:a.textContent,r.activeData=t.getActiveData(),r.operandData=t.getOperandData()}i.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step&&(l=null===(o=t.getErrorDescription())||void 0===o?void 0:o.textContent);var h={name:s,errorText:l,connDetails:t.connDetails,list:t.list};r.diagram.push(h)})),t.Data.FlowDiagramStateStore.store(this.RTPUItem.Store.props.ElementID,this.metaData.diagramType,r)},n.prototype.restoreStateOnStyleChange=function(){var i=this;this.metaData.zoomFactor=this.zoomFactor,this.metaData.isCompactMode=this.zoomFactor<=.7;var r=t.Data.FlowDiagramStateStore.retrieve(this.RTPUItem.Store.props.ElementID,this.metaData.diagramType);null==r||r.diagram.forEach((function(n){var a;if(i.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Step){if((a=new t.Data.StepDiagramModel(i.metaData.getNextDiagramId(),i.metaData)).connDetails=n.connDetails,a.errorDescription=n.errorText,a.list=n.list,i.dataHandler.populateEntities(a),i.handleLoadData(a),r.selectedBlockDetails.diagramId>0&&i.renderer.selectionHandler(r.selectedBlockDetails.blockId,r.selectedBlockDetails.diagramId,!1),r.activeBlockDetails.length>0){for(var o=[],s=0,l=r.activeBlockDetails;s<l.length;s++){var u=l[s];o.push({Key:u.blockId,Type:"Block",Data:{isActive:!0,Fore:u.foreColor,Back:u.backColor}})}a.setActiveStatus(o)}r.elementsToActivate.length>0&&(i.metaData.elemToActivateOnReRender=r.elementsToActivate,r.elementsToActivate.forEach((function(e){var i=a.getElementDetails(e.id);if(i instanceof t.Data.FlowLineElement)i.updateActivationStatus(!0);else if(i instanceof t.Data.BranchElement){var r=a.getElementDetails(e.ref);i.updateActivationStatus(!0,r)}})))}else i.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.Ladder?((a=new t.Data.LADModel(i.metaData.getNextDiagramId(),i.metaData)).connDetails=n.connDetails,a.list=n.list,a.titleText={Key:n.name,Value:n.name},a.errorDescription=n.errorText,i.dataHandler.populateEntities(a),i.metaData.activeData=r.activeData,i.metaData.operandData=r.ladOperandData,i.handleLoadData(a)):i.metaData.diagramType===e.Lib.NVEs.Data.FlowDiagramType.FunctionBlock&&((a=new t.Data.FBDModel(i.metaData.getNextDiagramId(),i.metaData)).connDetails=n.connDetails,a.list=n.list,a.titleText={Key:n.name,Value:n.name},a.errorDescription=n.errorText,i.dataHandler.populateEntities(a),i.metaData.activeData=r.activeData,i.metaData.operandData=r.operandData,i.handleLoadData(a))})),r&&(this.restoreScrollPos={x:r.scrollX,y:r.scrollY})},n}(t.NVEBase);t.FlowDiagram=i}(t.NVEs||(t.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var r=null!==t&&t.apply(this,arguments)||this;return r.defaults=i.default,r.subtemplatePool=[],r.isScrollingNeeded=!1,r.scrollbarWidth=e.getSystemPart("ScrollBarSystemPart").Thickness,r.currentScrollbarValue=1,r}return r(i,t),i.prototype.create=function(i){return t.prototype.create.call(this,i),this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.defs||(this.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.dom.appendChild(this.defs)),this.isValid()&&(this.initialized=!0,this.metaData=new e.Data.MetaData(this.defs,!0,this)),this.draw()},i.prototype.update=function(){this.isValid()&&(this.subtemplatePool.forEach((function(e){e.remove(!0,!0,!1)})),this.subtemplatePool=[],this.removeScrollbar(),this.draw())},i.prototype.remove=function(){if(this.removeScrollbar(),this.isScrollingNeeded&&e.isAppModeRuntime()){var i=[{element:this.g,eventName:e.enumEventType.wheel,handler:this.onMouseWheel.bind(this)},{element:this.g,eventName:e.enumEventType.pan,handler:this.onPan.bind(this)}];e.unregisterEvent(i)}this.metaData=this.defs=this.g=null,this.subtemplatePool.forEach((function(e){e.remove(!0)})),this.subtemplatePool.length=0,t.prototype.remove.call(this)},i.prototype.draw=function(){this.startX=parseInt(this.Attributes["start-x"]),this.startY=parseInt(this.Attributes["start-y"]),this.width=parseInt(this.Attributes.width),this.height=parseInt(this.Attributes.height),this.itemSize=parseInt(this.Attributes["item-size"]),this.layout=this.Attributes.layout;var t=this.Attributes.items,i=this.Templates[""];if(t&&t.length&&i){if("horizontal"===this.layout?t.length*this.itemSize>this.width&&(this.isScrollingNeeded=!0):t.length*this.itemSize>this.height&&(this.isScrollingNeeded=!0),!this.g&&(this.g=document.createElementNS("http://www.w3.org/2000/svg","g"),this.isScrollingNeeded&&e.isAppModeRuntime())){var r=[{element:this.g,eventName:e.enumEventType.wheel,handler:this.onMouseWheel.bind(this)},{element:this.g,eventName:e.enumEventType.pan,handler:this.onPan.bind(this)}];e.registerEvent(r,this.RTPUItem)}if(this.isScrollingNeeded){var n=void 0,a=void 0,o=void 0,s=void 0;"horizontal"===this.layout?(n=this.width,a=this.scrollbarWidth,o=this.startX,s=this.startY+this.height-a):(n=this.scrollbarWidth,a=this.height,o=this.startX+this.width-n,s=this.startY),this.scrollbar=e.Utilities.createScrollBarObj(this,"horizontal"==this.layout?"Horizontal":"Vertical",{Height:a,Width:n,BeginValue:1,EndValue:t.length+1,VisibleValueRange:Math.floor(this.height/this.itemSize),SmallStepValueRange:t.length,CurrentValue:this.currentScrollbarValue,Left:o,cbOnChanged:this.cbOnChanged.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoaded.bind(this),cbOnCommand:this.cbOnCommand.bind(this)});var l={ActualX:o,ActualY:s,ActualWidth:n,ActualHeight:a};e.loadSubTemplate(this.scrollbar.node,this.scrollbar,"ScrollBarSystemPart",this.scrollbar.props.RenderingTemplate,this.scrollbar.cbOnChanged,this.scrollbar.cbOnTemplateLoaded,l)}this.drawItems(),this.dom.appendChild(this.g)}return this.dom},i.prototype.cbOnTemplateLoaded=function(t,i){t===this.scrollbar?this.scrollBarTemplateInstance=i:e.removeSubTemplate(i)},i.prototype.cbOnChanged=function(e,t){this.currentScrollbarValue=t,this.drawItems()},i.prototype.cbOnCommand=function(e,t,i){},i.prototype.isValid=function(){if(isNaN(parseInt(this.Attributes["start-x"])))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid start-x"),!1;if(isNaN(parseInt(this.Attributes["start-y"])))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid start-y"),!1;if(isNaN(parseInt(this.Attributes.width)))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid width"),!1;if(isNaN(parseInt(this.Attributes.height)))return e.trace(e.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid height"),!1;var t=parseInt(this.Attributes["item-size"]);return isNaN(t)||t<0?(e.trace(e.enumTraceMode.Warning,"Cannot draw a ScrollableArea with invalid item size"),!1):"vertical"===this.Attributes.layout||"horizontal"===this.Attributes.layout||(e.trace(e.enumTraceMode.Warning,'Cannot draw a ScrollableArea with invalid layout (must be either "horizontal" oder "vertical")'),!1)},i.prototype.removeScrollbar=function(){this.isScrollingNeeded&&(this.scrollBarTemplateInstance&&(e.removeSubTemplate(this.scrollBarTemplateInstance),this.scrollBarTemplateInstance=null),this.scrollbar=null,this.isScrollingNeeded=!1,this.currentScrollbarValue=1)},i.prototype.drawItems=function(){for(var e=this.Attributes.items,t=this.Templates[""],i=this.g.getElementsByClassName("scrollablearea-item");i.length;)this.g.removeChild(i[0]);if(e&&e.length&&t){var r=void 0,n=void 0,a=0,o=0;"horizontal"===this.layout?(r=a=this.itemSize,n=this.height,e.length*r>this.width&&(this.isScrollingNeeded=!0,this.numberOfVisibleItems=Math.floor(this.width/r),n-=this.scrollbarWidth)):(r=this.width,n=o=this.itemSize,e.length*n>this.height&&(this.isScrollingNeeded=!0,this.numberOfVisibleItems=Math.floor(this.height/n),r-=this.scrollbarWidth));for(var s=0,l=this.filter(e,this.isScrollingNeeded,this.currentScrollbarValue-1,Math.ceil(this.height/n));s<l.length;s++){for(var u=l[s],h=void 0,d=0,c=0;c<e.length;c++)if(e[c]===u){d=c;break}this.subtemplatePool[d]?h=this.subtemplatePool[d]:(u.$index=d,u.$count=e.length,h=this.subtemplatePool[d]=this.RTPUItem.createSubtemplate(this,t,u,null,r,n)),h.RootNode.setAttribute("x",this.startX-(this.currentScrollbarValue-d-1)*a),h.RootNode.setAttribute("y",this.startY-(this.currentScrollbarValue-d-1)*o),h.RootNode.setAttribute("width",r),h.RootNode.setAttribute("height",n),h.RootNode.setAttribute("class","scrollablearea-item"),this.g.appendChild(h.RootNode)}}},i.prototype.filter=function(e,t,i,r){if(t){for(var n=[],a=0,o=e;a<o.length;a++){var s=o[a];n.push(s)}return n.slice(i,i+r)}return e},i.prototype.onMouseWheel=function(e){var t;t=(t=void 0!==e.deltaY?e.deltaY:e.detail)<0?-1:1,this.scroll(t),e.preventDefault(),e.stopPropagation()},i.prototype.onPan=function(e){this.scroll("horizontal"===this.layout?e.deltaX:e.deltaY),e.preventDefault(),e.stopPropagation()},i.prototype.scroll=function(e){this.isScrollingNeeded&&(this.setCurrentScrollbarValue(this.currentScrollbarValue+e),this.scrollbar.templateInstance.setHmiProps(this.currentScrollbarValue,"HmiProps.CurrentValue"),this.scrollbar.templateInstance.update(),this.drawItems())},i.prototype.setCurrentScrollbarValue=function(e){this.currentScrollbarValue=e,this.currentScrollbarValue<this.scrollbar.props.BeginValue?this.currentScrollbarValue=this.scrollbar.props.BeginValue:this.currentScrollbarValue>this.scrollbar.props.EndValue-this.numberOfVisibleItems&&(this.currentScrollbarValue=this.scrollbar.props.EndValue-this.numberOfVisibleItems)},i.default={"start-x":"0","start-y":"0",layout:"vertical"},i}(e.NVEBase);e.ScrollableArea=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var r=null!==t&&t.apply(this,arguments)||this;return r.defaults=i.default,r.Methods=new e.Dictionary,r}return r(i,t),i.prototype.create=function(e){return t.prototype.create.call(this,e),this.dom},i.prototype.checkAndConvertEnums=function(){if("number"==typeof this.Attributes.orientation){var t=e.Utilities.getEnumKeyByValue("HmiOrientation",this.Attributes.orientation);null!=t?this.Attributes.orientation=t:e.trace(e.enumTraceMode.Warning,"Can't draw a StraightDial with invalid orientation enum")}},i.prototype.isValid=function(){return this.Attributes.length?0===parseInt(this.Attributes.length)?(e.trace(e.enumTraceMode.Warning,"Can't draw a StraightDial with length 0"),!1):this.Attributes.orientation&&"string"==typeof this.Attributes.orientation?isNaN(parseInt(this.Attributes["start-x"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a StraightDial with invalid start-x"),!1):isNaN(parseInt(this.Attributes["start-y"]))?(e.trace(e.enumTraceMode.Warning,"Can't draw a StraightDial with invalid start-y"),!1):t.prototype.isValid.call(this):(e.trace(e.enumTraceMode.Warning,"Can't draw a StraightDial with invalid orientation"),!1):(e.trace(e.enumTraceMode.Warning,"Can't draw a StraightDial without length"),!1)},i.prototype.getPoles=function(t){var i=new Array,r=new e.Data.PoleStraight(t[0].beginX,t[0].beginY,t[0].beginValue),n=new e.Data.PoleStraight(t[0].endX,t[0].endY,t[0].endValue);return i.push(r),i.push(n),i},i.prototype.getStructure=function(){var t,i,r,n,a=new Array;this.Attributes.orientation&&"vertical"==this.Attributes.orientation?(t=parseFloat(this.Attributes["start-x"]),i=parseFloat(this.Attributes["start-x"]),n=parseFloat(this.Attributes["start-y"]),r=parseFloat(this.Attributes["start-y"])+parseFloat(this.Attributes.length)):(t=parseFloat(this.Attributes["start-x"]),i=parseFloat(this.Attributes["start-x"])+parseFloat(this.Attributes.length),r=parseFloat(this.Attributes["start-y"]),n=parseFloat(this.Attributes["start-y"]));var o=new e.Data.SectionStraight(t,r,i,n,0,parseFloat(this.Attributes.length));a.push(o);var s=this.getPoles(a);return new e.Data.HierarchyLevel(a,s,this)},i.default={"start-x":"0","start-y":"0",orientation:"horizontal","begin-surcharge":"0","end-surcharge":"0"},i}(e.NVEElementBase);e.StraightDial=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={"start-x":0,"start-y":0},e.Attributes={},e.Features=new Array,e.TemplateId="",e.isRedrawRequested=!1,e.modifiedProperty=[],e.stepValue=0,e.prevDataInstance={},e.updateConfig=!1,e.appendDummyElement=!1,e.isCreateVertScrollBarCalled=!1,e.prevRowIndex=-1,e.deltaHeight=0,e.deltaWidth=0,e.oldAutoScroll=!0,e.WIDTH_FACTOR=20,e.SIZE_FACTOR=20,e.columnsTypeChanged=!1,e.boundedSetValue=e.setValue.bind(e),e.scrollbarPropCurrentVal="HmiProps.CurrentValue",e}return r(i,t),i.prototype.create=function(t){var i,r,n,a,o,s;i=this.Features.length;var l=document.createElementNS("http://www.w3.org/2000/svg","g");for(this.RTPUItem=t,this.projectVersionMajor=e.Utilities.getProjectMajorVersion(this.RTPUItem),this.swipeId=0,this.data=new e.Data.GridMetaData,this.data.instanceID=this.InstanceId,this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.data.init(this.Attributes,!0,0,this.projectVersionMajor),this.data.callBacks.dragAutoSelect=this.onDragAutSelection.bind(this),this.dom?this.data.gridEvents.updateBindings(this.data,this.RTPUItem):(this.dom=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.dom.setAttribute("width",this.data.tableProps.width),this.dom.setAttribute("height",this.data.tableProps.height),this.dom.setAttribute("x",this.data.tableProps.startX),this.dom.setAttribute("y",this.data.tableProps.startY),this.data.gridEvents=new e.Data.GridEvents(this.data,this.RTPUItem),!1!==t.Store.props.Enabled&&this.data.gridEvents.addEvents(this.dom,this.boundedSetValue),this.setDataProvider()),o=0;o<i;o++)if((s=this.Features[o])instanceof e.Features.Gridlines){this.data.featureList.Gridlines=s,s.draw(t,this.data);break}for(o=0;o<i;o++)r=!1,(s=this.Features[o])instanceof e.Features.Header?(this.data.headerGroup=l,this.data.headerGroup.setAttribute("id","headerGroup"),this.data.featureList.Header=s,r=!0):s instanceof e.Features.RecordHeader?(this.data.recordHeaderGroup=l.cloneNode(),this.data.recordHeaderGroup.setAttribute("id","recordHeaderGroup"),this.data.featureList.RecordHeader=s,r=!0):s instanceof e.Features.DataTemplates?(this.data.dataTemplateGroup=l.cloneNode(),this.data.dataTemplateGroup.setAttribute("id","dataTemplateGrp"),this.data.featureList.DataTemplates=s,r=!0):s instanceof e.Features.RowBackground?(this.data.rowBackgoundGroup=l.cloneNode(),this.data.rowBackgoundGroup.setAttribute("id","rowBackgoundGroup"),this.data.featureList.RowBackground=s,r=!0):s instanceof e.Features.ColumnBackGround?(this.data.columnBackgoundGroup=l.cloneNode(),this.data.columnBackgoundGroup.setAttribute("id","columnBackgoundGroup"),this.data.featureList.ColumnBackGround=s,r=!0):s instanceof e.Features.SelectionBorder&&(this.data.featureList.SelectionBorder=s),a=t.rootItem.RootFocusManager,this.focusRect||(this.focusRect=a.createFocusRect(t.InstanceId,0,{x:0,y:0,width:0,height:0},!1),a.registerFocusArea(t,this.focusRect,this.onFocus.bind(this),this.onFocusOut.bind(this),this.onKeyDown.bind(this),!1)),r&&s.draw(t,this.data);return this.appendFeatures(),this.prevDataInstance={previousIndex:0,previousValue:0,rowIndex:0,columnIndex:0},(e.isAppModeRuntime()||this.data.configuration.Columns&&this.data.configuration.Columns.length>0)&&this.createHorScrollBar(),(n=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID)||this.RTPUItem.Store.control.handler.dataProvider).onTableCreated(this.data.instanceID),n.hasHorScollBar=this.data.tableProps.hasHorScollBar,this.dom},i.prototype.appendFeatures=function(){this.data.gridLineLayer.inBackgroundGroup&&this.dom.appendChild(this.data.gridLineLayer.inBackgroundGroup),this.data.rowBackgoundGroup&&this.dom.appendChild(this.data.rowBackgoundGroup),this.data.gridLineLayer.onRowsColumnsGroup&&this.dom.appendChild(this.data.gridLineLayer.onRowsColumnsGroup),this.data.columnBackgoundGroup&&this.dom.appendChild(this.data.columnBackgoundGroup),this.data.gridLineLayer.onColumnsGroup&&this.dom.appendChild(this.data.gridLineLayer.onColumnsGroup),this.data.headerGroup&&this.dom.appendChild(this.data.headerGroup),this.data.recordHeaderGroup&&this.dom.appendChild(this.data.recordHeaderGroup),this.data.dataTemplateGroup&&this.dom.appendChild(this.data.dataTemplateGroup),this.data.gridLineLayer.onTopGroup&&this.dom.appendChild(this.data.gridLineLayer.onTopGroup)},i.prototype.onFocus=function(){this.RTPUItem.onFocus()},i.prototype.onFocusOut=function(){this.RTPUItem.onFocusOut()},i.prototype.handleVerticalSwipe=function(e){var t,i,r,n,a,o,s=0;!this.data.tableProps.alwaysShowRecent&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(t=this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange,i=(this.data.viewport.getDisplayedRowCount()+1)*this.data.tableProps.cellHeight,n=(r=i*e)/5,a=function(){s+=n,Math.abs(s)>=Math.abs(r)&&(clearInterval(this.swipeId),this.swipeId=0),(o=this.verticalScrollBase.props.CurrentValue-n)>t?o=t:o<this.verticalScrollBase.props.BeginValue&&(o=this.verticalScrollBase.props.BeginValue),this.cbOnProcessValueChanged(null,o),this.verticalScrollBase.templateInstance.setHmiProps(o,this.scrollbarPropCurrentVal),this.verticalScrollBase.templateInstance.update()},this.swipeId=setInterval(a.bind(this),50))},i.prototype.handleHorizontalSwipe=function(e){var t,i,r,n,a,o,s=0;this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(o=Math.ceil(Math.abs(e)),e<0&&(o=-o),t=(i=this.horizontalScrollBase.props.EndValue-this.horizontalScrollBase.props.VisibleValueRange)/this.horizontalScrollBase.props.SmallStepValueRange,n=(r=t*o)/5,a=function(){s+=n,Math.abs(s)>=Math.abs(r)&&(clearInterval(this.swipeId),this.swipeId=0),(o=this.horizontalScrollBase.props.CurrentValue-n)>i?o=i:o<this.horizontalScrollBase.props.BeginValue&&(o=this.horizontalScrollBase.props.BeginValue),this.cbOnHorProcessValueChanged(null,o),this.horizontalScrollBase.templateInstance.setHmiProps(o,this.scrollbarPropCurrentVal),this.horizontalScrollBase.templateInstance.update()},this.swipeId=setInterval(a.bind(this),50))},i.prototype.createHorScrollBar=function(){var t=this.data.viewport.getTotalColumnCount(),i=e.getChromEnum("HmiScrollBarVisibility"),r=this.data.viewport.getColumnCount(),n=this.data.tableProps.width-this.data.tableProps.rowHeaderWidth-this.data.tableProps.leftBorder/2,a=this.getHScrollProps(n),o=t-a.colsToIgnore+a.extraStep,s=this.verticalScrollBase?this.WIDTH_FACTOR:0,l=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);t>r-a.extraStep&&this.data.tableProps.horizontalScrollbarVisibility===i.Automatic||this.data.tableProps.horizontalScrollbarVisibility===i.Visible?this.horizontalScrollBase?this.horizontalScrollBase.templateInstance&&(this.horizontalScrollBase.templateInstance.setHmiProps(this.data.viewport.getTotalColumnWidth(),"HmiProps.EndValue"),this.horizontalScrollBase.templateInstance.setHmiProps(o,"HmiProps.SmallStepValueRange"),this.horizontalScrollBase.templateInstance.setHmiProps(n,"HmiProps.VisibleValueRange"),this.updateHorScrollBarProps(s),this.horizontalScrollBase.templateInstance.RootNode.setAttribute("y",this.data.tableProps.height-this.SIZE_FACTOR),this.horizontalScrollBase.templateInstance.RootNode.setAttribute("x",this.data.tableProps.rowHeaderWidth),this.horizontalScrollBase.templateInstance.update(),this.data.tableProps.hasHorScollBar=!0):this.data.tableProps.width>0&&(this.horizontalScrollBase=e.Utilities.createScrollBarObj(this,"Horizontal",this.createHScrollData()),this.sbTemplateInst=e.loadSubTemplate(this.horizontalScrollBase.node,this.horizontalScrollBase,"ScrollBarSystemPart",this.horizontalScrollBase.props.RenderingTemplate,this.horizontalScrollBase.cbOnChanged.bind(this),this.horizontalScrollBase.cbOnTemplateLoaded.bind(this)),this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue),this.data.tableProps.hasHorScollBar=!0,this.data.tableProps.horScrollBarHeight=this.horizontalScrollBase.props.Height,this.prevDataInstance.columnIndex=this.data.viewport.getColumnStartIndex()):this.removeHorizontalScrollbar(),this.stepValue=+((this.data.viewport.getTotalColumnWidth()-n)/o).toFixed(2),l&&(l.hasHorScollBar=this.data.tableProps.hasHorScollBar)},i.prototype.getVisibleRowsCount=function(){return this.getVisibleRows(0).length},i.prototype.getHorScrollBarSVGNode=function(){if(this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance)return this.horizontalScrollBase.templateInstance.RootNode},i.prototype.removeHorizontalScrollbar=function(){this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(e.removeSubTemplate(this.horizontalScrollBase.templateInstance),this.horizontalScrollBase=null,this.data.tableProps.hasHorScollBar=!1,!e.isAppModeRuntime()||this.verticalScrollBase&&this.verticalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue),this.prevDataInstance.columnIndex=0)},i.prototype.cbOnCommand=function(e,t,i){},i.prototype.reloadOnColumnResize=function(t){var i=this.data.featureList.DataTemplates;if(this.dummyElement||t===this.dom||(this.dummyElement=t,this.appendDummyElement=!0,this.setDummyElement()),this.data.featureList.Header&&this.data.tableProps.hasColumnHeader&&this.data.featureList.Header.draw(this.RTPUItem,this.data),this.data.featureList.Gridlines&&this.data.featureList.Gridlines.draw(this.RTPUItem,this.data),e.isAppModeRuntime()&&(this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||!this.data.viewport.autocompleteColumnVisible)?this.createHorScrollBar():e.isAppModeRuntime()||this.createHorScrollBar(),i){i.draw(this.RTPUItem,this.data);var r=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID).requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex());r&&this.data.viewport.setDisplayedRowCount(r.length);var n=i.loadData(r,0,r.length-1,!1);this.data.tableProps.alwaysShowRecent||(this.clearSelection(),this.updateSelectionDetails(n))}},i.prototype.cbOnTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",e.props.Left),this.data.tableProps.hasColumnHeader?e.templateInstance.RootNode.setAttribute("y",this.data.tableProps.cellHeight):e.templateInstance.RootNode.setAttribute("y",0),this.verticalScrollBase.recordCount!==this.data.tableProps.totalRecords&&(this.verticalScrollBase.recordCount=this.data.tableProps.totalRecords,this.createVertScrollBar())},i.prototype.cbOnProcessValueChanged=function(t,i){var r,n,a,o=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),s=this.data.viewport.getSize(),l=this.data.featureList.DataTemplates;this.currPos=Math.ceil(i/this.data.tableProps.cellHeight),this.data.viewport.scrolled(!0),s>0&&this.clearData(0,s),this.data.viewport.updateViewPortIndex(this.currPos),this.data.viewport.setScrolledPos(),o.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),o.lastRowVisible=this.data.viewport.hasHalfRow,o.scrolledValue=this.data.viewport.isScrolled;var u=o.requestRange(o.viewportStartIndex,o.viewportEndIndex,!0);if(u&&this.data.viewport.setDisplayedRowCount(u.length),l.clearEditing(),this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader)for(n=this.data.featureList.RecordHeader,a=0;a<s;a++)n.updateCellData(a,this.data.viewport.getStartIndex()+a+1);l&&u.length>0&&(this.clearSelection(),r=l.loadData(u,0,u.length-1,!1),this.updateSelectionDetails(r)),this.prevDataInstance.rowIndex=this.currPos},i.prototype.cbOnHorTemplateLoaded=function(e,t){e.templateInstance.RootNode.setAttribute("x",this.data.tableProps.rowHeaderWidth),e.templateInstance.RootNode.setAttribute("y",this.data.tableProps.height-e.props.Height)},i.prototype.cbOnHorProcessValueChanged=function(t,i){var r=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),n=Number((i/this.stepValue).toFixed(0));if(n!==this.prevDataInstance.columnIndex){this.prevDataInstance.columnIndex=n,this.clearSelection(),this.data.viewport.updateVisibleColumns(this.prevDataInstance.columnIndex);var a=r.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex(),!0);if(a&&this.data.viewport.setDisplayedRowCount(a.length),this.appendDummyElement=!0,this.setDummyElement(),this.data.featureList.Header&&this.data.featureList.Header.draw(this.RTPUItem,this.data),this.data.featureList.Gridlines&&this.data.featureList.Gridlines.draw(this.RTPUItem,this.data),this.data.featureList.DataTemplates){this.data.featureList.DataTemplates.draw(this.RTPUItem,this.data);var o=this.data.featureList.DataTemplates.loadData(a,0,a.length-1);this.data.tableProps.alwaysShowRecent?(this.data.selectionDetail.pushSelectedRowIndices(this.data.selectionDetail.getSelection().rowIndex,!1),this.data.selection.setAutoSelection()):this.updateSelectionDetails(o)}this.data.featureList.ColumnBackGround&&this.data.featureList.ColumnBackGround.draw(this.RTPUItem,this.data),this.prevDataInstance.previousValue=i}},i.prototype.onSwipe=function(e,t){0===this.swipeId&&(Math.abs(t)>Math.abs(e)?this.handleVerticalSwipe(t):this.handleHorizontalSwipe(e))},i.prototype.remove=function(){this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(e.removeSubTemplate(this.horizontalScrollBase.templateInstance),this.horizontalScrollBase=null),this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(e.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1),this.data.gridEvents.remove(this.dom,this.boundedSetValue),this.currentTarget=null,this.data.gridEvents=null,this.data.clear(),this.data=null,this.sbTemplateInst=null,this.modifiedProperty=null,this.prevDataInstance=null,this.focusRect=null,clearInterval(this.swipeId),this.swipeId=0,this.dummyElement=null,t.prototype.remove.call(this)},i.prototype.update=function(){var t,i,r,n,a,o;if((o=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID))||(o=this.RTPUItem.Store.control.handler.getDataProvider(this.RTPUItem.Store)),this.resetScrollBarsPosition(o),this.resizeControl){for((this.deltaHeight||this.deltaWidth)&&"function"==typeof o.onResizingStarted&&o.onResizingStarted(this.Attributes.height,this.Attributes.width);this.modifiedProperty.length>0;)this.handlePropertyChange(this.modifiedProperty.splice(0,1)[0]);if(this.data.init(this.Attributes,this.updateConfig,this.prevDataInstance.columnIndex,this.projectVersionMajor,!0),o.viewportSize=this.data.viewport.getSize(),o.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),o.hasHalfRow=this.data.viewport.hasHalfRow,o.scrolledValue=this.data.viewport.isScrolled,o&&(o.config=this.data.configuration,void 0!==o.autoScroll&&(this.data.tableProps.alwaysShowRecent=o.autoScroll)),this.data.featureList.Header&&(this.data.tableProps.hasColumnHeader?this.data.featureList.Header.draw(this.RTPUItem,this.data):this.data.featureList.Header.remove(!1)),this.data.featureList.RecordHeader&&(this.data.tableProps.hasRowHeader?this.data.featureList.RecordHeader.draw(this.RTPUItem,this.data):this.data.featureList.RecordHeader.remove(!1)),this.drawSelectedFeatures(),e.isAppModeRuntime()&&(this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||!this.data.viewport.autocompleteColumnVisible)?this.createHorScrollBar():e.isAppModeRuntime()||this.createHorScrollBar(),this.data.tableProps.alwaysShowRecent){if(this.resizeControl=!1,(t=o.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&this.data.viewport.setDisplayedRowCount(t.length),t.length>0&&(this.data.viewport.updateViewPortIndex(o.viewportStartIndex),r=this.data.featureList.DataTemplates.loadData(t,0,t.length-1,!1,!0),this.updateSelectionDetails(r,!0,!1),this.data.selection.setAutoSelection()),this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader)for(n=0;n<this.data.viewport.getSize();n++)this.data.featureList.RecordHeader.updateCellData(n,this.data.viewport.getStartIndex()+n+1);this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(e.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1,!e.isAppModeRuntime()||this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue))}else i=this.data.featureList.DataTemplates,o&&(o.defaultSortDirection===e.getChromEnum("HmiSortDirection").Ascending?this.updateDataWhenSortDirectionIsAsc(o):o.defaultSortDirection===e.getChromEnum("HmiSortDirection").Descending&&this.updateDataWhenSortDirectionIsDesc(o,i)),this.data.viewport.updateViewPortIndex(o.viewportStartIndex),i&&(o.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),(t=o.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&(this.data.viewport.setDisplayedRowCount(t.length),r=i.loadData(t,0,t.length-1),this.clearSelection(),this.updateSelectionDetails(r,!0),this.data.viewport.setDisplayedRowCount(t.length)),this.data.tableProps.totalRecords=o.getTotalRecords()),2!==this.data.tableProps.verticalScrollbarVisibility&&this.createVertScrollBar();this.resizeControl=!1,this.deltaHeight=0}else if(this.modifiedProperty.length>0){for(a=0;a<this.modifiedProperty.length;a++)this.handlePropertyChange(this.modifiedProperty[a]);this.modifiedProperty=[]}this.columnsTypeChanged&&o&&(o.onTableCreated(this.InstanceId),this.columnsTypeChanged=!1)},i.prototype.resetScrollBarsPosition=function(e){e.resetSplitViewScrollBars&&(this.data.viewport.setStartIndex(0),this.removeVerticalScrollbar(),this.removeHorizontalScrollbar(),e.resetSplitViewScrollBars=!1)},i.prototype.updateDataWhenSortDirectionIsAsc=function(e){var t,i;this.data.tableProps.totalRecords>0&&this.data.viewport.getSize()<=this.data.tableProps.totalRecords&&(void 0===this.currPos?(this.data.viewport.setEndIndex(this.data.tableProps.totalRecords),(t=this.data.viewport.getEndIndex()-(this.data.viewport.getSize()-1))>-1?this.data.viewport.setStartIndex(t):(this.data.viewport.setStartIndex(0),this.data.viewport.setEndIndex(this.data.viewport.getSize()-1))):this.updateViewPort(e)),e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex());e.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex());if(this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader)for(i=0;i<this.data.viewport.getSize();i++)this.data.featureList.RecordHeader.updateCellData(i,e.viewportStartIndex+i+1)},i.prototype.updateDataWhenSortDirectionIsDesc=function(e,t){var i,r,n;if(this.data.tableProps.totalRecords>0&&this.data.viewport.getSize()<this.data.tableProps.totalRecords&&(this.updateViewPort(e),e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),(i=e.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&(r=t.loadData(i,0,i.length-1),this.clearSelection(),this.updateSelectionDetails(r),this.data.viewport.setDisplayedRowCount(i.length)),this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader))for(n=0;n<this.data.viewport.getSize();n++)this.data.featureList.RecordHeader.updateCellData(n,e.viewportStartIndex+n+1)},i.prototype.drawSelectedFeatures=function(){this.data.featureList.Gridlines&&this.data.featureList.Gridlines.draw(this.RTPUItem,this.data),this.data.featureList.SelectionBorder&&this.data.featureList.SelectionBorder.draw(this.RTPUItem,this.data),this.data.featureList.DataTemplates&&this.data.featureList.DataTemplates.draw(this.RTPUItem,this.data),this.data.featureList.RowBackground&&this.data.featureList.RowBackground.draw(this.RTPUItem,this.data),this.data.featureList.ColumnBackGround&&this.data.featureList.ColumnBackGround.draw(this.RTPUItem,this.data)},i.prototype.updateViewPort=function(e){var t;this.data.viewport.setStartIndex(e.viewportStartIndex),(t=this.data.viewport.getStartIndex()+this.data.viewport.getSize()-1)<this.data.tableProps.totalRecords?this.data.viewport.setEndIndex(t):((t=this.data.viewport.getStartIndex()-Math.ceil(this.deltaHeight/this.data.tableProps.cellHeight))>-1?this.data.viewport.setStartIndex(t):this.data.viewport.setStartIndex(0),this.data.viewport.setEndIndex(this.data.viewport.getStartIndex()+this.data.viewport.getDisplayedRowCount()))},i.prototype.redraw=function(){e.isAppModeRuntime()&&this.createHorScrollBar(),this.data.featureList.Header&&this.data.tableProps.hasColumnHeader&&this.data.featureList.Header.draw(this.RTPUItem,this.data),this.data.featureList.RecordHeader&&this.data.tableProps.hasRowHeader&&this.data.featureList.RecordHeader.draw(this.RTPUItem,this.data),this.drawSelectedFeatures()},i.prototype.checkIfUpdateReq=function(e,t){var i,r=!1;if(e>0)for(i=0;i<e;i++)if(t[i].Visible&&t[i].Width>0){r=!0;break}r&&(this.resizeControl=!0,this.updateConfig=!0)},i.prototype.addColumn=function(e){e&&this.data.configuration.Columns.push(e)},i.prototype.removeColumn=function(e){e&&this.data.configuration.Columns.splice(e.index,1)},i.prototype.updateVisibleColWidth=function(e,t){var i;for(i=0;i<e;i++)t.Columns[i].Visible&&this.data.tableProps.updateColumnWidth(t.Columns[i],t.HeaderSettings.Font)},i.prototype.updateHorScrollBarProps=function(e){this.data.tableProps.hasRowHeader?this.horizontalScrollBase.templateInstance.setHmiProps(this.data.tableProps.width-this.data.tableProps.rowHeaderWidth-e,"HmiProps.Width"):this.horizontalScrollBase.templateInstance.setHmiProps(this.data.tableProps.width-e,"HmiProps.Width")},i.prototype.updateVertScrollBarProps=function(e){this.data.tableProps.hasColumnHeader?(this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height-this.data.tableProps.cellHeight,"HmiProps.Height"),this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height-this.data.tableProps.cellHeight,"HmiProps.VisibleValueRange"),this.cellHeightChanged&&this.verticalScrollBase.templateInstance.RootNode.setAttribute("y",this.data.tableProps.cellHeight)):(this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height,"HmiProps.Height"),this.verticalScrollBase.templateInstance.setHmiProps(this.data.tableProps.height,"HmiProps.VisibleValueRange"))},i.prototype.updateVertScrollBarCurVal=function(){var t,i,r;(r=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID)).scrollToSelection?(i=this.getThumbPosition())>-1&&(this.data.viewport.scrolled(!0),this.data.viewport.updateViewPortIndex(i),this.data.viewport.setScrolledPos(),r.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),r.hasHalfRow=this.data.viewport.hasHalfRow,r.scrolledValue=!0,i=0===i?0:i*this.data.tableProps.cellHeight+this.data.tableProps.cellHeight,this.verticalScrollBase.templateInstance.setHmiProps(i,this.scrollbarPropCurrentVal)):this.data.viewport.isScrolled||(r.defaultSortDirection===e.getChromEnum("HmiSortDirection").Ascending?this.verticalScrollBase.templateInstance.setHmiProps(this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange,this.scrollbarPropCurrentVal):this.data.tableProps.hasColumnHeader&&!(null===(t=this.data.featureList.Header)||void 0===t?void 0:t.hasCustomSort())&&this.verticalScrollBase.templateInstance.setHmiProps(0,this.scrollbarPropCurrentVal))},i.prototype.updateVertScrollBarCurValOnResize=function(){var t,i=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);void 0===this.currPos?i.defaultSortDirection===e.getChromEnum("HmiSortDirection").Ascending?this.verticalScrollBase.templateInstance.setHmiProps(this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange,this.scrollbarPropCurrentVal):this.data.tableProps.hasColumnHeader&&!(null===(t=this.data.featureList.Header)||void 0===t?void 0:t.hasCustomSort())&&(void 0!==i.verticalScrollbarPosition?this.verticalScrollBase.templateInstance.setHmiProps(i.viewportStartIndex*this.data.tableProps.cellHeight,this.scrollbarPropCurrentVal):this.verticalScrollBase.templateInstance.setHmiProps(0,this.scrollbarPropCurrentVal)):this.verticalScrollBase.templateInstance.setHmiProps(this.data.viewport.getStartIndex()*this.data.tableProps.cellHeight,this.scrollbarPropCurrentVal)},i.prototype.setCreateScrollBarFlag=function(){this.isCreateVertScrollBarCalled||(this.isCreateVertScrollBarCalled=!0)},i.prototype.propertyChanged=function(t){var i,r,n,a,o,s,l,u,h;"height"===t&&this.data.tableProps.height!==this.Attributes.height?((u=parseFloat(this.Attributes.height))>0?this.dom.setAttribute("height",u):this.dom.setAttribute("height",0),this.deltaHeight=u-this.data.tableProps.height,this.resizeControl=!0):"width"===t&&this.data.tableProps.width!==this.Attributes.width?(h=parseFloat(this.Attributes.width),this.dom.setAttribute("width",h),this.deltaWidth=h-this.data.tableProps.width,this.resizeControl=!0):"start-y"===t&&this.data.tableProps.startY!==this.Attributes["start-y"]?(this.dom.setAttribute("y",parseFloat(this.Attributes["start-y"])),this.resizeControl=!0):"start-x"===t&&this.data.tableProps.startX!==this.Attributes["start-x"]?(this.dom.setAttribute("x",parseFloat(this.Attributes["start-x"])),this.resizeControl=!0):"auto-scroll"===t?this.toggleAutoScroll(this.Attributes["auto-scroll"]):"config"===t&&(e.isAppModeRuntime()?(o=(a=this.Attributes[t]).Columns?a.Columns.length:0,this.updateVisibleColWidth(o,a),void 0===a.Columns?(this.resizeControl=!0,this.updateConfig=!0,this.prevDataInstance.columnIndex=0,this.removeHorizontalScrollbar()):this.findAndUpdateModifiedProp(a,this.data.configuration,t)):(r=this.Attributes[t].Columns,n=this.data.configuration.Columns,r&&void 0===n?(i=r.length,this.checkIfUpdateReq(i,r)):r&&n&&r.length>n.length?(l=this.searchCreatedColumn(r,n),this.addColumn(l),this.requestRedraw()):r&&n&&r.length<n.length?(s=this.searchPartByPartId(r,n),this.removeColumn(s),this.requestRedraw()):this.findAndUpdateModifiedProp(this.Attributes[t],this.data.configuration,t)))},i.prototype.requestRedraw=function(){var e=this;this.isRedrawRequested=!0,setTimeout((function(){e.resizeControl=!0,e.updateConfig=!0,e.update(),e.isRedrawRequested=!1}),500)},i.prototype.searchCreatedColumn=function(e,t){var i,r,n=!1,a=e.length,o=t.length;if(0===o&&1===a)return e[0];for(i=0;i<a;i++){for(r=0;r<o;r++)if(e[i].ElementID===t[r].ElementID){n=!0;break}if(!n)return e[i];n=!1}},i.prototype.searchPartByPartId=function(e,t){var i,r,n=!1,a=e.length,o=t.length;for(i=0;i<o;i++){for(r=0;r<a;r++)if(t[i].ElementID===e[r].ElementID){n=!0;break}if(!n)return{index:i};n=!1}},i.prototype.onDragAutSelection=function(t){var i,r,n=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID).requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex());n&&this.data.viewport.setDisplayedRowCount(n.length);var a=this.data.viewport.getStartIndex(),o=this.data.featureList.RecordHeader,s=this.data.featureList.DataTemplates;if(s){this.clearSelection(),"down"===t?(this.data.viewport.hasHalfRow&&this.data.viewport.getEndIndex()===this.data.tableProps.totalRecords&&(i=this.data.viewport.getSize()-1,this.data.viewport.setDisplayedRowCountExplicitly(i),this.clearData(i,i+1)),!this.data.tableProps.alwaysShowRecent&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(void 0!==this.currPos?this.currPos++:this.currPos=1,this.setScrollerTo())):(!this.data.tableProps.alwaysShowRecent&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(void 0!==this.currPos?this.currPos--:this.currPos=this.verticalScrollBase.props.EndValue,this.setScrollerTo()),this.data.viewport.setDisplayedRowCountExplicitly(this.data.viewport.getSize()));var l=s.loadData(n,0,n.length-1);this.updateSelectionDetails(l,!0)}if(o)for(r=0;r<this.data.viewport.getSize();r++)o.updateCellData(r,a+r+1)},i.prototype.setScrollerTo=function(){this.verticalScrollBase.templateInstance.setHmiProps(this.currPos*this.data.tableProps.cellHeight,this.scrollbarPropCurrentVal),this.verticalScrollBase.templateInstance.update()},i.prototype.setValue=function(e){"touchstart"!==e.type&&"touchend"!==e.type||this.isTouchEnabled||(this.isTouchEnabled=!0,this.data.gridEvents.isTouchEnabled=!0),this.handleEvents(e),this.data.gridEvents.isEditInProgress||e.preventDefault()},i.prototype.handleEvents=function(t){var i=100;this.mousePos=e.Utilities.getMousePoint(t,this.dom),this.mousePos.x=Math.round(this.mousePos.x*i)/i,this.mousePos.y=Math.round(this.mousePos.y*i)/i,"wheel"===t.type?this.handleWheel(t):"twofingerpan"===t.type?this.handleTwoFingerPan(t,this.mousePos):(this.data.gridEvents.setTarget(t,this.mousePos),this.data.gridEvents.routeEvent(t,this.mousePos),this.data.gridEvents.clearTarget(t),"touchend"===t.type&&(this.prevRowIndex=-1,this.dummyElement&&(this.appendDummyElement&&(this.dom.removeChild(this.dummyElement),this.appendDummyElement=!1),this.dummyElement=null)))},i.prototype.handleVerticalScrollBase=function(e){var t,i,r;this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(i=(t=this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange)/this.verticalScrollBase.props.SmallStepValueRange,e>this.prevRowIndex?(r=this.verticalScrollBase.props.CurrentValue-i*(e-this.prevRowIndex))<0&&(r=0):(r=this.verticalScrollBase.props.CurrentValue+i*(this.prevRowIndex-e))>t&&(r=t),this.cbOnProcessValueChanged(null,r),this.verticalScrollBase.templateInstance.setHmiProps(r,this.scrollbarPropCurrentVal),this.verticalScrollBase.templateInstance.update(),this.prevRowIndex=e)},i.prototype.handleHorizontalScrollBase=function(e){var t,i,r;this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(i=(t=this.horizontalScrollBase.props.EndValue-this.horizontalScrollBase.props.VisibleValueRange)/this.horizontalScrollBase.props.SmallStepValueRange,this.dummyElement||e.target===this.dom||(this.dummyElement=e.target),e.overallVelocityX<0?(r=this.horizontalScrollBase.props.CurrentValue-i*e.overallVelocityX)>t&&(r=t):(r=this.horizontalScrollBase.props.CurrentValue-i*e.overallVelocityX)<0&&(r=0),this.cbOnHorProcessValueChanged(null,r),this.horizontalScrollBase.templateInstance.setHmiProps(r,this.scrollbarPropCurrentVal),this.horizontalScrollBase.templateInstance.update())},i.prototype.handleTwoFingerPan=function(e,t){var i;if(t.x>this.data.tableProps.rowHeaderWidth&&t.x<this.data.tableProps.width&&t.y>this.data.tableProps.headerHeight&&t.y<this.data.tableProps.height)if(Math.abs(e.overallVelocityY)>Math.abs(e.overallVelocityX)){if(i=this.data.helper.getRowIndexByYpos(t.y),-1!==this.prevRowIndex&&this.prevRowIndex===i)return;if(-1===this.prevRowIndex)return void(this.prevRowIndex=i);this.handleVerticalScrollBase(i)}else this.handleHorizontalScrollBase(e)},i.prototype.setDummyElement=function(){this.dummyElement&&this.appendDummyElement&&(this.dummyElement.style.display="none",this.dom.appendChild(this.dummyElement))},i.prototype.handleWheel=function(e){var t,i,r,n;t=void 0!==e.deltaY?e.deltaY:e.detail,e.stopPropagation(),this.data.viewport.getTotalColumnWidth()>this.data.tableProps.width-this.data.tableProps.rowHeaderWidth&&e.shiftKey&&this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance?(n=(r=this.horizontalScrollBase.props.EndValue-this.horizontalScrollBase.props.VisibleValueRange)/this.horizontalScrollBase.props.SmallStepValueRange,t<0?((i=this.horizontalScrollBase.props.CurrentValue-n)<0&&(i=0),this.cbOnHorProcessValueChanged(null,i),this.horizontalScrollBase.templateInstance.setHmiProps(i,this.scrollbarPropCurrentVal),this.horizontalScrollBase.templateInstance.update()):((i=this.horizontalScrollBase.props.CurrentValue+n)>r&&(i=r),this.cbOnHorProcessValueChanged(null,i),this.horizontalScrollBase.templateInstance.setHmiProps(i,this.scrollbarPropCurrentVal),this.horizontalScrollBase.templateInstance.update())):this.data.tableProps.totalRecords>this.data.viewport.getSize()&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(n=(r=this.verticalScrollBase.props.EndValue-this.verticalScrollBase.props.VisibleValueRange)/this.verticalScrollBase.props.SmallStepValueRange,t<0?((i=this.verticalScrollBase.props.CurrentValue-n)<0&&(i=0),this.cbOnProcessValueChanged(null,i),this.verticalScrollBase.templateInstance.setHmiProps(i,this.scrollbarPropCurrentVal),this.verticalScrollBase.templateInstance.update()):((i=this.verticalScrollBase.props.CurrentValue+n)>r&&(i=r),this.cbOnProcessValueChanged(null,i),this.verticalScrollBase.templateInstance.setHmiProps(i,this.scrollbarPropCurrentVal),this.verticalScrollBase.templateInstance.update()))},i.prototype.setDataProvider=function(){var t=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID)||this.RTPUItem.Store.control.handler.dataProvider;t&&(t.register&&(t.register("onAdded",this.onAdded.bind(this)),t.register("onModified",this.onModified.bind(this)),t.register("onRemoved",this.onRemoved.bind(this)),t.register("onFlashing",this.onFlashing.bind(this)),t.register("onColumnMoved",this.onColumnMoved.bind(this)),t.register("onEnabledChanged",this.onEnabledChanged.bind(this)),t.register("getVisibleRows",this.getVisibleRows.bind(this))),t.hasHalfRow=this.data.viewport.hasHalfRow,t.scrolledValue=this.data.viewport.isScrolled,t.hasHorScollBar=this.data.tableProps.hasHorScollBar,t.viewportSize=this.data.viewport.getSize(),t.config=this.data.configuration,t.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),t.instanceID=this.InstanceId)},i.prototype.setHorScrollbarCurrentVal=function(){this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&this.horizontalScrollBase.templateInstance.setHmiProps(0,this.scrollbarPropCurrentVal)},i.prototype.onEnabledChanged=function(){var t=this.data.featureList.Gridlines,i=this.data.featureList.Header,r=e.isAppModeRuntime()&&this.verticalScrollBase&&this.verticalScrollBase.templateInstance;this.RTPUItem.Store.props.Enabled?(this.data.gridEvents.addEvents(this.dom,this.boundedSetValue),r&&this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue)):(this.data.gridEvents.removeEventListeners(this.dom,this.boundedSetValue),r&&this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue)),t.onEnabledChanged(),i.onEnabledChanged()},i.prototype.onAdded=function(t){var i,r,n,a,o,s=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),l=this.data.featureList.DataTemplates,u=this.data.featureList.RecordHeader;if(void 0===this.data.tableProps.startY&&(this.data.tableProps.startY=parseFloat(this.RTPUItem.RootNode.getAttribute("y"))),this.data.tableProps.defaultSortDirection=s.defaultSortDirection,s){if(this.prevViewPortStatIndex=this.data.viewport.getStartIndex(),this.prevViewPortEndIndex=this.data.viewport.getEndIndex(),a=this.data.viewport.getDisplayedRowCount(),this.data.viewport.setDisplayedRowCount(t.length),this.data.tableProps.totalRecords=s.getTotalRecords(),this.data.viewport.getSize()>this.data.tableProps.totalRecords&&this.data.viewport.scrolled(!1),void 0!==s.autoScroll&&(this.data.tableProps.alwaysShowRecent=s.autoScroll),this.data.tableProps.totalRecords>0?this.data.viewport.updateViewPortIndex(s.viewportStartIndex):this.data.viewport.updateViewPortIndex(0),s.hasHalfRow=this.data.viewport.hasHalfRow,s.scrolledValue=this.data.viewport.isScrolled,this.data.tableProps.hasRowHeader&&(this.data.tableProps.changeHorizontalPosX=this.data.tableProps.calRowHeaderWidth(this.data.configuration,this.data.viewport.getSize()),this.data.tableProps.changeHorizontalPosX&&this.redraw(),this.data.tableProps.changeHorizontalPosX=!1),l.clearEditing(),l&&t&&(a>0&&(this.clearSelection(),a!==t.length&&a>t.length&&l.clearDataRows(a-(a-t.length),a)),t.length>0&&(r=t.length-1,o=l.loadData(t,0,r,!1))),this.data.tableProps.alwaysShowRecent?this.autoSelectOnAdded(s):(o&&this.data.configuration.GridSelectionMode&&this.updateSelectionDetails(o),this.createVertScrollBar()),n=this.data.viewport.getStartIndex(),this.data.tableProps.hasRowHeader&&n!==this.prevViewPortStatIndex&&u)for(i=0;i<this.data.viewport.getSize();i++)u.updateCellData(i,n+i+1);this.oldAutoScroll=this.data.tableProps.alwaysShowRecent}},i.prototype.onFlashing=function(e){var t=this.data.featureList.DataTemplates;t&&t.handleFlashing(e)},i.prototype.onColumnMoved=function(){this.resizeControl=!0,this.data.viewport.setTotalVisibleColumns(this.data.configuration,!1),this.update()},i.prototype.getVisibleRows=function(e){var t,i=[],r=this.data.tableProps.height;this.data.tableProps.hasColumnHeader&&(r=this.data.tableProps.height-this.data.tableProps.headerHeight),this.horizontalScrollBase&&(r-=this.horizontalScrollBase.props.Height);var n=Math.floor(r/this.data.tableProps.cellHeight);for(t=e;t<=e+n-1;t++)i.push(t);return i},i.prototype.createVertScrollBar=function(){var t,i=this.data.tableProps.totalRecords===this.data.viewport.getSize(),r=this.data.viewport.getSize(),n=r<3?0:20,a=this.getVisibleRowsCount();this.data.tableProps.verticalScrollbarVisibility===e.getChromEnum("HmiScrollBarVisibility").Collapsed?this.removeVerticalScrollbar():this.data.tableProps.totalRecords>r||this.data.tableProps.hasHorScollBar&&this.data.tableProps.totalRecords>a||this.data.tableProps.verticalScrollbarVisibility===e.getChromEnum("HmiScrollBarVisibility").Visible||i?(this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(this.data.tableProps.totalRecords>r||this.data.tableProps.hasHorScollBar&&this.data.tableProps.totalRecords>a||i)?(this.updateVertScrollBarProps(n),0===(t=this.data.tableProps.hasHorScollBar?this.data.tableProps.totalRecords-a:this.data.tableProps.totalRecords-this.data.viewport.getDisplayedRowCount())&&i&&t++,this.verticalScrollBase.templateInstance.setHmiProps(this.getEndValue(),"HmiProps.EndValue"),this.verticalScrollBase.templateInstance.setHmiProps(t,"HmiProps.SmallStepValueRange"),this.verticalScrollBase.templateInstance.RootNode.setAttribute("x",this.data.tableProps.width-this.SIZE_FACTOR),this.updateVerticalScrollBarValues(),this.verticalScrollBase.templateInstance.update(),this.isCreateVertScrollBarCalled=!1):this.data.tableProps.verticalScrollbarVisibility!==e.getChromEnum("HmiScrollBarVisibility").Visible||!this.verticalScrollBase||!this.resizeControl&&this.isCreateVertScrollBarCalled?this.isCreateVertScrollBarCalled||(this.verticalScrollBase=e.Utilities.createScrollBarObj(this,"Vertical",this.createVScrollData()),this.verticalScrollBase.recordCount=this.data.tableProps.totalRecords,this.sbTemplateInst=e.loadSubTemplate(this.verticalScrollBase.node,this.verticalScrollBase,"ScrollBarSystemPart",this.verticalScrollBase.props.RenderingTemplate,this.verticalScrollBase.cbOnChanged.bind(this),this.verticalScrollBase.cbOnTemplateLoaded.bind(this)),this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue),this.isCreateVertScrollBarCalled=!0):(this.verticalScrollBase.templateInstance&&(e.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null),this.verticalScrollBase=e.Utilities.createScrollBarObj(this,"Vertical",this.createVScrollData()),this.verticalScrollBase.recordCount=this.data.tableProps.totalRecords,this.sbTemplateInst=e.loadSubTemplate(this.verticalScrollBase.node,this.verticalScrollBase,"ScrollBarSystemPart",this.verticalScrollBase.props.RenderingTemplate,this.verticalScrollBase.cbOnChanged.bind(this),this.verticalScrollBase.cbOnTemplateLoaded.bind(this)),this.data.gridEvents.addWheelEvent(this.dom,this.boundedSetValue),this.setCreateScrollBarFlag()),this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(this.updateHorScrollBarProps(this.WIDTH_FACTOR),this.horizontalScrollBase.templateInstance.update())):this.removeVerticalScrollbar()},i.prototype.updateVerticalScrollBarValues=function(){this.resizeControl?this.updateVertScrollBarCurValOnResize():this.updateVertScrollBarCurVal()},i.prototype.removeVerticalScrollbar=function(){this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(e.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,!e.isAppModeRuntime()||this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue),this.isCreateVertScrollBarCalled=!1,this.currPos=void 0),this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance&&(this.updateHorScrollBarProps(0),this.horizontalScrollBase.templateInstance.update())},i.prototype.createHScrollData=function(){var e=this.getHScrollProps(),t=this.data.tableProps,i=this.verticalScrollBase?this.WIDTH_FACTOR:0;return{BeginValue:0,Height:this.SIZE_FACTOR,Width:t.hasRowHeader?t.width-t.rowHeaderWidth-i:t.width-i,EndValue:this.data.viewport.getTotalColumnWidth(),CurrentValue:this.stepValue>=0?this.data.viewport.getColumnStartIndex()*this.stepValue:0,cbOnChanged:this.cbOnHorProcessValueChanged.bind(this),cbOnTemplateLoaded:this.cbOnHorTemplateLoaded.bind(this),cbOnCommand:this.cbOnCommand.bind(this),VisibleValueRange:t.width-t.rowHeaderWidth-t.leftBorder/2,SmallStepValueRange:this.data.viewport.getTotalColumnCount()-e.colsToIgnore+e.extraStep}},i.prototype.createVScrollData=function(){var t=this.data.tableProps,i=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID).defaultSortDirection===e.getChromEnum("HmiSortDirection").Ascending,r=this.horizontalScrollBase?this.WIDTH_FACTOR:0;return{BeginValue:0,Height:t.hasColumnHeader?t.height-t.cellHeight-r:t.height-r,Width:this.SIZE_FACTOR,Left:this.data.tableProps.width-this.SIZE_FACTOR,EndValue:this.getEndValue(),CurrentValue:i?this.getEndValue()-(t.hasColumnHeader?t.height-t.cellHeight:t.height):this.data.viewport.getStartIndex()*t.cellHeight,cbOnChanged:this.cbOnProcessValueChanged.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoaded.bind(this),cbOnCommand:this.cbOnCommand.bind(this),VisibleValueRange:t.hasColumnHeader?t.height-t.cellHeight:t.height,SmallStepValueRange:t.hasHorScollBar?t.totalRecords-this.getVisibleRowsCount():t.totalRecords-this.data.viewport.getDisplayedRowCount()}},i.prototype.getEndValue=function(){return this.data.tableProps.hasHorScollBar&&this.data.tableProps.totalRecords-1===this.getVisibleRowsCount()?(this.data.tableProps.totalRecords+1)*this.data.tableProps.cellHeight:this.data.tableProps.totalRecords*this.data.tableProps.cellHeight},i.prototype.getThumbPosition=function(){var e,t=this.data.selectionDetail.getSelection().indices[0]+this.data.viewport.getStartIndex();return e=-1,t<this.prevViewPortStatIndex?e=t:t>=this.prevViewPortEndIndex&&(this.data.viewport.hasHalfRow||(e=t-(this.data.viewport.getDisplayedRowCount()-1)+1)>this.data.viewport.getStartIndex())&&(e=t-this.data.viewport.getDisplayedRowCount()+1),e},i.prototype.clearData=function(e,t){var i=this.data.featureList.DataTemplates;i&&i.clearDataRows(e,t)},i.prototype.autoSelect=function(){var t,i=e.getChromEnum("HmiGridSelectionMode"),r=this.data.featureList.SelectionBorder,n=this.data.featureList.DataTemplates,a=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),o=this.data.featureList.RecordHeader,s=this.data.featureList.Header;if(void 0===this.data.tableProps.startY&&(this.data.tableProps.startY=parseFloat(this.RTPUItem.RootNode.getAttribute("y"))),this.data.tableProps.hasColumnHeader&&s&&s.clearAllSortCriteria(),n.clearEditing(),this.data.selection.clearSelection(o,r,n,s),this.data.selectionDetail.clearSelection(),this.data.configuration.GridSelectionMode!==i.None){var l=this.data.viewport.getDisplayedRowCount();if(l>0){1===a.defaultSortDirection?(this.data.selectionDetail.pushSelectedRowIndices(l-1,!1),this.data.selectionDetail.setselectedRowIndex(l-1),t=a.getTotalRecords()-1<=l-1?0:a.getTotalRecords()-1===this.getVisibleRowsCount()||a.hasHorScollBar&&!a.hasHalfRow?a.viewportStartIndex:a.getTotalRecords()-1-(this.data.viewport.getEndIndex()-this.data.viewport.getStartIndex())+1):(t=0,this.data.selectionDetail.pushSelectedRowIndices(t,!1),this.data.selectionDetail.setselectedRowIndex(t));var u=this.data.viewport.getSize();this.data.viewport.updateViewPortIndex(t),a.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),a.hasHalfRow=this.data.viewport.hasHalfRow,a.scrolledValue=!1,(h=a.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&this.data.viewport.setDisplayedRowCount(h.length),this.loadDataForAutoSelection(h,u),this.data.selection.setAutoSelection()}else a.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex())}else{var h;(h=a.requestRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()))&&this.data.viewport.setDisplayedRowCount(h.length),this.loadDataForAutoSelection(h,0)}this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(e.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1,!e.isAppModeRuntime()||this.horizontalScrollBase&&this.horizontalScrollBase.templateInstance||this.data.gridEvents.removeWheelEvent(this.dom,this.boundedSetValue)),this.setCurrentSelection(a)},i.prototype.autoSelectOnAdded=function(e){var t,i;(t=this.data.viewport.getDisplayedRowCount())>0?(1===e.defaultSortDirection?(this.data.selectionDetail.setSelectedIndices([t-1]),this.data.selectionDetail.setselectedRowIndex(t-1),i=e.getTotalRecords()-1<=t-1?0:e.getTotalRecords()-1===this.getVisibleRowsCount()?e.viewportStartIndex:e.viewportSize>1?e.hasHorScollBar&&!e.hasHalfRow?e.viewportStartIndex:e.getTotalRecords()-1-(this.data.viewport.getSize()-1)+1:e.getTotalRecords()-1):(i=0,this.data.selectionDetail.pushSelectedRowIndices(i,!1),this.data.selectionDetail.setselectedRowIndex(i)),this.data.viewport.getSize(),this.data.viewport.updateViewPortIndex(i),e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),e.hasHalfRow=this.data.viewport.hasHalfRow,e.scrolledValue=!1,this.data.selection.setAutoSelection()):e.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),this.setCurrentSelection(e)},i.prototype.loadDataForAutoSelection=function(t,i){var r=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),n=this.data.viewport.getDisplayedRowCount()-1,a=this.data.featureList.DataTemplates;this.prevViewPortStatIndex=this.data.viewport.getStartIndex(),this.prevViewPortEndIndex=this.data.viewport.getEndIndex(),this.data.tableProps.totalRecords=r.getTotalRecords(),a&&(i>0&&a.clearDataRows(0,i),t.length>0&&a.loadData(t,0,n)),this.removeVerticalScrollbar()},i.prototype.setCurrentSelection=function(e){var t,i={};e&&"function"==typeof e.select&&(this.data.configuration.SelectFullRow?(t=this.data.selectionDetail.getSelection(),i.rowSelection=t.indices.slice(0),i.selectedCellColumnIndex=t.columnIndex,i.rowSelection.length>0?i.selectedCellRowIndex=i.rowSelection[0]:i.selectedCellRowIndex=null,i.cellSelection=t.cellSelection,i.shiftSelectionIndices=[]):(t=this.data.selectionDetail.getSelection(),i.rowSelection=t.indices.slice(0),i.selectedCellColumnIndex=null,i.selectedCellRowIndex=null,i.cellSelection=t.cellSelection,i.shiftSelectionIndices=[]),e.select(i))},i.prototype.toggleAutoScroll=function(t){var i;this.data.tableProps.alwaysShowRecent=t;e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);var r=this.data.viewport.getDisplayedRowCount();i=this.data.featureList.Header,this.data.viewport.scrolled(!1),r>0?this.data.tableProps.alwaysShowRecent?this.autoSelect():(this.data.tableProps.hasColumnHeader&&i&&i.showSortDirectionandOrder(),this.createVertScrollBar()):this.data.tableProps.alwaysShowRecent?(i&&i.clearAllSortCriteria(),this.verticalScrollBase&&this.verticalScrollBase.templateInstance&&(e.removeSubTemplate(this.verticalScrollBase.templateInstance),this.verticalScrollBase=null,this.isCreateVertScrollBarCalled=!1)):(i&&i.showSortDirectionandOrder(),this.createVertScrollBar())},i.prototype.onRemoved=function(t){var i,r,n;this.currPos=void 0;var a=this.data.featureList.DataTemplates,o=this.data.featureList.RecordHeader,s=this.data.featureList.Header,l=this.data.featureList.SelectionBorder,u=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);this.data.tableProps.hasColumnHeader&&s&&(u.autoScroll||t)&&s.clearAllSortCriteria(),this.data.selection.clearSelection(o,l,a,s,!0),this.data.selectionDetail.clearSelection(),this.removeVerticalScrollbar(),this.cbOnHorProcessValueChanged(null,0),this.setHorScrollbarCurrentVal(),a.clearDataRows(0,this.data.viewport.getDisplayedRowCount()),this.data.viewport.setDisplayedRowCount(0),this.data.tableProps.totalRecords=u.getTotalRecords();var h=this.data.viewport.getStartIndex();if(this.data.viewport.updateViewPortIndex(u.viewportStartIndex),u.setVisibleDataRange(this.data.viewport.getStartIndex(),this.data.viewport.getEndIndex()),u.hasHalfRow=this.data.viewport.hasHalfRow,u.scrolledValue=!1,this.data.viewport.setScrolledPos(),this.data.viewport.scrolled(!1),o&&this.data.tableProps.hasRowHeader){if((i=this.data.viewport.getStartIndex())!==h)for(n=this.data.viewport.getSize(),r=0;r<n;r++)o.updateCellData(r,i+r+1);this.data.tableProps.changeHorizontalPosX=this.data.tableProps.calRowHeaderWidth(this.data.configuration,this.data.viewport.getSize()),this.data.tableProps.changeHorizontalPosX&&this.redraw()}else this.createHorScrollBar();this.data.tableProps.changeHorizontalPosX=!1},i.prototype.onModified=function(){},i.prototype.onKeyDown=function(e,t,i){return this.data.gridEvents.onKeyDown(e,i)},i.prototype.clearSelection=function(){var e,t,i,r=[],n=this.data.featureList.DataTemplates,a=this.data.featureList.RecordHeader,o=this.data.featureList.Header,s=this.data.featureList.SelectionBorder,l=this.data.selectionDetail.getSelection(),u=(l.columnIndex,l.rowIndex);if(this.oldAutoScroll?this.data.selection.clearSelection(a,null,null,null):this.data.selection.clearSelection(a,s,n,o),this.data.selectionDetail.clearSelection(!1),this.data.selectionDetail.setselectedColumnIndex(l.columnIndex),this.data.selectionDetail.setselectedRowIndex(u),this.data.selectionDetail.setSelectedIndices(l.indices),this.data.selectionDetail.setShiftStartRowIndex(u,0),this.data.tableProps.alwaysShowRecent)this.data.selectionDetail.setselectedColumnIndex(-1);else if(!this.data.configuration.SelectFullRow){for(t=l.indices.length,e=0;e<t;e++)l.cellSelection.forEach((function(t){l.indices[e]===t.rowIndex&&(i=t.cellIndex,r.push(t.rowIndex))})),i&&i.length&&this.data.selectionDetail.pushCellSelection(l.indices[e],i);this.data.selectionDetail.setSelectedIndices(r)}},i.prototype.updateSelectionDetails=function(e,t,i){var r,n;void 0===t&&(t=!1),void 0===i&&(i=!0);var a=this.data.featureList.RecordHeader,o=this.data.featureList.Header,s=this.data.featureList.DataTemplates,l=this.data.featureList.SelectionBorder,u=e.selectedRows.length,h=this.data.selectionDetail.getSelection();if(u>0){if(this.data.selectionDetail.setSelectedIndices(e.selectedRows.slice(0)),t&&((r=this.data.selectionDetail.getShiftSelection()).indices=e.selectedRows,r.rowStartIndex=e.selectedRows[0],r.rowEndIndex=e.selectedRows[u-1],this.data.selectionDetail.setShiftStartRowIndex(e.selectedRows[0],1),this.data.selectionDetail.setselectedRowIndex(e.selectedRows[u-1])),!this.data.configuration.SelectFullRow)for(this.data.selectionDetail.clearselectedCells(),n=0;n<u;n++)this.data.selectionDetail.pushCellSelection(e.selectedRows[n],e.cellSelection[n])}else this.data.selectionDetail.clearSelection(!1),this.data.selectionDetail.setselectedColumnIndex(h.columnIndex);i&&this.data.selection.setSelection(a,l,s,o,e)},i.prototype.findAndUpdateModifiedProp=function(t,i,r){var n,a,o,s,l=0,u=0,h=!1,d=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID);for(a in t)if("object"==typeof t[a])if("Columns"===a)if(0===(o=t[a].length))this.resizeControl=!0,this.updateConfig=!0,this.removeHorizontalScrollbar(),this.data.featureList.Header.columns=[],this.columnsTypeChanged=!!e.isAppModeRuntime();else for(;l<o;l++){if(n=t[a][l].ElementID,i[a])for(s=i[a].length;u<s;u++)n===i[a][u].ElementID&&(h=!0,this.findAndUpdateModifiedProp(t[a],i[a],r+"."+a));if(!h){this.resizeControl=!0,this.updateConfig=!0,this.prevDataInstance.columnIndex=0,this.removeHorizontalScrollbar(),this.columnsTypeChanged=!!e.isAppModeRuntime(),d&&"function"==typeof d.onColumnChangeReceived&&d.onColumnChangeReceived();break}}else this.findAndUpdateModifiedProp(t[a],i[a],r+"."+a);else t[a]!==i[a]&&this.modifiedProperty.push({propertyName:a,updatedValue:t[a],path:r,part:t})},i.prototype.handlePropertyChange=function(t){var i,r,n=e.Utilities.getDataProvider(this.RTPUItem,this.data.instanceID),a=e.getChromEnum("HmiGridSelectionMode"),o=t.propertyName,s=t.updatedValue,l=t.path,u=t.part,h=this.data.featureList.Header,d=this.data.featureList.RecordHeader,c=this.data.featureList.SelectionBorder,p=this.data.featureList.Gridlines,m=this.data.featureList.DataTemplates,g=this.data.featureList.RowBackground,T=this.data.featureList.ColumnBackGround,f=this.data.configuration.GridSelectionMode;if(0===(i=this.updatePropInConfig(o,s,l)).length)switch(o){case"SelectionForeColor":case"SelectionBackColor":m&&m.onPropertyChanged(o,s);break;case"ColoringMode":case"ForeColor":case"BackColor":case"AlternateBackColor":case"AlternateForeColor":T&&T.onPropertyChange(o,s),g&&g.onPropertyChange(o,s),m&&m.onPropertyChanged(o,s);break;case"SelectFullRow":this.data.selection.clearSelection(this.data.tableProps.hasRowHeader?d:null,c,m,this.data.tableProps.hasColumnHeader?h:null),this.data.selection.onPropertyChange(o,s,this.data),this.data.tableProps.alwaysShowRecent&&this.data.tableProps.totalRecords?this.data.selection.setAutoSelection():this.data.configuration.GridSelectionMode&&this.data.selection.setSelection(this.data.tableProps.hasRowHeader?d:null,c,m,this.data.tableProps.hasColumnHeader?h:null),this.setCurrentSelection(n);break;case"GridSelectionMode":this.data.tableProps.alwaysShowRecent?s>a.None?f===a.None&&this.autoSelectOnAdded(n):(this.data.selection.clearSelection(this.data.tableProps.hasRowHeader?d:null,c,m,this.data.tableProps.hasColumnHeader?h:null),this.data.selectionDetail.clearSelection(!0)):(this.data.selection.clearSelection(this.data.tableProps.hasRowHeader?d:null,c,m,this.data.tableProps.hasColumnHeader?h:null),this.data.selection.onPropertyChange(o,s,this.data),s>a.None&&this.data.selection.setSelection(this.data.tableProps.hasRowHeader?d:null,c,m,this.data.tableProps.hasColumnHeader?h:null)),this.setCurrentSelection(n);break;case"HorizontalScrollBarVisibility":this.data.tableProps.horizontalScrollbarVisibility=s,s===e.getChromEnum("HmiScrollBarVisibility").Collapsed?this.removeHorizontalScrollbar():this.horizontalScrollBase||this.createHorScrollBar();break;case"VerticalScrollBarVisibility":this.data.tableProps.verticalScrollbarVisibility=s,this.data.tableProps.alwaysShowRecent||this.createVertScrollBar();break;case"SelectionBorderWidth":case"SelectionBorderColor":c&&c.onPropertyChanged(o,s);break;case"RowHeight":this.resizeControl=!0,this.cellHeightChanged=!0,this.update(),this.cellHeightChanged=!1;break;case"GridLineColor":case"GridLineWidth":case"GridLineVisibility":p&&p.onPropertyChange(o,s)}else switch(i[1]){case"HeaderSettings":"HeaderGridLineColor"===o?p&&p.onPropertyChange(o,s):(d&&d.onPropertyChange(o),h&&h.onPropertyChanged(o,s));break;case"Columns":h&&"Content"!==i[3]&&(r=h.onPropertyChanged(o,s,parseInt(i[2]),u)),r||(g&&g.onPropertyChange(o,s),T&&T.onPropertyChange(o,s),m.onPropertyChanged(o,s,parseInt(i[2]),u));break;case"Font":0===this.data.configuration.RowHeight?(this.resizeControl=!0,this.data.tableProps.defaultCharWidth=Math.floor(e.getTextWidth("9",this.data.configuration.HeaderSettings.Font)),this.update()):m&&m.onPropertyChanged(o,s,parseInt(i[2]),u);break;case"CellPadding":h&&h.onPropertyChanged(o,s,null,u),m&&m.onPropertyChanged(o,s,parseInt(i[2]),u),d&&d.onPropertyChange(o,s)}},i.prototype.updatePropInConfig=function(e,t,i){var r,n,a=[];if("config"===i)this.data.configuration[e]=t;else{for(r=this.data.configuration,a=i.split("."),n=1;n<a.length;n++)r=r[a[n]];r[e]=t}return a},i.prototype.getHScrollProps=function(e){var t,i=0,r=0,n=0,a=this.data.viewport.getTotalVisibleColumns();for(t=a.length-1,e||(e=this.data.tableProps.width-this.data.tableProps.rowHeaderWidth-this.data.tableProps.leftBorder/2);t>=0;t--)if(n++,(r+=a[t].Width)===e)i=0;else if(r>e){i=1;break}return{extraStep:i,colsToIgnore:n}},i}(e.NVEBase);e.Table=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=Object.freeze({"start-x":"0","start-y":"0",width:0,height:0,enabled:!0,"read-only":!1,"text-wrapping":"no-wrap",padding:"0","horizontal-text-alignment":"left","vertical-text-alignment":"center","output-format":"","multi-line":!1,"text-trimming":"none","horizontal-scrollbar-visibility":"automatic","vertical-scrollbar-visibility":"automatic"}),i=Object.freeze({BACKSPACE:8,TAB:9,NUMPAD5:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,INSERT:45,DELETE:46,C:67,WINDOWS:92,CONTEXTMENU:93,ADD:107,SUBTRACT:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145}),n={domBlueprint:null,viewWindow:null,internalNode:null,textProvider:null,eventRect:null},a=null,o=null,s="output-format",l="multi-line",u="start-x",h="start-y",d="vertical-scrollbar-visibility",c="horizontal-scrollbar-visibility",p=function(p){function m(){var i=null!==p&&p.apply(this,arguments)||this;return i.defaults=t,i._hmiFieldDataTypeEnum=e.getHmiFieldDataTypeEnum(),i.timeZonePreference=1,i._isDateTimeFormat=!1,i._isTimeSpanFormat=!1,i._isBooleanFormat=!1,i._inputInProgress=!1,i._inputCaptureAdded=!1,i._inputModified=!1,i._textDetails={wrappedTexts:{}},i._eventCbs={startInputCapture:null,keyPress:null,keyDown:null,stopPropagationHandler:null,onInputModified:null,onDragStart:null},i._dirtyList=new Array,i._isInitialFontAttributesRead=!1,i._isVerticalScrollbarVisible=!1,i._isHorizontalScrollbarVisible=!1,i._verticalScrollbarWidth=e.getSystemPart("ScrollBarSystemPart").Thickness,i._horizontalScrollbarHeight=e.getSystemPart("ScrollBarSystemPart").Thickness,i._verticalScrollbarBase=null,i._horizontalScrollbarBase=null,i._verticalScrollbarTemplateInstance=null,i._horizontalScrollbarTemplateInstance=null,i._lineHeight=0,i._totalTextHeight=0,i._longestTextLine=0,i._activeTextDOMNodes=[],i._textPositionY=[],i._textPositionX=[],i._originPadding={top:0,bottom:0,left:0,right:0},i._isFirstTime=!0,i}return r(m,p),m.prototype.create=function(t){var i=this;if(null===n.domBlueprint&&this._createBluePrint(),this._isFirstTime&&this._cloneBlueprint(t),this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this.checkAndConvertEnums(),e.Utilities.convertToBool(this.getAttribute("read-only"))||(t.PropertyChangedCallback=function(e,i){t.Parent&&t.Parent.PropertyChangedCallback&&t.Parent.PropertyChangedCallback(e,i)}),this.isValid()){this.initialized=!0,this.metaData=new e.Data.MetaData(this.defs,!0,this);for(var r=0;r<this.Features.length;r++)this.Features[r].draw(t,this.metaData),this.Features[r]instanceof e.Features.Font&&(this.Features[r].metaData=this.metaData),this.Features[r]instanceof e.Features.InputHint&&(this.inputHint=this.Features[r])}this._isBooleanFormat=!1,this._isDateTimeFormat=!1,this._eventCbs.startInputCapture||(this._eventCbs.startInputCapture=this._startInputCapture.bind(this),this._inputEvent=e.mapEventName("mousedown")),this._eventCbs.keyDown||(this._eventCbs.keyDown=this._keyDown.bind(this)),this._eventCbs.keyPress||(this._eventCbs.keyPress=this._keyPress.bind(this)),this._eventCbs.stopPropagationHandler||(this._eventCbs.stopPropagationHandler=this._stopPropagationHandler),this._eventCbs.onInputModified||(this._eventCbs.onInputModified=this._onInputModified.bind(this)),this._eventCbs.onDragStart||(this._eventCbs.onDragStart=this._onDragStart.bind(this));var a=e.format2Type(this.getAttribute(s));if(a===this._hmiFieldDataTypeEnum.DateTime||a===this._hmiFieldDataTypeEnum.Date||a===this._hmiFieldDataTypeEnum.Time||a===this._hmiFieldDataTypeEnum.TimeSpan?(this._isDateTimeFormat=!0,a===this._hmiFieldDataTypeEnum.TimeSpan&&(this._isTimeSpanFormat=!0)):a===this._hmiFieldDataTypeEnum.Binary&&(this._isBooleanFormat=!0),!this.focusRect&&e.Utilities.convertToBool(this.getAttribute("enabled"))){var o=1===this.RTPUItem.PrimaryType,l=t.rootItem.RootFocusManager;this.focusRect=l.createFocusRect(t.InstanceId,-1,{x:0,y:0,width:0,height:0},!1),l.registerFocusArea(t,this.focusRect,(function(){e.Utilities.convertToBool(i.getAttribute("enabled"))&&!e.Utilities.convertToBool(i.getAttribute("read-only"))&&i._getInputBehavior().getProperty("input-on-activate")&&i._startInputCapture()}),(function(){return i.focusOut()}),null,o)}return this.draw(),this.dom},m.prototype.draw=function(){var t,i;if(this._setInitialFontAttributes(),this.Attributes=e.Utilities.mergeWithDefaults(this.Attributes,this.defaults),this._isFirstTime){if(e.isAppModeRuntime()&&!0===e.Utilities.convertToBool(this.getAttribute("enabled"))&&!1===e.Utilities.convertToBool(this.getAttribute("read-only"))){var r=[{element:this.childDom,eventName:e.enumEventType.tapped,handler:this._eventCbs.startInputCapture}];e.registerEvent(r,this.RTPUItem),this._inputCaptureAdded=!0}this._isFirstTime=!1}this.isValid()&&(this._eventCatcher.reset(),this._eventCatcher.getFreeNodes(1),this._eventCatcher.finish(),t=this._elementProvider.getActiveNodes(),this._inputInProgress?(t.length>0&&(this._elementProvider.reset(),this._elementProvider.finish(),this._removeVScrollbar(),this._removeHScrollbar()),this._inputDivElement&&this._styleInputCapturer(this._inputDivElement)):(i=this._createTextBox(),t.length!==i.length&&(this._elementProvider.reset(),t=this._elementProvider.getFreeNodes(i.length),this._elementProvider.finish(),this._removeVScrollbar(),this._removeHScrollbar()),this._applyTextDomAttributes(t,i),this._actualizeTextNodeInformation(t))),this.dom.contains(this.childDom)||this.dom.appendChild(this.childDom),this.inputHint&&!this.inputHintNode&&"always"===this.inputHint.Attributes.show&&this.appendInputHint(),this._createVerticalScrollbar(),this._createHorizontalScrollbar()},m.prototype.updateTextContent=function(){var e,t,i,r,n,a=!1;if(!1===this._inputInProgress)if(e=this._createTextBox(),(t=this._elementProvider.getActiveNodes()).length===e.length){for(n=t.length,r=0;r<n;r++)(i=t[r]).childNodes[0]?i.childNodes[0].nodeValue=e[r]:i.textContent=e[r];"collapsed"===this.Attributes[d]&&"collapsed"===this.Attributes[c]||(this._applyTextDomAttributes(t,e),this._actualizeTextNodeInformation(t),this._createVerticalScrollbar(),this._createHorizontalScrollbar())}else a=!0;return a},m.prototype._createBluePrint=function(){if(null===n.domBlueprint){var t=void 0;n.domBlueprint=document.createElementNS("http://www.w3.org/2000/svg","g"),n.viewWindow=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-bind--xlink","http://svg.siemens.com/hmi/bind/xlink/"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi","http://svg.siemens.com/hmi/"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-bind","http://svg.siemens.com/hmi/bind/"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-element","http://svg.siemens.com/hmi/element/"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-feature","http://svg.siemens.com/hmi/feature/"),n.viewWindow.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:hmi-event","http://svg.siemens.com/hmi/event/"),n.viewWindow.setAttributeNS(null,"preserveAspectRatio","none"),n.domBlueprint.appendChild(n.viewWindow),n.viewWindow.appendChild(document.createElementNS("http://www.w3.org/2000/svg","defs")),n.internalNode=document.createElementNS("http://www.w3.org/2000/svg","g"),n.textProvider=new e.Data.SvgElementProvider("text",n.internalNode,this._setTextCommonProps.bind(this)),n.eventRect=new e.Data.SvgElementProvider("rect",n.internalNode),(t=n.eventRect.getFreeNodes(1)[0]).setAttributeNS(null,"height","100%"),t.setAttributeNS(null,"width","100%"),t.setAttributeNS(null,"stroke","none"),t.setAttributeNS(null,"fill-opacity","0"),t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"id","ID_textfieldEventRect"),n.viewWindow.appendChild(n.internalNode)}},m.prototype._cloneBlueprint=function(t){if(null!==n.domBlueprint){var i,r=n.domBlueprint.cloneNode(!0),a=null;p.prototype.create.call(this,t,!0,r),a=r.getElementsByTagName("svg")[0],this.defs=a.getElementsByTagName("defs")[0],this.childDom=a.getElementsByTagName("g")[0],i=this.childDom.getElementsByTagName("rect"),this._elementProvider=new e.Data.SvgElementProvider("",this.childDom,this._setTextCommonProps.bind(this),null,!0,n.textProvider,[]),this._eventCatcher=new e.Data.SvgElementProvider("",this.childDom,null,null,!0,n.eventRect,i)}},m.prototype._deactivateInput=function(){this._inputInProgress=!1;var e=this._inputDivElement;if(e){var t=e.childNodes[0];t&&(t.removeEventListener("keydown",this._eventCbs.keyDown,!1),t.removeEventListener("keypress",this._eventCbs.keyPress,!1),t.removeEventListener("keyup",this._eventCbs.stopPropagationHandler,!1),t.removeEventListener(this._inputEvent,this._eventCbs.stopPropagationHandler,!1),t.removeEventListener("input",this._eventCbs.onInputModified,!1),t.removeEventListener("dragstart",this._eventCbs.onDragStart,!1)),e.parentNode&&e.parentNode.removeChild(e),a===e&&(a=null,o&&(o.focus({preventScroll:!0}),o=null))}this.inputHint&&"focused"===this.inputHint.Attributes.show&&this.removeInputHintDiv(),this.RTPUItem.rootItem.RootFocusManager.moveFocus(8)},m.prototype._setItemProps=function(t,i){this.onValueChanged?this.onValueChanged(i,t):0===i.indexOf("LocalProps.")?(this.RTPUItem.setLocalProps(t,i),this.RTPUItem.update(),this.RTPUItem.PropertyChangedCallback&&this.RTPUItem.PropertyChangedCallback(i,t)):0===i.indexOf("ParamProps.")?(this.RTPUItem.setParamProps(t,i,!0),this.RTPUItem.update()):0===i.indexOf("HmiProps.")?this.RTPUItem.Parent?(this.RTPUItem.setHmiProps(t,i,!0),this.RTPUItem.update()):e.propChanged(i,t,this.RTPUItem):0===i.indexOf("Content.")&&(this.RTPUItem.setDataContent(t,i),this.RTPUItem.update(),this.RTPUItem.PropertyChangedCallback&&this.RTPUItem.PropertyChangedCallback(i,t))},m.prototype._setTextCommonProps=function(e,t){var i,r;r="left"===(i=this.Attributes["horizontal-text-alignment"])?"start":"right"===i?"end":"middle",e.setAttributeNS(null,"fill",this.getAttribute("fore-color")),e.setAttributeNS(null,"text-anchor",r),this._addFontAttributes(e)},m.prototype._setTextNodeProps=function(e){var t,i,r,n,a,o;for(r=(t=this._elementProvider.getAllNodes()).length,n=0;n<r;n++)for(a in i=t[n],e)i.setAttributeNS(null,a,e[a]);void 0!==e.fill&&this._inputInProgress&&(o=document.getElementById("TextField_Key_Collector_Input"))&&(o.style.color=e.fill)},m.prototype._calculateTextBoxWidth=function(){var e=this._isVerticalScrollbarVisible?this._verticalScrollbarWidth:0;return"right"===this.Attributes["horizontal-text-alignment"]?parseInt(this.Attributes.width,10)-this._getPaddingObject().right:parseInt(this.Attributes.width,10)-this._getPaddingObject().left-e},m.prototype._doWordWrap=function(t){var i,r=[],n=t,a=[],o=t.length,s=this._getFontObject();this._textDetails.wrappedTexts={},i=this._calculateTextBoxWidth();for(var l=0;l<o;l++){if((a=e.textWrap(n[l],i,s)).length>1)for(var u=0;u<a.length-1;u++)this._textDetails.wrappedTexts[r.length+u]=!0;r=r.concat(a)}return r},m.prototype._doTextTrim=function(t){var i,r,n=[],a=this._getFontObject();i=this._calculateTextBoxWidth(),r=t.length;for(var o=0;o<r;o++)n[o]=e.textEllipsis(t[o],i,a);return n},m.prototype._isVScrollbarNecessary=function(t){var i=!1;if("collapsed"!==this.Attributes[d]&&t.length>0){var r=this._getPaddingObject(),n=e.getTextHeight(t[0],this._getFontObject()),a=parseInt(this.Attributes.height,10)-r.top-r.bottom,o=n*t.length;this._lineHeight=n,this._totalTextHeight=o,(o>a||"visible"===this.Attributes[d])&&(i=!0)}return i},m.prototype._isHScrollbarNecessary=function(t){var i=!1;if("collapsed"!==this.Attributes[c]&&t.length>0){var r=this._getPaddingObject(),n=parseInt(this.Attributes.width,10)-r.left-r.right,a=0,o=this._getFontObject();this._longestTextLine=0;for(var s=0;s<t.length;s++)a=e.getTextWidth(t[s],o),this._longestTextLine<a&&(this._longestTextLine=a);(this._longestTextLine>n||"visible"===this.Attributes[c])&&(i=!0)}return i},m.prototype._enoughSpaceForScrollbars=function(){var e=[!1,!1],t=this._getPaddingObject(),i=parseInt(this.Attributes.width,10)-t.right-t.left,r=parseInt(this.Attributes.height,10)-t.top-t.bottom;return 2*this._verticalScrollbarWidth<=i&&(e[0]=!0),2*this._horizontalScrollbarHeight<=r&&(e[1]=!0),e},m.prototype._createTextBox=function(){var t,i,r,n;this._isVerticalScrollbarVisible=!1,this._isHorizontalScrollbarVisible=!1,null==(t=this.getAttribute("value"))?t=[""]:this._isDateTimeFormat||this._isBooleanFormat||!0===t||!1===t?(this._isDateTimeFormat&&this.RTPUItem.Store._vt===window.Variant.CF_VT.INT64&&(t=Number(t)),t=(t=e.convertFormatPattern(t,this.getAttribute(s))).split("")):(t=(t=(t=t.toString()).replace(/ /g," ")).replace(/\n/g,""),t=(t=e.convertFormatPattern(t,this.getAttribute(s))).split(""),!1===this._getBoolValue(this.getAttribute(l))&&(t=[t.join(" ")])),this._textDetails.wrappedTexts={},i="word-wrap"===this.getAttribute("text-wrapping")||"wordwrap"===this.getAttribute("text-wrapping"),r=!("no-wrap"!==this.getAttribute("text-wrapping")&&"nowrap"!==this.getAttribute("text-wrapping")||"character-ellipsis"!==this.getAttribute("text-trimming")&&"characterellipsis"!==this.getAttribute("text-trimming"));var a=t;return t=i?this._doWordWrap(t):r?this._doTextTrim(t):t,(n=this._enoughSpaceForScrollbars())[0]&&(this._isVerticalScrollbarVisible=this._isVScrollbarNecessary(t)),!0===this._isVerticalScrollbarVisible&&(t=i?this._doWordWrap(a):r?this._doTextTrim(a):t,this._totalTextHeight=this._lineHeight*t.length),n[1]&&(this._isHorizontalScrollbarVisible=(!i&&!r||"visible"===this.Attributes[c])&&this._isHScrollbarNecessary(t)),this._setViewWindowAttributes(),t=this._makeInputBehave(t)},m.prototype._setViewWindowAttributes=function(){var e,t=null;if(t=this.dom.getElementsByTagName("svg")[0],e=this._getPaddingObject(),t){var i=null===this.Attributes.width?0:parseInt(this.Attributes.width,10)-e.left-e.right,r=null===this.Attributes.height?0:parseInt(this.Attributes.height,10)-e.top-e.bottom;t.setAttributeNS(null,"x",(parseInt(this.Attributes[u],10)+e.left).toString()),t.setAttributeNS(null,"y",(parseInt(this.Attributes[h],10)+e.top).toString()),t.setAttributeNS(null,"width",Math.max(0,i).toString()),t.setAttributeNS(null,"height",Math.max(0,r).toString())}},m.prototype._applyTextDomAttributes=function(t,i){var r,n,a,o=this.Attributes["vertical-text-alignment"],s=this.Attributes["horizontal-text-alignment"],l="left"===s?"start":"right"===s?"end":"middle",u="top"===o?"start":"bottom"===o?"end":"middle",h=this._getPaddingObject(),d=null===this.Attributes.width?0:parseFloat(this.Attributes.width)-h.left-h.right,c=null===this.Attributes.height?0:parseFloat(this.Attributes.height)-h.top-h.bottom,p=0+Math.round("start"===l?0:"middle"===l?d/2:d),m=t.length;for(n=0;n<m;n++)(r=t[n]).setAttributeNS(null,"x",String(e.Utilities.preprocessCoordinateForSVG(p))),r.childNodes[0]?r.childNodes[0].nodeValue=i[n]:r.textContent=i[n];if(m>0){var g=this._getFontObject(),T=e.getFontPointSize(r.textContent,g),f=e.getTextHeight(r.textContent,g);for(a="start"===u||this._isVerticalScrollbarVisible?Math.round(0+T):"middle"===u?Math.round(0+c/2-f*m/2+T):Math.round(0+c-f*m+T),n=0;n<m;n++)t[n].setAttributeNS(null,"y",String(e.Utilities.preprocessCoordinateForSVG(a))),a+=f}},m.prototype._checkCharCode=function(e,t,i){var r=!0,n=this._hmiFieldDataTypeEnum;switch(e){case n.Binary:r=48===t||49===t;break;case n.Integer:case n.Decimal:case n.Float:case n.Exponential:r=this._checkCharCodeForNum(e,t,i);break;case n.String:this.RTPUItem.Store._vt===window.Variant.CF_VT.CHROM_CHAR&&(r=0===i.selectionStart);break;case n.Hex:r=t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}return r},m.prototype._checkCharCodeForNum=function(e,t,i){var r=!0,n=this._hmiFieldDataTypeEnum;switch(t){case 44:case 46:r=e===n.Decimal||e===n.Float||e===n.Exponential;break;case 69:case 101:r=e===n.Exponential||e===n.Float;break;case 43:case 45:e!==n.Integer&&e!==n.Decimal||(r=0===i.selectionStart);break;default:r=t>=48&&t<=57}return r},m.prototype._convertString2DataType=function(t,i){var r=this._hmiFieldDataTypeEnum;if(!(0===t.length&&i>=r.Decimal&&i<=r.Float)){switch(i){case r.Binary:return t=(t=t.replace(/^[0]+\B/g,"")).replace(/\s+/g,""),t=e.bin2dec(t);case r.Hex:return t=t.replace(/^[0]+\B/g,""),t=e.hex2dec(t);case r.Integer:return t=t.replace(/^[0]+\B/g,"");case r.Float:case r.Decimal:case r.Exponential:t=t.replace(",",".");break;case r.Date:case r.Time:case r.DateTime:case r.String:return t}return isNaN(t)?void 0:t}},m.prototype._getPaddingObject=function(){var t,i,r={left:0,right:0,top:0,bottom:0};if("number"==typeof(t=this.getAttribute("padding")))r.left=r.right=r.top=r.bottom=t,this._originPadding.left=this._originPadding.right=this._originPadding.top=this._originPadding.bottom=t,this._isVerticalScrollbarVisible&&(r.right=t+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(r.bottom=t+this._horizontalScrollbarHeight);else switch((i=t.includes(",")?t.split(","):t.split(" ")).length){case 1:r.left=r.right=r.top=r.bottom=parseInt(i[0],10),this._originPadding.left=this._originPadding.right=this._originPadding.top=this._originPadding.bottom=r.bottom,this._isVerticalScrollbarVisible&&(r.right=parseInt(i[0],10)+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(r.bottom=parseInt(i[0],10)+this._horizontalScrollbarHeight);break;case 2:r.left=r.top=parseInt(i[0],10),r.right=r.bottom=parseInt(i[1],10),this._originPadding.left=this._originPadding.top=r.left,this._originPadding.right=this._originPadding.bottom=r.right,this._isVerticalScrollbarVisible&&(r.right=parseInt(i[1],10)+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(r.bottom=parseInt(i[1],10)+this._horizontalScrollbarHeight);break;case 4:r.left=parseInt(i[0],10),r.top=parseInt(i[1],10),r.right=parseInt(i[2],10),r.bottom=parseInt(i[3],10),this._originPadding.left=r.left,this._originPadding.top=r.top,this._originPadding.right=r.right,this._originPadding.bottom=r.bottom,this._isVerticalScrollbarVisible&&(r.right=parseInt(i[2],10)+this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(r.bottom=parseInt(i[3],10)+this._horizontalScrollbarHeight);break;default:r.left=r.right=r.top=r.bottom=0,this._originPadding.left=this._originPadding.right=this._originPadding.top=this._originPadding.bottom=0,this._isVerticalScrollbarVisible&&(r.right=this._verticalScrollbarWidth),this._isHorizontalScrollbarVisible&&(r.bottom=this._horizontalScrollbarHeight),e.trace(e.enumTraceMode.Warning,"Invalid value for padding attribute. Drawing with no padding.")}return r},m.prototype._getFontFeature=function(){for(var t,i,r=0;r<this.Features.length;r++)if((i=this.Features[r])instanceof e.Features.Font){t=i;break}return t||(t=new e.Features.Font,this.Features.push(t)),t},m.prototype._getFontObject=function(){return this._getFontFeature().getWebRHAttributes()},m.prototype._addFontAttributes=function(e){this._getFontFeature().addFontAttributesToDomNode(this.RTPUItem,this.metaData,e)},m.prototype._getInputBehavior=function(){for(var t,i,r=0;r<this.Features.length;r++)if((i=this.Features[r])instanceof e.Features.InputBehavior){t=i;break}return t||(t=new e.Features.InputBehavior,this.Features.push(t),t.setMetaData(this.metaData)),t},m.prototype._makeInputBehave=function(e){return this._getInputBehavior().getDisplayText(this._inputInProgress,e,this._textDetails.wrappedTexts)},m.prototype._getInitialInput=function(){var t,i,r,n=this._getInputBehavior().getInitialInput(this.getAttribute("value")),a=this.getAttribute(s),o=this._isBooleanFormat;return!1===o&&(!0===n||!1===n||(n=n.toString()).length>0)&&(o=!0),a.length&&o&&((t=a.indexOf("{"))>-1&&(i=a.indexOf("}"))>t&&(a=a.substring(t,i+1),n=e.convertFormatPattern(n,a)),(r=e.format2Type(a))!==this._hmiFieldDataTypeEnum.Binary&&r!==this._hmiFieldDataTypeEnum.Hex||(n=n.replace(/\s+/g,""))),n},m.prototype._getBoolValue=function(t){return null!=t&&(t=e.Utilities.convertToBool(t)),t},m.prototype._dateTimePickerCb=function(e,t){var i=0,r=this.getAttribute("target");this.RTPUItem.Store._vt&&(i=this.RTPUItem.Store._vt),t=0!==r.indexOf("HmiProps.")||i!==window.Variant.CF_VT.TIMESPAN&&i!==window.Variant.CF_VT.DATETIME?window.DatePrecise(t).getTime():this._isTimeSpanFormat||i===window.Variant.CF_VT.TIMESPAN?window.Variant(t,window.Variant.CF_VT.TIMESPAN):window.DatePrecise(t),this._setItemProps(t,r)},m.prototype._styleInputCapturer=function(e){var t,i,r,n,a,o=!1,s=!0;i=(t=e.childNodes[0]).childNodes[0],n=this._getFontFeature(),r=this._getInitialInput(),this._getInputBehavior().getProperty("hidden-input")&&(o=!0,r=r.replace(/\n/g,"")),i&&(o&&("textarea"===i.type||"text"===i.type)||!o&&"password"===i.type?t.removeChild(i):s=!1),s&&(o?(i=document.createElement("input")).setAttribute("type","password"):this._getBoolValue(this.getAttribute(l))?(i=document.createElement("textarea")).style.resize="none":i=document.createElement("input"),i.setAttribute("id","TextField_Key_Collector_Input"),i.setAttribute("autocapitalize","none"),i.tabIndex=0,i.style.display="block",i.style.padding="0px",i.style.border="none",i.style.outline="none",i.style.background="transparent",t.appendChild(i)),this._setInputDim(e),i.style.fontFamily=n.getAttribute("name"),i.style.fontSize=n.getAttribute("size")+"px",i.style.fontWeight=n.getWeightSVG(),i.style.fontStyle=n.getFontStyleSVG(),i.style.textDecoration=n.getTextDecoration(),i.style.color=this.getAttribute("fore-color"),i.value=r,a=r.length,i.setSelectionRange(a,a)},m.prototype._setInputDim=function(e){var t=this._getPaddingObject(),i=parseFloat(this.Attributes.width)-t.left,r=parseFloat(this.Attributes.height)-t.top,n="outline:none; padding-top:"+(parseFloat(this.Attributes[h])+t.top)+"px; padding-left:"+(parseFloat(this.Attributes[u])+t.left)+"px; overflow:hidden; width:"+i+"px; height:"+r+"px; pointer-events:visiblePainted; display:block;",a=e.childNodes[0].childNodes[0];e.setAttribute("style",n),a.style.height=r+"px",a.style.width=i+"px"},m.prototype._startInputCapture=function(t){if(t&&t.preventDefault(),this._isDateTimeFormat){var i=void 0,r=void 0,n=void 0,l=void 0;"string"==typeof(r=this.getAttribute("value"))&&(r=this.RTPUItem.Store._vt&&this.RTPUItem.Store._vt===window.Variant.CF_VT.DOUBLE?window.Big(r):Number(r)),"number"==typeof r?(n=(r-(l=r%1e3))/1e3,(i=window.DatePrecise([n,0])).setMilliseconds(l)):i=window.DatePrecise(r);var u={type:e.format2Type(this.getAttribute(s)),defaultDate:i,callback:this._dateTimePickerCb.bind(this),timeZonePreference:this.timeZonePreference};return this.RTPUItem.Store.gfxWebLib.dialogs.showDateTimePicker(this.RTPUItem.Store,u),void(this.inputHint&&!this.inputHintNode&&"focused"===this.inputHint.Attributes.show&&this.appendInputHint())}if(!this._inputInProgress){this._inputInProgress=!0,this._inputModified=!1,this._elementProvider.reset(),this._elementProvider.finish(),this._removeVScrollbar(),this._removeHScrollbar();var h=void 0;if(!this.htmlDiv){h=this.RTPUItem.RootNode;var d=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");d.style.pointerEvents="none",d.setAttribute("width","100%"),d.setAttribute("height","100%"),this.RTPUItem.Parent?h.lastElementChild.appendChild(d):h.appendChild(d),this.htmlDiv=document.createElement("div"),this.htmlDiv.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),d.appendChild(this.htmlDiv)}h=this.htmlDiv;var c,p=void 0;(p=this._inputDivElement)?(p.parentNode&&p.parentNode.removeChild(p),c=p.childNodes[0]):((p=this._inputDivElement=document.createElement("div")).setAttribute("id","TextField_Key_Collector_Div"),(c=document.createElement("label")).setAttribute("id","TextField_Key_Collector_Label"),c.style.display="block",c.setAttribute("draggable","false"),p.appendChild(c)),this._styleInputCapturer(p),h.appendChild(p),c.addEventListener("keydown",this._eventCbs.keyDown,!1),c.addEventListener("keypress",this._eventCbs.keyPress,!1),c.addEventListener("keyup",this._eventCbs.stopPropagationHandler,!1),c.addEventListener(this._inputEvent,this._eventCbs.stopPropagationHandler,!1),c.addEventListener("input",this._eventCbs.onInputModified,!1),c.addEventListener("dragstart",this._eventCbs.onDragStart,!1),a=p,o||(o=document.activeElement),c.focus&&(navigator.userAgent.indexOf("Windows")<0?c.focus({preventScroll:!0}):setTimeout((function(){c.focus({preventScroll:!0})}),100))}this.inputHint&&!this.inputHintNode&&"focused"===this.inputHint.Attributes.show&&this.appendInputHint()},m.prototype.appendInputHint=function(){var e,t,i;this.inputHint&&("IOField"!==this.RTPUItem.Store.props.Type?(t=(e=this.RTPUItem.Store.domNode.getBoundingClientRect()).top,i=e.left,this.inputHintNode=this.inputHint.setInputHintDivDomAttributes(t,i,this.Attributes.height,this.Attributes.width),this.inputHintNode.appendChild(this.inputHint.dom),this.RTPUItem.Store.domParent.appendChild(this.inputHintNode)):(this.inputHintNode=this.inputHint.setInputHintSvgAttributes(this.Attributes.height,this.Attributes.width),this.RTPUItem.RootNode.setAttribute("overflow","visible"),this.RTPUItem.RootNode.appendChild(this.inputHintNode)))},m.prototype.removeInputHintDiv=function(){this.inputHint&&this.inputHintNode&&("IOField"!==this.RTPUItem.Store.props.Type?this.RTPUItem.Store.domParent.removeChild(this.inputHintNode):this.RTPUItem.RootNode.removeChild(this.inputHintNode),this.inputHintNode=null,this.inputHint=null)},m.prototype._keyDown=function(t){if(this._inputInProgress){var r,n,a=!1;switch(t.keyCode){case i.ENTER:if(t.preventDefault(),t.shiftKey&&this._getBoolValue(this.getAttribute(l))&&this._checkCharCode(e.format2Type(this.getAttribute(s)),i.ENTER,t.target)){var o=t.target,u=o.value.split(""),h=void 0,d=void 0;o.selectionStart<o.selectionEnd?(h=o.selectionStart,d=o.selectionEnd):(h=o.selectionEnd,d=o.selectionStart),this._getInputBehavior().getProperty("hidden-input")?u.splice(h,d-h,""):u.splice(h,d-h,"\n"),o.value=u.join(""),o.setSelectionRange(h+1,h+1)}else t.shiftKey&&t.stopPropagation(),r=this.getAttribute("target"),n=this._getValueToSet(),a=!0,this._onInputModified();break;case i.TAB:this._getInputBehavior().getProperty("accept-on-deactivated")&&(r=this.getAttribute("target"),n=this._getValueToSet(),this._onInputModified()),a=!0;break;case i.ESC:a=!0}r&&this._inputModified&&(void 0===n&&(n=this.getAttribute("value")),this._setItemProps(n,r),t.keyCode===i.ENTER&&this.RTPUItem.Store.handler.OnValueAccepted&&this.RTPUItem.Store.handler.OnValueAccepted(this.RTPUItem.Store)),a?(this._deactivateInput(),this.draw(),this.onValueChanged&&this.onValueChanged()):t.stopPropagation()}},m.prototype._keyPress=function(t){t.stopPropagation();var i=t.target;t.charCode&&this._inputInProgress&&!this._checkCharCode(e.format2Type(this.getAttribute(s)),t.charCode,i)&&(t.preventDefault(),this._getInputBehavior().getProperty("clear-on-invalid-input")&&(i.value=""))},m.prototype._stopPropagationHandler=function(e){return e.stopPropagation(),!1},m.prototype._onInputModified=function(){this._inputModified=!0,this._inputDivElement.childNodes[0].removeEventListener("input",this._eventCbs.onInputModified,!1)},m.prototype._onDragStart=function(e){return e.preventDefault(),!1},m.prototype._getValueToSet=function(){var t=this._inputDivElement.childNodes[0].childNodes[0].value;return this._getInputBehavior().getProperty("hidden-input")&&(t=t.replace(/\u0085/g,"\n")),t=this._convertString2DataType(t,e.format2Type(this.getAttribute(s)))},m.prototype.focusOut=function(){if(this._inputInProgress){if(this._getInputBehavior().getProperty("accept-on-deactivated")){this._onInputModified();var e=this._getValueToSet();void 0===e&&(e=this.getAttribute("value"));var t=this.getAttribute("target");this._setItemProps(e,t),this.onValueChanged?this.onValueChanged(t,e):this.RTPUItem.PropertyChangedCallback&&this.RTPUItem.PropertyChangedCallback(t,e)}this._deactivateInput()}this.draw()},m.prototype.checkAndConvertEnum=function(t,i){var r;"number"==typeof this.Attributes[t]&&(null!=(r=e.Utilities.getEnumKeyByValue(i,this.Attributes[t]))?this.Attributes[t]=r:e.trace(e.enumTraceMode.Warning,"Cannot draw a TextField with an invalid "+i+" enum"))},m.prototype.checkAndConvertEnums=function(){this.checkAndConvertEnum("horizontal-text-alignment","HmiHorizontalAlignment"),this.checkAndConvertEnum("vertical-text-alignment","HmiVerticalAlignment"),this.checkAndConvertEnum("text-wrapping","HmiTextWrapping"),this.checkAndConvertEnum("text-trimming","HmiTextTrimming"),this.checkAndConvertEnum(c,"HmiScrollBarVisibility"),this.checkAndConvertEnum(d,"HmiScrollBarVisibility")},m.prototype.isValid=function(){return isNaN(parseInt(this.Attributes[u]))?(e.trace(e.enumTraceMode.Warning,"Cannot draw a TextField with invalid start-x"),!1):!isNaN(parseInt(this.Attributes[h]))||(e.trace(e.enumTraceMode.Warning,"Cannot draw a TextField with invalid start-y"),!1)},m.prototype.handleHorizontalTextAlignment=function(e,t){var i=this.Attributes[e],r="left"===i?"start":"right"===i?"end":"middle",n=this._getPaddingObject(),a=parseInt(this.Attributes.width,10)-n.left-n.right,o=Math.floor("start"===r?0:"middle"===r?a/2:a);t["text-anchor"]=r,t.x=o},m.prototype.handleOutputFormat=function(){this._isDateTimeFormat=!1,this._isBooleanFormat=!1;var t=e.format2Type(this.getAttribute(s));t===this._hmiFieldDataTypeEnum.DateTime||t===this._hmiFieldDataTypeEnum.Date||t===this._hmiFieldDataTypeEnum.Time||t===this._hmiFieldDataTypeEnum.TimeSpan?this._isDateTimeFormat=!0:t===this._hmiFieldDataTypeEnum.Binary&&(this._isBooleanFormat=!0)},m.prototype.handleInputEvent=function(){var t=!1;if(e.isAppModeRuntime()&&e.Utilities.convertToBool(this.getAttribute("enabled"))&&!e.Utilities.convertToBool(this.getAttribute("read-only"))){if(!this._inputCaptureAdded){var i=[{element:this.childDom,eventName:e.enumEventType.tapped,handler:this._eventCbs.startInputCapture}];e.registerEvent(i,this.RTPUItem),this._inputCaptureAdded=!0}}else if(this._inputCaptureAdded){i=[{element:this.childDom,eventName:e.enumEventType.tapped,handler:this._eventCbs.startInputCapture}];e.unregisterEvent(i),this._inputCaptureAdded=!1,this._inputInProgress&&(this._inputInProgress=!1,this._deactivateInput()),t=!0}return t},m.prototype.getPropObject=function(e){for(var t=!1,i=!1,r={},n=this._dirtyList.length,a=0;a<n;a++){var o=this._dirtyList[a];switch(o){case"fore-color":r.fill=this.getAttribute(o);break;case"horizontal-text-alignment":this.handleHorizontalTextAlignment(o,r),t=!0;break;case"value":this._inputInProgress||t||(t=t||this.updateTextContent());break;case s:this.handleOutputFormat(),t=!0;break;case"enabled":case"read-only":this.handleInputEvent()&&(t=!0);break;case"height":case"width":case u:t=!0;break;case h:e?i=!0:t=!0;break;case l:!1===this._getBoolValue(this.getAttribute(l))&&(this._textDetails.wrappedTexts={},this._isVerticalScrollbarVisible=!1,this._isHorizontalScrollbarVisible=!1),t=!0;break;default:t=!0}}return this._dirtyList=[],{prop:r,createFlag:t,changeInputDim:i}},m.prototype.update=function(){var t=0,i=null,r=!1,n=!1,a={prop:{},createFlag:!1,changeInputDim:!1};if(this.initialized){for(this.checkAndConvertEnums(),(t=this.metaData.dirtyList.indexOf(this))>-1&&(this.metaData.dirtyList.splice(t,1),this._inputInProgress&&(i=this._inputDivElement)&&i.childNodes[0]&&i.childNodes[0].childNodes[0]&&(n=!0),a=this.getPropObject(n),this._setTextNodeProps(a.prop));this.metaData.dirtyList.length;){var o=this.metaData.dirtyList.pop();!1===this._inputInProgress&&(o instanceof e.Features.Font||o instanceof e.Features.InputBehavior&&(o.dirtyList.indexOf("hidden-input")>-1||o.dirtyList.indexOf("scope")>-1))&&(r=!0),o.redraw(this.RTPUItem,this.metaData)}a.createFlag?this.create(this.RTPUItem):r?this.draw():a.changeInputDim&&this._setInputDim(i)}},m.prototype.propertyChanged=function(e){this.metaData&&-1===this.metaData.dirtyList.indexOf(this)&&this.metaData.dirtyList.push(this),-1===this._dirtyList.indexOf(e)&&this._dirtyList.push(e)},m.prototype.remove=function(){if(this._removeVScrollbar(),this._removeHScrollbar(),this._verticalScrollbarTemplateInstance=null,this._horizontalScrollbarTemplateInstance=null,this.focusRect&&(this.RTPUItem.rootItem.RootFocusManager.unregisterFocusArea(this.focusRect),delete this.focusRect),this._dirtyList=[],this._elementProvider.cleanup(),this._eventCatcher.cleanup(),this._elementProvider=null,this._eventCatcher=null,this.defs=null,this._inputCaptureAdded&&this.childDom){var t=[{element:this.childDom,eventName:e.enumEventType.tapped,handler:this._eventCbs.startInputCapture}];e.unregisterEvent(t),this._inputInProgress&&this._deactivateInput()}this._inputDivElement=null,this.childDom=null,this._eventCbs.startInputCapture=null,this._eventCbs.keyDown=null,this._eventCbs.keyPress=null,this._eventCbs.stopPropagationHandler=null,this._eventCbs.onInputModified=null,this.removeInputHintDiv(),p.prototype.remove.call(this)},m.prototype._setInitialFontAttributes=function(){if(!this._isInitialFontAttributesRead){var t=this._getFontFeature();t.Attributes.scope?t.mergeWithScope():e.Utilities.mergeWithDefaults(t.Attributes,t.defaults),this._isInitialFontAttributesRead=!0}},m.prototype._actualizeTextNodeInformation=function(e){this._activeTextDOMNodes=e,this._textPositionY=[],this._textPositionX=[];for(var t=0;t<this._activeTextDOMNodes.length;t++)this._textPositionY[t]=+this._activeTextDOMNodes[t].getAttributeNS(null,"y"),this._textPositionX[t]=+this._activeTextDOMNodes[t].getAttributeNS(null,"x")},m.prototype.cbOnCommandVScrollbar=function(e,t,i){},m.prototype.cbOnCommandHScrollbar=function(e,t,i){},m.prototype.cbOnProcessValueChangedVScrollbar=function(e,t){for(var i="",r=0;r<this._textPositionY.length;r++)i=(this._textPositionY[r]-t).toString(),this._activeTextDOMNodes[r].setAttributeNS(null,"y",i)},m.prototype.cbOnProcessValueChangedHScrollbar=function(e,t){for(var i="",r=0;r<this._textPositionX.length;r++)i=(this._textPositionX[r]-t).toString(),this._activeTextDOMNodes[r].setAttributeNS(null,"x",i)},m.prototype.cbOnTemplateLoadedVScrollbar=function(e,t){e.templateInstance.RootNode.setAttribute("x",e.props.Left),e.templateInstance.RootNode.setAttribute("y",e.props.Up)},m.prototype.cbOnTemplateLoadedHScrollbar=function(e,t){e.templateInstance.RootNode.setAttribute("x",e.props.Left),e.templateInstance.RootNode.setAttribute("y",e.props.Up)},m.prototype._createVScrollData=function(){var e=this._getPaddingObject();return{BeginValue:0,Height:parseInt(this.Attributes.height,10)-e.top-e.bottom,Width:this._verticalScrollbarWidth,Left:parseInt(this.Attributes[u],10)+(parseInt(this.Attributes.width,10)-e.right),Up:parseInt(this.Attributes[h],10)+e.top,EndValue:this._totalTextHeight,CurrentValue:0,cbOnChanged:this.cbOnProcessValueChangedVScrollbar.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoadedVScrollbar.bind(this),cbOnCommand:this.cbOnCommandVScrollbar.bind(this),VisibleValueRange:parseInt(this.Attributes.height,10)-e.top-e.bottom,SmallStepValueRange:Math.floor(this._totalTextHeight/this._lineHeight)}},m.prototype._createHScrollData=function(){var e=this._getPaddingObject(),t=this.Attributes["horizontal-text-alignment"],i=parseInt(this.Attributes.width,10)-e.left-e.right,r=Math.ceil(this._longestTextLine/i);return{BeginValue:"left"===t?0:"right"===t?-1*this._longestTextLine+i:this._longestTextLine/2*-1+i/2,Height:this._horizontalScrollbarHeight,Width:parseInt(this.Attributes.width,10)-e.left-e.right,Left:parseInt(this.Attributes[u],10)+e.left,Up:parseInt(this.Attributes[h],10)+(parseInt(this.Attributes.height,10)-e.bottom),EndValue:"left"===t?this._longestTextLine:"right"===t?i:this._longestTextLine/2+i/2,CurrentValue:"left"===t?0:"right"===t?i:i/2,cbOnChanged:this.cbOnProcessValueChangedHScrollbar.bind(this),cbOnTemplateLoaded:this.cbOnTemplateLoadedHScrollbar.bind(this),cbOnCommand:this.cbOnCommandHScrollbar.bind(this),VisibleValueRange:parseInt(this.Attributes.width,10)-e.left-e.right,SmallStepValueRange:r>50?50:r}},m.prototype._createVerticalScrollbar=function(){if(this._removeVScrollbar(),this._isVerticalScrollbarVisible&&!this._verticalScrollbarBase){var t;this._verticalScrollbarBase=e.Utilities.createScrollBarObj(this,"Vertical",this._createVScrollData()),t={ActualX:0,ActualY:0,ActualWidth:this._verticalScrollbarBase.props.Width,ActualHeight:this._verticalScrollbarBase.props.Height},this._verticalScrollbarTemplateInstance=e.loadSubTemplate(this._verticalScrollbarBase.node,this._verticalScrollbarBase,"ScrollBarSystemPart",this._verticalScrollbarBase.props.RenderingTemplate,this._verticalScrollbarBase.cbOnChanged.bind(this),this._verticalScrollbarBase.cbOnTemplateLoaded.bind(this),t)}},m.prototype._createHorizontalScrollbar=function(){if(this._removeHScrollbar(),this._isHorizontalScrollbarVisible&&!this._horizontalScrollbarBase){var t;this._horizontalScrollbarBase=e.Utilities.createScrollBarObj(this,"Horizontal",this._createHScrollData()),t={ActualX:0,ActualY:0,ActualWidth:this._horizontalScrollbarBase.props.Width,ActualHeight:this._horizontalScrollbarBase.props.Height},this._horizontalScrollbarTemplateInstance=e.loadSubTemplate(this._horizontalScrollbarBase.node,this._horizontalScrollbarBase,"ScrollBarSystemPart",this._horizontalScrollbarBase.props.RenderingTemplate,this._horizontalScrollbarBase.cbOnChanged.bind(this),this._horizontalScrollbarBase.cbOnTemplateLoaded.bind(this),t)}},m.prototype._removeVScrollbar=function(){this._verticalScrollbarBase&&this._verticalScrollbarBase.templateInstance&&(e.removeSubTemplate(this._verticalScrollbarBase.templateInstance),this._verticalScrollbarBase=null)},m.prototype._removeHScrollbar=function(){this._horizontalScrollbarBase&&this._horizontalScrollbarBase.templateInstance&&(e.removeSubTemplate(this._horizontalScrollbarBase.templateInstance),this._horizontalScrollbarBase=null)},m}(e.NVEBase);e.TextField=p}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),function(e){!function(e){!function(e){var t=function(){function t(){}return t.getDataProvider=function(e,t){return Array.isArray(e.Store.dataProvider)?e.Store.getDataProvider(t):e.Store.dataProvider},t.getThresholdMode=function(e){var i,r=t.thresholdMode;switch(e){case r.Lower:i="lower";break;case r.Normal:i="normal";break;case r.Upper:i="upper";break;case r.Minimum:i="minimum";break;case r.Maximum:i="Maximum"}return i},t.mergeWithDefaults=function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e},t.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.rotateSVGObject=function(e,t,i,r){var n;return void 0===i&&(i="0"),void 0===r&&(r="0"),t&&"0"!==t?(n="0"!==i||"0"!==r?"rotate("+t+","+i+","+r+")":"rotate("+t+")",this.transformSVGObject(e,n)):e},t.transformSVGObject=function(e,t){var i=e.getAttribute("transform");return i?e.setAttribute("transform",t+" "+i):e.setAttribute("transform",t),e},t.resetSVGObject=function(e){return e.getAttribute("transform")&&e.removeAttribute("transform"),e},t.preprocessCoordinateForSVG=function(e,t){void 0===t&&(t=!1);var i=1e6;return t?Math.round(e*i)/i:Math.round(e)},t.isInRange=function(e,t,i){return e>=Math.min(t,i)&&e<=Math.max(t,i)},t.restrictToRange=function(e,t,i){var r=Math.min(t,i),n=Math.max(t,i);return Math.min(Math.max(e,r),n)},t.convertToBool=function(t){if("string"==typeof t)switch(t){case"1":case"on":case"true":return!0;case"0":case"off":case"false":return!1;default:return null}else{if("number"==typeof t)return 1===t;if("boolean"==typeof t)return t}return e.trace(e.enumTraceMode.Warning,"Couldnt convert Value to Bool: "+t),null},t.cubicRoot=function(e){var i=1/3;return e>0?t.getExponentValue(i,e):e<0?-t.getExponentValue(i,-e):e},t.normalizeAngle=function(e){var t=360;return(e>t||e<-360)&&(e%=t),e=e<0?e+t:e},t.getEnumKeyByValue=function(t,i){var r=e.getChromEnum(t);for(var n in r)if(r[n]===i)return n.toLowerCase();return null},t.createScrollBarObj=function(t,i,r){var n,a=e.getSystemPart("ScrollBarSystemPart");return(n={}).handler={},n.props=a,n.props.BeginValue=r.BeginValue,n.props.Visible=!0,n.props.Floating=!1,n.props.Orientation=e.getChromEnum("HmiOrientation")[i],n.props.Height=r.Height,n.props.Width=r.Width,n.props.VisibleValueRange=r.VisibleValueRange,n.props.EndValue=r.EndValue,n.props.SmallStepValueRange=r.SmallStepValueRange,n.props.CurrentValue=r.CurrentValue,n.props.Left=r.Left,n.props.Up=r.Up,n.cbOnTemplateLoaded=r.cbOnTemplateLoaded,n.cbOnChanged=r.cbOnChanged,n.handler.onCommand=r.cbOnCommand,n.gfxWebLib=t.RTPUItem.Store.gfxWebLib,n.parentItem=t,n.node=t.dom,n},t.cloneObj=function(e){if(Array.isArray(e)){for(var i=[],r=0;r<e.length;r++)i[r]=e[r].clone();return i}if("object"==typeof e){var n={};for(var a in e)e.hasOwnProperty(a)&&(e[a]===Object?n[a]=t.cloneObj(e[a]):n[a]=e[a]);return n}return e},t.getMousePoint=function(e,t){var i,r,n,a={x:0,y:0};return window.convertPointFromPageToNode&&(void 0!==e.pageX&&null!==e.pageX&&void 0!==e.pageY&&null!==e.pageY?(r=e.pageX,n=e.pageY):e.changedPointers&&e.changedPointers.length>0?(r=e.changedPointers[0].pageX,n=e.changedPointers[0].pageY):e.changedTouches&&e.changedTouches.length>0&&(r=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY),i=window.convertPointFromPageToNode(t,r,n),a.x=i.x,a.y=i.y),a},t.getQualityOfValue=function(t){var i,r=e.Data.QualityLowerLimit;return t>=r.Good?i=e.Data.QualityCode.Good:t>=r.Uncertain?i=e.Data.QualityCode.Uncertain:t>=r.Bad&&(i=e.Data.QualityCode.Bad),i},t.getContrastColor=function(e){var i=e.split("rgba(")[1].split(",").map((function(e){return+e/255})),r=[i[0],i[1],i[2]].map((function(e){return e<=.03928?e/12.92:t.getExponentValue(2.4,(e+.055)/1.055)}));return.2126*r[0]+.7152*r[1]+.0722*r[2]>.179?"rgba(0,0,0,1)":"rgba(255,255,255,1)"},t.getInvertedColor=function(e){var t,i=16,r=16777215;return"number"==typeof e?(t=(e=e.toString(i)).slice(2),t=parseInt(t,i),t=("00000"+(t=(t^=r).toString(i))).slice(-6),t=e.slice(0,2)+t,t=parseInt(t,i)):-1!==e.indexOf("rgba")?t="rgba("+(255-(t=e.split("rgba(")[1].split(","))[0])+","+(255-t[1])+","+(255-t[2])+","+t[3]:(t=e.slice(1),t=parseInt(t,i),t="#"+(t=("00000"+(t=(t^=r).toString(i))).slice(-6))),t},t.getExponentValue=function(e,t){return void 0===t&&(t=10),Math.pow(t,e)},t.trimNum=function(e,i,r){var n=t.getExponentValue(i);return r=r||"round",Number(Math[r](parseFloat(e)*n)/n)},t.floatSub=function(e,i){var r,n,a=0,o=0;e=e.toString(),i=i.toString(),(n=e.indexOf("."))>-1&&(a=e.length-n-1),(n=i.indexOf("."))>-1&&(o=i.length-n-1),r=a>o?a:o;var s=t.getExponentValue(r);return(t.floatMul(parseFloat(e),s)-this.floatMul(parseFloat(i),s))/s},t.floatMul=function(e,i){var r,n={},a={};return e=e.toString(),i=i.toString(),e.indexOf("e")>-1||i.indexOf("e")>-1?r=e*i:-1===e.indexOf("e")&&-1===e.indexOf(".")&&-1===i.indexOf("e")&&-1===i.indexOf(".")?r=parseInt(e,10)*parseInt(i,10):(n.number=e,n.exp=0,n.eNum=0,n.denominator=1,n.numerator=1,a.number=i,a.exp=0,a.eNum=0,a.denominator=1,a.numerator=1,n=t.calcMethod(n),a=t.calcMethod(a),r=parseInt(n.number,10)/t.getExponentValue(n.exp)*(parseInt(a.number,10)/t.getExponentValue(a.exp))*(a.numerator*n.numerator/(n.denominator*a.denominator))),r},t.calcMethod=function(e){var i,r,n,a="0",o=e.number.toString();return(o.indexOf(".")>-1||o.indexOf("e")>-1)&&(n=o,(r=o.indexOf("e"))>-1&&(a=o.substring(r+1,n.length),n=o=o.substring(0,r)),(i=o.indexOf("."))>-1&&(o=o.substring(0,i),o+=n=n.substring(i+1,n.length),e.exp=o.length-i,o=+o)),e.number=o,e.eNum=parseInt(a,10),e.eNum<0?(e.eNum*=-1,e.denominator*=t.getExponentValue(e.eNum)):e.numerator*=t.getExponentValue(e.eNum),e},t.floatAdd=function(e,i){var r,n,a=0,o=0,s=0;if(e.toString().indexOf("e")>-1&&i.toString().indexOf("e")>-1)n=e+i;else if(0===e)n=i;else if(0===i)n=e;else{e=e.toString(),i=i.toString(),(r=e.indexOf("."))>-1&&(o=e.length-r-1),(r=i.indexOf("."))>-1&&(s=i.length-r-1),a=o>s?o:s;var l=t.getExponentValue(a);n=(this.floatMul(parseFloat(e),l)+this.floatMul(parseFloat(i),l))/l}return n},t.getProjectMajorVersion=function(e){var t;if(e)return(t=e.Store.gfxWebLib.getProjectVersion())&&t.length>0?parseInt(t.split(".")[0]):t},t.loadImage=function(t,i,r){var n=new Image;n.onload=function(){return r(n.src)},n.onerror=function(){return e.trace(e.enumTraceMode.Error,"Image Cannot be loaded"+i)},n.src=e.toHRef(i,t)},t.toInitialCap=function(e){var t=(null==e?void 0:e.length)||0,i="",r="";return t>0&&(i=e[0].toUpperCase(),t>1&&(r=e.substring(1))),""+i+r},t.equals=function(e,i){var r,n;return e===i||typeof e==typeof i&&(null!==e&&null!==i&&("object"==typeof e?e.constructor===i.constructor&&(e instanceof Array?e.length===i.length&&e.every((function(e,r){return t.equals(e,i[r])})):(r=Object.keys(e),n=Object.keys(i),r.length===n.length&&r.every((function(r){return t.equals(e[r],i[r])})))):e===i))},t.thresholdMode={Upper:1,Lower:2,Normal:3,Minimum:4,Maximum:5},t}();e.Utilities=t}(e.NVEs||(e.NVEs={}))}(e.Lib||(e.Lib={}))}(i||(i={})),e.exports={NVES:i.Lib.NVEs}},511:function(e,t,i){var r;
/*!
 * Globalize v1.4.3 2020-03-19T12:34Z Released under the MIT license
 * http://git.io/TrdQbw
 */r=function(e){var t=function(e,t){return e=e.replace(/{[0-9a-zA-Z-_. ]+}/g,(function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),"string"==typeof(i=t[e])?i:"number"==typeof i?""+i:JSON.stringify(i);var i}))},i=function(){var e=arguments[0];return[].slice.call(arguments,1).forEach((function(t){var i;for(i in t)e[i]=t[i]})),e},r=function(e,r,n){var a;return r=e+(r?": "+t(r,n):""),(a=new Error(r)).code=e,i(a,n),a},n=function(e){return JSON.stringify(e,(function(e,t){return t&&t.runtimeKey?t.runtimeKey:t}))},a=function(e,t,i,n){if(!i)throw r(e,t,n)},o=function(e){return Array.isArray(e)?e:e?[e]:[]},s=function(e,t,i){var r;r=o((i=i||{}).skip).some((function(t){return t.test(e)})),a("E_MISSING_CLDR","Missing required CLDR content `{path}`.",t||r,{path:e})},l=function(e,t){a("E_MISSING_PARAMETER","Missing required parameter `{name}`.",void 0!==e,{name:t})},u=function(e,t,i,r){a("E_INVALID_PAR_TYPE","Invalid `{name}` parameter ({value}). {expected} expected.",i,{expected:r,name:t,value:e})},h=function(t,i){u(t,i,void 0===t||"string"==typeof t||t instanceof e,"String or Cldr instance")},d=function(e){return null!==e&&""+e=="[object Object]"},c=function(t){return t instanceof e?t:new e(t)};function p(e){e.once("get",s),e.get("supplemental/likelySubtags")}function m(e){if(!(this instanceof m))return new m(e);l(e,"locale"),h(e,"locale"),this.cldr=c(e),p(this.cldr)}return m.load=function(){e.load.apply(e,arguments)},m.locale=function(e){return h(e,"locale"),arguments.length&&(this.cldr=c(e),p(this.cldr)),this.cldr},m._alwaysArray=o,m._createError=r,m._formatMessage=t,m._isPlainObject=d,m._objectExtend=i,m._regexpEscape=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},m._runtimeBind=function(e,t,i,r){var a=n(e),o=function(e){if(void 0!==e.name)return e.name;var t=/^function\s+([\w\$]+)\s*\(/.exec(e.toString());return t&&t.length>0?t[1]:void 0}(i),s=t.locale;return o?(i.runtimeKey=function(e,t,i,r){var a,o;return r=r||n(i),o=e+t+r,(a=[].reduce.call(o,(function(e,t){return 0|(e<<5)-e+t.charCodeAt(0)}),0))>0?"a"+a:"b"+Math.abs(a)}(o,s,null,a),i.generatorString=function(){return'Globalize("'+s+'").'+o+"("+a.slice(1,-1)+")"},i.runtimeArgs=r,i):i},m._stringPad=function(e,t,i){var r;for("string"!=typeof e&&(e=String(e)),r=e.length;r<t;r+=1)e=i?e+"0":"0"+e;return e},m._validate=a,m._validateCldr=s,m._validateDefaultLocale=function(e){a("E_DEFAULT_LOCALE_NOT_DEFINED","Default locale has not been defined.",void 0!==e,{})},m._validateParameterPresence=l,m._validateParameterRange=function(e,t,i,r){a("E_PAR_OUT_OF_RANGE","Parameter `{name}` has value `{value}` out of range [{minimum}, {maximum}].",void 0===e||e>=i&&e<=r,{maximum:r,minimum:i,name:t,value:e})},m._validateParameterTypePlainObject=function(e,t){u(e,t,void 0===e||d(e),"Plain Object")},m._validateParameterType=u,m},e.exports=r(i(155))},914:function(e,t,i){var r;
/*!
 * Globalize v1.4.3 2020-03-19T12:34Z Released under the MIT license
 * http://git.io/TrdQbw
 */r=function(e,t){var i=t._createError,r=t._createErrorUnsupportedFeature,n=t._formatMessage,a=t._isPlainObject,o=t._looseMatching,s=t._numberNumberingSystemDigitsMap,l=t._numberSymbol,u=t._regexpEscape,h=t._removeLiteralQuotes,d=t._runtimeBind,c=t._stringPad,p=t._validate,m=t._validateCldr,g=t._validateDefaultLocale,T=t._validateParameterPresence,f=t._validateParameterType,y=t._validateParameterTypePlainObject,D=t._validateParameterTypeString,S=function(e,t){f(e,t,void 0===e||e instanceof Date,"Date")},b="GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx".split("").reduce((function(e,t,i){return e[t]=i,e}),{}),C=function(e,t){return t=t||function(e,t,i){return e[i]=t,e},Object.keys(e).reduce((function(i,r){return t(i,r,e[r])}),{})},v=C({e:"eEc",L:"ML"},(function(e,t,i){return i.split("").forEach((function(i){e[i]=t})),e})),P=function(e){return v[e]||e},_=/([a-z])\1*|'([^']|'')+'|''|./gi,A=function(e,t){var i,r="";for(i=0;i<t;i++)r+=e;return r},w=function(e,t,i){var r,n,a;return r=(n=e.match(/S/g))?n.length:0,-1!==(a=(t=function(e,t){var i,r,n,a,o,s,l,u,h=P;for(u=e.match(_),n=t.match(_),i=0;i<n.length;i++)for(a=n[i].charAt(0),o=n[i].length,r=0;r<u.length;r++)s=u[r].charAt(0),l=u[r].length,h(a)===h(s)&&o<l&&(n[i]=A(a,l));return n.join("")}(e.replace(/S/g,""),t)).lastIndexOf("s"))&&0!==r&&(t=t.slice(0,a+1)+i+A("S",r)+t.slice(a+1)),t},x=function(e,t){var i,r,n,a,o,s,l,u,h,d=P;if(e===t)return 0;if(e=e.match(_),t=t.match(_),e.length!==t.length)return-1;for(n=1,u=0;u<e.length;u++){for(s=d(i=e[u].charAt(0)),l=null,h=0;h<t.length&&s!==(l=d(r=t[h].charAt(0)));h++)l=null;if(null===l)return-1;a=e[u].length,o=t[h].length,n+=Math.abs(a-o),i!==r&&(n+=1),(a<3&&o>=3||a>=3&&o<3)&&(n+=20)}return n},V=function(e,t){var i,r,n,a,o,s="dates/calendars/gregorian/dateTimeFormats/availableFormats",u=w,h=x;if(n=e.main([s,t]),t&&!n){for(o in a=[],i=e.main([s]))a.push({skeleton:o,pattern:i[o],rate:h(t,o)});(a=a.filter((function(e){return e.rate>-1})).sort((function(e,t){return e.rate-t.rate}))).length&&(r=l("decimal",e),n=u(t,a[0].pattern,r))}return n},E=function(e,t){var r,a,o,s,l,u=V;function h(e,i,r){return n(t.main(["dates/calendars/gregorian/dateTimeFormats",e]),[r,i])}switch(!0){case"skeleton"in e:if(function(e){var t,r=b;e.replace(/[^GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx]/,(function(t){throw i("E_INVALID_OPTIONS","Invalid field `{invalidField}` of skeleton `{value}`",{invalidField:t,type:"skeleton",value:e})})),e.split("").every((function(n){if(r[n]<t)throw i("E_INVALID_OPTIONS","Invalid order `{invalidField}` of skeleton `{value}`",{invalidField:n,type:"skeleton",value:e});return t=r[n],!0}))}(o=(o=e.skeleton).replace(/j/g,(function(){return t.supplemental.timeData.preferred()}))),a=u(t,o))break;s=o.split(/[^hHKkmsSAzZOvVXx]/).slice(-1)[0],r=o.split(/[^GyYuUrQqMLlwWdDFgEec]/)[0],r=u(t,r),s=u(t,s),l=/(MMMM|LLLL).*[Ec]/.test(r)?"full":/MMMM|LLLL/.test(r)?"long":/MMM|LLL/.test(r)?"medium":"short",a=r&&s?h(l,r,s):r||s;break;case"date"in e:case"time"in e:a=t.main(["dates/calendars/gregorian","date"in e?"dateFormats":"timeFormats",e.date||e.time]);break;case"datetime"in e:a=h(e.datetime,t.main(["dates/calendars/gregorian/dateFormats",e.datetime]),t.main(["dates/calendars/gregorian/timeFormats",e.datetime]));break;case"raw"in e:a=e.raw;break;default:throw function(e,t){return i("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:e,value:t})}({name:"options",value:e})}return a},I=["sun","mon","tue","wed","thu","fri","sat"],R=function(e){return I.indexOf(e.supplemental.weekData.firstDay())},B=function(e,t,i,r){var n,a;if(i)return(a=r.main(["dates/timeZoneNames/zone",i,e<4?"short":"long",t]))?a:(n=r.supplemental(["metaZones/metazoneInfo/timezone",i,0,"usesMetazone/_mzone"]),r.main(["dates/timeZoneNames/metazone",n,e<4?"short":"long",t]))},L=function(e){return e.split(";").map((function(e){return e.slice(0,e.indexOf("H")+1)})).join(";")},M=function(e,t){return e.split(";").map((function(e){var i=e.split(/H+/);return i.splice(1,0,t),i.join("")})).join(";")},F=function(e,t){var i=function(){return t};return i.dataCacheKey=e,i},H=function(){function e(e,t,i){Object.defineProperty(e,t,{value:i})}function t(e,t){for(var i=0,r=e.getTime();i<t.length-1&&r>=t[i];)i++;return i}function i(e){var t=this.getTimezoneOffset(),i=e();this.original.setTime(new Date(this.getTime()));var r=this.getTimezoneOffset();return r-t&&this.original.setMinutes(this.original.getMinutes()+r-t),i}var r=function(t,r){if(e(this,"original",new Date(t.getTime())),e(this,"local",new Date(t.getTime())),e(this,"timeZoneData",r),e(this,"setWrap",i),!(r.untils&&r.offsets&&r.isdsts))throw new Error("Invalid IANA data");this.setTime(this.local.getTime()-60*this.getTimezoneOffset()*1e3)};return r.prototype.clone=function(){return new r(this.original,this.timeZoneData)},["getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","getMilliseconds"].forEach((function(e){var t="getUTC"+e.substr(3);r.prototype[e]=function(){return this.local[t]()}})),r.prototype.valueOf=r.prototype.getTime=function(){return this.local.getTime()+60*this.getTimezoneOffset()*1e3},r.prototype.getTimezoneOffset=function(){var e=t(this.original,this.timeZoneData.untils);return this.timeZoneData.offsets[e]},["setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds"].forEach((function(e){var t="setUTC"+e.substr(3);r.prototype[e]=function(e){var i=this.local;return this.setWrap((function(){return i[t](e)}))}})),r.prototype.setTime=function(e){return this.local.setTime(e)},r.prototype.isDST=function(){var e=t(this.original,this.timeZoneData.untils);return Boolean(this.timeZoneData.isdsts[e])},r.prototype.inspect=function(){var e=t(this.original,this.timeZoneData.untils),i=this.timeZoneData.abbrs;return this.local.toISOString().replace(/Z$/,"")+" "+(i&&i[e]+" "||-1*this.getTimezoneOffset()+" ")+(this.isDST()?"(daylight savings)":"")},r.prototype.toDate=function(){return new Date(this.getTime())},["toISOString","toJSON","toUTCString"].forEach((function(e){r.prototype[e]=function(){return this.toDate()[e]()}})),r}(),O=function(e,t){switch(e=e instanceof H?e.clone():new Date(e.getTime()),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},N=function(e,t){var i=e.getDate();e.setDate(1),e.setMonth(t),function(e,t){var i=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(t<1?1:t<i?t:i)}(e,i)},k=function(e,t,i){return e<t||e>i},W=function(e,t,i){var n,a,o,s,l,u,h,d,c,p,m=new Date,g=[];if(i.timeZoneData&&(m=new H(m,i.timeZoneData())),!t.length)return null;if(c=t.every((function(e){var t,c,p;if("literal"===e.type)return!0;switch(t=e.type.charAt(0),p=e.type.length,"j"===t&&(t=i.preferredTimeData),t){case"G":g.push(0),l=+e.value;break;case"y":if(c=e.value,2===p){if(k(c,0,99))return!1;(c+=100*Math.floor(m.getFullYear()/100))>m.getFullYear()+20&&(c-=100)}m.setFullYear(c),g.push(0);break;case"Y":throw r({feature:"year pattern `"+t+"`"});case"Q":case"q":break;case"M":case"L":if(c=p<=2?e.value:+e.value,k(c,1,12))return!1;s=c,g.push(1);break;case"w":case"W":break;case"d":a=e.value,g.push(2);break;case"D":o=e.value,g.push(2);break;case"F":case"e":case"c":case"E":break;case"a":n=e.value;break;case"h":if(c=e.value,k(c,1,12))return!1;u=h=!0,m.setHours(12===c?0:c),g.push(3);break;case"K":if(c=e.value,k(c,0,11))return!1;u=h=!0,m.setHours(c),g.push(3);break;case"k":if(c=e.value,k(c,1,24))return!1;u=!0,m.setHours(24===c?0:c),g.push(3);break;case"H":if(c=e.value,k(c,0,23))return!1;u=!0,m.setHours(c),g.push(3);break;case"m":if(c=e.value,k(c,0,59))return!1;m.setMinutes(c),g.push(4);break;case"s":if(c=e.value,k(c,0,59))return!1;m.setSeconds(c),g.push(5);break;case"A":m.setHours(0),m.setMinutes(0),m.setSeconds(0);case"S":c=Math.round(e.value*Math.pow(10,3-p)),m.setMilliseconds(c),g.push(6);break;case"z":case"Z":case"O":case"v":case"V":case"X":case"x":"number"==typeof e.value&&(d=e.value)}return!0})),!c)return null;if(u&&!(!n^h))return null;if(0===l&&m.setFullYear(-1*m.getFullYear()+1),void 0!==s&&N(m,s-1),void 0!==a){if(k(a,1,function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}(m)))return null;m.setDate(a)}else if(void 0!==o){if(k(o,1,(p=m.getFullYear(),1===new Date(p,1,29).getMonth()?366:365)))return null;m.setMonth(0),m.setDate(o)}return h&&"pm"===n&&m.setHours(m.getHours()+12),void 0!==d&&m.setMinutes(m.getMinutes()+d-m.getTimezoneOffset()),g=Math.max.apply(null,g),(m=O(m,["year","month","day","hour","minute","second","milliseconds"][g]))instanceof H&&(m=m.toDate()),m},G=function(e,t,i){return function(r){var n;return T(r,"value"),D(r,"value"),n=function(e,t,i){var r,n,a=[],s=["abbreviated","wide","narrow"];return r=i.digitsRe,e=o(e),n=i.pattern.match(_).every((function(n){var o,l,d,c,p={};function m(t,i){var r,n,a=e.match(t);return i=i||function(e){return+e},!!a&&(n=a[1],a.length<6?(r=n?1:3,p.value=60*i(a[r])):a.length<10?(r=n?[1,3]:[5,7],p.value=60*i(a[r[0]])+i(a[r[1]])):(r=n?[1,3,5]:[7,9,11],p.value=60*i(a[r[0]])+i(a[r[1]])+i(a[r[2]])/60),n&&(p.value*=-1),!0)}function g(){if(1===l)return d=!0,c=r}function T(){if(1===l||2===l)return d=!0,c=new RegExp("^("+r.source+"){1,2}")}function f(){if(2===l)return d=!0,c=new RegExp("^("+r.source+"){2}")}function y(t){var r=i[t.join("/")];return r?(r.some((function(t){if(t[1].test(e))return p.value=t[0],c=t[1],!0})),null):null}switch(p.type=n,o=n.charAt(0),l=n.length,"Z"===o&&(l<4?(o="x",l=4):l<5?(o="O",l=4):(o="X",l=5)),"z"===o&&i.standardOrDaylightTzName&&(p.value=null,c=i.standardOrDaylightTzName),"v"===o&&(i.genericTzName?(p.value=null,c=i.genericTzName):(o="V",l=4)),"V"===o&&i.timeZoneName&&(p.value=2===l?i.timeZoneName:null,c=i.timeZoneNameRe),o){case"G":y(["gregorian/eras",l<=3?"eraAbbr":4===l?"eraNames":"eraNarrow"]);break;case"y":case"Y":d=!0,c=1===l?new RegExp("^("+r.source+")+"):2===l?new RegExp("^("+r.source+"){1,2}"):new RegExp("^("+r.source+"){"+l+",}");break;case"Q":case"q":g()||f()||y(["gregorian/quarters","Q"===o?"format":"stand-alone",s[l-3]]);break;case"M":case"L":T()||y(["gregorian/months","M"===o?"format":"stand-alone",s[l-3]]);break;case"D":l<=3&&(d=!0,c=new RegExp("^("+r.source+"){"+l+",3}"));break;case"W":case"F":g();break;case"e":case"c":if(l<=2){g()||f();break}case"E":6===l?y(["gregorian/days",["c"===o?"stand-alone":"format"],"short"])||y(["gregorian/days",["c"===o?"stand-alone":"format"],"abbreviated"]):y(["gregorian/days",["c"===o?"stand-alone":"format"],s[l<3?0:l-3]]);break;case"a":y(["gregorian/dayPeriods/format/wide"]);break;case"w":(function(){if(1===l)return d=!0,c=new RegExp("^("+r.source+"){1,2}")})()||f();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":T();break;case"S":d=!0,c=new RegExp("^("+r.source+"){"+l+"}");break;case"A":d=!0,c=new RegExp("^("+r.source+"){"+(l+5)+"}");break;case"v":case"V":case"z":if(c&&c.test(e))break;if("V"===o&&2===l)break;case"O":if(e===i["timeZoneNames/gmtZeroFormat"])p.value=0,c=i["timeZoneNames/gmtZeroFormatRe"];else if(!i["timeZoneNames/hourFormat"].some((function(e){if(m(e,t))return c=e,!0})))return null;break;case"X":if("Z"===e){p.value=0,c=/^Z/;break}case"x":if(!i.x.some((function(e){if(m(e))return c=e,!0})))return null;break;case"'":p.type="literal",c=new RegExp("^"+u(h(n)));break;default:p.type="literal",c=new RegExp("^"+u(n))}return!(!c||(e=e.replace(c,(function(e){return p.lexeme=e,d&&(p.value=t(e)),""})),!p.lexeme||d&&isNaN(p.value)||(a.push(p),0)))})),""!==e&&(n=!1),n?a:[]}(r,e,i),W(0,n,t)||null}},U=function(e,t){return(e.getDay()-t+7)%7},z=function(e){return Math.floor((t=O(e,"year"),(e.getTime()-t.getTime())/864e5));var t},j=C({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zvVOxX"},(function(e,t,i){return i.split("").forEach((function(i){e[i]=t})),e})),Y=function(e,t,i,r){var n,a=e.getTimezoneOffset();return n=Math.abs(a),r=r||{1:function(e){return c(e,1)},2:function(e){return c(e,2)}},t.split(";")[a>0?1:0].replace(":",i).replace(/HH?/,(function(e){return r[e.length](Math.floor(n/60))})).replace(/mm/,(function(){return r[2](Math.floor(n%60))})).replace(/ss/,(function(){return r[2](Math.floor(n%1*60))}))},X=function(e,t,i){var r=[],n=i.timeSeparator;return i.timeZoneData&&(e=new H(e,i.timeZoneData())),i.pattern.replace(_,(function(a){var o,s,l,u=a.charAt(0),d=a.length;switch("j"===u&&(u=i.preferredTime),"Z"===u&&(d<4?(u="x",d=4):d<5?(u="O",d=4):(u="X",d=5)),"z"===u&&(e.isDST&&(l=e.isDST()?i.daylightTzName:i.standardTzName),l||(u="O",d<4&&(d=1))),u){case"G":l=i.eras[e.getFullYear()<0?0:1];break;case"y":l=e.getFullYear(),2===d&&(l=+(l=String(l)).substr(l.length-2));break;case"Y":(l=new Date(e.getTime())).setDate(l.getDate()+7-U(e,i.firstDay)-i.firstDay-i.minDays),l=l.getFullYear(),2===d&&(l=+(l=String(l)).substr(l.length-2));break;case"Q":case"q":l=Math.ceil((e.getMonth()+1)/3),d>2&&(l=i.quarters[u][d][l]);break;case"M":case"L":l=e.getMonth()+1,d>2&&(l=i.months[u][d][l]);break;case"w":l=U(O(e,"year"),i.firstDay),l=Math.ceil((z(e)+l)/7)-(7-l>=i.minDays?0:1);break;case"W":l=U(O(e,"month"),i.firstDay),l=Math.ceil((e.getDate()+l)/7)-(7-l>=i.minDays?0:1);break;case"d":l=e.getDate();break;case"D":l=z(e)+1;break;case"F":l=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(d<=2){l=U(e,i.firstDay)+1;break}case"E":l=I[e.getDay()],l=i.days[u][d][l];break;case"a":l=i.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":l=e.getHours()%12||12;break;case"H":l=e.getHours();break;case"K":l=e.getHours()%12;break;case"k":l=e.getHours()||24;break;case"m":l=e.getMinutes();break;case"s":l=e.getSeconds();break;case"S":l=Math.round(e.getMilliseconds()*Math.pow(10,d-3));break;case"A":l=Math.round(function(e){return e-O(e,"day")}(e)*Math.pow(10,d-3));break;case"z":break;case"v":if(i.genericTzName){l=i.genericTzName;break}case"V":if(i.timeZoneName){l=i.timeZoneName;break}"v"===a&&(d=1);case"O":0===e.getTimezoneOffset()?l=i.gmtZeroFormat:(d<4?(o=e.getTimezoneOffset(),o=i.hourFormat[o%60-o%1==0?0:1]):o=i.hourFormat,l=Y(e,o,n,t),l=i.gmtFormat.replace(/\{0\}/,l));break;case"X":if(0===e.getTimezoneOffset()){l="Z";break}case"x":o=e.getTimezoneOffset(),1===d&&o%60-o%1!=0&&(d+=1),4!==d&&5!==d||o%1!=0||(d-=2),l=Y(e,l=["+HH;-HH","+HHmm;-HHmm","+HH:mm;-HH:mm","+HHmmss;-HHmmss","+HH:mm:ss;-HH:mm:ss"][d-1],":");break;case":":l=n;break;case"'":l=h(a);break;default:l=a}"number"==typeof l&&(l=t[d](l)),"literal"===(s=j[u]||"literal")&&r.length&&"literal"===r[r.length-1].type?r[r.length-1].value+=l:r.push({type:s,value:l})})),r};function q(e){return void 0!==e.skeleton||void 0!==e.date||void 0!==e.time||void 0!==e.datetime||void 0!==e.raw}function K(e,t){m(e,t,{skip:[/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,/dates\/calendars\/gregorian\/days\/.*\/short/,/dates\/timeZoneNames\/zone/,/dates\/timeZoneNames\/metazone/,/globalize-iana/,/supplemental\/metaZones/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}function Z(e){Q("date",e),Q("time",e),Q("datetime",e)}function Q(e,t){var i=t[e];p("E_INVALID_OPTIONS",'Invalid `{{type}: "{value}"}`.',void 0===i||-1!==["short","medium","long","full"].indexOf(i),{type:e,value:i})}function J(e,t){p("E_INVALID_OPTIONS",'Invalid `{skeleton: "{value}"}` based on provided CLDR.',void 0===t||"string"==typeof e&&e,{type:"skeleton",value:t})}function $(e){return function(t,i){/globalize-iana/.test(t)&&p("E_MISSING_IANA_TZ","Missing required IANA timezone content for `{timeZone}`: `{path}`.",i,{path:t.replace(/globalize-iana\//,""),timeZone:e})}}return t.loadTimeZone=function(t){var i={"globalize-iana":t};T(t,"json"),y(t,"json"),e.load(i)},t.dateFormatter=t.prototype.dateFormatter=function(e){var t,i,r;return y(e,"options"),q(e=e||{})||(e.skeleton="yMd"),t=[e],r=function(e){return function(t){return e(t).map((function(e){return e.value})).join("")}}(i=this.dateToPartsFormatter(e)),d(t,this.cldr,r,[i]),r},t.dateToPartsFormatter=t.prototype.dateToPartsFormatter=function(e){var t,i,a,o,s,u,h,p,m;y(e,"options"),i=this.cldr,q(e=e||{})||(e.skeleton="yMd"),Z(e),g(i),p=e.timeZone,D(p,"options.timeZone"),t=[e],i.on("get",K),p&&(m=$(p),i.on("get",m));try{J(s=E(e,i),e.skeleton),u=function(e,t,i){var a={numberFormatters:{},pattern:e,timeSeparator:l("timeSeparator",t)},o=["abbreviated","wide","narrow"];function s(e){a.numberFormatters[e]=c("",e)}return i&&(a.timeZoneData=F("iana/"+i,{offsets:t.get(["globalize-iana/zoneData",i,"offsets"]),untils:t.get(["globalize-iana/zoneData",i,"untils"]),isdsts:t.get(["globalize-iana/zoneData",i,"isdsts"])})),e.replace(_,(function(l){var u,h,d,c,p,m,g;switch(h=l.charAt(0),m=l.length,"j"===h&&(a.preferredTime=h=t.supplemental.timeData.preferred()),"Z"===h&&4===m&&(h="O",m=4),"z"===h&&(g=B(m,"standard",i,t),d=B(m,"daylight",i,t),g&&(a.standardTzName=g),d&&(a.daylightTzName=d),g&&d||(h="O",m<4&&(m=1))),"v"===h&&((p=B(m,"generic",i,t))||(h="V",m=4)),h){case"G":a.eras=t.main(["dates/calendars/gregorian/eras",m<=3?"eraAbbr":4===m?"eraNames":"eraNarrow"]);break;case"y":c=!0;break;case"Y":a.firstDay=R(t),a.minDays=t.supplemental.weekData.minDays(),c=!0;break;case"u":case"U":throw r({feature:"year pattern `"+h+"`"});case"Q":case"q":m>2?(a.quarters||(a.quarters={}),a.quarters[h]||(a.quarters[h]={}),a.quarters[h][m]=t.main(["dates/calendars/gregorian/quarters","Q"===h?"format":"stand-alone",o[m-3]])):c=!0;break;case"M":case"L":m>2?(a.months||(a.months={}),a.months[h]||(a.months[h]={}),a.months[h][m]=t.main(["dates/calendars/gregorian/months","M"===h?"format":"stand-alone",o[m-3]])):c=!0;break;case"w":case"W":a.firstDay=R(t),a.minDays=t.supplemental.weekData.minDays(),c=!0;break;case"d":case"D":case"F":c=!0;break;case"g":throw r({feature:"Julian day pattern `g`"});case"e":case"c":if(m<=2){a.firstDay=R(t),c=!0;break}case"E":a.days||(a.days={}),a.days[h]||(a.days[h]={}),a.days[h][m]=6===m?t.main(["dates/calendars/gregorian/days","c"===h?"stand-alone":"format","short"])||t.main(["dates/calendars/gregorian/days","c"===h?"stand-alone":"format","abbreviated"]):t.main(["dates/calendars/gregorian/days","c"===h?"stand-alone":"format",o[m<3?0:m-3]]);break;case"a":a.dayPeriods={am:t.main("dates/calendars/gregorian/dayPeriods/format/wide/am"),pm:t.main("dates/calendars/gregorian/dayPeriods/format/wide/pm")};break;case"h":case"H":case"K":case"k":case"m":case"s":case"S":case"A":c=!0;break;case"v":if(1!==m&&4!==m)throw r({feature:"timezone pattern `"+e+"`"});a.genericTzName=p;break;case"V":if(1===m)throw r({feature:"timezone pattern `"+e+"`"});if(i){if(2===m){a.timeZoneName=i;break}var T,f=t.main(["dates/timeZoneNames/zone",i,"exemplarCity"]);if(3===m&&(f||(f=t.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),T=f),f&&4===m&&(T=n(t.main("dates/timeZoneNames/regionFormat"),[f])),T){a.timeZoneName=T;break}}"v"===l&&(m=1);case"O":a.gmtFormat=t.main("dates/timeZoneNames/gmtFormat"),a.gmtZeroFormat=t.main("dates/timeZoneNames/gmtZeroFormat"),u=t.main("dates/timeZoneNames/hourFormat"),a.hourFormat=m<4?[L(u),M(u,"H")]:M(u,"HH");case"Z":case"X":case"x":s(1),s(2)}c&&s(m)})),a}(s,i,p)}finally{i.off("get",K),m&&i.off("get",m)}for(o in a=u.numberFormatters,delete u.numberFormatters,a)a[o]=this.numberFormatter({raw:a[o]});return h=function(e,t){return function(i){return T(i,"value"),S(i,"value"),X(i,e,t)}}(a,u),d(t,i,h,[a,u]),h},t.dateParser=t.prototype.dateParser=function(e){var t,i,h,c,p,m,T,f;y(e,"options"),i=this.cldr,q(e=e||{})||(e.skeleton="yMd"),Z(e),g(i),T=e.timeZone,D(T,"options.timeZone"),t=[e];try{i.on("get",K),T&&i.on("get",$(T)),J(p=E(e,i),e.skeleton),f=function(e,t,i){var h,d={pattern:o(e)},c=l("timeSeparator",t),p=["abbreviated","wide","narrow"];function m(e,t,i,r){var n;return i||(i="\\d"),t||(t="{0}"),n=e.replace("+","\\+").replace(/HH|mm|ss/g,"(("+i+"){2})").replace(/H|m/g,"(("+i+"){1,2})"),r&&(n=n.replace(/:/g,r)),n=n.split(";").map((function(e){return t.replace("{0}",e)})).join("|"),new RegExp("^"+n)}function g(e,t){/(timeZoneNames\/zone|supplemental\/metaZones|timeZoneNames\/metazone|timeZoneNames\/regionFormat|timeZoneNames\/gmtFormat)/.test(e)||t&&("gregorian/dayPeriods/format/wide"===(e=e.replace(/^.*\/dates\//,"").replace(/calendars\//,""))&&(t=function(e,t){var i,r={};for(i in e)t.test(i)&&(r[i]=e[i]);return r}(t,/^am|^pm/)),t=a(t)?Object.keys(t).map((function(e){return[e,new RegExp("^"+u(o(t[e])))]})).sort((function(e,t){return t[1].source.length-e[1].source.length})):o(t),d[e]=t)}return h=(h=s(t))?"["+h+"]":"\\d",d.digitsRe=new RegExp(h),t.on("get",g),e.match(_).forEach((function(a){var s,l,g,T,f,y;if(l=a.charAt(0),f=a.length,"Z"===l&&(f<5?(l="O",f=4):(l="X",f=5)),"z"===l&&(y=B(f,"standard",i,t),g=B(f,"daylight",i,t),y&&(y=u(o(y))),g&&(g=u(o(g))),(y||g)&&(d.standardOrDaylightTzName=new RegExp("^("+[y,g].filter((function(e){return e})).reduce((function(e,t){return e+"|"+t}))+")")),y&&g||(l="O",f<4&&(f=1))),"v"===l){if(1!==f&&4!==f)throw r({feature:"timezone pattern `"+e+"`"});var D=B(f,"generic",i,t);D?(d.genericTzName=new RegExp("^"+u(o(D))),l="O"):(l="V",f=4)}switch(l){case"G":t.main(["dates/calendars/gregorian/eras",f<=3?"eraAbbr":4===f?"eraNames":"eraNarrow"]);break;case"u":case"U":throw r({feature:"year pattern `"+l+"`"});case"Q":case"q":f>2&&t.main(["dates/calendars/gregorian/quarters","Q"===l?"format":"stand-alone",p[f-3]]);break;case"M":case"L":f>2&&t.main(["dates/calendars/gregorian/months","M"===l?"format":"stand-alone",p[f-3]]);break;case"g":throw r({feature:"Julian day pattern `g`"});case"e":case"c":if(f<=2)break;case"E":6===f?t.main(["dates/calendars/gregorian/days",["c"===l?"stand-alone":"format"],"short"])||t.main(["dates/calendars/gregorian/days",["c"===l?"stand-alone":"format"],"abbreviated"]):t.main(["dates/calendars/gregorian/days",["c"===l?"stand-alone":"format"],p[f<3?0:f-3]]);break;case"a":t.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"V":if(1===f)throw r({feature:"timezone pattern `"+e+"`"});if(i){if(2===f){d.timeZoneName=i,d.timeZoneNameRe=new RegExp("^"+u(i));break}var S,b=t.main(["dates/timeZoneNames/zone",i,"exemplarCity"]);3===f&&(b||(b=t.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),S=b),b&&4===f&&(S=n(t.main("dates/timeZoneNames/regionFormat"),[b])),S&&(S=o(S),d.timeZoneName=S,d.timeZoneNameRe=new RegExp("^"+u(S)))}"v"===a&&(f=1);case"z":case"O":T=t.main("dates/timeZoneNames/gmtFormat"),t.main("dates/timeZoneNames/gmtZeroFormat"),t.main("dates/timeZoneNames/hourFormat"),d["timeZoneNames/gmtZeroFormatRe"]=new RegExp("^"+u(d["timeZoneNames/gmtZeroFormat"])),s=d["timeZoneNames/hourFormat"],d["timeZoneNames/hourFormat"]=(f<4?[M(s,"H"),L(s)]:[M(s,"HH")]).map((function(e){return m(e,T,h,c)}));case"X":case"x":d.x=[["+HHmm;-HHmm","+HH;-HH"],["+HHmm;-HHmm"],["+HH:mm;-HH:mm"],["+HHmmss;-HHmmss","+HHmm;-HHmm"],["+HH:mm:ss;-HH:mm:ss","+HH:mm;-HH:mm"]][f-1].map((function(e){return m(e)}))}})),t.off("get",g),d}(p,i,T),c=function(e,t){var i={preferredTimeData:e.supplemental.timeData.preferred()};return t&&(i.timeZoneData=F("iana/"+t,{offsets:e.get(["globalize-iana/zoneData",t,"offsets"]),untils:e.get(["globalize-iana/zoneData",t,"untils"]),isdsts:e.get(["globalize-iana/zoneData",t,"isdsts"])})),i}(i,T)}finally{i.off("get",K),T&&i.off("get",$(T))}return h=this.numberParser({raw:"0"}),m=G(h,c,f),d(t,i,m,[h,c,f]),m},t.formatDate=t.prototype.formatDate=function(e,t){return T(e,"value"),S(e,"value"),this.dateFormatter(t)(e)},t.formatDateToParts=t.prototype.formatDateToParts=function(e,t){return T(e,"value"),S(e,"value"),this.dateToPartsFormatter(t)(e)},t.parseDate=t.prototype.parseDate=function(e,t){return T(e,"value"),D(e,"value"),this.dateParser(t)(e)},t},e.exports=r(i(155),i(511))},209:function(e,t,i){var r;
/*!
 * Globalize v1.4.3 2020-03-19T12:34Z Released under the MIT license
 * http://git.io/TrdQbw
 */r=function(e,t){var i=t._createError,r=t._regexpEscape,n=t._runtimeBind,a=t._stringPad,o=t._validateCldr,s=t._validateDefaultLocale,l=t._validateParameterPresence,u=t._validateParameterRange,h=t._validateParameterType,d=t._validateParameterTypePlainObject,c=function(e){return i("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},p=function(e,t){h(e,t,void 0===e||"number"==typeof e,"Number")},m=function(e,t){h(e,t,void 0===e||"string"==typeof e,"a string")},g=/^([^0]*)(0+)([^0]*)$/,T=function(e,t,i){var r;return 0===e?e:(r=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),i(e,{exponent:r-=t}))},f=/^(('([^']|'')*'|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,y=function(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"'":e.replace(/''/g,"'").slice(1,-1)},D=function(e,t,i){var r,n,o,s,l,u,h,d,p,m,f,D,S,b,C,v,P,_,A,w,x,V,E;return t[1],u=t[2],l=t[3],o=t[4],h=t[5],s=t[6],C=t[7],f=t[8],v=t[9],b=t[15],n=t[16],d=t[17],_=t[18],p=t[19],r=t[20],isNaN(e)?d:(e<0?(D=t[12],m=t[13],P=t[14]):(D=t[11],m=t[0],P=t[10]),isFinite(e)?(-1!==D.indexOf("%")?e*=100:-1!==D.indexOf("‰")&&(e*=1e3),r&&(V=Math.abs(Math.floor(e)).toString().length-1,(V=Math.min(V,r.maxExponent))>=3&&(A=r[V]&&r[V].other),"0"===A?A=null:A&&(x=V-(A.split("0").length-1-1),e/=Math.pow(10,x))),e=isNaN(h*s)?function(e,t,i,r,n,o){return e=r?n(e,o||{exponent:-r}):n(e),e=String(e),r&&/e-/.test(e)&&(e=(+e).toFixed(r).replace(/0+$/,"").replace(/\.$/,"")),i&&((e=e.split("."))[1]=a(e[1]||"",i,!0),e=e.join(".")),t&&((e=e.split("."))[0]=a(e[0],t),e=e.join(".")),e}(e,u,l,o,b,C):function(e,t,i,r){var n,o;if(t>i&&(i=t),e=(+(e=+(n=T(e,t,r))==+(o=T(e,i,r))?n:o)).toString(10),/e/.test(e))throw c({feature:"integers out of (1e21, 1e-7)"});return t-e.replace(/^0+|\./g,"").length>0&&((e=e.split("."))[1]=a(e[1]||"",t-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,h,s,b),r&&A&&(E=i?i(+e):"other",m+=(w=(A=r[V][E]||A).match(g))[1],P=w[3]+P),e=e.replace(/^-/,""),f&&(e=function(e,t,i){var r,n=t,a="",o=!!i;for(r=(e=String(e).split("."))[0].length;r>n;)a=e[0].slice(r-n,r)+(a.length?",":"")+a,r-=n,o&&(n=i,o=!1);return e[0]=e[0].slice(0,r)+(a.length?",":"")+a,e.join(".")}(e,f,v)),S=m,S+=e,(S+=P).replace(/('([^']|'')+'|'')|./g,(function(e,t){return t?y(t):(e=e.replace(/[.,\-+E%\u2030]/,(function(e){return _[e]})),p&&(e=e.replace(/[0-9]/,(function(e){return p[+e]}))),e)}))):m+n+P)},S=function(e,t){return function(i){return l(i,"value"),p(i,"value"),D(i,e,t)}},b=function(e){var t=e.attributes["u-nu"];return t?("traditio"===t&&(t="traditional"),-1!==["native","traditional","finance"].indexOf(t)?e.main(["numbers/otherNumberingSystems",t]):t):e.main("numbers/defaultNumberingSystem")},C=function(e){var t,i=b(e);if("latn"!==i){if("numeric"!==(t=e.supplemental(["numberingSystems",i]))._type)throw c("`"+t._type+"` numbering system");return t._digits}},v=function(e){var t,i,r,n,a,o,s,l,u,h,d,p,m,g,T,y,D,S;if(!(e=e.match(f)))throw new Error("Invalid pattern: "+e);if(p=e[1],d=e[4],n=e[5],D=e[9],T=e[10],S=e[11],D?D.replace(/(@+)(#*)/,(function(e,t,i){h=t.length,s=h+i.length})):(r=e[8],a=e[7],r?(r.replace(/[0-9]+/,(function(e){l=e})),l?(g=+("0."+l),l=l.length):l=0,o=r.length-1):(l=0,o=0),a.replace(/0+$/,(function(e){u=e.length}))),T)throw c({feature:"scientific notation (not implemented)"});if(d)throw c({feature:"padding (not implemented)"});return-1!==(t=n.lastIndexOf(","))&&(m=(i=n.split(".")[0]).length-t-1,-1!==(i=n.lastIndexOf(",",t-1))&&(y=t-1-i)),[p,d,u,l,o,h,s,g,m,y,S]},P=function(e,t){return t.main(["numbers/symbols-numberSystem-"+b(t),e])},_={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},A=function(e){var t,i={};for(t in _)i[t]=P(_[t],e);return i},w=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},x=function(e,t,i){var r,n,a,o,s,l,u,h;function d(e,t){e in i&&(u[t]=i[e])}return i=i||{},s=(e=e.split(";"))[0],r=e[1]||"-"+s,n=(a=v(r))[0],o=a[10],h="truncate"===(h=(h=i.round)||"round")?w:Math[h],(l=function(e,t){var i,r;if(e=+e,isNaN(e))return NaN;if("object"==typeof t&&t.exponent){if(r=1,0==(i=+t.exponent))return h(e);if("number"!=typeof i||i%1!=0)return NaN}else{if(1===(r=+t||1))return h(e);if(isNaN(r))return NaN;i=+(r=r.toExponential().split("e"))[1],r=+r[0]}return(e=e.toString().split("e"))[0]=+e[0]/r,e[1]=e[1]?+e[1]-i:-i,(e=(e=h(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=+e[0]*r,e[1]=e[1]?+e[1]+i:i,+(e[0]+"e"+e[1])}).generatorString=function(){return"numberRound("+(i.round?'"'+i.round+'"':"")+")"},u=v(s).concat([s,n+s+o,n,o,l,P("infinity",t),P("nan",t),A(t),C(t)]),i.compact&&(u[2]=1,u[3]=0,u[4]=0,u[5]=u[6]=void 0,u[20]=function(e,t){var i=0,r=t.main(["numbers/decimalFormats-numberSystem-"+b(t),e,"decimalFormat"]);return(r=Object.keys(r).reduce((function(e,t){var n=t.split("0").length-1,a=t.split("-")[2];return e[n]=e[n]||{},e[n][a]=r[t],i=Math.max(n,i),e}),{})).maxExponent=i,r}(i.compact,t)),d("minimumIntegerDigits",2),d("minimumFractionDigits",3),d("maximumFractionDigits",4),d("minimumSignificantDigits",5),d("maximumSignificantDigits",6),!1===i.useGrouping&&(u[8]=null),"minimumFractionDigits"in i&&!("maximumFractionDigits"in i)?u[4]=Math.max(u[3],u[4]):!("minimumFractionDigits"in i)&&"maximumFractionDigits"in i&&(u[3]=Math.min(u[3],u[4])),u},V=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,E=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,I=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,R=function(e){return e.replace(V,"").replace(E,"-").replace(I," ")},B=function(e,t){var i,r,n,a,o,s,l,u,h,d;return i=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],n=t[0],r=t[1]||{},h=t[2],d=function(e,t){return t.some((function(t){var i=e;return t.every((function(e){return null!==i.match(h[e])&&(i=i.replace(h[e],function(e){return function(t){switch(t=t.split("").map((function(e){return n[e]||r[e]||e})).join(""),e){case"infinity":o=1/0;break;case"nan":o=NaN;break;case"number":t=t.replace(/,/g,""),o=+t;break;case"prefix":case"negativePrefix":s=t;break;case"suffix":u=t;break;case"negativeSuffix":u=t,a=!0;break;default:throw new Error("Internal error")}return""}}(e)),!0)}))&&!i.length}))}(e=R(e),i),!d||isNaN(o)?NaN:(-1!==(l=""+s+u).indexOf("%")?o/=100:-1!==l.indexOf("‰")&&(o/=1e3),a&&(o*=-1),o)},L=function(e,t){return Object.keys(e).map((function(i){return t([i,e[i]])})).reduce((function(e,t){return e[t[0]]=t[1],e}),{})},M=function(e,t,i){var n,a,o,s,l,u,h,d,c,p,m,g,T,f,D,S,b,C,v,A,w=x(e,t,i);return S=R(w[0]),d=w[4],p=w[5],c=w[6],b=w[8],C=w[9],v=R(w[10]),g=R(w[13]),T=R(w[14]),l=R(w[16]),m=R(w[17]),A=L(w[18],(function(e){return[e[0],R(e[1])]})),f=w[19],h=L(function(e){var t,i={};for(t in _)i[P(_[t],e)]=t;return i}(t),(function(e){return[R(e[0]),e[1]]})),o=f?"["+f+"]":"\\d",s=r(A[","]),a=r(A["."]),f&&(u=f.split("").reduce((function(e,t,i){return e[t]=String(i),e}),{})),n=[S,v,g,T].map((function(e){return e.replace(/('([^']|'')+'|'')|./g,(function(e,t){return t?y(t):e=e.replace(/[\-+E%\u2030]/,(function(e){return A[e]}))}))})),S=n[0],v=n[1],g=n[2],T=n[3],D=o+"+",b&&(D="("+(n=C?o+"{1,"+C+"}(("+s+o+"{"+C+"})*("+s+o+"{"+b+"}))":o+"{1,"+b+"}("+s+o+"{"+b+"})+")+"|"+D+")"),isNaN(p*c)&&!d||(D="("+(D=D+"("+(n=a+o+"+")+"|"+a+")?|("+D+")?"+n)+")"),[h,u,{infinity:new RegExp("^"+r(l)),nan:new RegExp("^"+r(m)),negativePrefix:new RegExp("^"+r(g)),negativeSuffix:new RegExp("^"+r(T)),number:new RegExp("^"+D),prefix:new RegExp("^"+r(S)),suffix:new RegExp("^"+r(v))}]},F=function(e,t){if("decimal"!==e&&"percent"!==e)throw new Error("Invalid style");return t.main(["numbers",e+"Formats-numberSystem-"+b(t),"standard"])};return t.numberFormatter=t.prototype.numberFormatter=function(e){var t,i,r,a,l,h;d(e,"options"),e=e||{},i=this.cldr,t=[e],s(i),i.on("get",o);try{a=e.raw?e.raw:F(e.style||"decimal",i),r=[l=x(a,i,e)]}finally{i.off("get",o)}return function(e){var t=e[2],i=e[3],r=e[4],n=e[5],a=e[6];if(isNaN(n*a)){if(!isNaN(n)||!isNaN(a))throw new Error("Neither or both the minimum and maximum significant digits must be present");u(t,"minimumIntegerDigits",1,21),u(i,"minimumFractionDigits",0,20),u(r,"maximumFractionDigits",i,20)}else u(n,"minimumSignificantDigits",1,21),u(a,"maximumSignificantDigits",n,21)}(l),e.compact&&r.push(this.pluralGenerator()),h=S.apply(null,r),n(t,i,h,r),h},t.numberParser=t.prototype.numberParser=function(e){var t,i,r,a,u;if(d(e,"options"),e=e||{},i=this.cldr,t=[e],s(i),e.compact)throw c({feature:"compact number parsing (not implemented)"});return i.on("get",o),r=e.raw?e.raw:F(e.style||"decimal",i),a=M(r,i,e),i.off("get",o),u=function(e){return function(t){return l(t,"value"),m(t,"value"),B(t,e)}}(a),n(t,i,u,[a]),u},t.formatNumber=t.prototype.formatNumber=function(e,t){return l(e,"value"),p(e,"value"),this.numberFormatter(t)(e)},t.parseNumber=t.prototype.parseNumber=function(e,t){return l(e,"value"),m(e,"value"),this.numberParser(t)(e)},t._createErrorUnsupportedFeature=c,t._numberNumberingSystem=b,t._numberNumberingSystemDigitsMap=C,t._numberPattern=F,t._numberSymbol=P,t._looseMatching=R,t._removeLiteralQuotes=y,t._stringPad=a,t._validateParameterTypeNumber=p,t._validateParameterTypeString=m,t},e.exports=r(i(155),i(511))},222:()=>{var e=void 0;(function(){!function(t){"use strict";var i,r=1e6,n=1e6,a="[big.js] ",o=a+"Invalid ",s=o+"decimal places",l=o+"rounding mode",u=a+"Division by zero",h={},d=void 0,c=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function p(e,t,i,r){var n=e.c;if(i===d&&(i=e.constructor.RM),0!==i&&1!==i&&2!==i&&3!==i)throw Error(l);if(t<1)r=3===i&&(r||!!n[0])||0===t&&(1===i&&n[0]>=5||2===i&&(n[0]>5||5===n[0]&&(r||n[1]!==d))),n.length=1,r?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(r=1===i&&n[t]>=5||2===i&&(n[t]>5||5===n[t]&&(r||n[t+1]!==d||1&n[t-1]))||3===i&&(r||!!n[0]),n.length=t--,r)for(;++n[t]>9;)n[t]=0,t--||(++e.e,n.unshift(1));for(t=n.length;!n[--t];)n.pop()}return e}function m(e,t,i){var r=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)n="0"+n;n="0."+n}else if(r>0)if(++r>a)for(r-=a;r--;)n+="0";else r<a&&(n=n.slice(0,r)+"."+n.slice(r));else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&i?"-"+n:n}h.abs=function(){var e=new this.constructor(this);return e.s=1,e},h.cmp=function(e){var t,i=this,r=i.c,n=(e=new i.constructor(e)).c,a=i.s,o=e.s,s=i.e,l=e.e;if(!r[0]||!n[0])return r[0]?a:n[0]?-o:0;if(a!=o)return a;if(t=a<0,s!=l)return s>l^t?1:-1;for(o=(s=r.length)<(l=n.length)?s:l,a=-1;++a<o;)if(r[a]!=n[a])return r[a]>n[a]^t?1:-1;return s==l?0:s>l^t?1:-1},h.div=function(e){var t=this,i=t.constructor,n=t.c,a=(e=new i(e)).c,o=t.s==e.s?1:-1,l=i.DP;if(l!==~~l||l<0||l>r)throw Error(s);if(!a[0])throw Error(u);if(!n[0])return e.s=o,e.c=[e.e=0],e;var h,c,m,g,T,f=a.slice(),y=h=a.length,D=n.length,S=n.slice(0,h),b=S.length,C=e,v=C.c=[],P=0,_=l+(C.e=t.e-e.e)+1;for(C.s=o,o=_<0?0:_,f.unshift(0);b++<h;)S.push(0);do{for(m=0;m<10;m++){if(h!=(b=S.length))g=h>b?1:-1;else for(T=-1,g=0;++T<h;)if(a[T]!=S[T]){g=a[T]>S[T]?1:-1;break}if(!(g<0))break;for(c=b==h?a:f;b;){if(S[--b]<c[b]){for(T=b;T&&!S[--T];)S[T]=9;--S[T],S[b]+=10}S[b]-=c[b]}for(;!S[0];)S.shift()}v[P++]=g?m:++m,S[0]&&g?S[b]=n[y]||0:S=[n[y]]}while((y++<D||S[0]!==d)&&o--);return v[0]||1==P||(v.shift(),C.e--,_--),P>_&&p(C,_,i.RM,S[0]!==d),C},h.eq=function(e){return 0===this.cmp(e)},h.gt=function(e){return this.cmp(e)>0},h.gte=function(e){return this.cmp(e)>-1},h.lt=function(e){return this.cmp(e)<0},h.lte=function(e){return this.cmp(e)<1},h.minus=h.sub=function(e){var t,i,r,n,a=this,o=a.constructor,s=a.s,l=(e=new o(e)).s;if(s!=l)return e.s=-l,a.plus(e);var u=a.c.slice(),h=a.e,d=e.c,c=e.e;if(!u[0]||!d[0])return d[0]?e.s=-l:u[0]?e=new o(a):e.s=1,e;if(s=h-c){for((n=s<0)?(s=-s,r=u):(c=h,r=d),r.reverse(),l=s;l--;)r.push(0);r.reverse()}else for(i=((n=u.length<d.length)?u:d).length,s=l=0;l<i;l++)if(u[l]!=d[l]){n=u[l]<d[l];break}if(n&&(r=u,u=d,d=r,e.s=-e.s),(l=(i=d.length)-(t=u.length))>0)for(;l--;)u[t++]=0;for(l=t;i>s;){if(u[--i]<d[i]){for(t=i;t&&!u[--t];)u[t]=9;--u[t],u[i]+=10}u[i]-=d[i]}for(;0===u[--l];)u.pop();for(;0===u[0];)u.shift(),--c;return u[0]||(e.s=1,u=[c=0]),e.c=u,e.e=c,e},h.mod=function(e){var t,i=this,r=i.constructor,n=i.s,a=(e=new r(e)).s;if(!e.c[0])throw Error(u);return i.s=e.s=1,t=1==e.cmp(i),i.s=n,e.s=a,t?new r(i):(n=r.DP,a=r.RM,r.DP=r.RM=0,i=i.div(e),r.DP=n,r.RM=a,this.minus(i.times(e)))},h.plus=h.add=function(e){var t,i,r,n=this,a=n.constructor;if(e=new a(e),n.s!=e.s)return e.s=-e.s,n.minus(e);var o=n.e,s=n.c,l=e.e,u=e.c;if(!s[0]||!u[0])return u[0]||(s[0]?e=new a(n):e.s=n.s),e;if(s=s.slice(),t=o-l){for(t>0?(l=o,r=u):(t=-t,r=s),r.reverse();t--;)r.push(0);r.reverse()}for(s.length-u.length<0&&(r=u,u=s,s=r),t=u.length,i=0;t;s[t]%=10)i=(s[--t]=s[t]+u[t]+i)/10|0;for(i&&(s.unshift(i),++l),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=l,e},h.pow=function(e){var t=this,i=new t.constructor("1"),r=i,a=e<0;if(e!==~~e||e<-1e6||e>n)throw Error(o+"exponent");for(a&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return a?i.div(r):r},h.prec=function(e,t){if(e!==~~e||e<1||e>r)throw Error(o+"precision");return p(new this.constructor(this),e,t)},h.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-r||e>r)throw Error(s);return p(new this.constructor(this),e+this.e+1,t)},h.sqrt=function(){var e,t,i,r=this,n=r.constructor,o=r.s,s=r.e,l=new n("0.5");if(!r.c[0])return new n(r);if(o<0)throw Error(a+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((t=r.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new n(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new n(o+""),s=e.e+(n.DP+=4);do{i=e,e=l.times(i.plus(r.div(i)))}while(i.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return p(e,(n.DP-=4)+e.e+1,n.RM)},h.times=h.mul=function(e){var t,i=this,r=i.constructor,n=i.c,a=(e=new r(e)).c,o=n.length,s=a.length,l=i.e,u=e.e;if(e.s=i.s==e.s?1:-1,!n[0]||!a[0])return e.c=[e.e=0],e;for(e.e=l+u,o<s&&(t=n,n=a,a=t,u=o,o=s,s=u),t=new Array(u=o+s);u--;)t[u]=0;for(l=s;l--;){for(s=0,u=o+l;u>l;)s=t[u]+a[l]*n[u-l-1]+s,t[u--]=s%10,s=s/10|0;t[u]=s}for(s?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},h.toExponential=function(e,t){var i=this,n=i.c[0];if(e!==d){if(e!==~~e||e<0||e>r)throw Error(s);for(i=p(new i.constructor(i),++e,t);i.c.length<e;)i.c.push(0)}return m(i,!0,!!n)},h.toFixed=function(e,t){var i=this,n=i.c[0];if(e!==d){if(e!==~~e||e<0||e>r)throw Error(s);for(e=e+(i=p(new i.constructor(i),e+i.e+1,t)).e+1;i.c.length<e;)i.c.push(0)}return m(i,!1,!!n)},h.toJSON=h.toString=function(){var e=this,t=e.constructor;return m(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},h.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(a+"Imprecise conversion");return e},h.toPrecision=function(e,t){var i=this,n=i.constructor,a=i.c[0];if(e!==d){if(e!==~~e||e<1||e>r)throw Error(o+"precision");for(i=p(new n(i),e,t);i.c.length<e;)i.c.push(0)}return m(i,e<=i.e||i.e<=n.NE||i.e>=n.PE,!!a)},h.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(a+"valueOf disallowed");return m(e,e.e<=t.NE||e.e>=t.PE,!0)},i=function e(){function t(i){var r=this;if(!(r instanceof t))return i===d?e():new t(i);if(i instanceof t)r.s=i.s,r.e=i.e,r.c=i.c.slice();else{if("string"!=typeof i){if(!0===t.strict)throw TypeError(o+"number");i=0===i&&1/i<0?"-0":String(i)}!function(e,t){var i,r,n;if(!c.test(t))throw Error(o+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(i=t.indexOf("."))>-1&&(t=t.replace(".",""));(r=t.search(/e/i))>0?(i<0&&(i=r),i+=+t.slice(r+1),t=t.substring(0,r)):i<0&&(i=t.length);for(n=t.length,r=0;r<n&&"0"==t.charAt(r);)++r;if(r==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=i-r-1,e.c=[],i=0;r<=n;)e.c[i++]=+t.charAt(r++)}}(r,i)}r.constructor=t}return t.prototype=h,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}(),i.default=i.Big=i,void 0!==e&&e.exports?e.exports=i:t.Big=i}(this)}).call(window)},538:()=>{var e=void 0;(function(){!function(t){"use strict";var i,r={},n=null,a=null,o=null;function s(e){return e<0?Math.ceil(e):Math.floor(e)}function l(){n||(n=new Big("10000000"),a=new Big("116444736000000000"),o=new Big("100"))}r.setTime=function(e){var t=1e3*+e,i=s(t/1e6),r=t%1e6*1e3;return this._hrTime=[i,r],this},r.setHrTime=function(e){var t=this;return Array.isArray(e)?t._hrTime=[e[0]||0,e[1]||0]:t._hrTime=[0,0],t},r.setMilliseconds=function(e){var t=this,i=t.getMicroseconds(),r=t.getNanoseconds();return t._hrTime[1]=1e6*e+1e3*i+r,t},r.setMicroseconds=function(e){var t=this,i=t.getMilliseconds(),r=t.getNanoseconds();return t._hrTime[1]=1e6*i+1e3*e+r,t},r.setNanoseconds=function(e){var t=this,i=t.getMilliseconds(),r=t.getMicroseconds();return t._hrTime[1]=1e6*i+1e3*r+e,t},r.setDateTimeValue=function(e){var t,i,r;return l(),i=(t=e.minus(a)).div(n),r=t.mod(n).times(o),this._hrTime=[s(i.valueOf()),s(r.valueOf())],this},r.setTimeSpanValue=function(e){var t,i;return l(),t=e.div(n),i=e.mod(n).times(o),this._hrTime=[s(t.valueOf()),s(i.valueOf())],this},r.setCurrentDataType=function(e){this._currentDataType=e},r.getTime=function(){return(1e6*this._hrTime[0]+this._hrTime[1]/1e3)/1e3},r.getHrTime=function(){return[this._hrTime[0],this._hrTime[1]]},r.getMilliseconds=function(){return Math.floor(this._hrTime[1]/1e6%1e3)},r.getMicroseconds=function(){return Math.floor(this._hrTime[1]/1e3%1e3)},r.getNanoseconds=function(){return Math.floor(this._hrTime[1]%1e3)},r.getDateTimeValue=function(){var e=new Big(this._hrTime[0]),t=new Big(this._hrTime[1]);return l(),t.div(o).plus(e.times(n)).plus(a)},r.getTimeSpanValue=function(){var e,t=new Big(this._hrTime[1]),i=new Big(this._hrTime[0]);return l(),e=t.div(o),i.times(n).plus(e)},r.getCurrentDataType=function(){return this._currentDataType||13},r.toDate=function(){return new Date(this.getTime())},r.valueOf=function(){return this.getTime()},r.toString=function(){return this.toDate().toString()},r.toJSON=function(){return{_value:this._hrTime,_vt:13}},r.toBIG=function(){var e=this;return 13===e._currentDataType?e.getDateTimeValue().toString():e.getTimeSpanValue().toString()},i=function(){function e(e,t){return new(e.bind.apply(e,[null].concat(t)))}function t(){var i,r,n=this,a=arguments.length;if(!(n instanceof t))return 0===a?new t:e(t,[].slice.call(arguments));0===a?n.setTime(Date.now()):1===a?(r=arguments[0])instanceof t?(n.setCurrentDataType(r._currentDataType),n.setHrTime(r._hrTime)):r instanceof Date?n.setTime(r.getTime()):Array.isArray(r)?n.setHrTime(r):"string"==typeof r?(i=new Date(r),n.setTime(i.getTime())):r instanceof Big?(n.setCurrentDataType(13),n.setDateTimeValue(r)):n.setTime(r):(r=arguments[0])instanceof Big?(n.setCurrentDataType(arguments[1]),13===n._currentDataType?n.setDateTimeValue(r):n.setTimeSpanValue(r)):(i=e(Date,[].slice.call(arguments)),n.setTime(i.getTime()),a>7&&(n.setMicroseconds(arguments[7]),a>8&&n.setNanoseconds(arguments[8]))),n.constructor=t}return t.prototype=r,t}(),void 0!==e&&e.exports?e.exports=i:t.DatePrecise=i}(this)}).call(window)},611:()=>{var e=void 0;(function(){!function(t){"use strict";var i,r={EMPTY:0,BOOL:1,INT8:2,INT16:3,INT32:4,INT64:5,UINT8:6,UINT16:7,UINT32:8,UINT64:9,FLOAT:10,DOUBLE:11,TIMESPAN:12,DATETIME:13,CY:15,BITSET8:17,BITSET16:18,BITSET32:19,BITSET64:20,BLOB:21,ICfUnknown:25,VOID:26,CHROM_CHAR:27,VARIANT:48,UUID:49,STR:50,REF:51,SREF:52,ICfDispatch:53,TYPE_MASK:4095,SAFEARRAY:8192,BYREF:16384,RESERVED:32768,ERROR:65535},n={};function a(e,t,r){t instanceof i?o(e,t._value,t._vt):Array.isArray(t)?o(e,t,r):"object"==typeof t?t instanceof Big?o(e,new Big(t),r):t instanceof DatePrecise?o(e,new DatePrecise(t),r):t instanceof Date?o(e,new Date(t),r):null===t?o(e,t,r):o(e,t.Value,t.VT):o(e,t,r)}function o(e,t,i){return null==t?(i=r.EMPTY,t=null):void 0===i&&(i="number"==typeof t?r.DOUBLE:"boolean"==typeof t?r.BOOL:r.STR),e._value=t,e._vt=i,e}n.valueOf=function(){var e=this;switch(e._vt){case r.UINT64:case r.BITSET64:case r.INT64:return new Big(e._value);case r.TIMESPAN:case r.DATETIME:return new DatePrecise(e._value)}return e._value},n.jsValueOf=function(){var e=this.valueOf();switch(this._vt){case r.UINT64:case r.BITSET64:case r.INT64:return Number(e);case r.TIMESPAN:case r.DATETIME:return e.getTime()}return e},n.typeOf=function(){return this._vt},n.setValue=function(e,t){return a(this,e,t),this},i=function e(){function t(i,r){var n=this;if(!(n instanceof t))return void 0===i?e():new t(i,r);a(n,i,r),n.constructor=t}return t.prototype=n,t.CF_VT=r,t}(),void 0!==e&&e.exports?e.exports=i:t.Variant=i}(this)}).call(window)}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";i.r(r),i.d(r,{Lib:()=>no});i(222),i(611),i(538);var e,t,n,a=(e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=function(e){return!!e&&e.constructor===Object},window.Node&&Node.prototype&&!Node.prototype.contains&&(Node.prototype.contains=function(e){return!!(16&this.compareDocumentPosition(e))}),{each:function(e,t){var i,r=0,n=e.length;if(void 0===n||a.isFunction(e)){for(i in e)if(!1===t.call(e[i],i,e[i]))break}else for(var o=e[0];r<n&&!1!==t.call(o,r,o);o=e[++r]);return e},isFunction:function(e){return"[object Function]"===t.call(e)},isObject:function(e){return null!==e&&"object"==typeof e},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(t){if(!t||!a.isObject(t)||t.nodeType||t.setInterval)return!1;if(t.constructor&&!e.call(t,"constructor")&&!e.call(t.constructor.prototype,"isPrototypeOf"))return!1;var i;for(i in t);return void 0===i||e.call(t,i)},extend:function(){var e,t,i,r,n=arguments[0]||{},o=1,s=arguments.length,l=!1;for("boolean"==typeof n&&(l=n,n=arguments[1]||{},o=2),"object"==typeof n||a.isFunction(n)||(n={}),s===o&&(n=a,--o);o<s;o++)if(null!=(e=arguments[o]))for(t in e)if(i=n[t],n!==(r=e[t]))if(l&&r&&(a.isPlainObject(r)||Array.isArray(r))){var u=i&&(a.isPlainObject(i)||Array.isArray(i))?i:Array.isArray(r)?[]:{};n[t]=a.extend(l,u,r)}else void 0!==r&&(n[t]=r);return n},ajax:function(e){var t=new XMLHttpRequest,i=void 0===e.async||e.async;i&&(t.responseType=e.dataType||""),t.open("get",e.url,i),t.onload=function(){200===t.status||0===t.status?"json"===t.responseType?e.success(t.response,t.statusText):t.responseText?"json"===e.dataType?e.success(JSON.parse(t.responseText),t.statusText):e.success(t.responseText,t.statusText):e.error&&e.error("unsupported responseType"):e.error&&e.error(t.statusText)},t.send()},getElementsByClassName:function(e,t,i){var r,n,a,o,s=[];if(e.getElementsByClassName)s=e.getElementsByClassName(t);else for(i=i||"*",o=(r=e.all||e.getElementsByTagName(i)).length,a=0;a<o;a++)(n=r[a]).className&&-1!==n.className.baseVal.indexOf(t)&&s.push(n);return s.remove=function(){var e;for(e=this.length-1;e>=0;e--)this[e].parentNode.removeChild(this[e])},s.attr=function(e,t){var i,r=this.length;for(i=0;i<r;i++)"text-decoration"===e?this[i].style.textDecoration=t:this[i].setAttribute(e,t)},s},filter:function(e,t){if(n(e)){var i={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];t(r,o)&&(n(o)||Array.isArray(o)?i[r]=a.filter(o,t):void 0!==o&&(i[r]=o))}return i}return Array.isArray(e)?e.map((function(e){return a.filter(e,t)})):e}});const o=a;const s={hasPointers:function(){return void 0!==this.Pointers.createInstance},Pointers:{mapEventName:function(e){return e}},Connection:{sendTraceEvent:function(e,t){}}};var l=i(511),u=i.n(l);i(209),i(914);const h={HmiAggregationMode:{None:0,TimeAverageStepped:1,MinMax:2},HmiAlarmBlock:{Undefined:0,ID:1,Name:2,Class:3,Priority:4,Group:5,Origin:6,Area:7,Comments:8,Information:9,LoopInAlarm:10,EventText:11,AlarmText1:12,AlarmText2:13,AlarmText3:14,AlarmText4:15,AlarmText5:16,AlarmText6:17,AlarmText7:18,AlarmText8:19,AlarmText9:20,AlarmState:21,ModificationTime:22,RaiseTime:23,AcknowledgeTime:24,ClearTime:25,ResetTime:26,SuppresionsState:27,EscalationLevel:28,Context:29,Duration:30,AcknowledgmentState:31,Value:32,ValueQuality:33,ValueLimit:34,HostName:36,UserName:37,ProcessValue1:38,ProcessValue2:39,ProcessValue3:40,ProcessValue4:41,ProcessValue5:42,ProcessValue6:43,ProcessValue7:44,ProcessValue8:45,ProcessValue9:46,ProcessValue10:47,ClassSymbol:48,StateText:49,GroupID:50},HmiAlarmControlID:{None:0,Help:1,Configuration:2,AlarmView:3,AlarmStatisticsView:5,AlarmAnnunciator:7,SingleAcknowledgment:8,GroupAcknowledgment:9,AlwaysShowRecent:10,SelectionDisplay:11,DisplayOptionsSetup:12,DisabledAlarmsSetup:13,FirstLine:14,PreviousLine:15,NextLine:16,LastLine:17,InfoTextSetup:18,CommentsSetup:19,LoopInAlarm:20,DisableAlarm:21,EnableAlarm:22,ShelveAlarm:23,UnshelveAlarm:24,SortSetup:25,TimeBaseSetup:26,CopyLines:27,PreviousPage:28,NextPage:29,TimeBase:256,Date:257,Time:258,PendingAlarms:259,Alarms:260,PendingAcknowledgeableAlarms:261,PendingShelvedAlarms:262,Selection:263,DisplayOption:264,Disabled:265,HasPendingShelvedAlarms:272,ConnectionStatus:273,Print:30,ShowActiveAlarms:31,ShowLoggedAlarms:32,ShowLoggedAlarmsUpdated:33,ShowDefinedAlarms:34,SingleReset:35,Export:36,MoveToNextAcknowledgeableAlarm:37,StartTime:274,EndTime:275,CurrentContextHint:276,SelectContext:38,StatusText:277,Custom:65536,PendingResettableAlarms:278,StatisticsSetup:39,MaximumRecordsExceeded:279,UserProfileSettings:40},HmiAlarmSourceType:{NotConfigured:0,ActiveAlarms:1,LoggedAlarms:2,LoggedAlarmsUpdated:3,AlarmDefinition:4,AlarmStatistics:5},HmiAlarmStatisticBlock:{Undefined:0,AverageRaisedRaised:4097,AverageRaisedCleared:4098,AverageRaisedAcknowledged:4099,AverageRaisedReset:4100,Frequency:4101,SumRaisedRaised:4102,SumRaisedCleared:4103,SumRaisedAcknowledged:4104,SumRaisedReset:4105,ID:1,Name:2,Class:3,Priority:4,Group:5,Origin:6,Area:7,Comments:8,Information:9,LoopInAlarm:10,EventText:11,AlarmText1:12,AlarmText2:13,AlarmText3:14,AlarmText4:15,AlarmText5:16,AlarmText6:17,AlarmText7:18,AlarmText8:19,AlarmText9:20,AlarmState:21,ModificationTime:22,RaiseTime:23,AcknowledgeTime:24,ClearTime:25,ResetTime:26,SuppressionState:27,EscalationLevel:28,Context:29,Duration:30,AcknowledgmentState:31,Value:32,ValueQuality:33,ValueLimit:34,TagName:35,Computer:36,User:37,ProcessValue1:38,ProcessValue2:39,ProcessValue3:40,ProcessValue4:41,ProcessValue5:42,ProcessValue6:43,ProcessValue7:44,ProcessValue8:45,ProcessValue9:46,ProcessValue10:47,ClassSymbol:48,StateText:49},HmiApplicationState:{None:0,Running:1,Terminated:2,Crashed:3,CreateFailed:4},HmiBackgroundFillMode:{Window:0,Screen:1},HmiBarMode:{Segmented:0,Unicolor:1,SegmentedStatic:2,UnicolorStatic:3},HmiCapType:{Square:256,Round:0,Flat:512},HmiCharSet:{Console:0,UTF8:1,UTF16:2},HmiClientInfoType:{None:0,PrimaryDisplayWidth:1,PrimaryDisplayHeight:2,PrimaryDisplayPixelRatio:3},HmiContentMode:{GraphicOrText:0,GraphicAndText:1,Text:2,Graphic:3},HmiDashType:{Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4},HmiDataGridHeaderType:{None:0,Index:1,Content:2},HmiDetailedParameterControlBlock:{None:0,ParameterSetElementName:1,ParameterSetValue:2,ParameterSetElementUnit:3},HmiDetailedParameterControlID:{None:0,Help:1,Save:49,Create:48,SaveAs:50,Delete:51,Rename:52,WriteToPLC:53,ReadFromPLC:54,StatusText:256,Print:30,Export:36,Import:37,Cancel:38,Custom:65536},HmiDisplayViewType:{Standard:0,List:1,Details:2,SmallIcons:3,MediumIcons:4,LargeIcons:5},HmiEditMode:{None:0,Update:1,Create:2,Delete:4},HmiEventTrigger:{Unknown:0,Touch:1,Left:16,Middle:17,Right:18,Enter:256,Space:257,Escape:258},HmiFillDirection:{BottomToTop:0,TopToBottom:1,LeftToRight:2,RightToLeft:3},HmiFillPattern:{Solid:0,Transparent:65536,BackwardDiagonal:131075,Cross:131076,DiagonalCross:131077,ForwardDiagonal:131074,Horizontal:131072,Vertical:131073,GradientHorizontal:1048576,GradientVertical:1048577,GradientForwardDiagonal:1048578,GradientBackwardDiagonal:1048579,GradientHorizontalTricolor:1048832,GradientVerticalTricolor:1048833,GradientForwardDiagonalTricolor:1048834,GradientBackwardDiagonalTricolor:1048835},HmiFlashingCondition:{Never:0,Always:1,RangeViolation:2},HmiFlashingRate:{Slow:0,Medium:1,Fast:2,None:255},HmiFlipMode:{None:0,Horizontal:1},HmiFontStrikeOut:{None:0,Single:1},HmiFontWeight:{Light:300,Normal:400,SemiBold:600,Bold:700,None:0},HmiFunctionTrendControlID:{None:0,Help:1,Configuration:2,Ruler:3,ZoomArea:4,ZoomPlusMinus:5,ZoomXAxisPlusMinus:7,ZoomYAxisPlusMinus:8,MoveTrendArea:9,MoveAxesArea:10,OriginalView:11,SelectDataConnection:12,SelectTrends:13,SelectTimeRange:14,PreviousTrend:15,NextTrend:16,StartStop:17,ConnectionStatus:256,Print:30,Export:36,StatusText:277,Custom:65536,UserProfileSettings:37},HmiGesture:{SwipeLeft:1,SwipeRight:2,SwipeUp:3,SwipeDown:4,Unknown:0},HmiGmpSetting:{None:0,GmpRelevant:1,CommentRequired:2,AcknowledgmentConfirmation:4,ElectronicSignatureConfirmation:8},HmiGraphicStretchMode:{None:0,Fill:1,Uniform:2,UniformToFill:3,Tiled:4},HmiGraphOverviewBlock:{Undefined:0,Step:1,StepName:2},HmiGridColoringMode:{None:0,Columns:1,Rows:2},HmiGridLine:{None:0,VerticalMajor:1,HorizontalMajor:2,VerticalMinor:4,HorizontalMinor:8},HmiGridSelectionMode:{None:0,Single:1,Multi:2},HmiHorizontalAlignment:{Left:0,Center:1,Right:2,Stretch:3},HmiIOFieldType:{Output:0,InputOutput:2},HmiKeyboardModifier:{None:0,Control:1,Shift:2,Alt:4},HmiLineEndType:{Line:0,EmptyArrow:1,Arrow:2,ReversedArrow:3,EmptyCircle:5,Circle:6},HmiLineJoinType:{Round:0,Bevel:4096,Miter:8192},HmiMarkerType:{None:0,Point:1,Square:2,Circle:3,Graphic:4},HmiMeasurementUnit:{None:0,Name:1,Symbol:2},HmiMediaControlID:{None:0,Play:1,Pause:2,Stop:3,SeekForward:4,SeekBackward:5,StatusText:277,Custom:65536,Mute:6},HmiOpenLinkMode:{None:0,Create:1,CreateAndConnect:2,Connect:3},HmiOperability:{Operable:0,DisabledProgrammatically:1,NoAuthorization:2,NoExplicitUnlock:4},HmiOrientation:{Horizontal:0,Vertical:1},HmiOverviewParameterControlBlock:{None:0,ParameterSetID:1,LastUser:2,LastAccess:3,ParameterSetElementOdd:4,ParameterSetElementEven:5},HmiOverviewParameterControlID:{None:0,Help:1,Configuration:2,FirstLine:3,PreviousLine:4,NextLine:5,LastLine:6,TimeBase:256,Date:257,Time:258,Column:259,Row:260,ParameterSetTypeName:261,ConnectionStatus:262,Selection:263,DeleteLine:7,CutLine:8,CopyLine:9,InsertLine:16,WriteToPLC:17,ReadFromPLC:18,Status:264,SortSetup:19,TimeBaseSetup:20,SelectParameterSetType:21,Print:30,Export:36,Import:37,Cancel:38,StatusText:277,Custom:65536},HmiPeakIndicator:{None:0,Low:1,High:2},HmiPersistencyScope:{User:0,Global:1},HmiPipeConnectionState:{Unavailable:0,Connected:1,Disconnected:2},HmiProcessControlID:{None:0,Help:1,Configuration:2,FirstRecord:3,PreviousRecord:4,NextRecord:5,LastRecord:6,Edit:7,SelectDataConnection:9,SelectTimeRange:11,PreviousColumn:12,NextColumn:13,StartStop:14,CreateArchiveValue:17,TimeBase:256,Date:257,Time:258,ConnectionStatus:259,Column:260,Row:261,Print:30,Export:36,SelectContext:38,StartTime:274,EndTime:275,CurrentContextHint:276,DeleteArchiveValue:18,StatusText:277,Custom:65536},HmiProcessDiagnosisCriteriaAnalysisBlock:{SymbolName:0,Address:1,Value:2,Comment:3},HmiProcessDiagnosisCriteriaAnalysisControlID:{None:0,ConnectionStatus:256},HmiProcessDiagnosisDetailViewType:{None:0,Ladder:1,FunctionBlock:2},HmiProcessDiagnosisGraphOverviewControlID:{None:0,NextStep:1,JumpToAlarmControl:2,JumpToPlcCodeViewer:3,JumpToTiaPortal:4,CriteriaAnalysis:256,StepState:257,ConnectionStatus:258},HmiProcessDiagnosisOverviewControlID:{None:0,JumpToAlarmControl:1,Information:256,ConnectionStatus:257},HmiProcessDiagnosisPlcCodeViewerControlID:{None:0,Previous:1,Next:2,ZoomIn:3,ZoomOut:4,ToggleGRAPHMode:5,ResetToConfiguration:6,ToggleDetailView:7,ToggleCriteriaAnalysis:8,ConnectionStatus:256,StatusText:257},HmiProcessIndicatorMode:{Bar:0,Indicator:1,DetailedIndicator:2,BarWithDetailedIndicator:3},HmiQuality:{Bad:1,Uncertain:2,Good:4,UpperLimitViolation:64,LowerLimitViolation:128,None:0},HmiRequestResult:{None:0,Success:1,AccessDenied:2,InvalidName:3},HmiResourceListType:{Undefined:0,Text:1,Graphic:2,TextAndGraphic:3},HmiRotationCenterPlacement:{AbsoluteFromCenter:0,NormedFromCenter:1,AbsoluteToContainer:2},HmiScaleMode:{None:0,Labels:1,Ticks:2},HmiScalingType:{Linear:0,Logarithmic:1,NegativeLogarithmic:2,Tangent:4,Quadratic:5,Cubic:6},HmiScreenWindowAdaption:{None:0,WindowToScreen:1,ScreenToWindow:2},HmiScrollBarVisibility:{Automatic:0,Visible:1,Collapsed:2},HmiSelectionMode:{NonExclusive:0,Exclusive:1},HmiSimpleGridLine:{None:0,Vertical:1,Horizontal:2},HmiSimplePosition:{LeftOrTop:0,RightOrBottom:1},HmiSortDirection:{None:0,Ascending:1,Descending:2},HmiSourceState:{Idle:0,Busy:1},HmiSymbolEffect:{None:0,UseEffectColor:1},HmiSystemDiagnosisControlBlock:{Undefined:0,Number:1,DateTime:2,EventMessage:3,EventType:4,EventState:5},HmiSystemDiagnosisControlID:{None:0,Previous:2,Next:3,Reload:6,Home:5,Path:256,ConnectionStatus:273,FirstLine:14,PreviousLine:15,NextLine:16,LastLine:17,SplitView:18,Back:19,ShowDiagnosticBuffer:20},HmiSystemDiagnosisMatrixBlock:{Undefined:0,Status:1,Name:2,OperatingState:3,Rack:4,Slot:5,OrderNumber:6,Address:7,PlantDesignation:8,LocationIdentifier:9,Subsystem:10,Station:11,Subslot:12,SubAddress:13,SoftwareVersion:14,Installation:15,AdditionaInformation:16,ErrorDescription:17,ManufacturerID:18,HardwareVersion:19,ProfileID:20,SpecificProfileData:21,IandMDataVersion:22,SerialNumber:23,RevisionCounter:24,Type:25,IPAddress:32},HmiSystemDiagnosisViewType:{Diagnosis:0,Matrix:1,DistributedIO:2},HmiTextPosition:{Left:0,Right:1,Top:2,Bottom:3,Behind:4,InFront:5},HmiTextTrimming:{None:0,CharacterEllipsis:1},HmiTextWrapping:{NoWrap:0,WordWrap:1},HmiThresholdIndicator:{None:0,Lines:1,Markers:2},HmiThresholdMode:{Undefined:0,Upper:1,Lower:2,Normal:3,Minimum:4,Maximum:5},HmiTimeRangeBase:{Undefined:0,Millisecond:1,Second:2,Minute:3,Hour:4,Day:5,Month:6,Year:7},HmiTimeRangeStart:{Now:0,Fixed:1},HmiTimeRangeType:{TimeRange:0,FromBeginToEnd:1,PointCount:2},HmiTrendCompanionID:{None:0,Help:1,Configuration:2,RulerWindow:3,DefineStatisticsArea:4,CalculateStatistics:5,TimeBase:256,Date:257,Time:258,Column:259,Row:260,Source:261,ConnectionStatus:262,Print:30,Export:36,StatusText:277,Custom:65536},HmiTrendCompanionMode:{Ruler:0,StatisticArea:1,StatisticResult:2},HmiTrendControlID:{None:0,Help:1,FirstRecord:2,PreviousRecord:3,NextRecord:4,LastRecord:5,Ruler:6,ZoomArea:7,ZoomPlusMinus:8,ZoomTimeAxisPlusMinus:9,ZoomValueAxisPlusMinus:10,MoveTrendArea:11,MoveAxesArea:12,OriginalView:13,SelectDataConnection:14,SelectTrends:15,SelectTimeRange:16,PreviousTrend:17,NextTrend:18,StartStop:19,DefineStatisticsArea:20,CalculateStatistics:21,TimeBase:256,Date:257,Time:258,ConnectionStatus:259,Print:30,Export:36,Configuration:37,SelectContext:38,StartTime:274,EndTime:275,CurrentContextHint:276,StatusText:277,Custom:65536,UserProfileSettings:39},HmiTrendInfoBlock:{None:0,Name:1,Index:2,Label:3,Show:4,TagNameY:5,TagNameX:6,YValue:7,XValueOrTimestamp:8,YValueLowerLimit:9,TimestampLowerLimit:10,YValueUpperLimit:11,TimestampUpperLimit:12,Minimum:13,MinimumTimestamp:14,Maximum:15,MaximumTimestamp:16,Average:17,StandardDeviation:18,Integral:19,WeightedAverageValue:20,Duration:21,NumberOfValues:22,AreaName:23,AreaNameLL:24,AreaNameHL:25,Sum:32},HmiTrendMode:{Points:0,Interpolated:1,Stepped:2,Bar:3,Value:4},HmiValueTendency:{Steady:0,Upwards:1,Downwards:2},HmiVerticalAlignment:{Top:0,Center:1,Bottom:2,Stretch:3},HmiVideoOutput:{Undefined:0,Stretch:1,PreserveAspectFit:2,PreserveAspectCrop:3},HmiVisibleAlarms:{None:0,UnSuppressed:1,Disabled:2,SuppressedByDesign:4,Shelved:8},HmiWebControlID:{None:0,Help:1,Previous:2,Next:3,Stop:4,Home:5,Reload:6,Go:7,Address:512,StatusText:277,Custom:65536},HmiWindowFlag:{None:0,ShowCaption:1,ShowBorder:2,AlwaysOnTop:4,CanSize:8,CanMove:16,CanMaximize:32,CanClose:64,AlwaysInParent:128},HmiWindowStartupPosition:{None:0,CenteredMonitor:1,Maximized:2,CenteredOwner:3},HmiWindowState:{Normal:0,Maximized:1,Minimized:2},HmiScreenObjectType:{AlarmColumnPart:40016,AlarmControl:33315,AlarmStatisticColumnPart:40017,AlarmStatisticsSettingsPart:4008,ApplicationPart:4714,BackgroundSystemPart:35001,BadgePart:666,Bar:10023,BindingSourceElement:7012,BlockSymbolSystemPart:35020,Button:10012,CheckBoxGroup:10029,Circle:10001,CircleSegment:10002,CircularArc:10003,Clock:10016,ComboBox:10048,CommandPart:7500,CommandSourceElement:7501,ConsideredColumnPart:4803,ContentPart:815,ControlBarButtonPart:33309,ControlBarDisplayPart:33313,ControlBarLabelPart:33311,ControlBarSeparatorPart:33319,ControlBarTextBoxPart:33312,ControlBarToggleSwitchPart:5712,CornersPart:40012,CurvedScalePart:93434,CustomWebControlContainer:100001,CustomWidgetContainer:100002,DataCellSystemPart:35004,DataGridColumnHeaderPart:40019,DataGridColumnPart:7513,DataGridControl:7514,DataGridHeaderSettingsPart:40020,DataGridViewPart:4007,DataSourcePart:33307,DcsFaceplateContainer:100003,DetailedParameterControl:33322,DetailedParameterControlColumnPart:8027,DotNetControlContainer:100005,DynamicPropertyPart:900,Ellipse:10004,EllipseSegment:10005,EllipticalArc:10006,FaceplateContainer:100004,FaceplateType:10052,FlowLineDecoratorSystemPart:35022,FocusEffectSystemPart:66601,FontPart:20034,FunctionTrendAreaPart:990001,FunctionTrendControl:33321,FunctionTrendPart:990010,Gauge:10021,GraphicView:10015,GraphOverviewControlColumnPart:33403,Group:6e3,HeaderCellSystemPart:35003,HelpLinePart:901330,HotKeyPart:1111,InputBehaviorPart:816,InputHintSystemPart:35009,IOField:10017,Label:10020,LayerPart:20002,LegendPart:990310,Line:10008,LineColorPart:33440,ListBox:10047,ListContainerSystemPart:35008,LogicSymbolSystemPart:35021,MarginPart:40014,MarkerSystemPart:35007,MatrixViewPart:13460,MediaControl:10044,ObjectExplorerControl:33332,OpenLinkElement:4712,OperabilityPart:5e3,OverviewParameterControl:33323,OverviewParameterControlColumnPart:8028,PaddingPart:40013,ParameterPart:4799,PipePart:4713,PlcDataSourcePart:33401,Polygon:10009,Polyline:10010,PopupScreenWindow:20007,ProcessColumnPart:34351,ProcessControl:33331,ProcessDiagnosisCriteriaAnalysisControl:33410,ProcessDiagnosisCriteriaAnalysisControlColumnPart:33411,ProcessDiagnosisGraphOverviewControl:33400,ProcessDiagnosisOperationModePart:33402,ProcessDiagnosisOverviewControl:33420,ProcessDiagnosisOverviewElementPart:33421,ProcessDiagnosisOverviewPart:33422,ProcessDiagnosisPlcCodeViewerControl:33430,QualityPart:902323,RadioButtonGroup:10030,Rectangle:10011,ResourceListEntryPart:999999,RulerIndicatorSystemPart:35006,RulerPart:34330,ScalingEntryPart:44490,Screen:20001,ScreenMaster:20008,ScreenWindow:20003,ScreenWindowLayout:20005,ScrollBarSystemPart:35e3,SelectionItemPart:40010,SelectionSystemPart:35002,Slider:10022,SnapPointPart:3333,StatusBarPart:33310,StraightScalePart:93433,SwacContainer:1e5,SymbolContainer:10025,SymbolicIOField:10019,SystemDiagnosisControl:33340,SystemDiagnosisControlColumnPart:8029,SystemDiagnosisDetailViewPart:46220,SystemDiagnosisHardwareDetailPart:4460,SystemDiagnosisMatrixColumnPart:43434,TagInterfacePart:4710,Text:10013,TextBox:10045,TextPart:40009,ThresholdPart:40008,TimeAxisPart:990003,TimeRangeColumnPart:34350,ToggleSwitch:10024,ToolBarPart:33308,TooltipSystemPart:35005,TopLevelScreenWindow:20004,TouchArea:1,TrendAreaPart:990002,TrendColumnPart:40021,TrendCompanion:33328,TrendControl:33300,TrendPart:990011,WebControl:10027,WindowFrameSystemPart:35010,XValueAxisPart:990004,YValueAxisPart:990005}};var d,c,p,m,g,T,f,y;const D=(d=navigator.userAgent,c=navigator.appName,p=!1,m=!1,g=!1,T=!1,f=!1,y=!1,-1!==d.indexOf("MSIE")||-1!==d.indexOf("Trident")?(f=!0,c="Microsoft Internet Explorer"):-1!==d.indexOf("Edge")?(y=!0,c="Edge"):-1!==d.indexOf("Chrome")?(m=!0,T=!0,c="Chrome"):-1!==d.indexOf("Safari")?(m=!0,g=!0,c="Safari"):-1!==d.indexOf("AppleWebkit")?(m=!0,c="Safari"):-1!==d.indexOf("Firefox")&&(p=!0,c="Firefox"),{mozilla:function(){return p},webkit:function(){return m},safari:function(){return g},chrome:function(){return T},msie:function(){return f},edge:function(){return y},name:function(){return c},android:function(){return/Android/i.test(d)},blackberry:function(){return/BlackBerry/i.test(d)},ios:function(){return/iPhone|iPad|iPod/i.test(d)},operaMobile:function(){return/Opera Mini/i.test(d)},windowsMobile:function(){return/IEMobile/i.test(d)}});var S=i(874);const b={disablePreventDefaultEvents:!1,drawInsideFrame:!1,showDeveloperTooltip:!1,useCloning:!0,checkProperties:!1,zoomOnPoint:!0,zoomWithMouseWheelOnly:!1,scrollPopups:!1,assetSuffix:"",minZoomFactor:.01,maxZoomFactor:8,holdVisual:!1,enableAutoLogOff:!1};var C=function(){function e(e){this.size=0,this.limit=e,this.oldest=this.newest=null,this._keymap=new Map}const t=Symbol("newer"),i=Symbol("older");return e.Entry=function(e,r){this.key=e,this.value=r,this[t]=null,this[i]=null},e.prototype.markEntryAsUsed=function(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][i]=e[i]),e[i]&&(e[i][t]=e[t]),e[t]=null,e[i]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)},e.prototype.get=function(e){var t=this._keymap.get(e);if(t)return this.markEntryAsUsed(t),t.value},e.prototype.set=function(r,n){var a=this._keymap.get(r);return a?(a.value=n,this.markEntryAsUsed(a),this):(a=new e.Entry(r,n),this._keymap.set(r,a),this.newest?(this.newest[t]=a,a[i]=this.newest):this.oldest=a,this.newest=a,++this.size,this.size>this.limit&&this.shift(),this)},e.prototype.shift=function(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[i]=null):(this.oldest=null,this.newest=null),e[t]=e[i]=null,this._keymap.delete(e.key),--this.size,[e.key,e.value]},e.prototype.clear=function(){this.oldest=this.newest=null,this.size=0,this._keymap.clear()},e}(),v=new C(500),P=function(){var e=function(e=!0){this.useCache=e,this.item=null,this.imgName="",this.cbImageLoaded=null,this.params=null};e.clear=function(){v.clear()};var t=function(e,t){return!e||e.includes("%")||!t||t.includes("%")};return e.prototype.loadImage=function(e,t,i,r){if(""!==t){if(this.useCache){const n=v.get(t);if(n&&i){return void i(e,{imgName:t,params:r,w:n.w,h:n.h})}}let n;this.item=e,this.imgName=t,this.cbImageLoaded=i,this.params=r,n=t.startsWith("data:image/")?"":t.startsWith("content/images/")?e.gfxWebLib.connection.getAppDir():e.gfxWebLib.connection.getImageUrl();const a=this,o=n+t;t.endsWith(".svg")?fetch(o).then((e=>{e.ok&&e.text().then((e=>{const t=(new DOMParser).parseFromString(e,"image/svg+xml");a.cbOnSVG(t,o)}))})).catch((()=>{a.cbOnError()})):a.loadAsImage(o)}},e.prototype.loadAsImage=function(e){const t=this;this.pictImg=new Image,this.pictImg.onload=function(){t.cbOnPictLoaded()},this.pictImg.onerror=function(){t.cbOnError()},this.pictImg.src=e},e.prototype.cbOnSVG=function(e,i){let r;if(this.cbImageLoaded){let n=e.firstElementChild.getAttribute("width"),a=e.firstElementChild.getAttribute("height");if(t(n,a)){const i=function(e){const t=e.firstElementChild.getAttribute("viewBox");let i,r;t&&4===t.split(" ").length&&(i=t.split(" ")[2],r=t.split(" ")[3]);return{width:i,height:r}}(e);n=i.width,a=i.height,t(n,a)||(r={imgName:this.imgName,params:this.params,w:n,h:a},this.cbImageLoaded(this.item,r),v.set(this.imgName,{w:r.w,h:r.h}),this.cleanUp())}r||this.loadAsImage(i)}},e.prototype.cbOnPictLoaded=function(){if(this.cbImageLoaded){var e={imgName:this.imgName,params:this.params,w:this.pictImg.width,h:this.pictImg.height};this.cbImageLoaded(this.item,e),0!==this.imgName.indexOf("data:image/",0)&&v.set(this.imgName,{w:this.pictImg.width,h:this.pictImg.height}),this.cleanUp()}},e.prototype.cleanUp=function(){this.pictImg&&(this.pictImg.onload=this.pictImg.onerror=null,this.pictImg=null),this.item=this.cbImageLoaded=null},e.prototype.cbOnError=function(){eo.consolLog(eo.enumTraceMode.Error,"Failed to load: "+this.imgName),this.cleanUp()},e}();const _=P;var A;const w=(A=function(e){return"rgb("+e.join(",")+")"},{setProps:function(e,t,i){var r,n,a,o,s=Ha,l=ka;switch(r=l.mkColorObj(s.getProp(t,"BackColor")),n=A(r.values),a=l.mkColorObj(s.getProp(t,"AlternateBackColor")),o=A(a.values),e){case 0:case 4096:default:return!1;case 1048576:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="0%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"100%",color:o,opacity:a.alpha};break;case 1048577:i.x1="0%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"100%",color:o,opacity:a.alpha};break;case 1048578:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"100%",color:o,opacity:a.alpha};break;case 1048579:i.x1="100%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"100%",color:o,opacity:a.alpha};break;case 1048832:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="0%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"50%",color:o,opacity:a.alpha},i.stops[2]={offset:"100%",color:n,opacity:r.alpha};break;case 1048833:i.x1="0%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"50%",color:o,opacity:a.alpha},i.stops[2]={offset:"100%",color:n,opacity:r.alpha};break;case 1048834:i.x1="0%",i.y1="0%",i.x2="100%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"50%",color:o,opacity:a.alpha},i.stops[2]={offset:"100%",color:n,opacity:r.alpha};break;case 1048835:i.x1="0%",i.y1="100%",i.x2="100%",i.y2="0%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"50%",color:o,opacity:a.alpha},i.stops[2]={offset:"100%",color:n,opacity:r.alpha};break;case 1049088:i.x1="0%",i.y1="0%",i.x2="0%",i.y2="100%",i.stops=[],i.stops[0]={offset:"0%",color:n,opacity:r.alpha},i.stops[1]={offset:"15%",color:n,opacity:r.alpha},i.stops[2]={offset:"85%",color:n,opacity:r.alpha},i.stops[3]={offset:"100%",color:n,opacity:r.alpha}}return!0},setBackColors:function(e,t,i,r){var n=A(i.values),a=i.alpha.toString(),o=r?A(r.values):n,s=r?r.alpha.toString():a;switch(e){case 0:case 4096:default:break;case 1048576:case 1048577:case 1048578:case 1048579:t[0].setAttribute("stop-color",n),t[0].setAttribute("stop-opacity",a);break;case 1048832:case 1048833:case 1048834:case 1048835:t[0].setAttribute("stop-color",n),t[0].setAttribute("stop-opacity",a),t[2].setAttribute("stop-color",n),t[2].setAttribute("stop-opacity",a);break;case 1049088:t[0].setAttribute("stop-color",o),t[0].setAttribute("stop-opacity",s),t[1].setAttribute("stop-color",n),t[1].setAttribute("stop-opacity",a),t[2].setAttribute("stop-color",n),t[2].setAttribute("stop-opacity",a),t[3].setAttribute("stop-color",o),t[3].setAttribute("stop-opacity",s)}}});var x,V;const E={createDomElement:x=function(e,t){var i,r,n=document.createElement(e);for(i in t)if(t.hasOwnProperty(i))switch(r=t[i],i){case"textNode":n.appendChild(document.createTextNode(r));break;case"appendTo":r.appendChild(n);break;default:n.setAttribute(i,r)}return n},createDomScreenItemNode:function(e,t){var i;return(t=t||{})["data-rtoid"]=e.rtoid,t["data-tif-id"]=void 0!==e.props.Name?e.props.Name:"",i=x("div",t),rn.addTifLibExpandoProps(e,i),i},createSvgScreenItemNode:function(e){var t,i=wn;return e.useSvgNodeForEvents=!0,e.domNode=x("div",{style:"position: absolute; pointer-events: none;"}),t=i.createSvgElement("svg",{style:"position: absolute; pointer-events: none; overflow: visible;",focusable:"false",appendTo:e.domNode}),e.domSvgNode=i.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;",appendTo:t}),e.domNode},removeAllChilds:V=function(e){for(;e.firstChild;)V(e.firstChild),e.removeChild(e.firstChild)},removeNodeWithAllChilds:function(e){V(e),e.parentNode&&e.parentNode.removeChild(e),e=null},setBBox:function(e,t){var i=e.style;i.left=t.l+"px",i.top=t.t+"px",i.width=t.w+"px",i.height=t.h+"px"},setZoom:function(e,t){var i=e.style;i.transformOrigin="0 0",i.transform="scale("+t+")"}};var I,R,B,L,M,F,H,O;const N=(I=h,B=function(e,t){var i=e.domNode;if(i){"PWC-WINDOW-DIRECTIVE"===i.tagName&&(i=i.firstElementChild);var r=e.domNodeModal;r?r.style.zIndex=t.toString():i.style.zIndex=t.toString()}},L=function(e){return R(e)?e.domNodeModal?1e4:1e3:1},M=function(e,t){return!e._lastAccess||e._lastAccess<t._lastAccess?-1:1},F=function(e){var t=e.accessList,i=t.length;if(i>0){t.sort(M);for(var r=0;r<i;r++){var n=t[r];if(n&&n._lastAccess){var a=L(n);B(n,a+10*r)}}}O(e)},H=function(e,t){t!==e.front&&(e.front,e.front=t)},O=function(e){for(var t=e.accessList.length-1;t>=0;--t)return void H(e,e.accessList[t]);H(null)},{createManager:function(){return{accessList:[],front:null}},cleanUp:function(e){e&&(e.accessList.length=0,e.front=null)},register:function(e,t){e.accessList.push(t)},unregister:function(e,t){var i=e.accessList.indexOf(t);-1!==i&&e.accessList.splice(i,1)},bringToFront:function(e,t){if(t!==e.front){const i=e.accessList,r=i.indexOf(t);return r>=0&&r<i.length-1&&i.push(i.splice(r,1)[0]),t._lastAccess=Date.now(),F(e),!0}return!1},sendToBack:function(e,t){t._lastAccess=-Date.now(),F(e)},orderWindows:function(e,t){t&&(t._lastAccess=Date.now()),F(e)},getActive:function(e){return e.front},clearActive:function(e){e.front=null},bringAlwaysOnTop:function(e){var t=e.accessList,i=t.length;if(i>0){for(var r=!1,n=Date.now(),a=0;a<i;a++){var o=t[a];o&&R(o)&&(o._lastAccess=n+a,r=!0)}r&&F(e)}},isAlwaysOnTop:R=function(e){return!!(e.props.WindowFlags&I.HmiWindowFlag.AlwaysOnTop)}});var k,W,G,U,z,j=(k=["","webkit","Moz","moz","MS","ms"],U=function(e,t,i){return!(!e||!e.length||t<0||i<0||i>=e.length||t>=e.length)},z=function(e){return e.toString(16).padStart(2,"0").toUpperCase()},{bindIframeEvents:function(e){if(e._internal&&e._internal.iframe){const t=e._internal.iframe.getIFrame();if(t){const e=()=>{const e=new window.CustomEvent("iframe",{bubbles:!1,cancelable:!1});t.dispatchEvent(e)};try{t.contentWindow.addEventListener("pointermove",e,{capture:!0,passive:!0}),t.contentWindow.addEventListener("pointerdown",e,{capture:!0,passive:!0}),t.contentWindow.addEventListener("keydown",e,{capture:!0,passive:!0})}catch(e){const i=()=>{const e=new window.CustomEvent("iframe_enter",{bubbles:!1,cancelable:!1});t.dispatchEvent(e)};t.addEventListener("pointerenter",i,{capture:!0,passive:!0})}}}},equalRect:function(e,t){return e.l===t.l&&e.t===t.t&&e.w===t.w&&e.h===t.h},equalPoint:function(e,t){return e.x===t.x&&e.y===t.y},copyPoint:function(e,t){t.x=e.x,t.y=e.y},inRect:function(e,t){return!(t.x<e.l||t.x>e.l+e.w||t.y<e.t||t.y>e.t+e.h)},inflateRect:function(e,t,i){return e.l=e.l-t,e.t=e.t-i,e.w=e.w+2*t,e.h=e.h+2*i,e},copyRect:function(e,t){return t.l=e.l,t.t=e.t,t.w=e.w,t.h=e.h,t},mkId:W=function(e,t){return void 0!==e.subid?t+"_"+e.rtoid+"_"+e.subid:t+"_"+e.rtoid},mkGuid:function(e,t){return void 0===e.guidIndex||e.guidIndex>=2147483647?e.guidIndex=0:e.guidIndex+=1,W(e,t)+"_"+e.guidIndex.toString()},mkUrl:function(e,t,i){return"url(#"+(!0===i?t:W(e,t))+")"},setPrefixedStyle:function(e,t,i){var r=function(e,t){for(var i,r,n=t[0].toUpperCase()+t.slice(1),a=0;a<k.length;){if((r=(i=k[a])?i+n:t)in e)return r;a++}}(e.style,t);if(r)return e.style[r]=i,!0},stripOffset:function(e,t){return e-t},equals:G=function(e,t){var i,r;return e===t||typeof e==typeof t&&null!==e&&null!==t&&("object"==typeof e?e.constructor===t.constructor&&(e instanceof Array?e.length===t.length&&e.every((function(e,i){return G(e,t[i])})):(i=Object.keys(e),r=Object.keys(t),i.length===r.length&&i.every((function(i){return G(e[i],t[i])})))):e===t)},upperBound:function(e,t,i,r,n){var a,o,s,l;if(!n&&!U(t,i,r))return-1;if(a=i<=r?r-i+1:i-r+1,t[s=i<=r?i:r]>e)return 0;if(t[r]<=e)return-1;for(;a>0;)e>=t[l=s+(o=a/2)]?(s=l+1,a-=o+1):a=o;return s},lowerBound:function(e,t,i,r,n){var a,o,s,l;if(!n&&!U(t,i,r))return-1;if(s=i<=r?i:r,a=i<=(r=i<=r?r:i)?r-i+1:i-r+1,t[r]<e)return r;if(t[i]>=e)return-1;for(;a>0;)e>t[l=s+(o=a/2)]?(s=l+1,a-=o+1):a=o;return s},findMagnitude:function(e){return Math.floor(Math.log(e)/Math.LN10)},getMagnitudeValue:function(e){return Math.pow(10,e)},debounce:function(e,t){var i=null;return function(){var r=this,n=arguments;window.clearTimeout(i),i=window.setTimeout((function(){e.apply(r,n)}),t)}},throttle:function(e,t){var i,r=null;return t=t||250,function(){var n=this,a=arguments,o=Date.now();i&&o<i+t?(window.clearTimeout(r),r=window.setTimeout((function(){i=o,e.apply(n,a)}),t)):(i=o,e.apply(n,a))}},checkPartPermission:function(e,t,i){var r={props:{Operability:t.Operability}};return e.gfxWebLib.interaction.checkPermission(r,i)},isScreenWindow:function(e){return-1!==e.props.Type.indexOf("ScreenWindow")},isScreenContainer:function(e){return j.isScreenWindow(e)||"FaceplateContainer"===e.props.Type},isScreen:function(e){return"Screen"===e.props.Type||"FaceplateType"===e.props.Type},idToRTOID:function(e,t){return t=t||0,z(e)+"_"+z(t)}});const Y=j,X=JSON.parse('{"texts":{"TBID_NML_Name":"WebUx","TBID_NML_LCID":"EN","TBID_HR_UnknownError":"Unknown error: (hr=%s).","TBID_HR_0x8007139F":"Runtime not active.","TBID_HR_0x80004004":"Invalid Parameter: StartConfig in GfxStartParameter.xml.","TBID_ConnServerFailed":"Connect to runtime server failed (hr=%s).","TBID_ConnLoading":"Loading...","TBID_ConnNoConnection":"No connection to server","TBID_ConnDeadOrSlow":"The connection may be slow or disconnected.","TBID_ConnReconnecting":"No connection to server. Automatic reconnect in %d second(s)","TBID_ConnNoRuntime":"Runtime not active. Automatic reconnect in %d second(s)","TBID_ConnOverload":"An overload condition detected! Please reload this page.","TBID_ConnReload":"Reload","TBID_OperationMotive":"Please enter operator input message...","TBID_LimitViolation":"The value exceeds the configured limits.","TBID_OperationNotAuthorized":"Insufficient permission","TBID_OperationDisabledProgrammatically":"Disabled programmatically","TBID_OperationNoExplicitUnlock":"Explicit unlock is missing","TBID_OperationWriteTagForbidden":"Write access denied due to missing license.","TBID_ReadOnlyLicense":"Attention, you are working on a read only license.","TBID_Print_Warning_PopUpBlockerMsg":"Check if Pop-up is blocked by the Browser for Printing","TBID_Print_Warning_PopUpBlockerCaption":"Pop-up blocker","TBID_TableCtrl_Statusbar_Row":"Row","TBID_TableCtrl_Statusbar_Column":"Column","TBID_TableCtrlPB_Name":"Table Property Browser","TBID_TableCtrlPB_Tab_TimeAndValueColumns":"Time & Value Columns","TBID_TableCtrlPB_Tab_ValueColumns":"Value Columns","TBID_TableCtrlPB_Tab_ColumnBase":"ColumnBase","TBID_TableCtrlPB_TimeAndValueColumns_TimeColumn":"Time column","TBID_TableCtrlPB_TimeAndValueColumns_ProcessValueColumns":"Process value columns","TBID_TableCtrlPB_ColumnBase_Name":"Name","TBID_TableCtrlPB_ColumnBase_Visible":"Visible","TBID_TableCtrlPB_ColumnBase_Enabled":"Enabled","TBID_TableCtrlPB_ColumnBase_HorizontalAlignment":"Horizontal text alignment","TBID_TableCtrlPB_ColumnBase_VerticalAlignment":"Vertical text alignment","TBID_TableCtrlPB_ColumnBase_Width":"Width","TBID_TableCtrlPB_ColumnBase_MinimumWidth":"Minimum width","TBID_TableCtrlPB_ColumnBase_MaximumWidth":"Maximum width","TBID_TableCtrlPB_ColumnBase_AllowSort":"Allow sort","TBID_TableCtrlPB_ColumnBase_SortOrder":"Sort order","TBID_TableCtrlPB_ColumnBase_SortDirection":"Sort direction","TBID_TableCtrlPB_ColumnBase_BackColor":"Back color","TBID_TableCtrlPB_ColumnBase_ForeColor":"Fore color","TBID_TableCtrlPB_ColumnBase_FeatureSelection":"Feature selection","TBID_TableCtrlPB_ColumnBase_OutputFormat":"Output Format","TBID_TableCtrlPB_ColumnBase_RenderingTemplate":"Rendering template","TBID_TableCtrlPB_ColumnBase_ProcessColumns":"Process columns","TBID_TableCtrlPB_ColumnBase_SortingAttributes":"Sorting and Coloring attributes","TBID_TableCtrlPB_ColumnBase_ContentAndHeaderSettings":"Content & Header settings","TBID_TableCtrlPB_ColumnBase_ContentFeature":"Content feature","TBID_TableCtrlPB_ColumnBase_TextMaximumLengthMsgCaption":"Text length","TBID_TableCtrlPB_ColumnBase_TextMaximumLengthMsg":"Maximum allowed length is 128","TBID_TableCtrlPB_ColumnBase_OutputFormatMaxLengthMsgCaption":"Output Format length","TBID_TableCtrlPB_ColumnBase_OutputFormatMaxLengthMsg":"Maximum allowed length is 128","TBID_TableCtrlPB_ColumnBase_OutputFormatMaxInvalidMsgCaption":"Please Enter Valid Format","TBID_TableCtrlPB_ColumnBase_WidthMinMaxMsgCaption":"Minimum width","TBID_TableCtrlPB_ColumnBase_WidthMinMaxMsg":"Minimum width should be less than the Maximum width","TBID_TableCtrlPB_ColumnBase_SortOrderMsgCaption":"SortOrder Error","TBID_TableCtrlPB_ColumnBase_MaxAllowedSortOrderMsg":"Allowed SortOrder value range is ","TBID_TableCtrlPB_ColumnBase_SortOrderBoundaryExceedMsg":" Misses allowed SortOrder value range ","TBID_TableCtrlPB_ColumnBase_SameSortOrderMsg":" Duplicate Order ","TBID_TableCtrlPB_ColumnBase_For":" for ","TBID_TableCtrlPB_ColumnBase_HeaderProperties_Text":"Text","TBID_TableCtrlPB_ColumnBase_HeaderProperties_Graphic":"Graphic","TBID_TableCtrlPB_ColumnBase_HeaderProperties_HorizontalAlignment":"Horizontal text alignment","TBID_TableCtrlPB_ColumnBase_HeaderProperties_VerticalAlignment":"Vertical text alignment","TBID_TableCtrlPB_ColumnBase_HeaderProperties_ContentMode":"Content mode","TBID_TableCtrlPB_ColumnBase_HeaderProperties_TextPosition":"Text position","TBID_TableCtrlPB_ColumnBase_HeaderProperties_TextTrimming":"Text trimming","TBID_TableCtrlPB_ColumnBase_HeaderProperties_Spacing":"Spacing","TBID_TableCtrlPB_ColumnBase_HeaderProperties_SplitRatio":"Split ratio","TBID_TableCtrlPB_ColumnBase_HeaderProperties_GraphicStretchMode":"Graphic stretch mode","TBID_TableCtrlPB_TimeColumns_Online":"Online","TBID_TableCtrlPB_TimeColumns_UseValueColumnColors":"Use value column colors","TBID_TableCtrlPB_TimeColumns_PointsCount":"Points count","TBID_TableCtrlPB_TimeColumns_RangeFactor":"Range Factor","TBID_TableCtrlPB_TimeColumns_StartTimeMsg":"Enter a start time that is before end time","TBID_TableCtrlPB_TimeColumns_MeasurementPointMsg":"Enter a number from 1 to 2^31 - 1 for number of measurement points","TBID_TableCtrlPB_TimeColumns_TimeRangeMsg":"Enter a number from 1 to 32767 as the factor for the time range","TBID_TableCtrlPB_TimeColumns_RangeType":"Range type","TBID_TableCtrlPB_TimeColumns_TimeRange":"Time range","TBID_TableCtrlPB_General_Lable_OnlineConfiguration":"Online configuration","TBID_TableCtrlPB_General_Online":"Online","TBID_TableCtrlPB_General_Lable_EditMode":"Edit mode","TBID_TableCtrlPB_General_Lable_Precision":"Precision","TBID_TableCtrlPB_General_Lable_TimeStepSmoothingFactor":"TimeStep smoothing factor","TBID_TableCtrlPB_General_Lable_TimeStepSmoothingBase":"TimeStep smoothing base","TBID_TableCtrlPB_General_Lable_Edit":"Edit","TBID_TableCtrlPB_ValueColumns_LimitValues":"Limit Values","TBID_TableCtrl_WriteError_Caption":"Write Error","TBID_TableCtrl_WriteError_Msg":"Error occured when changing a data record.","TBID_TableCtrl_Note_Caption":"Note","TBID_TableCtrl_TimeColumnEditError_Msg":"A time column cannot be edited.","TBID_TableCtrl_EmptyCellEditError_Msg":"Empty cells cannot be edited.","TBID_TableCtrl_EditNotAllowedError_Msg":"Editing data is not allowed.","TBID_TableCtrl_EmptyCellDeleteError_Msg":"Empty cell cannot be deleted.","TBID_TableCtrl_DeletingArchiveValue_TimeColumn_Msg":"Please select a process value for deletion.","TBID_TableCtrl_DeletingArchiveValue_InvalidRowColumnSelect_Msg":"Please select a valid process value for deletion.","TBID_TableCtrl_EditingModeError_Msg":"The control is not in editing mode.","TBID_TableCtrl_DisabledColumnError_Msg":"Please enable the column","TBID_TableCtrl_InputError_Caption":"Input Error","TBID_TableCtrl_InputError_Msg":"Enter a numeric value.","TBID_HmiWindowPB_Tab_OperatorMessages":"Operator Messages","TBID_HmiWindowPB_Tab_OnlineConfiguration":"Online Configuration","TBID_HmiWindowPB_Tab_Export":"Export","TBID_HmiWindowPB_Tab_General":"General","TBID_HmiWindowPB_Tab_ToolBar":"Toolbar","TBID_HmiWindowPB_Tab_StatusBar":"Status bar","TBID_HmiWindowPB_Tab_Font":"Font","TBID_HmiWindowPB_Tab_Parameter":"Parameter","TBID_HmiWindowPB_Tab_Effects":"Effects","TBID_HmiWindowPB_Tab_Selection":"Selection","TBID_HmiWindowPB_Tab_Import":"Import","TBID_HmiWindow_TimeZoneDialog_Caption":"Time Zone Settings","TBID_HmiWindow_TimeZoneDialog_SetTimeZone":"Set the time zone:","TBID_HmiWindow_TimeZoneDialog_TimeZone":"Time zone:","TBID_HmiWindow_TimeZoneDialog_ZoneDateTimeLocal":"Local zone date and time:","TBID_HmiWindow_TimeZoneDialog_ZoneDateTimeCurrent":"Current zone date and time:","TBID_HmiWindow_TimeZoneDialog_ZoneDateTimeNew":"New zone date and time:","TBID_HmiWindowPB_General_Lable_Window":"Window","TBID_HmiWindowPB_General_Lable_WindowTitle":"Window title","TBID_HmiWindowPB_General_Lable_Text":"Text","TBID_HmiWindowPB_General_Style":"Style","TBID_HmiWindowPB_General_TimeZone":"Time zone","TBID_HmiWindowPB_General_VerticalScrollbarVisibility":"Vertical Scrollbar Visibility","TBID_HmiWindowPB_General_HorizontalScrollbarVisibility":"Horizontal Scrollbar Visibility","TBID_HmiWindowPB_BeginEndDateTime_InvalidDateTimeMsgCaption":"Invalid DateTime","TBID_HmiWindowPB_BeginEndDateTime_InCompleteDateTimeMsg":"Please provide valid Date/Time value","TBID_HmiWindowPB_BeginEndDateTime_InvalidDateTimeMsg":"Should be of Date Format: \'YYYY-MM-DD\' and Time Format: \'HH:MM:SS.000\'","TBID_HmiWindowPB_OutputFormat_HelloString":"Hello","TBID_HmiWindowPB_OutputFormat_SampleString":"SIEMENS Corporation","TBID_HmiWindowPB_OutputFormat_TrimStringTip":"Removes white space at start and end","TBID_HmiWindowPB_OutputFormat_UnderScoreTip":"Replace underscore with \'digit\'","TBID_AlgCtrl_Pending":"Pending","TBID_AlgCtrl_ToAcknowledge":"To acknowledge","TBID_AlgCtrl_List":"List","TBID_AlgCtrl_HitList_Title":"Statistics setup","TBID_AlgCtrl_HitList_MaxRecordsSettings":"Max. data records for the statistics","TBID_AlgCtrl_HitList_TimeRangeSettings":"Time range for statistics","TBID_AlgCtrl_HitList_MaximumRecords":"Maximum records","TBID_AlgCtrl_HitList_BeginTime":"Begin Time","TBID_AlgCtrl_HitList_RangeFactor":"Time range factor","TBID_AlgCtrl_HitList_RangeBase":"Time range base","TBID_AlgCtrl_HitList_TimeRangeStartOptions":"Time range start","TBID_AlgCtrl_HitList_TimeRangeStartOptions_Now":"Now","TBID_AlgCtrl_HitList_TimeRangeStartOptions_Fixed":"Fixed","TBID_AlgCtrl_HitList_MaximumRecordsMsg":"Enter a number from 1 to 50000 as the value for the maximum records","TBID_AlgCtrl_HitList_RangeFactorMsg":"Enter a number from 1 to 32767 as the factor for the time range","TBID_AlgCtrl_Sort":"Sort","TBID_AlgCtrl_SortNone":"None","TBID_AlgCtrl_SortLevel1":"Sort by","TBID_AlgCtrl_SortLevel2":"Then Sort by","TBID_AlgCtrl_SortLevel3":"Then Sort by","TBID_AlgCtrl_SortLevel4":"Finally Sort by","TBID_AlgCtrl_Ok":"OK","TBID_AlgCtrl_Cancel":"Cancel","TBID_AlgCtrl_Apply":"Apply","TBID_Help":"Help","TBID_EnableAlarm":"Enable alarm","TBID_AlgCtrl_Ascending":"Ascending","TBID_AlgCtrl_Descending":"Descending","TBID_AlgCtrl_ClearSortCriteria":"Clear sort criteria","TBID_AlgCtrl_TimeBase":"Time base","TBID_AlgCtrl_LocalTimeZone":"Local time zone","TBID_AlgCtrl_UTC":"Coordinated Universal Time (UTC)","TBID_StatusBar_ConState_AllConnected":"All data connections established","TBID_StatusBar_ConState_AllDisconnected":"No data connections could be established","TBID_StatusBar_ConState_SomeDisconnected":"Some data connections could not be established","TBID_StatusBar_ConState_NoConnectionSetUp":"No data connection set up","TBID_AlgCtrl_UnSuppressed":"Unsuppressed","TBID_AlgCtrl_DisplayOptions":"Show messages: ","TBID_AlgCtrl_OutOfService":"Out of service","TBID_AlgCtrl_Suppressed":"Suppressed","TBID_AlgCtrl_SuppressedByDesign":"Suppressed by design","TBID_AlgCtrl_Shelved":"Shelved","TBID_AlgCtrl_LockDialog_LockedMessages":"Locked Messages:","TBID_AlgCtrl_LockDialog_Server":"Server","TBID_AlgCtrl_LockDialog_Lock":"Lock","TBID_AlgCtrl_LockDialog_Unlock":"Unlock","TBID_AlgCtrl_LockDialog_Add":"Add","TBID_AlgCtrl_LockDialog_Delete":"Delete","TBID_AlgCtrl_LockDialog_ParentNode":"localhost::","TBID_ImportDialog_DataImport":"Import - ParameterSets ","TBID_ImportDialog_ChooseFile":"File","TBID_ImportDialog_FileExtnNotification":"Choose file with [tsv] extension","TBID_ImportDialog_ChecksumNotification":"Checksum validation is not supported","TBID_ImportDialog_ChecksumLable":"Validate Checksum","TBID_ImportFailed":"Import Failed:No PS for selected PST","TBID_ImportFail_IncorrectFormat":"Import Failed: Incorrect file format","TBID_ImportFail_IncorrectHeader":"Import Failed: Incorrect header","TBID_ImportFail_IncorrectData":"Import Failed: Incorrect data","TBID_ImportFail_IncorrectDataType":"Import Failed: Incorrect data type","TBID_ImportDialog_IncorrectDataType":"Value must be of type ","TBID_ImportDialog_ValueNotInRangeMin":"Limit violation, value should not be less than ","TBID_ImportDialog_ValueNotInRangeMax":"Limit violation, value should not be more than ","TBID_ImportDialog_ValueNotInRange1":"Edited cell value must be with in ( ","TBID_ImportDialog_ValueNotInRange2":" ) range","TBID_ImportDialog_ErrorSummary":" Parameter sets will not be imported due to errors. ","TBID_ImportDialog_ErrorSummaryContinue":"Would you like to continue import of valid Parameter sets?","TBID_ImportDialog_ErrorGridHeaderPsId":"PS ID","TBID_ImportDialog_ErrorGridHeaderPeName":"Element Name","TBID_ImportDialog_ErrorGridHeaderPeValue":"Element Value","TBID_ImportDialog_ErrorGridHeaderParameterName":"ParameterSet Name","TBID_ImportDialog_ErrorGridHeaderPsErrorDescription":"Error Description","TBID_AlgCtrl_ExportDialog_DataExport":"Data Export - Settings","TBID_AlgCtrl_ExportDialog_FileName":"File Name","TBID_AlgCtrl_ExportDialog_Directory":"Directory","TBID_AlgCtrl_ExportDialog_Scope":"Scope of data export","TBID_AlgCtrl_ExportDialog_Format":"Format","TBID_AlgCtrl_ExportDialog_Choose_Format":"Choose Format","TBID_AlgCtrl_ExportDialog_List_Separator":"List Separator","TBID_AlgCtrl_ExportDialog_Decimal_Symbol":"Decimal Symbol","TBID_AlgCtrl_ExportDialogForPaco_DataExport":"Export - ParameterSet","TBID_AlgCtrl_ExportDialog_Generate_Checksum":"Generate checksum","TBID_AlgCtrl_Dialog_ParameterSet_NameNumber_Exist":"Parameter set with Name and Number already exist","TBID_AlgCtrl_Dialog_ParameterSet_Number_Exist":"Parameter set with Number already exist","TBID_AlgCtrl_Dialog_ParameterSet_Name_Exist":"Parameter set with Name already exist","TBID_AlgCtrl_ConfirmReadFromPLCDialog_DialogHeader":"Read from PLC - Parameter set","TBID_AlgCtrl_ConfirmReadFromPLCDialog_DialogTitle":"Read from PLC - Parameter set","TBID_AlgCtrl_ConfirmReadFromPLCDialog_PS_Name":"Parameter set name","TBID_AlgCtrl_ConfirmReadFromPLCDialog_PS_No":"Number","TBID_AlgCtrl_ConfirmReadFromPLCDialog_ReadButton":"Read","TBID_AlgCtrl_ConfirmReadFromPLCDialog_OverwriteLabel":"Overwrite selected parameter set","TBID_AlgCtrl_ConfirmReadFromPLCDialog_CreateNewLabel":"Create new parameter set","TBID_AlgCtrl_RenameDialog_DialogHeader":"Rename - ParameterSet","TBID_AlgCtrl_RenameDialog_DialogTitle":"Rename - ParameterSet","TBID_AlgCtrl_RenameDialog_File_Name":"PARAMETER SET NAME","TBID_AlgCtrl_SaveAsDialog_DialogHeader":"Save As - ParameterSet","TBID_AlgCtrl_SaveAsDialog_DialogTitle":"Save As - ParameterSet","TBID_AlgCtrl_SaveAsDialog_File_Format":"NUMBER","TBID_AlgCtrl_CreateDialog_DialogHeader":"Create - ParameterSet","TBID_AlgCtrl_CreateDialog_DialogTitle":"Create - ParameterSet","TBID_AlgCtrl_ImportDialog_OverWrite":"Overwrite","TBID_AlgCtrl_ExportOptionsDialog_Delimiter":"Delimiter","TBID_AlgCtrl_ExportOptionsDialog_FileFormat":"File Format","TBID_AlgCtrl_ExportOptionsDialog_Comma":"Comma","TBID_AlgCtrl_ExportOptionsDialog_Semicolon":"Semicolon","TBID_AlgCtrl_ExportOptionsDialog_Tab":"Tab stop","TBID_AlgCtrl_ExportOptionsDialog_Space":"Space","TBID_AlgCtrl_ExportOptionsDialog_ANSI":"ANSI","TBID_AlgCtrl_ExportOptionsDialog_UTF":"UTF-8","TBID_AlgCtrl_ExportOptionsDialog_Unicode":"Unicode","TBID_All":"All","TBID_AlgCtrl_QueryParse_Error":"Filter dialog is unable to parse the Query.","TBID_AlgCtrl_AddDialog_MessageNum":"Message Number(s)","TBID_AlgCtrl_AddDialog_Desc":"Separate messages by commas or indicate a range.","TBID_AlgCtrl_AddDialog_Example":"For example:1,2,3,5-10","TBID_AlgCtrl_Close":"Close","TBID_AlgCtrl_InfoText":"Info text","TBID_AlgCtrl_AddDialog_dialogtitle":"Set the Lock List Parameters","TBID_AlgCtrl_Number":"Number","TBID_AlgCtrl_ID":"Alarm ID","TBID_AlgCtrl_Date":"Date","TBID_AlgCtrl_Time":"Alarm Modification Time","TBID_AlgCtrl_Author":"Author","TBID_AlgCtrl_Computer":"Computer","TBID_AlgCtrl_Comment":"Comment","TBID_AlgCtrl_ActiveAlarmsViewSetup":"Activealarmsview setup","TBID_AlgCtrl_AlarmDefinitionViewSetup":"Alarmdefinitionview setup","TBID_AlgCtrl_SuppressFlashing":"Suppress flashing","TBID_AlgCtrl_AcknowledgementFlashingRate":"Acknowledgement flashing rate","TBID_AlgCtrl_ResetFlashingRate":"Reset flashing Rate","TBID_AlgCtrl_DefaultSortDirection":"Default sort direction","TBID_Configuration":"Configuration","TBID_AlarmView":"AlarmView","TBID_SingleAcknowledgement":"Single acknowledgement","TBID_GroupAcknowledgment":"Group acknowledgment","TBID_AlwaysShowRecent":"Always show recent","TBID_SelectionDisplay":"Selection display","TBID_DisplayOptionsSetup":"Display options","TBID_FirstLine":"First line","TBID_PreviousLine":"Previous line","TBID_LastLine":"Last line","TBID_NextLine":"Next line","TBID_DisableAlarm":"Disable alarm","TBID_CommentsSetup":"Comments","TBID_ShowActiveAlarms":"Active alarms","TBID_ShowLoggedAlarms":"Logged alarms","TBID_ShowLoggedAlarmsUpdated":"Logged alarms updated","TBID_ShowDefinedAlarms":"Defined alarms","TBID_SingleReset":"Single reset","TBID_MoveToNextAcknowledgeableAlarm":"Move to next acknowledgable alarm","TBID_AlarmAnnunciator":"Alarm annunciator","TBID_PreviousPage":"Previous page","TBID_NextPage":"Next page","TBID_ShelveAlarm":"Shelve alarm","TBID_UnshelveAlarm":"Unshelve alarm","TBID_SortSetup":"Sort","TBID_TimeBaseSetup":"TimeBase","TBID_Mapping":"Mapping","TBID_InfoTextSetup":"Info text","TBID_Date":"Date","TBID_Time":"Time","TBID_PendingAlarms":"PendingAlarms","TBID_Alarms":"Alarms","TBID_PendingAcknowledgeableAlarms":"Pending acknowledgeable alarms","TBID_PendingShelvedAlarms":"Pending shelved alarms","TBID_Selection":"Selection","TBID_DisplayOption":"Display option","TBID_Disabled":"Disabled","TBID_HasPendingShelvedAlarms":"Has pending shelved alarms","TBID_ConnectionStatus":"Connection status","TBID_AlarmStatisticsView":"Statistics view","TBID_DisabledAlarmsSetup":"Disabled alarm setup","TBID_ShelvedAlarms":"Shelved alarms","TBID_DisabledAlarms":"Disabled alarms","TBID_CopyLines":"Copy lines","TBID_LoopInAlarm":"Loop in alarm","TBID_Grid_LineVisibiliy":"Visibility","TBID_HmiWindow_ShowCaption":"Show caption","TBID_HmiWindow_ShowBorder":"Show border","TBID_HmiWindow_AlwaysOnTop":"Always on  top","TBID_HmiWindow_CanSize":"Can size","TBID_HmiWindow_CanMove":"Can move","TBID_HmiWindow_CanMaximize":"Can maximize","TBID_HmiWindow_CanClose":"Can close","TBID_Row":"Row","TBID_Column":"Column","TBID_CustomCombo_No_Items_Available":"No items available","TBID_CustomCombo_Select":"<- Select ->","TBID_CreateArchiveValue":"Create archive value","TBID_Edit":"Edit","TBID_NextColumn":"Next column","TBID_PreviousColumn":"Previous column","TBID_SelectColumns":"Select columns","TBID_TrendTooltip_DataConnection":"Data Connection","TBID_TrendTooltip_TimeStamp":"Time Stamp","TBID_TrendTooltip_YValue":"Y Value","TBID_Trend_MinLabel":"Min","TBID_Trend_MaxLabel":"Max","TBID_Trend_LegendLabel":"Legend:","TBID_Trend_MinMaxThresholdLabel":"Min/Max Threshold:","TBID_Trend_YValue":"Y Value","TBID_Trend_XValue":"X Value","TBID_Trend_Time":"Time","TBID_TrendPB_Font_FontProperties":"Properties","TBID_TrendPB_Font_FontName":"Font","TBID_TrendPB_Font_Fontsize":"Font Size","TBID_TrendPB_Font_FontWeight":"Font Weight","TBID_TrendPB_Font_FontItalic":"Italic","TBID_TrendPB_Font_FontUnderline":"Underline","TBID_TrendPB_Font_FontStrikeThrough":"Strikethrough","TBID_TrendPB_Font_FontSampletext":"Sample text","TBID_TrendPB_Font_InvalidfontMsg":"Font size can not be zero or empty","TBID_TrendPB_Font_FontOkButton":"OK","TBID_TrendPB_Font_FontCancelButton":"Cancel","TBID_TrendPB_Font_FontApplyButton":"Apply","TBID_TrendPB_Font_Effects":"Effects","TBID_TrendPB_Trend_NewTrendName":"Trend ","TBID_TrendPB_Trend_NewTrendWindowName":"Trend Area ","TBID_TrendPB_Trend_NewValueAxisName":"Value axis ","TBID_TrendPB_Trend_NewTimeAxisName":"Time axis ","TBID_TrendPB_Function_NewTrendName":"FunctionTrend ","TBID_TrendPB_Function_NewTrendAreaName":"Area ","TBID_TrendPB_Function_NewXAxisName":"XAxis ","TBID_TrendPB_Function_NewYAxisName":"YAxis ","TBID_TrendPB_Trend_TrendName":"Trends","TBID_TrendPB_Trend_ObjectName":"Name","TBID_TrendPB_Trend_TrendWindow":"Trend Area","TBID_TrendPB_Trend_TimeAxis":"Time axis","TBID_TrendPB_Trend_ValueAxis":"Value axis","TBID_TrendPB_Trend_XAxis":"X axis","TBID_TrendPB_Trend_YAxis":"Y axis","TBID_TrendPB_Trend_Lable":"Display Name","TBID_TrendPB_Trend_Online":"Online","TBID_TrendPB_Trend_DataSource":"Data source","TBID_TrendPB_Trend_TagName":"Source","TBID_TrendPB_Trend_TrendMode":"Trend Mode","TBID_TrendPB_Trend_LineColor":"Line color","TBID_TrendPB_Trend_DashType":"Dash type","TBID_TrendPB_Trend_LineWeight":"Line weight","TBID_TrendPB_Trend_MarkerType":"Marker type","TBID_TrendPB_Trend_MarkerDimension":"Marker Dimension","TBID_TrendPB_Trend_MarkerColor":"Marker color","TBID_TrendPB_Trend_BackColor":"Back color","TBID_TrendPB_Trend_BackFillPattern":"Back fill pattern","TBID_TrendPB_Trend_Extended":"Extended","TBID_TrendPB_Trend_LimitValues":"Limit values","TBID_TrendPB_Trend_Visible":"Visible","TBID_TrendPB_Trend_DataConnection":"Data Connection","TBID_TrendPB_Trend_Effects":"Effects","TBID_TrendPB_Trend_Refresh":"Refresh","TBID_TrendPB_Trend_TimeRange":"Time Range","TBID_TrendPB_Trend_Setting":"Setting","TBID_TrendPB_Trend_StartTime":"Start time","TBID_TrendPB_Trend_EndTime":"End time","TBID_TrendPB_Trend_StartTimeMsg":"Enter a start time that is before end time","TBID_TrendPB_Trend_MeasurementPointMsg":"Enter a number from 1 to 2^31 - 1 for number of measurement points","TBID_TrendPB_Trend_TimeRangeMsg":"Enter a number from 1 to 32767 as the factor for the time range","TBID_TrendPB_Trend_TagNameX":"Tag name X","TBID_TrendPB_Trend_TagNameY":"Tag name Y","TBID_TrendPB_Trend_TagButtonValue":"Tag..","TBID_TrendPB_Trend_LimitValuesButtonValue":"Limit values","TBID_TrendPB_Trend_ShowXAxis":"Show X-Axis","TBID_TrendPB_Trend_ShowYAxis":"Show Y-Axis","TBID_TrendPB_Trend_AlternateBackColor":"Alternate back color","TBID_FirstRecord":"First record","TBID_PreviousRecord":"Previous record","TBID_NextRecord":"Next record","TBID_LastRecord":"Last record","TBID_Ruler":"Ruler","TBID_RulerWindow":"Ruler window","TBID_Print":"Print","TBID_Export":"Export","TBID_Source":"Source","TBID_ZoomArea":"Zoom area","TBID_ZoomPlusMinus":"Zoom plus minus","TBID_ZoomTimeAxisPlusMinus":"Zoom time axis plus minus","TBID_ZoomValueAxisPlusMinus":"Zoom value axis plus minus","TBID_ZoomXAxisPlusMinus":"Zoom x axis plus minus","TBID_ZoomYAxisPlusMinus":"Zoom y axis plus minus","TBID_MoveTrendArea":"Move trend area","TBID_MoveAxesArea":"Move axes area","TBID_OriginalView":"Original view","TBID_SelectDataConnection":"Select data connection","TBID_SelectTrend":"Select trend","TBID_SelectTimeRange":"Select time range","TBID_PreviousTrend":"Select Previous trend","TBID_NextTrend":"Next trend","TBID_StartStop":"Start and  stop ","TBID_TimeBase":"Time base","TBID_DefineStatisticsArea":"Define statistics area","TBID_CalculateStatistics":"Calculate statistics","TBID_RelativeAxis":"Calculate statistics","TBID_TagDialog_TagName":"Tag Name","TBID_TagDialog_CycleTime":"Cycle Time","TBID_TagDialog_Caption":"Tag Configuration","TBID_TagDialog_OK":"OK","TBID_TagDialog_Cancel":"Cancel","TBID_TagDialog_ShowTagDialog":"...","TBID_LimitValues_Danger":"Danger","TBID_LimitValues_Warning":"Warning","TBID_LimitValues_QualityVisualization":"Quality Visualization","TBID_LimitValues_UpperLimit":"Upper Limit","TBID_LimitValues_LowerLimit":"Lower Limit","TBID_LimitValues_AboveUpperLimitColor":"Color","TBID_LimitValues_BelowLowerLimitColor":"Color","TBID_LimitValues_LimitVisible":"Visible","TBID_LimitValues_LimitAvailable":"Available","TBID_LimitValues_LimitValue":"Value","TBID_LimitValues_Flashing":"Flashing on violation","TBID_LimitValues_QualityVisualizationVisible":"Visible","TBID_LimitValues_BadColor":"Bad color","TBID_LimitValues_UncertainColor":"Uncertain color","TBID_LimitValues_DangerLowLessWarningLow":"Danger lower limit value should be lesser than warning lower limit value","TBID_LimitValues_DangerLowLessDangerUpper":"Danger lower limit value should be lesser than danger upper limit value","TBID_LimitValues_DangerLowLessWarningUpper":"Danger lower limit value should be lesser than warning upper limit value","TBID_LimitValues_WarningLowLessWarningUpper":"Warning lower limit value should be lesser than warning upper limit value","TBID_LimitValues_WarningLowLessDangerUpper":"Warning lower limit value should be lesser than danger upper limit value","TBID_LimitValues_WarningUpperLessDangerUpper":"Warning upper limit value should be lesser than danger upper limit value","TBID_TagSelectionDialog_Caption":"Selection of Archive/Tags","TBID_TagSelectionDialog_ValueColumn":"Value column","TBID_TagSelectionDialog_DataConnection":"Data Connection","TBID_TagSelectionDialog_DataSource":"Data source","TBID_TagSelectionDialog_TagName":"Tag name","TBID_TagSelectionDialog_TagButtonValue":"Tag..","TBID_TimeRangeDialog_Caption":"Time - Selection","TBID_TimeRangeDialog_Timerange":"Time range","TBID_TimeRangeDialog_Setting":"Setting","TBID_TimeRangeDialog_StartTime":"Start time","TBID_TimeRangeDialog_EndTime":"End time","TBID_TimeRangeDialog_NoOfMeasurePoints":"Measuring Points","TBID_TimeRangeDialog_StartTimeMsg":"Enter a start time that is before end time","TBID_TimeRangeDialog_MeasurementPointMsg":"Enter a number from 1 to 2^31 - 1 for number of measurement points","TBID_TimeRangeDialog_TimeRangeMsg":"Enter a number from 1 to 32767 as the factor for the time range","TBID_TimeRangeDialog_MaxYearRangeMsg":"Enter a number from 1 to 99 as the factor for the time range","TBID_TimeRangeDialog_MaxMonthRangeMsg":"Enter a number from 1 to 1188 as the factor for the time range","TBID_TimeRangeDialog_FromBeginToEnd":"Start time and end time","TBID_TimeRangeDialog_PointCount":"Measuring Points","TBID_TimeRangeDialog_TimeRange":"Time interval","TBID_TimeRangeDialog_Millisecond":"Millisecond","TBID_TimeRangeDialog_Second":"Second","TBID_TimeRangeDialog_Minute":"Minute","TBID_TimeRangeDialog_Hour":"Hour","TBID_TimeRangeDialog_Day":"Day","TBID_TimeRangeDialog_Month":"Month","TBID_TimeRangeDialog_Year":"Year","TBID_HmiWindow_OKButton":"OK","TBID_HmiWindow_CancelButton":"Cancel","TBID_HmiWindow_ApplyButton":"Apply","TBID_TrendPB_TrendWindow_ObjectName":"Name","TBID_TrendPB_TrendWindow_Visible":"Visible","TBID_TrendPB_TrendWindow_BackColor":"Back color","TBID_TrendPB_TrendWindow_GridLines":"Grid lines","TBID_TrendPB_TrendWindow_VerticalMajor":"Vertical major ","TBID_TrendPB_TrendWindow_HorizontalMajor":"Horizontal major","TBID_TrendPB_TrendWindow_VerticalMinor":"Vertical minor","TBID_TrendPB_TrendWindow_HorizontalMinor":"Horizontal minor","TBID_TrendPB_TrendWindow_MajorGridLinesColor":"Major gridlines color","TBID_TrendPB_TrendWindow_MinorGridLinesColorr":"Minor gridlines color","TBID_TrendPB_TrendWindow_SizeFactor":"Size factor ","TBID_TrendPB_TrendWindow_Color":"Color","TBID_TrendPB_TrendWindow_Width":"Width","TBID_TrendPB_TrendWindow_TrendArea":"Trend Area","TBID_TrendPB_TrendWindow_Ruler":"Ruler","TBID_TrendPB_TrendWindow_RulerForStatisticsArea":"Ruler for statistics area","TBID_TrendPB_TrendWindow_FunctionYAxes":"For Y axes","TBID_TrendPB_TrendWindow_FunctionXAxes":"For X axes","TBID_TrendPB_TrendWindow_RemovalMessage":"Associated parts - trend,timeaxis and valueaxis will be removed","TBID_TrendPB_TimeValueAxes_Name":"Name","TBID_TrendPB_TimeValueAxes_DisplayName":"Display Name","TBID_TrendPB_TimeValueAxes_Position":"Position","TBID_TrendPB_TimeValueAxes_LabelColor":"Label Color","TBID_TrendPB_TimeValueAxes_TickColor":"Tick Color","TBID_TrendPB_TimeValueAxes_LabelDirection":"Label Direction","TBID_TrendPB_TimeValueAxes_ScaleMode":"Scale Mode","TBID_TrendPB_TimeValueAxes_AutoScaling":"Auto Scaling","TBID_TrendPB_TimeValueAxes_OutputFormat":"Output Format","TBID_TrendPB_TimeValueAxes_Label":"Label","TBID_TrendPB_TimeValueAxes_Visible":"Visible","TBID_TrendPB_TimeValueAxes_InvalidTrendAreaMsg":"The trend area already contains an axis with the same name as the selected axis","TBID_TrendPB_ValueAxes_BeginValue":"Begin Value","TBID_TrendPB_ValueAxes_EndValue":"End Value","TBID_TrendPB_ValueAxes_ValueAxes":"Value Axes","TBID_TrendPB_ValueAxes_Trendwindow":"Trend window","TBID_TrendPB_ValueAxes_Label":"Label","TBID_TrendPB_ValueAxes_Scaling":"Scaling","TBID_TrendPB_ValueAxes_ValueAxesNewButton":"New","TBID_TrendPB_ValueAxes_ValueAxesRemoveButton":"Remove","TBID_TrendPB_ValueAxes_ValueAxesUpButton":"Up","TBID_TrendPB_ValueAxes_ValueAxesDownButton":"Down","TBID_TrendPB_ValueAxes_Automatic":"Automatic","TBID_TrendPB_ValueAxes_Decimalplaces":"Decimal places","TBID_TrendPB_ValueAxes_Exponentialnotation":"Exponential notation","TBID_TrendPB_ValueAxes_Use":"Use","TBID_TrendPB_ValueAxes_Show":"Show","TBID_TrendPB_ValueAxes_ValueRange":"Value range","TBID_TrendPB_ValueAxes_StartAndEndValueMsg":"Start value should not be equal to end value.","TBID_TrendPB_ValueAxes_LinearNumberMsgCaption":"Value range - linear","TBID_TrendPB_ValueAxes_LogarithmMsgCaption":"Value range - logarthmic","TBID_TrendPB_ValueAxes_NegatedLogarithmMsgCaption":"Value range - negated logarthmic","TBID_TrendPB_ValueAxes_InvalidNumberMsgCaption":"Invalid Character","TBID_TrendPB_ValueAxes_InvalidNumberMsg":"You can only enter a valid number here.  ","TBID_TrendPB_ValueAxes_LinearValidNumberRangeMsg":"Enter values only between -1e+307 and 1e+307. ","TBID_TrendPB_ValueAxes_LogarithmicValidNumberRangeMsg":"Enter values only between 1e-307 and 1e+307. ","TBID_TrendPB_ValueAxes_NegatedLogarithmicValidNumberRangeMsg":"Enter values only between -1e+307 and -1e-307. ","TBID_TrendPB_ValueAxes_LogarithmicInvalidNegNumberMsg":"Negative values cannot be shown on a logarithmic scale. ","TBID_TrendPB_ValueAxes_NegatedLogarithmicInvalidPosNumberMsg":"Positive values cannot be shown on a negated logarithmic scale. ","TBID_TrendPB_ValueAxes_Effects":"Effects","TBID_TrendPB_ValueAxes_FunctionTrendXAxes":"X axes","TBID_TrendPB_ValueAxes_FunctionTrendYAxes":"Y axes","TBID_TrendPB_ValueAxes_DivisionCount":"Division Count","TBID_TrendPB_ValueAxes_SubDivisionCount":"Sub-division Count","TBID_TrendPB_ValueAxes_LargeTickLabelingStep":"Large Tick Labeling Step","TBID_TrendPB_ValueAxes_LabelDistance":"Label Distance","TBID_TrendPB_ValueAxes_LabelPosition":"Label Position","TBID_TrendPB_ValueAxes_MeasurementUnitType":"Measurement Unit Type","TBID_TrendPB_ValueAxes_MeasurementUnit":"Measurement Unit","TBID_TrendPB_ValueAxes_ApplyScalingEntries":"Apply Scaling Entries","TBID_TrendPB_ValueAxes_ShowScalingDisplayNames":"Show Scaling Display Names","TBID_TrendPB_ValueAxes_AutoRange":"Autorange","TBID_TrendPB_ValueAxes_ApplyScalingAttributes":"Apply Scaling Attributes","TBID_TrendPB_ValueAxes_MeasurementAttributes":"Measurement Attributes","TBID_TrendPB_TimeAxes_TimeAxes":"Time axes","TBID_TrendPB_TimeAxes_Setting":"Setting","TBID_TrendPB_TimeAxes_StartTime":"Start time","TBID_TrendPB_TimeAxes_EndTime":"End time","TBID_TrendPB_TimeAxes_Timerange":"Time range","TBID_TrendPB_TimeAxes_PointCount":"Point Count","TBID_TrendPB_TimeAxes_Effects":"Effects","TBID_TrendPB_TimeAxes_StartTimeMsg":"Enter a start time that is before end time","TBID_TrendPB_TimeAxes_MeasurementPointMsg":"Enter a number from 1 to 2^31 - 1 for number of measurement points","TBID_TrendPB_TimeAxes_TimeRangeMsg":"Enter a number from 1 to 32767 as the factor for the time range","TBID_TrendPB_TimeAxes_TimeAxes_FunctionValueAxis":"X axes","TBID_TrendPB_General_Windowtitle":"Window title","TBID_TrendPB_General_Background":"Background","TBID_TrendPB_General_Caption":"Caption","TBID_TrendPB_General_Weight":"Weight","TBID_TrendPB_General_Movable":"Movable","TBID_TrendPB_General_Closable":"Closable","TBID_TrendPB_General_Sizable":"Sizable","TBID_TrendPB_General_Style":"Style","TBID_TrendPB_General_Scrollbar":"Scroll bar","TBID_TrendPB_General_TextOrientation":"Text orientation","TBID_TrendPB_General_ConnectTrendWindow":"Connect trend window","TBID_TrendPB_General_ViewCurrentPrintJob":"View current print job","TBID_TrendPB_General_StartingUpdate":"Starting update","TBID_TrendPB_General_Showruler":"Show ruler","TBID_TrendPB_General_LoadDataFromArchive":"Load data from archive","TBID_TrendPB_General_Timebase":"Time base","TBID_TrendPB_General_Window":"Window","TBID_TrendPB_General_Effects":"Effects","TBID_TrendPB_General_RulerConfiguration":"Ruler Configuration","TBID_TrendPB_General_OpenPicture":"OpenPicture","TBID_TrendPB_General_Height":"Height","TBID_TrendPB_General_Width":"Width","TBID_TrendPB_General_Left":"Left","TBID_TrendPB_General_Top":"Top","TBID_TrendPB_General_Online":"Online","TBID_TrendPB_General_ShowStatisticRulers":"Show statistic rulers","TBID_TrendPB_General_AlwaysShowRecent":"Always show recent","TBID_TrendPB_General_ExtendRulerToAxis":"Extend ruler to axis","TBID_TrendPB_General_AreaSpacing":"Area spacing","TBID_TrendPB_General_ShiftAxis":"Shift Axis","TBID_TrendPB_TrendSelectionDialog_Caption":"Trends - Selection","TBID_TrendPB_Online_Caption":"WinCC OnlineTrendControl Properties","TBID_TrendPB_Function_Caption":"WinCC FunctionTrendControl Properties","TBID_TrendPB_General_GeneralOKButton":"OK","TBID_TrendPB_General_GeneralCancelButton":"Cancel","TBID_TrendPB_General_GeneralApplyButton":"Apply","TBID_TrendPB_General_GeneralUpButton":"Up","TBID_TrendPB_General_GeneralDownButton":"Down","TBID_TrendPB_General_GeneralCloseButton":"Close","TBID_TrendPB_Trend_Tab":"Trend","TBID_TrendPB_TrendWindow_Tab":"Trend Window","TBID_TrendPB_TimeAxes_Tab":"Time Axes","TBID_TrendPB_ValueAxes_Tab":"Value Axes","TBID_TrendPB_DataConnection_Tab":"Data Connection","TBID_TrendPB_XAxes_Tab":"X axes","TBID_TrendPB_YAxes_Tab":"Y axes","TBID_TrendPB_Export_Filename":"File name","TBID_TrendPB_Export_Directory":"Directory","TBID_TrendPB_Export_Scopeofdataexport":"Scope of data export","TBID_TrendPB_Export_Format":"Format","TBID_TrendPB_Export_Showdialog":"Show dialog","TBID_TrendPB_Export_Filecanberenamed":"File can be renamed","TBID_TrendPB_Export_Directorycanbechanged":"Directory can be changed","TBID_TrendPB_Export_ExportOKButton":"OK","TBID_TrendPB_Export_ExportCancelButton":"Cancel","TBID_TrendPB_Export_ExportApplyButton":"Apply","TBID_TrendPB_Onlineconfiguration_Donotretain":"Do not retain","TBID_TrendPB_Onlineconfiguration_Retainduringruntime":"Retain during runtime","TBID_TrendPB_Onlineconfiguration_Retainpermanently":"Retain permanently","TBID_TrendPB_Onlineconfiguration_Operatorauthorization":"no access protection","TBID_TrendPB_Onlineconfiguration_Discard":"Discard","TBID_TrendPB_Onlineconfiguration_Retain":"Retain","TBID_TrendPB_Onlineconfiguration_Reset":"Reset","TBID_TrendPB_Onlineconfiguration_OnlineconfigurationOKButton":"OK","TBID_TrendPB_Onlineconfiguration_OnlineconfigurationCancelButton":"Cancel","TBID_TrendPB_Onlineconfiguration_OnlineconfigurationApplyButton":"Apply","TBID_AlgCtrl_PropertyBrowser":"Alarm Property Browser","TBID_AlgCtrl_Filter_Lable_Caption":"Alarm filter","TBID_AlgCtrl_Filter_Lable_Up":"Up","TBID_AlgCtrl_Filter_Lable_Down":"Down","TBID_AlgCtrl_Filter_Lable_Remove":"Remove","TBID_AlgCtrl_General_Lable_Window":"Window","TBID_AlgCtrl_General_Lable_Caption":"Caption","TBID_AlgCtrl_General_Lable_Text":"Text","TBID_AlgCtrl_General_Lable_RowScrollbar":"Row scroll bar","TBID_AlgCtrl_General_Lable_ColumnScrollbar":"Column scroll bar","TBID_AlgCtrl_General_Lable_Properties":"Properties","TBID_AlgCtrl_General_Lable_ActiveListUponOpenPicture":"Alarm source","TBID_AlgCtrl_General_Lable_AutoScroll":"Auto scroll","TBID_AlgCtrl_General_Lable_WindowFlags":"Flag","TBID_AlgCtrl_Parameter_ColumnWidth":"Allow resize","TBID_AlgCtrl_Parameter_Lable_ColumnHeader":"Column","TBID_AlgCtrl_Parameter_Lable_Show":"Header type","TBID_AlgCtrl_Parameter_Lable_Alignment":"Alignment","TBID_AlgCtrl_Parameter_Lable_RowLable":"Row","TBID_AlgCtrl_Parameter_Lable_TableContent":"Table Content","TBID_AlgCtrl_Parameter_Lable_TextTrimming":"Text trimming","TBID_AlgCtrl_Parameter_Lable_CellPadding":"Cell padding","TBID_AlgCtrl_Parameter_Lable_CellPadding_Top":"Top","TBID_AlgCtrl_Parameter_Lable_CellPadding_Left":"Left","TBID_AlgCtrl_Parameter_Lable_CellPadding_Right":"Right","TBID_AlgCtrl_Parameter_Lable_CellPadding_Bottom":"Bottom","TBID_AlgCtrl_Parameter_Lable_Row_Height":"Height","TBID_AlgCtrl_Parameter_Lable_HeaderTextTrimming":"Header text trimming","TBID_AlgCtrl_Parameter_Lable_AllowSort":"Allow sort","TBID_AlgCtrl_Parameter_Lable_AllowReorder":"Allow reorder","TBID_AlgCtrl_MessageBlock_Number_Format":"The maximum value for the number of leading zeros is 12.","TBID_AlgCtrl_MessageBlock_Label_NoFormat":"No additional formatting can be selected.","TBID_AlgCtrl_MessageBlock_OK":"OK","TBID_AlgCtrl_MessageBlock_SplitRatio":"Split ratio","TBID_AlgCtrl_MessageBlock_Label_AvailableMessageBlocks":"Available message blocks","TBID_AlgCtrl_MessageBlock_Label_Display":"Display","TBID_AlgCtrl_MessageBlock_Label_ObjectName":"Name","TBID_AlgCtrl_MessageBlock_Label_Alignment":"Alignment","TBID_AlgCtrl_MessageBlock_Label_Min_Width":"Min width","TBID_AlgCtrl_MessageBlock_Label_Max_Width":"Max width","TBID_AlgCtrl_MessageBlock_Label_Text_Position":"Text position","TBID_AlgCtrl_MessageBlock_Label_Text_Distance":"Distance","TBID_AlgCtrl_MessageBlock_Label_Graphic_StrechMode":"Graphic stretch mode","TBID_AlgCtrl_MessageBlock_Label_Hor_Alignment":"Horizontal alignment","TBID_AlgCtrl_MessageBlock_Label_ver_Alignment":"Vertical alignment","TBID_AlgCtrl_MessageBlock_Label_Spacing":"Spacing","TBID_AlgCtrl_MessageBlock_Label_ColumnWidth":"Width","TBID_AlgCtrl_MessageBlock_Label_UseAlarmColor":"Use alarm colors","TBID_AlgCtrl_MessageBlock_Label_Enabled":"Enabled","TBID_AlgCtrl_MessageBlock_Label_AllowSort":"Allow sort","TBID_AlgCtrl_MessageBlock_Label_SortOrder":"Sort order","TBID_AlgCtrl_MessageBlock_Label_SortDirection":"Sort direction","TBID_AlgCtrl_MessageBlock_Label_ContentMode":"Content mode","TBID_AlgCtrl_MessageBlock_Label_OutPutFormat":"Output format","TBID_AlgCtrl_MessageBlock_Label_ForeColor":"Fore color","TBID_AlgCtrl_MessageBlock_Label_BackColor":"Back color","TBID_AlgCtrl_MessageBlock_Label_Label":"Text","TBID_AlgCtrl_MessageBlock_Label_TextID":"Text ID","TBID_AlgCtrl_MessageBlock_Label_AlarmBlock":"Alarm block","TBID_AlgCtrl_MessageList_Label_AvailableMessageBlocks":"Available message blocks","TBID_AlgCtrl_MessageList_Label_SelectedMessageBlocks":"Selected message blocks","TBID_AlgCtrl_MessageList_Label_Sorting":"Sorting","TBID_AlgCtrl_MessageList_Label_Selection":"Selection","TBID_AlgCtrl_Selection_Label_Selection":"Selection","TBID_AlgCtrl_Selection_Label_SelectableRows":"Selectable rows","TBID_AlgCtrl_Selection_Label_SelectionBorder":"Selection border","TBID_AlgCtrl_Selection_Label_Color":"Color","TBID_AlgCtrl_Selection_Label_Weight":"Weight","TBID_AlgCtrl_Selection_Label_SelectionCell":"Selected cell","TBID_AlgCtrl_Selection_Label_SelectionRow":"Selected row","TBID_AlgCtrl_Selection_Label_Background":"Background","TBID_AlgCtrl_Selection_Label_Font":"Font","TBID_AlgCtrl_Selection_Label_SelectFullRow":"Select full row","TBID_AlgCtrl_Font_Lable_Properties":"Properties","TBID_AlgCtrl_Font_Lable_Font":"Font","TBID_AlgCtrl_Font_Lable_FontSize":"Font Size","TBID_AlgCtrl_Font_Lable_Effects":"Effects","TBID_AlgCtrl_Font_Lable_Weight":"Weight","TBID_AlgCtrl_Font_Lable_Italic":"Italic","TBID_AlgCtrl_Font_Lable_Underline":"Underline","TBID_AlgCtrl_Font_Lable_Strikethrough":"Strikethrough","TBID_AlgCtrl_Font_Lable_SampleText":"Sample text","TBID_AlgCtrl_Effects_GridLinesShow":"Show","TBID_AlgCtrl_EffectsLabel_TableContent":"Table content","TBID_AlgCtrl_EffectsLabel_RowColor1":"Primary color","TBID_AlgCtrl_EffectsLabel_BackColor":"Background Color","TBID_AlgCtrl_EffectsLabel_ColoringMode":"Coloring mode","TBID_AlgCtrl_EffectsLabel_Font":"Font","TBID_AlgCtrl_EffectsLabel_Background":"Background","TBID_AlgCtrl_EffectsLabel_RowColor2":"Secondary color","TBID_AlgCtrl_EffectsLabel_GridLines":"GridLines","TBID_AlgCtrl_EffectsLabel_GridLineColor":"Color","TBID_AlgCtrl_EffectsLabel_Contents":"Contents","TBID_AlgCtrl_EffectsLabel_Title":"Title","TBID_AlgCtrl_EffectsLabel_GridLineWidth":"Width","TBID_AlgCtrl_EffectsLabel_Horizontal":"Show","TBID_AlgCtrl_EffectsLabel_Vertical":"Vertical","TBID_AlgCtrl_EffectsLabel_TableTitle":"Header","TBID_AlgCtrl_EffectsLabel_FontColorOfTheTitle":"Font color of the title","TBID_AlgCtrl_EffectsLabel_ShadingColor":"Shading color","TBID_AlgCtrl_EffectsLabel_Light":"Light","TBID_AlgCtrl_EffectsLabel_Dark":"Dark","TBID_AlgCtrl_EffectsLabel_SelectionColor":"Selection color","TBID_AlgCtrl_EffectsLabel_General":"General","TBID_AlgCtrl_EffectsLabel_Border":"Border","TBID_AlgCtrl_EffectsLabel_WindowSeperatorLines":"Window seperator lines","TBID_AlgCtrl_EffectsLabel_Weight":"Weight","TBID_AlgCtrl_TabNameLabel_General":"General","TBID_AlgCtrl_TabNameLabel_Parameter":"Parameter","TBID_AlgCtrl_TabNameLabel_MessageBlocks":"Message Blocks","TBID_AlgCtrl_TabNameLabel_MessageLists":"Message Lists","TBID_AlgCtrl_TabNameLabel_Effects":"Effects","TBID_AlgCtrl_TabNameLabel_Font":"Font","TBID_AlgCtrl_TabNameLabel_Selection":"Selection","TBID_AlgCtrl_TabNameLabel_ToolBar":"Toolbar","TBID_AlgCtrl_TabNameLabel_StatusBar":"Status Bar","TBID_AlgCtrl_TabNameLabel_HitList":"Hit List","TBID_AlgCtrl_HitList_Label_AvailableMessageBlocks":"Available message blocks","TBID_AlgCtrl_HitList_Label_SelectedMessageBlocks":"Selected message blocks","TBID_AlgCtrl_HitList_Label_Sorting":"Sorting","TBID_AlgCtrl_HitList_Label_Selection":"Selection","TBID_AlgCtrl_HitList_Label_MaxDataRecordsForTheStatistics":"Max. data records for the statistics","TBID_AlgCtrl_HitList_Label_Number":"Number","TBID_AlgCtrl_HitList_Label_WarningWhenMaximumReached":"Warning when maximum reached","TBID_AlgCtrl_HitList_Label_TimeRangeForStatistics":"Time range for statistics","TBID_AlgCtrl_HitList_Label_UsedOnlyIfNoTimeRangeIsSpecifiedInTheSection":"Used only if no time range is specified in the section","TBID_AlgCtrl_HitList_Warning_Text":"The maximum value for the number has exceeded","TBID_DataSource_Online":"Online","TBID_DataSource_Historical":"Historical","TBID_DataSource_HistoricalWithUpdates":"Historical with updates","TBID_ScrollBarVisibility_Automatic":"Automatic","TBID_ScrollBarVisibility_Visible":"Visible","TBID_ScrollBarVisibility_Collapsed":"Collapsed","TBID_SelectionMode_Single":"Single selection","TBID_SelectionMode_Multi":"Multiple selection","TBID_GraphicOrText":"Graphic or text","TBID_GraphicAndText":"Graphic and text","TBID_Text":"Text","TBID_Graphic":"Graphic","TBID_UseHotKeys":"UseHotKeys","TBID_FontWeight_Thin":"Thin","TBID_FontWeight_ExtraLight":"Extra light","TBID_FontWeight_Normal":"Normal","TBID_FontWeight_Medium":"Medium","TBID_FontWeight_SemiBold":"Semi bold","TBID_FontWeight_Bold":"Bold","TBID_FontWeight_ExtraBold":"Extra bold","TBID_FontWeight_Heavy":"Heavy","TBID_FontWeight_Light":"Light","TBID_FontStrikeOut_Single":"Single","TBID_FontStrikeOut_Double":"Double","TBID_HmiTextTrimming_WordEllipsis":"Word ellipsis","TBID_HmiTextTrimming_CharacterEllipsis":"Character ellipsis","TBID_HmiGraphicPosition_Behind":"Behind","TBID_HmiGraphicPosition_Infront":"Infront","TBID_HmiTextDirection_Horizontal":"Horizontal","TBID_HmiTextDirection_Rotated90Degree":"Rotated 90 degree","TBID_HmiTextDirection_Rotated270Degree":"Rotated 270 degree","TBID_HmiTextDirection_Stacked":"Stacked","TBID_HmiGraphicStretchMode_Fill":"Fill","TBID_HmiGraphicStretchMode_Uniform":"Uniform","TBID_HmiGraphicStretchMode_UniformToFill":"Uniform to fill","TBID_HmiGraphicStretchMode_Tiled":"Tiled","TBID_HmiGraphicDistance_Near":"Near","TBID_HmiGraphicDistance_Far":"Far","TBID_HmiDataGridHeaderType_Index":"Index","TBID_HorizontalAndVertical":"Horizontal and vertical","TBID_Vertical":"Vertical","TBID_Alignment_Left":"Left","TBID_Alignment_Center":"Center","TBID_Alignment_Right":"Right","TBID_Alignment_Stretch":"Stretch","TBID_Alignment_Top":"Top","TBID_Alignment_Bottom":"Bottom","TBID_None":"None","TBID_ColoringMode_Columns":"Columns","TBID_ColoringMode_Rows":"Rows","TBID_Ok":"OK","TBID_Cancel":"Cancel","TBID_Submit":"Submit","TBID_Header":"Header","TBID_Content":"Content","TBID_SelectionDialogColumns_Criterion_AlarmClassName":"Alarm class","TBID_SelectionDialogColumns_Criterion_State":"Alarm state","TBID_SelectionDialogColumns_Criterion_Area":"Area","TBID_SelectionDialogColumns_Criterion_ModificationTime":"Modification time","TBID_SelectionDialogColumns_Criterion_RaiseTime":"Raise time","TBID_SelectionDialogColumns_Criterion_ClearTime":"Clear time","TBID_SelectionDialogColumns_Criterion_ResetTime":"Reset time","TBID_SelectionDialogColumns_Criterion_EventText":"Event text","TBID_SelectionDialogColumns_Criterion_InfoText":"Info text","TBID_SelectionDialogColumns_Criterion_ComputerName":"Host","TBID_SelectionDialogColumns_Criterion_UserName":"User","TBID_SelectionDialogColumns_Criterion_Origin":"Origin","TBID_SelectionDialogColumns_Criterion_Name":"Name","TBID_SelectionDialogColumns_Criterion_Priority":"Priority","TBID_SelectionDialogColumns_Criterion_ID":"ID","TBID_SelectionDialogColumns_Criterion_Value":"Value","TBID_SelectionDialogColumns_Criterion_ValueQuality":"Value quality","TBID_SelectionDialogColumns_Criterion_ValueLimit":"Value limit","TBID_SelectionDialogColumns_Criterion_AlarmText1":"Alarm text 1","TBID_SelectionDialogColumns_Criterion_AlarmText2":"Alarm text 2","TBID_SelectionDialogColumns_Criterion_AlarmText3":"Alarm text 3","TBID_SelectionDialogColumns_Criterion_AlarmText4":"Alarm text 4","TBID_SelectionDialogColumns_Criterion_AlarmText5":"Alarm text 5","TBID_SelectionDialogColumns_Criterion_AlarmText6":"Alarm text 6","TBID_SelectionDialogColumns_Criterion_AlarmText7":"Alarm text 7","TBID_SelectionDialogColumns_Criterion_AlarmText8":"Alarm text 8","TBID_SelectionDialogColumns_Criterion_AlarmText9":"Alarm text 9","TBID_SelectionDialogColumns_Criterion_AlarmGroupID":"Group ID","TBID_SelectionDialogColumns_Criterion_StatusText":"Status Text","TBID_IsEmpty":"Is Empty","TBID_Equal":"Equal to","TBID_Not_Equal":"Not equal","TBID_GreaterThan":"Greater than","TBID_GreaterOrEqual":"Greater or equal","TBID_LesserOrEqual":"Lesser or equal","TBID_LessThan":"Less than","TBID_Contains":"Contains","TBID_Doesnot_Contains":"Does not contains","TBID_In":"In","TBID_Not_In":"Not in","TBID_Not_Between":"Not between","TBID_Between":"Between","TBID_Starts_with":"Starts with","TBID_Under":"Under","TBID_SelectionDialogColumns_AndOr":"And / Or","TBID_SelectionDialogColumns_Criterion":"Criterion","TBID_SelectionDialogColumns_Operand":"Operand","TBID_SelectionDialogColumns_Setting":"Setting","TBID_SelectionDialogColumns_PlaceHolder":"<Add New>","TBID_SelectionDialog_SelectPlaceholder_Criterion":"Select criterion","TBID_SelectionDialog_SelectPlaceholder_Operator":"Select operator","TBID_SelectionDialog_SelectPlaceholder_AlarmState":"Select state","TBID_And":"And","TBID_Or":"Or","TBID_Filter":"Filter","TBID_Up":"Up","TBID_Down":"Down","TBID_SplitRatio":"Split Ratio","TBID_Save":"Save","TBID_Add":"Add","TBID_History":"History","TBID_HmiWindowPB_Controlbar_Objectname":"Object name","TBID_HmiWindowPB_Controlbar_ObjectId":"Object ID","TBID_HmiWindowPB_Controlbar_Enabled":"Enabled","TBID_HmiWindowPB_Controlbar_MinimumWidth":"Minimum width","TBID_HmiWindowPB_Controlbar_MinimunHeight":"Minimum height","TBID_HmiWindowPB_Controlbar_MaximumWidth":"Maximum width","TBID_HmiWindowPB_Controlbar_MaximumHeight":"Maximum height","TBID_HmiWindowPB_Controlbar_Padding":"Padding","TBID_HmiWindowPB_Controlbar_Margin":"Margin","TBID_HmiWindowPB_Controlbar_ForeColor":"Fore color","TBID_HmiWindowPB_Controlbar_Widthinpixel":"Width","TBID_HmiWindowPB_Controlbar_Height":"Height","TBID_HmiWindowPB_Controlbar_Backgroundcolor":"Background color","TBID_HmiWindowPB_Controlbar_Text":"Text","TBID_HmiWindowPB_Controlbar_Visible":"Visible","TBID_HmiWindowPB_Top":"Top","TBID_HmiWindowPB_Bottom":"Bottom","TBID_HmiWindowPB_Right":"Right","TBID_HmiWindowPB_Left":"Left","TBID_HmiWindowPB_Toolbar_Keyfunctions":"Key functions","TBID_HmiWindowPB_Toolbar_OperatorAuthontication":"Operator authorization","TBID_HmiWindowPB_Toolbar_Shortcutkey":"Shortcut key","TBID_HmiWindowPB_Toolbar_Active":"Active","TBID_HmiWindowPB_Toolbar_ToolbarGroup":"Toolbar","TBID_HmiWindowPB_Toolbar_Separator":"Separator","TBID_HmiWindowPB_Toolbar_Showtoolbar":"Show toolbar","TBID_HmiWindowPB_Toolbar_Tooltips":"ShowTooltips","TBID_HmiWindowPB_Toolbar_Shortcuts":"Shortcuts","TBID_HmiWindowPB_Toolbar_Alignment":"Alignment","TBID_HmiWindowPB_Toolbar_Show":"Show","TBID_HmiWindowPB_Toolbar_Index":"Index","TBID_HmiWindowPB_Toolbar_Visible":"Show tool bar","TBID_HmiWindowPB_Toolbar_Checked":"Checked","TBID_HmiWindowPB_Toolbar_ToolbarElements":"Toolbar elements","TBID_HmiWindowPB_Toolbar_ToolbarAttribute":"Toolbar","TBID_HmiWindowPB_Statusbar_StatusbarElements":"Statusbar elements","TBID_HmiWindowPB_Statusbar_Automatic":"Automatic","TBID_HmiWindowPB_Statusbar_StatusbarNewButton":"New","TBID_HmiWindowPB_Statusbar_StatusbarRemoveButton":"Remove","TBID_HmiWindowPB_Statusbar_StatusbarUpButton":"Up","TBID_HmiWindowPB_Statusbar_StatusbarDownButton":"Down","TBID_HmiWindowPB_Statusbar_Showstatusbar":"Show status bar","TBID_HmiWindowPB_Statusbar_Tooltips":"Tooltips","TBID_HmiWindowPB_Statusbar_Alignment":"Alignment","TBID_HmiWindowPB_Statusbar_Show":"Show","TBID_HmiWindowPB_Statusbar_Fontcolor":"Font color","TBID_HmiWindowPB_Statusbar_StatusbarAttribute":"Status bar","TBID_HmiWindowPB_Statusbar_StatusbarElementSizeMsg":"Plese enter the width less than or equal to 1100","TBID_RulerCtrl_PropertyBrowser":"RulerControl Property Browser","TBID_RulerCtrl_General_Label_Window":"Window","TBID_RulerCtrl_General_Label_WindowTitle":"Title","TBID_RulerCtrl_General_Label_Caption":"Caption","TBID_RulerCtrl_General_Label_Movable":"Movable","TBID_RulerCtrl_General_Label_Closable":"Closable","TBID_RulerCtrl_General_Label_Sizable":"Sizable","TBID_RulerCtrl_General_Label_Style":"Style","TBID_RulerCtrl_General_Label_RowScrollbar":"Row scroll bar","TBID_RulerCtrl_General_Label_ColumnScrollbar":"Column scroll bar","TBID_RulerCtrl_General_Label_PrintJob":"View current print job","TBID_RulerCtrl_General_Label_Properties":"Properties","TBID_RulerCtrl_General_Label_Source":"Source","TBID_RulerCtrl_General_Label_Type":"Type","TBID_RulerCtrl_General_Label_UseSourceControlTrendColors":"Use source control trend colors","TBID_RulerCtrl_General_Label_UseSourceControlBackColor":"Use source control back color","TBID_RulerCtrl_General_Label_AutoHide":"Automatic hideshow","TBID_RulerCtrl_General_Label_AutoPositioning":"Automatic positioning","TBID_RulerCtrl_General_Label_StatisticsAreaWindow":"Statisticsarea window","TBID_RulerCtrl_General_Label_StatisticsWindow":"Statistics window","TBID_RulerCtrl_General_ShowAlways":"Show always","TBID_RulerCtrl_General_SnapToSourceControl":"Snap to source control","TBID_RulerCtrl_MessageBlock_Label_Text_Position":"Text position","TBID_RulerCtrl_MessageBlock_Label_Text_Distance":"Distance","TBID_RulerCtrl_MessageBlock_Label_ContentFeature":"Content feature","TBID_RulerCtrl_MessageBlock_Label_Spacing":"Spacing","TBID_RulerCtrl_MessageBlock_Label_HeaderFeatures":"Header feature","TBID_RulerCtrl_MessageBlock_Label_Graphic":"Graphic","TBID_RulerCtrl_MessageBlock_Label_Text":"Text","TBID_RulerCtrl_MessageBlock_Label_SortDirection":"Sort direction","TBID_RulerCtrl_MessageBlock_Label_SplitRatio":"Split ratio","TBID_RulerCtrl_Selection_Label_Selection":"Selection","TBID_RulerCtrl_Selection_Label_SelectableRows":"Selectable rows","TBID_RulerCtrl_Selection_Label_SelectionBorder":"Selection border","TBID_RulerCtrl_Selection_Label_AutomaticColorAssignment":"Automatic color assignment","TBID_RulerCtrl_Selection_Label_Color":"Color","TBID_RulerCtrl_Selection_Label_Weight":"Weight","TBID_RulerCtrl_Selection_Label_SelectionColors":"Selection colors","TBID_RulerCtrl_Selection_Label_SelectionColorsFor":"Selection colors for","TBID_RulerCtrl_Selection_Label_SelectionCell":"Selected cell","TBID_RulerCtrl_Selection_Label_SelectionRow":"Selected row","TBID_RulerCtrl_Selection_Label_Background":"Background","TBID_RulerCtrl_Selection_Label_Font":"Font","TBID_RulerCtrl_MessageBlock_Source":"Source","TBID_RulerCtrl_MessageBlock_OK":"OK","TBID_RulerCtrl_MessageBlock_DecimalPrecision_Format":"The maximum value for the number of decimal precision is 15.","TBID_RulerCtrl_Block_Label_TrendInfoBlock":"Trend info block","TBID_RulerCtrl_ColumnList_Name":"Name","TBID_RulerCtrl_ColumnList_Up":"Up","TBID_RulerCtrl_ColumnList_Down":"Down","TBID_RulerCtrl_ColumnList_Label_ExistingColumns":"Existng columns","TBID_RulerCtrl_ColumnList_Label_SelectedColumns":"Selected columns","TBID_RulerCtrl_ColumnList_Label_Window":"Window","TBID_RulerCtrl_ColumnList_Label_RulerWindow":"Ruler window","TBID_RulerCtrl_ColumnList_Label_StatisticsAreaWindow":"Statistics area window","TBID_RulerCtrl_ColumnList_Label_StatisticsWindow":"Statistics window","TBID_RulerCtrl_ColumnList_Selected_Window_Type":"Selected Window Type","TBID_RulerCtrl_TabNameLabel_General":"General","TBID_RulerCtrl_TabNameLabel_Parameter":"Parameter","TBID_RulerCtrl_TabNameLabel_MessageBlocks":"Blocks","TBID_RulerCtrl_TabNameLabel_MessageLists":"Columns","TBID_RulerCtrl_TabNameLabel_Effects":"Effects","TBID_RulerCtrl_TabNameLabel_Font":"Font","TBID_RulerCtrl_TabNameLabel_Selection":"Selection","TBID_RulerCtrl_TabNameLabel_ToolBar":"ToolBar","TBID_RulerCtrl_TabNameLabel_StatusBar":"Status Bar","TBID_TagBrowser_DataSource":"Datasource:","TBID_TagBrowser_Filter":"Filter:","TBID_TagBrowser_Warning_Msg":"The selection is invalid. Please note the selected data type.","TBID_TagBrowser_Warning_Caption":"Note","TBID_TagBrowser_Popup_Caption":"BrowsingView","TBID_TagBrowser_Column_Name":"Name","TBID_TagBrowser_Column_Type":"Type","TBID_TagBrowser_Column_Parameter":"Parameter","TBID_TagBrowser_Column_LastModification":"Last modification","TBID_HtmlBrowser_ToolTipBtnBack":"Back","TBID_HtmlBrowser_ToolTipBtnForward":"Forward","TBID_HtmlBrowser_ToolTipBtnCancel":"Cancel","TBID_HtmlBrowser_ToolTipBtnHome":"Select Home Page","TBID_HtmlBrowser_ToolTipBtnRefresh":"Update","TBID_HtmlBrowser_ToolTipBtnGo":"Select page","TBID_HtmlBrowser_ToolTipBtnOpen":"Open page","TBID_HtmlBrowser_StatusMsgLoad":"Loading...","TBID_HtmlBrowser_StatusMsgDone":"Done.","TBID_HtmlBrowser_StatusMsgCancel":"Cancelled.","TBID_DateTimePicker_JAN_SHORT":"Jan","TBID_DateTimePicker_FEB_SHORT":"Feb","TBID_DateTimePicker_MAR_SHORT":"Mar","TBID_DateTimePicker_APR_SHORT":"Apr","TBID_DateTimePicker_MAY_SHORT":"May","TBID_DateTimePicker_JUN_SHORT":"Jun","TBID_DateTimePicker_JUL_SHORT":"Jul","TBID_DateTimePicker_AUG_SHORT":"Aug","TBID_DateTimePicker_SEP_SHORT":"Sep","TBID_DateTimePicker_OCT_SHORT":"Oct","TBID_DateTimePicker_NOV_SHORT":"Nov","TBID_DateTimePicker_DEC_SHORT":"Dec","TBID_DateTimePicker_SUN_SHORT":"Sun","TBID_DateTimePicker_MON_SHORT":"Mon","TBID_DateTimePicker_TUE_SHORT":"Tue","TBID_DateTimePicker_WED_SHORT":"Wed","TBID_DateTimePicker_THU_SHORT":"Thu","TBID_DateTimePicker_FRI_SHORT":"Fri","TBID_DateTimePicker_SAT_SHORT":"Sat","TBID_DateTimePicker_Time":"Time","TBID_DateTimePicker_Days":"days","TBID_DateTimePicker_Hours":"hours","TBID_DateTimePicker_Minute":"min","TBID_DateTimePicker_Second":"sec","TBID_DateTimePicker_MilliSecond":"msec","TBID_Query_Parser_UE":"Unexpected end of input at ","TBID_Query_Parser_IO":"Invalid  operator found at ","TBID_Query_Parser_IS":"Invalid  seperator found at ","TBID_Query_Parser_IV":"Invalid value is found at ","TBID_Query_Parser_IC":"Invalid Column Name found at ","TBID_Query_Parser_IVC":"Invalid value or character  at ","TBID_Query_Parser_EL":"Expected logical operator ,but found","TBID_Query_Parser_Expected":"Expected","TBID_Query_Parser_But_Found":"but found","TBID_Query_Parser_But_At":"at","TBID_Query_Parser_Missing":"Missing","TBID_NML_LAST":"","TBID_TagBrowsingView_Bool":"Bool","TBID_TagBrowsingView_SInt":"SInt","TBID_TagBrowsingView_Int":"Int","TBID_TagBrowsingView_DInt":"DInt","TBID_TagBrowsingView_LInt":"LInt","TBID_TagBrowsingView_USInt":"USInt","TBID_TagBrowsingView_UInt":"UInt","TBID_TagBrowsingView_UDInt":"UDInt","TBID_TagBrowsingView_ULInt":"ULInt","TBID_TagBrowsingView_Real":"Real","TBID_TagBrowsingView_LReal":"LReal","TBID_TagBrowsingView_Time":"Time","TBID_TagBrowsingView_DateTime":"DateTime","TBID_TagBrowsingView_String":"String","TBID_TagBrowsingView_Char":"Char","TBID_TagBrowsingView_Byte":"Byte","TBID_TagBrowsingView_Word":"Word","TBID_TagBrowsingView_DWord":"DWord","TBID_TagBrowsingView_LWord":"LWord","TBID_TagBrowsingView_Raw":"Raw","TBID_TagBrowsingView_Struct":"Struct","TBID_TagBrowsingView_UDT":"UDT","TBID_TagBrowsingView_DTLString":"LString","TBID_TagBrowsingView_BoolArray":"Array of Bool","TBID_TagBrowsingView_SIntArray":"Array of SInt","TBID_TagBrowsingView_IntArray":"Array of Int","TBID_TagBrowsingView_DIntArray":"Array of DInt","TBID_TagBrowsingView_LIntArray":"Array of LInt","TBID_TagBrowsingView_USIntArray":"Array of USInt","TBID_TagBrowsingView_UIntArray":"Array of UInt","TBID_TagBrowsingView_UDIntArray":"Array of UDInt","TBID_TagBrowsingView_ULIntArray":"Array of ULInt","TBID_TagBrowsingView_RealArray":"Array of Real","TBID_TagBrowsingView_LRealArray":"Array of LReal","TBID_TagBrowsingView_LTimeArray":"Array of LTime","TBID_TagBrowsingView_DateTimeArray":"Array of DateTime","TBID_TagBrowsingView_StringArray":"Array of String","TBID_TagBrowsingView_CharArray":"Array of Char","TBID_TagBrowsingView_LStringArray":"Array of LString","TBID_TagBrowsingView_ByteArray":"Array of Byte","TBID_TagBrowsingView_WordArray":"Array of Word","TBID_TagBrowsingView_DWordArray":"Array of DWord","TBID_TagBrowsingView_LWordArray":"Array of LWord","TBID_TagBrowsingView_RawArray":"Array of Raw","TBID_TagBrowsingView_UUIDArray":"Array of UUID","TBID_TagBrowsingView_DpIdentArray":"Array of DpIdent","TBID_TagBrowsingView_RefArray":"Array of Ref","TBID_TagBrowsingView_URefArray":"Array of URef","TBID_TagBrowsingView_EnumArray":"Array of Enum","TBID_TagBrowsingView_StructRefArray":"Array of UDT","TBID_CustCtrl_ContextDlg_ContextBeginTime":"Context Start Time","TBID_CustCtrl_ContextDlg_ContextEndTime":"Context End Time","TBID_CustCtrl_ContextDlg_ContextValue":"Context Value","TBID_TimeZone_(LocalTime)_-01":"Local Time Zone","TBID_PacoCtrl_LTime_DisplayStringD":"D","TBID_PacoCtrl_No_PST_Message":"No ParameterSetType is available","TBID_PacoCtrl_defaultTextParamSetType":"ParameterSetType","TBID_PacoCtrl_defaultTextParamSet":"ParameterSet","TBID_PacoCtrl_CreateIsDisabled":"Create is disabled","TBID_PacoCtrl_SaveIsDisabled":"ParameterSet not updated","TBID_PacoCtrl_defaultTextParamSetTypeUnit":"Number","TBID_PacoCtrl_defaultTextParamElementName":"Name","TBID_PacoCtrl_defaultTextParamElementValue":"Value","TBID_PacoCtrl_defaultTextParamElementUOM":"Unit of measurement","TBID_SysDiag_StatusBar_ConState_Good":"Good","TBID_SysDiag_StatusBar_ConState_Deactivated":"Deactivated","TBID_SysDiag_StatusBar_ConState_MaintenanceRequired":"Maintenance required","TBID_SysDiag_StatusBar_ConState_MaintenanceDemanded":"Maintenance demanded","TBID_SysDiag_StatusBar_ConState_Error":"Error","TBID_SysDiag_StatusBar_ConState_NotReachable":"Not reachable (Hardware pulled or failed)","TBID_SysDiag_StatusBar_ConState_StateUnKnown":"State is unknown","TBID_SysDiag_StatusBar_ConState_IO_NonAvailable":"IO not available (result of IO access error)","TBID_SysDiag_StatusBar_ConState_Disconnected":"Disconnected","TBID_SysDiag_StatusBar_ConState_Remote_Connection_NotAvailable":"System diagnostic data is not reachable via remote HMI system","TBID_SysDiag_DetailedView_Text":"Details","TBID_SysDiag_HardwareDetailsView_Name":"Name","TBID_SysDiag_HardwareDetailsView_Status":"Status","TBID_SysDiag_HardwareDetailsView_IP":"IP","TBID_SysDiag_HardwareDetailsView_OperatingState":"Operating State","TBID_SysDiag_HardwareDetailsView_RackId":"Rack","TBID_SysDiag_HardwareDetailsView_Slot":"Slot","TBID_SysDiag_HardwareDetailsView_OrderId":"Order Number","TBID_SysDiag_HardwareDetailsView_Address":"Address","TBID_SysDiag_HardwareDetailsView_PlantDesignation":"Plant Designation","TBID_SysDiag_HardwareDetailsView_LocationIdentifier":"Location Identifier","TBID_SysDiag_HardwareDetailsView_SubSystemId":"Subsystem","TBID_SysDiag_HardwareDetailsView_Station":"Station","TBID_SysDiag_HardwareDetailsView_SubSlotId":"Subslot","TBID_SysDiag_HardwareDetailsView_SubAddress":"SubAddress","TBID_SysDiag_HardwareDetailsView_SoftwareVersion":"Software Version","TBID_SysDiag_HardwareDetailsView_Installation":"Installation","TBID_SysDiag_HardwareDetailsView_AdditionalInformation":"Additional Information","TBID_SysDiag_HardwareDetailsView_ErrorDescription":"Error Description","TBID_SysDiag_HardwareDetailsView_ManufacturerID":"Manufacturer ID","TBID_SysDiag_HardwareDetailsView_HardwareVersion":"Hardware Version","TBID_SysDiag_HardwareDetailsView_ProfileID":"Profile ID","TBID_SysDiag_HardwareDetailsView_SpecificProfileData":"Specific Profile Data","TBID_SysDiag_HardwareDetailsView_IMDataVersion":"IM Data Version","TBID_SysDiag_HardwareDetailsView_SerialNumber":"Serial Number","TBID_SysDiag_HardwareDetailsView_RevisionCounter":"Revision Counter","TBID_SysDiag_HardwareDetailsView_Type":"Type","TBID_SysDiag_HardwareDetailsView_NodeIP":"IP Address","TBID_InputHint_Range":"Range: ","TBID_InputHint_Minimum":"Minimum: ","TBID_InputHint_Maximum":"Maximum: ","TBID_ProDiag_Sequence":"Sequence","TBID_ProDiag_Network":"Network","TBID_ProDiag_DataLoading":"Loading data"}}');var q,K,Z,Q,J,$,ee;const te=(K=q=1033,Z="",Q={lcid:"init",textResources:{}},J=Object.freeze({ToFileSuffix:{en:"en-US",es:"es-ES",de:"de-DE",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR","zh-TW":"zh-TW","zh-CHS":"zh-CHS"},ToDefaultDateFormat:{en:{f:"M/d/yyyy"},es:{f:"dd/MM/yyyy"},de:{f:"dd.MM.yyyy"},fr:{f:"dd/MM/yyyy"},it:{f:"dd/MM/yyyy"},ja:{f:"yyyy/MM/dd"},ko:{f:"yyyy-MM-dd"},"zh-TW":{f:"yyyy/M/d"},"zh-CHS":{f:"yyyy/M/d"}},ToDefaultTimeFormat:{en:{f:"h:mm:ss tt"},es:{f:"HH:mm:ss"},de:{f:"HH:mm:ss"},fr:{f:"HH:mm:ss"},it:{f:"HH:mm:ss"},ja:{f:"HH:mm:ss"},ko:{f:"HH:mm:ss"},"zh-TW":{f:"tt h:mm:ss"},"zh-CHS":{f:"tt h:mm:ss"}},ToDefaultDurationFormat:{en:{f:"d HH:mm:ss.ms"},es:{f:"d HH:mm:ss.ms"},de:{f:"d HH:mm:ss.ms"},fr:{f:"d HH:mm:ss.ms"},it:{f:"d HH:mm:ss.ms"},ja:{f:"d HH:mm:ss.ms"},ko:{f:"d HH:mm:ss.ms"},"zh-TW":{f:"d HH:mm:ss.ms"},"zh-CHS":{f:"d HH:mm:ss.ms"}},ToIOFieldDateFormat:{en:{f:"%2d/%2d/%04d",ph:"__/__/____",sep:"/ ",p1:"month",p2:"date",p3:"year"},es:{f:"%02d/%02d/%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},de:{f:"%02d.%02d.%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},fr:{f:"%02d/%02d/%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},it:{f:"%02d/%02d/%04d",ph:"__.__.____",sep:". ",p1:"date",p2:"month",p3:"year"},ja:{f:"%04d/%02d/%02d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"},ko:{f:"%04d-%02d-%02d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"},"zh-TW":{f:"%04d.%2d.%2d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"},"zh-CHS":{f:"%04d.%2d.%2d",ph:"__.__.____",sep:". ",p1:"year",p2:"month",p3:"date"}},ToIOFieldTimeFormat:{en:{f:"%2d:%02d:%02d %s",ph:"__:__:__ __",sep:": aApPmM",p1:"hour",p2:"min",p3:"sec",p4:"tm"},es:{f:"%2d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},de:{f:"%02d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},fr:{f:"%02d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},it:{f:"%02d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},ja:{f:"%2d:%02d:%02d",ph:"__:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"},ko:{f:"%s %2d:%02d:%02d",ph:"__:__:__",sep:": aApPmM",p1:"tm",p2:"hour",p3:"min",p4:"sec"},"zh-TW":{f:"%s %02d:%02d:%02d",ph:"__ __:__:__",sep:": aApPmM",p1:"tm",p2:"hour",p3:"min",p4:"sec"},"zh-CHS":{f:"%2d:%02d:%02d",ph:"__ __:__:__",sep:": ",p1:"hour",p2:"min",p3:"sec"}},ToIOFieldTimeMSFormat:{en:{f:"%2d:%02d:%02d.%03d %s",ph:"__:__:__.___ __",sep:":. aApPmM",p1:"hour",p2:"min",p3:"sec",p4:"msec",p5:"tm"},es:{f:"%2d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},de:{f:"%02d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},fr:{f:"%02d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},it:{f:"%02d:%02d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},ja:{f:"%2d:%2d:%02d.%03d",ph:"__:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"},ko:{f:"%s %2d:%2d:%02d.%03d",ph:"__:__:__.___",sep:":. aApPmM",p1:"tn",p2:"hour",p3:"min",p4:"sec",p5:"msec"},"zh-TW":{f:"%s %02d:%02d:%02d.%03d",ph:"__ __:__:__.___",sep:":. aApPmM",p1:"tm",p2:"hour",p3:"min",p4:"sec",p5:"msec"},"zh-CHS":{f:"%2d:%02d:%02d.%03d",ph:"__ __:__:__.___",sep:":. ",p1:"hour",p2:"min",p3:"sec",p4:"msec"}},ToSupportedLocale:{4:"zh-CHS",1025:"en",2049:"en",3073:"en",4097:"en",5121:"en",6145:"en",7169:"en",8193:"en",9217:"en",10241:"en",11265:"en",12289:"en",13313:"en",14337:"en",15361:"en",16385:"en",1026:"en",1027:"es",1028:"zh-TW",2052:"zh-CHS",3076:"zh-TW",4100:"zh-CHS",5124:"zh-TW",1029:"en",1030:"en",1031:"de",2055:"de",3079:"de",4103:"de",5127:"de",1032:"en",1033:"en",2057:"en",3081:"en",4105:"en",5129:"en",6153:"en",7177:"en",8201:"en",9225:"en",10249:"en",11273:"en",12297:"en",13321:"en",2058:"es",1034:"es",3082:"es",4106:"es",5130:"es",6154:"es",7178:"es",8202:"es",9226:"es",10250:"es",11274:"es",12298:"es",13322:"es",14346:"es",15370:"es",16394:"es",17418:"es",18442:"es",19466:"es",20490:"es",1035:"en",1036:"fr",2060:"fr",3084:"fr",4108:"fr",5132:"fr",6156:"fr",1037:"en",1038:"en",1039:"en",1040:"it",2064:"it",1041:"ja",1042:"ko",1043:"en",2067:"en",1044:"en",2068:"en",1045:"en",1046:"en",2070:"en",1048:"en",1049:"en",1050:"en",2074:"en",3098:"en",1051:"en",1052:"en",1053:"en",2077:"en",1054:"en",1055:"en",1056:"en",1057:"en",1058:"en",1059:"en",1060:"en",1061:"en",1062:"en",1063:"en",1065:"en",1066:"en",1067:"en",1068:"en",2092:"en",1069:"es",1071:"en",1078:"en",1079:"en",1080:"en",1081:"en",1086:"en",2110:"en",1087:"en",1088:"en",1089:"en",1091:"en",2115:"en",1092:"en",1094:"en",1095:"en",1097:"en",1098:"en",1099:"en",1102:"en",1103:"en",2128:"en",1110:"es",1111:"en",1114:"en",1125:"en",5146:"en",25626:"en",1117:"en"},ToCulture:{4:"zh-Hans",1025:"ar-SA",2049:"ar-IQ",3073:"ar-EG",4097:"ar-LY",5121:"ar-DZ",6145:"ar-MA",7169:"ar-TN",8193:"ar-OM",9217:"ar-YE",10241:"ar-SY",11265:"ar-JO",12289:"ar-LB",13313:"en",14337:"ar-AE",15361:"ar-BH",16385:"ar-QA",1026:"bg-BG",1027:"ca-ES",1028:"zh-TW",2052:"zh-CN",3076:"zh-HK",4100:"zh-SG",5124:"zh-MO",1029:"cs-CZ",1030:"da-DK",1031:"de-DE",2055:"de-CH",3079:"de-AT",4103:"de-LU",5127:"de-LI",1032:"el-GR",1033:"en-US",2057:"en-GB",3081:"en-AU",4105:"en-CA",5129:"en-NZ",6153:"en-IE",7177:"en-ZA",8201:"en-JM",9225:"en-CB",10249:"en-BZ",11273:"en-TT",12297:"en-ZW",13321:"en-PH",2058:"es-MX",1034:"es-ES",3082:"es-ES",4106:"es-GT",5130:"es-CR",6154:"es-PA",7178:"es-DO",8202:"es",9226:"es-VE",10250:"es-PE",11274:"es-AR",12298:"es-EC",13322:"es-CL",14346:"es-UY",15370:"es-PY",16394:"es-BO",17418:"es-SV",18442:"es-HN",19466:"es-NI",20490:"es-PR",1035:"fi-FI",1036:"fr-FR",2060:"fr-BE",3084:"fr-CA",4108:"fr-CH",5132:"fr-LU",6156:"fr-MC",1037:"he-IL",1038:"hu-HU",1039:"is-IS",1040:"it-IT",2064:"it-CH",1041:"ja-JP",1042:"ko-KR",1043:"nl-NL",2067:"nl-BE",1044:"nb-NO",2068:"nn-NO",1045:"pl-PL",1046:"en",2070:"pt-PT",1048:"ro-RO",1049:"ru-RU",1050:"hr-HR",2074:"sr-SP-Latn",3098:"sr-SP-Cyrl",1051:"sk-SK",1052:"sq-AL",1053:"sv-SE",2077:"sv-FI",1054:"th-TH",1055:"tr-TR",1056:"ur-PK",1057:"id-ID",1058:"uk-U",1059:"be-BY",1060:"sl-SI",1061:"et-EE",1062:"lv-LV",1063:"lt-LT",1065:"fa-IR",1066:"vi-VN",1067:"hy-AM",1068:"az-AZ-Latn",2092:"az-AZ-Cyrl",1069:"eu-ES",1071:"mk-MK",1078:"af-ZA",1079:"ka-GE",1080:"fo-FO",1081:"hi-IN",1086:"ms-MY",2110:"ms-BN",1087:"kk-KZ",1088:"ky-KG",1089:"sw-KE",1091:"uz-UZ-Latn",2115:"uz-UZ-Cyrl",1092:"tt-RU",1094:"pa-IN",1095:"gu-IN",1097:"ta-IN",1098:"te-IN",1099:"kn-IN",1102:"mr-IN",1103:"sa-IN",2128:"mn-MN",1110:"gl-ES",1111:"kok-IN",1114:"syr-SY",1125:"div-MV",5146:"bs-BA-Latn",25626:"bs-BA-Cyrl",1117:"iu-CA-Latn"},ToLocale:{af:54,"af-za":1078,sq:28,"sq-al":1052,"gsw-fr":1156,"am-et":1118,ar:1,"ar-dz":5121,"ar-bh":15361,"ar-eg":3073,"ar-iq":2049,"ar-jo":11265,"ar-kw":13313,"ar-lb":12289,"ar-ly":4097,"ar-ma":6145,"ar-om":8193,"ar-qa":16385,"ar-sa":1025,"ar-sy":10241,"ar-tn":7169,"ar-ae":14337,"ar-ye":9217,hy:43,"hy-am":1067,"as-in":1101,az:44,"az-cyrl-az":2092,"az-latn-az":1068,"ba-ru":1133,eu:45,"eu-es":1069,be:35,"be-by":1059,"bn-bd":2117,"bn-in":1093,"bs-cyrl-ba":8218,"bs-latn-ba":5146,"br-fr":1150,bg:2,"bg-bg":1026,ca:3,"ca-es":1027,"zh-hk":3076,"zh-mo":5124,"zh-cn":2052,"zh-hans":4,"zh-sg":4100,"zh-tw":1028,"zh-hant":31748,"co-fr":1155,hr:26,"hr-hr":1050,"hr-ba":4122,cs:5,"cs-cz":1029,da:6,"da-dk":1030,"prs-af":1164,div:101,"div-mv":1125,nl:19,"nl-be":2067,"nl-nl":1043,en:9,"en-au":3081,"en-bz":10249,"en-ca":4105,"en-029":9225,"en-in":16393,"en-ie":6153,"en-jm":8201,"en-my":17417,"en-nz":5129,"en-ph":13321,"en-sg":18441,"en-za":7177,"en-tt":11273,"en-gb":2057,"en-us":1033,"en-zw":12297,et:37,"et-ee":1061,fo:56,"fo-fo":1080,"fil-ph":1124,fi:11,"fi-fi":1035,fr:12,"fr-be":2060,"fr-ca":3084,"fr-fr":1036,"fr-lu":5132,"fr-mc":6156,"fr-ch":4108,"fy-nl":1122,gl:86,"gl-es":1110,ka:55,"ka-ge":1079,de:7,"de-at":3079,"de-de":1031,"de-li":5127,"de-lu":4103,"de-ch":2055,el:8,"el-gr":1032,"kl-gl":1135,gu:71,"gu-in":1095,"ha-latn-ng":1128,he:13,"he-il":1037,hi:57,"hi-in":1081,hu:14,"hu-hu":1038,is:15,"is-is":1039,"ig-ng":1136,id:33,"id-id":1057,"iu-latn-ca":2141,"iu-cans-ca":1117,"ga-ie":2108,"xh-za":1076,"zu-za":1077,it:16,"it-it":1040,"it-ch":2064,ja:17,"ja-jp":1041,kn:75,"kn-in":1099,kk:63,"kk-kz":1087,"km-kh":1107,"qut-gt":1158,"rw-rw":1159,sw:65,"sw-ke":1089,kok:87,"kok-in":1111,ko:18,"ko-kr":1042,ky:64,"ky-kg":1088,"lo-la":1108,lv:38,"lv-lv":1062,lt:39,"lt-lt":1063,"wee-de":2094,"lb-lu":1134,mk:47,"mk-mk":1071,ms:62,"ms-bn":2110,"ms-my":1086,"ml-in":1100,"mt-mt":1082,"mi-nz":1153,"arn-cl":1146,mr:78,"mr-in":1102,"moh-ca":1148,mn:80,"mn-mn":1104,"mn-mong-cn":2128,"ne-np":1121,no:20,"nb-no":1044,"nn-no":2068,"oc-fr":1154,"or-in":1096,"ps-af":1123,fa:41,"fa-ir":1065,pl:21,"pl-pl":1045,pt:22,"pt-br":1046,"pt-pt":2070,pa:70,"pa-in":1094,"quz-bo":1131,"quz-ec":2155,"quz-pe":3179,ro:24,"ro-ro":1048,"rm-ch":1047,ru:25,"ru-ru":1049,"smn-fi":9275,"smj-no":4155,"smj-se":5179,"se-fi":3131,"se-no":1083,"se-se":2107,"sms-fi":8251,"sma-no":6203,"sma-se":7227,sa:79,"sa-in":1103,sr:31770,"sr-cyrl-ba":7194,"sr-cyrl-sp":3098,"sr-cyrl-cs":3098,"sr-latn-ba":6170,"sr-latn-sp":2074,"sr-latn-cs":2074,"nso-za":1132,"tn-za":1074,"si-lk":1115,sk:27,"sk-sk":1051,sl:36,"sl-si":1060,es:10,"es-ar":11274,"es-bo":16394,"es-cl":13322,"es-co":9226,"es-cr":5130,"es-do":7178,"es-ec":12298,"es-sv":17418,"es-gt":4106,"es-hn":18442,"es-mx":2058,"es-ni":19466,"es-pa":6154,"es-py":15370,"es-pe":10250,"es-pr":20490,"es-es":3082,"es-us":21514,"es-uy":14346,"es-ve":8202,sv:29,"sv-fi":2077,"sv-se":1053,syr:90,"syr-sy":1114,"tg-cyrl-tj":1064,"tzm-latn-dz":2143,ta:73,"ta-in":1097,tt:68,"tt-ru":1092,te:74,"te-in":1098,th:30,"th-th":1054,"bo-cn":1105,tr:31,"tr-tr":1055,"tk-tm":1090,"ug-cn":1152,uk:34,"uk-ua":1058,"wen-de":1070,ur:32,"ur-pk":1056,uz:67,"uz-cyrl-uz":2115,"uz-latn-uz":1091,vi:42,"vi-vn":1066,"cy-gb":1106,"wo-sn":1160,"sah-ru":1157,"ii-cn":1144,"yo-ng":1130}}),$=function(e,t,i){var r=e+t+".json";r+=b.assetSuffix,o.ajax({url:r,async:!1,dataType:"json",error:function(e){eo.traceErr(e,"TextBib.readText(): "+r),ee(i,X)},success:function(e){ee(i,e)}})},ee=function(e,t){var i=t.texts.TBID_NML_LCID;e.lcid=i,e.texts=t.texts},{setLocale:function(e,t){var i,r,n;if(e=e||q,void 0===(r=J.ToSupportedLocale[e])&&(eo.consolLog(eo.enumTraceMode.Error,"TextBib.setLocale() Wrong culture: "+e),r=J.ToSupportedLocale[1033],e=q),K=e,r!==Z)for(i in Q.textResources)n=Q.textResources[i],$(t+"content/systemdata/"+i+"_",J.ToFileSuffix[r],n),Z=r},getLocale:function(){return K},registerTextResource:function(e){e&&!Q.textResources[e]&&(Q.textResources[e]={texts:{}})},getText:function(e,t,i){return t=t||"WebUX",Q.textResources[t]&&Q.textResources[t].texts[e]?Q.textResources[t].texts[e]:i||"Text:"+e.toString()},getLocaleMaps:function(e){return e?Object.defineProperty({},e,{value:J[e],enumerable:!0}):J},getLocaliziedDateTimeFormat:function(e){var t=Z||J.ToSupportedLocale[1033];switch(e){case"TBID_NML_DF_Default_Date":return J.ToDefaultDateFormat[t];case"TBID_NML_DF_Default_Time":return J.ToDefaultTimeFormat[t];case"TBID_NML_DF_Default_Duration":return J.ToDefaultDurationFormat[t];case"TBID_NML_DF_IOField_Date":return J.ToIOFieldDateFormat[t];case"TBID_NML_DF_IOField_Time":return J.ToIOFieldTimeFormat[t];case"TBID_NML_DF_IOField_TimeMS":return J.ToIOFieldTimeMSFormat[t]}return null},getCultureByLocaleId:function(e){e=e||q;var t=J.ToCulture[e];return void 0===t&&(t=J.ToCulture[1033]),t},getLocaleIdByCulture:function(e){return J.ToLocale[e.toLowerCase()]||q}});var ie,re,ne,ae,oe,se,le,ue,he,de=(ie={},re=function(e){var t=Ha,i=t.getProp(e,"ContainedType"),r=t.getProp(e,"Url");if(i)return-1!==i.indexOf("SwacLogin")&&(e.SwacLogin=!0),SWAC.Container.beginCreate([{name:e.rtoid,source:r,type:i,parent:e.control.domNode,settings:{width:e.control.width+"px",height:e.control.height+"px",flavor:"ui",designMode:e.gfxWebLib.appMode===In.EDIT}}]).then((function(t){const i=SWAC.Container.get({name:e.rtoid});i&&Y.bindIframeEvents(i)}),(function(t){eo.consolLog(eo.enumTraceMode.Error,"Component "+e.rtoid+" could not be created"),e.SwacLogin&&e.gfxWebLib.dialogs.showRuntimeDialogWithIcon("The url "+r+" is unavailable.","fa fa-warning fa-3x","SwacLogin")})),!0},ne=function(e){e.props.ContainedType||eo.consolLog(eo.enumTraceMode.Error,"initItem ContainedType is missing! item: "+e.rtoid),e.readyState=0,e.props.Properties=e.props.Properties||{},e.control.domNode=E.createDomElement("div",{style:"position:absolute; pointer-events:visiblePainted;",appendTo:e.control.domParent}),e._overlay=E.createDomElement("div",{style:"position:absolute; display:none; left:0px; top:0px; width:100%; height:100%; background-color:rgba( 225, 225, 225, 0 );",appendTo:e.control.domNode}),function(e){ie[e.rtoid]=e}(e)},ae=function(e){e.control.domNode.appendChild(e._overlay),function(e){return!!e.gfxWebLib.interaction.checkPermission(e,!1)&&Ha.getProp(e,"Enabled")}(e)?e._overlay.style.display="none":e._overlay.style.display="block"},oe=function(e){var t=Ha.getProp(e,"Visible"),i=SWAC.Container.get({name:e.rtoid});i&&i.hasUI()&&i.beginShow(t)},se=function(e,t){var i=SWAC.Container.get({name:e.rtoid});i&&(e.SwacLogin&&"beginLogin"===t.name?ue(i,e,t):le(i,e,t))},le=function(e,t,i){var r=e.proxy[i.name];if("function"==typeof r){var n=i.params;Array.isArray(n)||(n=[]).push(i.params),r.apply(e,n).then((function(e){eo.consolLog(eo.enumTraceMode.Info,"Successfully called method "+i.name),t.gfxWebLib.connection.sendAsyncMethodResult(t.rtoid,i.id,e)}),(function(e){eo.consolLog(eo.enumTraceMode.Error,"Failed calling method "+i.name)}))}},ue=function(e,t,i){var r=e.proxy[i.name];if("function"==typeof r){var n=i.params;n.service=t.gfxWebLib.umcservice.getServiceEndpoint(),n.dontnotifyrenew=!0,n.sigalg="PS256",r.call(e,n).then((function(e){eo.consolLog(eo.enumTraceMode.Info,"beginLogin succeeded"),e.claim&&t.gfxWebLib.umcservice.init(e.claim,n.changeuser),t.gfxWebLib.umcservice.getKey((function(r,n){r||(e.key=n.newkey,e.keysig=n.sig),t.gfxWebLib.connection.sendAsyncMethodResult(t.rtoid,i.id,e)}))}),(function(e){eo.consolLog(eo.enumTraceMode.Error,"beginLogin failed")}))}},he=function(e){var t=SWAC.Container.get({name:e.rtoid});e.control.domNode.style.width=e.control.width+"px",e.control.domNode.style.height=e.control.height+"px",t&&t.hasUI()&&t.beginPosition("0px","0px",e.control.width+"px",e.control.height+"px")},"undefined"!=typeof SWAC&&SWAC.Container&&(SWAC.Container.onCreated.subscribe((function(e){var t=e.data.name,i=de.getItem(t);if(i){var r=SWAC.Container.get({name:t});r.onReady.subscribe((function(e){r.onMouseEvents&&window.MouseEvent&&r.onMouseEvents.subscribe((function(){var e=s.Pointers.mapEventName("mousedown"),t=new window.MouseEvent(e,{bubbles:!1});i.domNode.dispatchEvent(t)}),"mousedown");var t=i.props.Properties;if(r.dpc.list().forEach((function(e){var i=t[e];void 0!==i&&r.dpc.set(e,i)})),r.dpc.onValueChanged.subscribe((function(e){var t=e.data.key,r=e.data.value;Y.equals(i.props.Properties[t],r)||(i.props.Properties[t]=r,i.gfxWebLib.connection.sendPartPropertyByName(i.rtoid,"Properties",t,r,!1,!0))})),rn.hasActions(i)){var n,a,o=r.proxy;for(a in o)o.hasOwnProperty(a)&&"object"==typeof(n=o[a])&&n.subscribe&&n.subscribe((function(e){i.gfxWebLib.connection.sendEventByName(i.rtoid,e.type,e.data)}))}i.control.handler.onReady(i)}))}})),SWAC.Container.onFailure.subscribe((function(e){"integrityCheck"!==e.data.details.phase&&eo.consolLog(eo.enumTraceMode.Error,"Component failed during "+e.data.details.phase+": "+e.data.name)}))),{DOM_TYPE:"html",onInit:function(e){ne(e)},onChanged:function(e,t,i){t=function(e,t,i){if(i){var r={},n=i.split(":"),a=n[0].split(".");if("Properties"===a[0]){var s=Ha.getPart(e,i);return o.extend(s,t),n.length>1&&(r[(a=n[1].split("."))[0]]=Ha.getPart(e,"Properties:"+a[0]),t=r),{Properties:t}}return r[a[0]]=t,r}return t}(e,t,i),t.ContainedType&&!e.readyState&&(e.props.ContainedType=t.ContainedType,e.control.width>0&&e.control.height>0&&(re(e),e.readyState=1)),2===e.readyState?function(e,t){var i=SWAC.Container.get({name:e.rtoid});if(i)if(t.Properties){var r=t.Properties;i.dpc.list().forEach((function(e){void 0!==r[e]&&i.dpc.set(e,r[e])}))}else o.extend(!0,e.props,t),void 0!==t.Visible&&oe(e),void 0!==t.Enabled&&ae(e)}(e,t):eo.consolLog(eo.enumTraceMode.Error,"onChanged call in wrong readyState: "+e.rtoid+" readyState: "+e.readyState)},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(e){e.readyState?he(e):re(e)&&(e.readyState=1)},onCleanUp:function(e){!function(e){e===ie[e.rtoid]&&delete ie[e.rtoid]}(e);var t=SWAC.Container.get({name:e.rtoid});t&&t.beginRemove().then((function(){}),(function(e){11007!==e.reasonCode&&eo.traceErr(e,"HmiSWACContainer.onCleanup()")}))},getItem:function(e){return ie[e]},invokeMethod:function(e,t){2===e.readyState?se(e,t):(e.methods=e.methods||[],e.methods.push(t))},onReady:function(e){e.readyState=2,function(e){Ma.handleDelayedUpdates(e)}(e),function(e){var t=e.methods;if(t){eo.consolLog(eo.enumTraceMode.Info,"HmiSWACContainer._invokeCachedMethods: "+e.rtoid);for(var i=0;i<t.length;i++)se(e,t[i]);delete e.methods}}(e),he(e),ae(e),oe(e)},isReady:function(e){return 2===e.readyState},setLocale:function(e){if("undefined"!=typeof SWAC&&SWAC.Container){var t=te.getCultureByLocaleId(e);SWAC.Container.setLanguage(t)}}});const ce=de;var pe=function(){var e=h,t=function(){},i=null,r=null,n=null,a={},l=function(e){var t=Ha.getProp(e,"ContainedType"),i=e.control.width+"px",r=e.control.height+"px";if(t){var n=e.gfxWebLib.connection.getCustomControlUrl()+t+"/";if(e.startURL)if(e.gfxWebLib.appMode!==In.EDIT)n+=e.startURL.split("/").pop();else n=e.startURL;return e.control.domNode.style.width=i,e.control.domNode.style.height=r,SWAC.Container.beginCreate([{name:e.rtoid,source:n,type:t,parent:e.control.domNode,settings:{width:i,height:r,flavor:"ui",designMode:e.gfxWebLib.appMode===In.EDIT}}]).then((function(){const t=SWAC.Container.get({name:e.rtoid});t&&Y.bindIframeEvents(t)}),(function(){eo.consolLog(eo.enumTraceMode.Error,"Control "+e.rtoid+" could not be created")})),!0}},u=function(e){e.control.domNode.appendChild(e._overlay),!function(e){return!!e.gfxWebLib.interaction.checkPermission(e,!1)&&Ha.getProp(e,"Enabled")}(e)?e._overlay.style.display="block":e._overlay.style.display="none"},d=function(e){e.props.ContainedType||eo.consolLog(eo.enumTraceMode.Error,"initItem ContainedType is missing! item: "+e.rtoid),e.readyState=0,e.props.Properties=e.props.Properties||{},e.control.domNode=E.createDomElement("div",{style:"position:absolute; pointer-events:visiblePainted;",appendTo:e.control.domParent}),e._overlay=E.createDomElement("div",{style:"position:absolute; display:none; left:0px; top:0px; width:100%; height:100%; background-color:rgba( 225, 225, 225, 0 );",appendTo:e.control.domNode}),function(e){a[e.rtoid]=e}(e)},c=function(e,t){var i=Ha.getProp(e,"Visible"),r=SWAC.Container.get({name:e.rtoid});r&&r.hasUI()&&(r.beginShow(i),t&&r._internal&&r._internal.iframe&&r._internal.iframe.show(i))},p=function(e){return"object"==typeof e&&null!==e},m=function(e){return p(e)?o.filter(e,(function(e){return"."!==e[0]&&"ElementID"!==e&&"Type"!==e})):e},g=function(e){return p(e)?o.filter(e,(function(e){return"ElementID"!==e&&"Type"!==e})):e},T=function(e,t){var i,r=!1,n=SWAC.Container.get({name:e.rtoid});if(n)if(t.Properties){var a=e.props.Properties,o=t.Properties;(i=n.dpc.open("properties"))&&i.list().forEach((function(e){void 0!==o[e]&&(i.beginSet(e,g(a[e])),r=!0)}))}else(i=n.dpc.open("container"))&&i.list().forEach((function(n){void 0!==t[n]&&(i.beginSet(n,m(e.props[n])),r=!0)})),void 0!==t.Visible&&c(e),void 0!==t.Enabled&&u(e);return r},f=function(e,t){var i=SWAC.Container.get({name:e.rtoid});if(i){var r=i.proxy[t.name];if("function"==typeof r){var n=t.params;Array.isArray(n)||(n=[]).push(t.params),r.apply(i,n).then((function(i){e.gfxWebLib.connection.sendAsyncMethodResult(e.rtoid,t.id,i)}),(function(e){eo.consolLog(eo.enumTraceMode.Error,"Failed calling method "+t.name)}))}}},y=function(e,t){var i=e.transactions.shift(),r=function(e,t,i){if(i){var r={},n=i.split(":"),a=n[0].split(".");if("Properties"===a[0]){var s=Ha.getPart(e,i);return o.extend(s,t),n.length>1&&(r[(a=n[1].split("."))[0]]=Ha.getPart(e,"Properties:"+a[0]),t=r),{Properties:t}}return r[a[0]]={},r}return t}(e,i.props,i.part);t.transaction.start(),T(e,r)?t.transaction.beginCommit().then((function(i){e.transactions.length>0&&y(e,t)}),(function(i){eo.consolLog(eo.enumTraceMode.Error,"beginCommit failed, errorCode: "+i.reasonCode+" error message: "+i.message),e.transactions.length>0?y(e,t):t.transaction.isActive()&&t.transaction.cancel()})):e.transactions.length>0?y(e,t):t.transaction.cancel()};return function(){if("undefined"!=typeof SWAC&&SWAC.Container){var e=window.location.origin+window.location.pathname;e.endsWith("/")||((e.endsWith(".html")||e.endsWith(".htm"))&&(e=e.slice(0,e.lastIndexOf("/"))),e+="/");var t=function(e){if(-1!==e.indexOf("<root>")){var t,i=JSON.parse(e);if(Array.isArray(i)&&i.length>1&&-1!==(t=i[i.length-1]).indexOf("<")&&-1!==t.indexOf(">"))return t.slice(t.indexOf("<")+1,t.indexOf(">"))}return e};l={},i={unregisterService:function(e){delete l[e]},DomainLogic:{sendData:function(e,t,i){var r=l[e];return"object"==typeof r&&(r.onDLSendData.fire({id:t,data:i}),!0)},onStyleChanged:function(e,t){var i=l[e];return"object"==typeof i&&(i.onStyleChanged.fire(t),!0)},Service:function(e){(function(e,t){l[e]=t})(e=t(e),this),this.sendDLEvent=function(t,i){var r=pe.getItem(e);r&&(r=function(e){for(;e._dialog;)e=e._dialog.parent;return e}(r)).gfxWebLib.connection.sendDomainLogicEvent(r.rtoid,t,[0],[i])},this.onDLSendData=new SWAC.Eventing.Event("onDLSendData"),this.onStyleChanged=new SWAC.Eventing.Event("onStyleChanged"),this.getConfig=function(){var t=pe.getItem(e),i=t.gfxWebLib.connection.getImageUrl();return{downloadUrl:i.replace("resources","download"),uploadUrl:i.replace("resources","upload"),styleName:t.gfxWebLib.getStyle(!0),channelNames:t.gfxWebLib.channelregistry.browse()}},this.channels={},this.onChannelCallback=new SWAC.Eventing.Event("onChannelCallback"),this.openChannel=(t,i,r,n)=>{pe.getItem(e).gfxWebLib.channelregistry.open(n).then((e=>{this.channels[r]=e,this.onChannelCallback.fire({guid:t,payload:{guid:i}})}),(e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,error:e}})}))},this.callChannel=(e,t,i,r,n)=>{switch(e){case"fire":{const e=this.channels[t];e&&e.fire(r);break}case"request":{const e=this.channels[t];e&&e.request(r).then((e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,data:e}})}),(e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,error:e}})}));break}case"subscribe":{const e=this.channels[t];e&&e.subscribe(r,((e,i)=>{this.onChannelCallback.fire({guid:t,payload:{guid:n,data:i}})})).then((e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,data:{id:e.id}}})}),(e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,error:e}})}));break}case"unsubscribe":{const e=this.channels[t];e&&e.unsubscribe(n).then((e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,data:e}})}),(e=>{this.onChannelCallback.fire({guid:t,payload:{guid:i,error:e}})}));break}case"close":{const e=this.channels[t];e&&(e.close(),delete this.channels[t]);break}}}}},Formatting:{Service:function(){this.format=function(e,t){return ja.format(e,t)},this.getConfig=function(){return{cldrDataPath:e+"content/systemdata/cldr-data",cldrTimeZoneJson:ja.Timezone.getTimeZoneJson(),localeMaps:te.getLocaleMaps("ToCulture")}}}},TextBib:{Service:function(){this.getConfig=function(){return{localeMaps:te.getLocaleMaps()}}}}},a={},r={unregisterService:function(e){delete a[e]},Dialogues:{Service:function(e){(function(e,t){a[e]=t})(e=t(e),this),this.beginOpen=function(t,i,r,n){var a=pe.getItem(e),o=a.gfxWebLib.dialogs.showCCDialog(a,t,i,r,n);if(o)return o.rtoid},this.beginClose=function(e,t){var i=pe.getItem(e);return i.gfxWebLib.dialogs.closeCCDialog(i),t},this.beginCancel=function(e,t){var i=pe.getItem(e);return i.gfxWebLib.dialogs.closeCCDialog(i),t},this.selfGetDialog=function(){var t=pe.getItem(e);if(t&&t._dialog){var i={id:t._dialog.id,data:t._dialog.data};return t._dialog.data=null,i}return null},this.selfClose=function(t,i){var r=pe.getItem(e),n=a[r._dialog.parent.rtoid];n&&n.onCloseDialog.fire({id:t,cancel:!1,data:i})},this.selfCancel=function(t,i){var r=pe.getItem(e),n=a[r._dialog.parent.rtoid];n&&n.onCloseDialog.fire({id:t,cancel:!0,data:i})},this.onCloseDialog=new SWAC.Eventing.Event("onCloseDialog")}}},n=function(){var e={};return{unregisterService:function(t){delete e[t]},Pickers:{Service:function(i){(function(t,i){e[t]=i})(i=t(i),this),this.openPicker=function(t,r){var n=pe.getItem(i),a=e[n.rtoid];return!(!a||(r.callback=function(e,t){a.onClosePicker.fire({value:t})},"DateTimePicker"!==t))&&(n.gfxWebLib.dialogs.showDateTimePicker(n,r),!0)},this.onClosePicker=new SWAC.Eventing.Event("onClosePicker")}}}}(),SWAC.Services.register("hmi.dl",i.DomainLogic.Service,{delegable:!1}),SWAC.Services.register("formatting.output",i.Formatting.Service,{delegable:!1}),SWAC.Services.register("dialogues",r.Dialogues.Service,{delegable:!1}),SWAC.Services.register("textbib",i.TextBib.Service,{delegable:!1}),SWAC.Services.register("picker",n.Pickers.Service,{delegable:!1}),SWAC.Container.onCreated.subscribe((function(e){var t=e.data.name,i=pe.getItem(t);if(i){var r=SWAC.Container.get({name:t});r.onReady.subscribe((function(){r.onMouseEvents&&window.MouseEvent&&r.onMouseEvents.subscribe((function(){var e=s.Pointers.mapEventName("mousedown"),t=new window.MouseEvent(e,{bubbles:!1});i.domNode.dispatchEvent(t)}),"mousedown");var e=[],t=[],n=i.props.Properties,a=r.dpc.open("properties");a&&(a.list().forEach((function(e){var i=n[e];void 0!==i&&t.push(a.beginSet(e,g(i)))})),e.push(Promise.all(t).then((()=>{a.onValueChanged.subscribe((function(e){var t=e.data.key.substr(11),r=e.data.value,n=i.props.Properties[t];Y.equals(g(n),r)||(p(n)?(o.extend(!0,n,r),i.gfxWebLib.connection.sendPartPropertyByName(i.rtoid,"Properties",t,n,!1,!0)):(i.props.Properties[t]=r,i.gfxWebLib.connection.sendPartPropertyByName(i.rtoid,"Properties",t,r,!1,!0)))}))}))));var l=[],h=i._props,d=r.dpc.open("container");d&&(d.list().forEach((function(e){void 0!==h[e]&&l.push(d.beginSet(e,m(i.props[e])))})),e.push(Promise.all(l).then((()=>{d.onValueChanged.subscribe((function(e){var t=e.data.key.substr(10),r=e.data.value,n=Ha.getPropRaw(i,t);Y.equals(m(n),r)||(i.gfxWebLib.connection.sendPropertyByName(i.rtoid,t,r,!1,!0),i.handler.applyChanged(i,t,r),"Visible"===t?c(i):"Enabled"===t&&u(i))}))})))),delete i._props;var T=r.proxy;for(var f in T)if(T.hasOwnProperty(f)){var y=T[f];"object"==typeof y&&y.subscribe&&y.subscribe((function(e){i.gfxWebLib.connection.sendEventByName(i.rtoid,e.type,e.data)}))}Promise.all(e).then((()=>{i.control.handler.onReady(i)})),c(i,!0)}))}})),SWAC.Container.onFailure.subscribe((function(e){"integrityCheck"!==e.data.details.phase&&eo.consolLog(eo.enumTraceMode.Error,"Control failed during "+e.data.details.phase+": "+e.data.name)}))}var a,l}(),{DOM_TYPE:"html",onInit:function(e){d(e)},onChanged:function(e,t,i){if(t.ContainedType&&!e.readyState&&(e.props.ContainedType=t.ContainedType,e.control.width>0&&e.control.height>0&&(l(e),e.readyState=1)),2===e.readyState){e.transactions=e.transactions||[],e.transactions.push({props:t,part:i});var r=SWAC.Container.get({name:e.rtoid});r.transaction.isActive()||y(e,r)}else eo.consolLog(eo.enumTraceMode.Error,"onChanged call in wrong readyState: "+e.rtoid+" readyState: "+e.readyState)},onCreatePart:function(e,t,i){var r={},n=t.split(":");if(n.length>1){var a=t.substr(0,t.lastIndexOf(".")),o=Ha.getPart(e,a);if(Array.isArray(o)){o.push(i);var s=n[1].split(".");r[s[0]]=Ha.getPart(e,"Properties:"+s[0]),T(e,{Properties:r})}}},onDeletePart:function(e,t){var i={},r=t.split(":");if(r.length>1){var n=t.substr(0,t.lastIndexOf(".")),a=Ha.getPart(e,n);if(Array.isArray(a)){var o=parseInt(t.substr(t.lastIndexOf(".")+1),10),s=Ha.findIndexByID(a,o);if(-1!==s){a.splice(s,1);var l=r[1].split(".");i[l[0]]=Ha.getPart(e,"Properties:"+l[0]),T(e,{Properties:i})}}}},onMovePart:function(e,t,i){var r={},n=t.split(":");if(n.length>1){var a=t.substr(0,t.lastIndexOf(".")),o=Ha.getPart(e,a);if(Array.isArray(o)){var s=parseInt(t.substr(t.lastIndexOf(".")+1),10),l=Ha.findIndexByID(o,s);if(-1!==l){var u=o.splice(l,1);o.splice(i,0,u[0]);var h=n[1].split(".");r[h[0]]=Ha.getPart(e,"Properties:"+h[0]),T(e,{Properties:r})}}}},onDLSendData:function(e,t,r){if(i)for(var n in i.DomainLogic.sendData(e.rtoid,t,r),a)if(a.hasOwnProperty(n)){var o=a[n];if(o._dialog&&o._dialog.parent===e)return void pe.onDLSendData(o,t,r)}},onCurrentStyle:function(e,t){if(e.handler.changeTemplate(e),i)for(var r in i.DomainLogic.onStyleChanged(e.rtoid,t),a)if(a.hasOwnProperty(r)){var n=a[r];if(n._dialog&&n._dialog.parent===e)return n.props.CaptionColor=e.props.CaptionColor,n.props.FocusColor=e.props.FocusColor,n.props.RenderingTemplate=e.props.RenderingTemplate,void pe.onCurrentStyle(n,t)}},onResized:function(e){e.readyState?function(e){var t=SWAC.Container.get({name:e.rtoid}),i=e.control.width+"px",r=e.control.height+"px";e.control.domNode.style.width=i,e.control.domNode.style.height=r,t&&t.hasUI()&&t.beginPosition("0px","0px",i,r)}(e):l(e)&&(e.readyState=1)},onCleanUp:function(e){!function(e){e===a[e.rtoid]&&delete a[e.rtoid],i&&i.unregisterService(e.rtoid),r&&r.unregisterService(e.rtoid),n&&n.unregisterService(e.rtoid)}(e);var o=SWAC.Container.get({name:e.rtoid});o&&o.beginRemove().then(t,(function(e){11007!==e.reasonCode&&eo.traceErr(e,"HmiCustomWebControlContainer.onCleanup()")}))},getItem:function(e){return a[e]},invokeMethod:function(e,t){2===e.readyState?f(e,t):(e.methods=e.methods||[],e.methods.push(t))},onReady:function(e){e.readyState=2,function(e){Ma.handleDelayedUpdates(e)}(e),function(e){var t=e.methods;if(t){eo.consolLog(eo.enumTraceMode.Info,"HmiCustomWebControlContainer._invokeCachedMethods: "+e.rtoid);for(var i=0;i<t.length;i++)f(e,t[i]);delete e.methods}}(e),u(e)},isReady:function(e){return 2===e.readyState},createDialogPage:function(t,i){(i=i||{}).window=i.window||{};var r={startURL:i.view,_dialog:{id:i.id,data:i.data,parent:t}},n={Operability:e.HmiOperability.Operable,Name:i.id,Left:i.window.Left||0,Top:i.window.Top||0,Width:i.window.Width||100,Height:i.window.Height||100,WindowFlags:i.window.WindowFlags||0,Caption:{Text:i.window.Caption||"",ForeColor:t.props.Caption.ForeColor,Font:{Name:t.props.Caption.Font.Name,Size:t.props.Caption.Font.Size,Underline:t.props.Caption.Font.Underline,StrikeOut:t.props.Caption.Font.StrikeOut,Weight:t.props.Caption.Font.Weight,Italic:t.props.Caption.Font.Italic}},BackColor:i.window.BackColor||0,ContainedType:t.props.ContainedType,RenderingTemplate:t.props.RenderingTemplate,CaptionColor:t.props.CaptionColor,FocusColor:t.props.FocusColor},a="_"+SWAC.Guid.generate(),o=t.gfxWebLib.createHmiObject("CustomWebControlContainer",t.rtoid+a,n,r);return o&&o.control?o:null}}}();const me=pe;var ge,Te,fe,ye,De;const Se=(ge=function(e,t,i,r){if(!e.control||"FaceplateContainer"===e.props.Type){var n=Ha.getProp(e,t,ka.enumConverter[i],0);void 0!==n&&(null!==n?e.domNode.style.setProperty(r,n):e.domNode.style.removeProperty(r))}},Te=function(e){for(var t=e.firstElementChild;t;)t.style&&"defs"!==t.nodeName&&(t.style["pointer-events"]="visiblePainted"),t=t.nextElementSibling},fe=function(e,t){var i=Ha,r=ka;e.domSvgNode.setAttribute("focusable",!1),e.domSvgNode.setAttribute("width",Math.max(0,i.getProp(e,"Width"))),e.domSvgNode.setAttribute("height",Math.max(0,i.getProp(e,"Height"))),e.domSvgNode.style["pointer-events"]="none",Te(e.domSvgNode),e.domSvgNode.setAttribute("opacity",i.getProp(e,"Opacity",r.enumConverter.None,1)),rn.setEnabled(e),e.quality=rn.Quality.create(e),rn.Quality.ShowQuality(e),ge(e,"RotationAngle","TransformRotate","transform"),ge(e,"RotationCenterX","TransformOriginPlaced","transform-origin"),e.operable&&(Y.isScreenContainer(e)?e.domSvgNode.style.setProperty("touch-action","none"):e.domNode.style.setProperty("touch-action","none")),e.handler&&e.handler.onScopeInitialized&&e.handler.onScopeInitialized(e,t)},ye=function(e,t){var i=ka,r=rn,n=qe;void 0!==t.Enabled&&r.setEnabled(e),e.domNode&&(void 0!==t.Visible&&(e.domNode.style.display=i.convertTo(i.enumConverter.Display,t.Visible,e)),void 0!==t.Left&&(e.domNode.style.left=t.Left+"px",n.fireEvent(e,"Moved")),void 0!==t.Top&&(e.domNode.style.top=t.Top+"px",n.fireEvent(e,"Moved")),void 0!==t.RotationAngle&&(ge(e,"RotationAngle","TransformRotate","transform"),"hidden"!==e.domNode.style.getPropertyValue("backface-visibility")&&e.domNode.style.setProperty("backface-visibility","hidden")),void 0===t.RotationCenterX&&void 0===t.RotationCenterY&&void 0===t.RotationCenterPlacement||(ge(e,"RotationCenterPlacement","TransformOriginPlaced","transform-origin"),r.Quality.ShowQuality(e)),void 0===t.CurrentQuality&&void 0===t.VisualizeQuality||r.Quality.ShowQuality(e),void 0!==t.Name&&e.domNode.setAttribute("data-tif-id",t.Name)),e.domSvgNode&&(void 0===t.Width&&void 0===t.Height||(void 0!==t.Width&&e.domSvgNode.setAttribute("width",Math.max(0,t.Width)),void 0!==t.Height&&e.domSvgNode.setAttribute("height",Math.max(0,t.Height)),ge(e,"RotationCenterPlacement","TransformOriginPlaced","transform-origin"),r.Quality.ShowQuality(e),n.fireEvent(e,"Resized")),void 0!==t.Opacity&&e.domSvgNode.setAttribute("opacity",t.Opacity))},De=function(e,t,i){if(e.popupContainer){var r={};return"Left"===t?(rn.getRelPosToTLSW(e.popupContainer,r),(i-r.x)/r.adaptScreenToWindowFactor):"Top"===t?(rn.getRelPosToTLSW(e.popupContainer,r),(i-r.y)/r.adaptScreenToWindowFactor):i}return i},{HANDLE_NAME:"WebRTPU.Handler",DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.WebRTPU.Handler",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,t){var i=Ha,r=ka;return e.handler.updateFrameAttributes=ye,e.popupContainer&&(e.handler.updatePopupPosition=De),e.domNode=E.createDomElement("div",{style:"position:absolute; user-select:none; backface-visibility:hidden; left:"+i.getProp(e,"Left")+"px; top:"+i.getProp(e,"Top")+"px; display:"+i.getProp(e,"Visible",r.enumConverter.Display)+";"}),e.control&&(e.domNode.style.width="1px"),Ma.onInit(e,fe,t),e.domNode},onCurrentLanguage:function(e){Ma.onCurrentLanguage(e)},onCurrentStyle:function(e){Ma.onCurrentStyle(e)},onChanged:function(e,t,i){return Ma.onChanged(e,t,i)},onCreatePart:function(e,t,i){return Ma.onCreatePart(e,t,i)},onDeletePart:function(e,t){return Ma.onDeletePart(e,t)},onMovePart:function(e,t,i){return Ma.onMovePart(e,t,i)},onFocus:function(e){Ma.onFocus(e)},onFocusOut:function(e){Ma.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return Ma.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){Ma.onCleanUp(e)},getPropertyBinding:function(){return null},getBounds:function(e){return Ma.getBounds(e)},onFlashing:function(e,t,i){Ma.onFlashing(e,t,i)},checkControlIsReady:function(e){return Ma.checkControlIsReady(e)},addDelayedUpdates:function(e,t,i,r){Ma.addDelayedUpdates(e,t,i,r)},handleDelayedUpdates:function(e){Ma.handleDelayedUpdates(e)},webRtpuIsArray:function(e){return Ma.webRtpuIsArray(e)},setAllPartProps:function(e,t){Ma.setAllPartProps(e,t)},registerWebRTPUContent:function(e,t,i){Ma.registerWebRTPUContent(e,t,i)},setParamProps:function(e,t,i){Ma.setParamProps(e,t,i)},getTemplatePrefixUri:function(e){return Ma.getTemplatePrefixUri(e)},loadSubTemplate:function(e,t,i,r,n,a){return Ma.loadSubTemplate(e,t,i,r,n,a)},removeSubTemplate:function(e){Ma.removeSubTemplate(e)},changeTemplate:function(e){e.templateInstance&&(e.templateInstance.remove(!0,!0,!1),e.templateInstance=null),"CustomWebControlContainer"!==e.props.Type&&"SwacContainer"!==e.props.Type||(e._controlProperties=o.extend(!0,{},e.props.Properties)),Ma.onInit(e,(function(e){var t=Ha;e.domSvgNode.setAttribute("focusable",!1),e.domSvgNode.setAttribute("width",Math.max(0,t.getProp(e,"Width"))),e.domSvgNode.setAttribute("height",Math.max(0,t.getProp(e,"Height"))),e.domSvgNode.style["pointer-events"]="none",Te(e.domSvgNode),e.domSvgNode.setAttribute("opacity",t.getProp(e,"Opacity",0,1)),ge(e,"RotationAngle","TransformRotate","transform"),ge(e,"RotationCenterX","TransformOriginPlaced","transform-origin"),e.operable&&(Y.isScreenContainer(e)?e.domSvgNode.style.setProperty("touch-action","none"):e.domNode.style.setProperty("touch-action","none")),e._controlProperties&&(e.props.Properties=e._controlProperties,delete e._controlProperties)}),!0)}});var be,Ce,ve;const Pe=(be="",ve=(Ce={extended_v16:{HmiScrollBarSystemPart:{BackColor:8421504,ThumbBackColor:4286348677,Floating:!0,RenderingTemplate:"include.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.headercell.svghmi"},HmiSelectionSystemPart:{BackColor:4290822336,RenderingTemplate:"include.selection.svghmi"},HmiBackgroundSystemPart:{RenderingTemplate:"include.background.svghmi"},HmiDataCellSystemPart:{RenderingTemplate:"include.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.marker.svghmi"},HmiRulerIndicatorSystemPart:{RenderingTemplate:"include.rulerindicator.svghmi"},HmiTooltipSystemPart:{BackColor:4294967295,RenderingTemplate:"include.tooltip.svghmi"}},extended:{HmiScrollBarSystemPart:{BackColor:8421504,ThumbBackColor:4286348677,Floating:!0,RenderingTemplate:"include.style.extended.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.style.extended.headercell.svghmi"},HmiSelectionSystemPart:{BackColor:4290822336,RenderingTemplate:"include.style.extended.selection.svghmi"},HmiBackgroundSystemPart:{RenderingTemplate:"include.style.extended.background.svghmi"},HmiDataCellSystemPart:{RenderingTemplate:"include.style.extended.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.style.extended.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.style.extended.marker.svghmi"},HmiRulerIndicatorSystemPart:{RenderingTemplate:"include.style.extended.rulerindicator.svghmi"},HmiTooltipSystemPart:{RenderingTemplate:"include.style.extended.tooltip.svghmi"}},flat_bright:{HmiWindowFrameSystemPart:{BorderColor:4286288546},HmiScrollBarSystemPart:{BackColor:4291680737,ThumbBackColor:4286288546,FocusColor:4280704255,BorderWidth:0,Thickness:20,RenderingTemplate:"include.style.flat.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.style.flat.headercell.svghmi"},HmiSelectionSystemPart:{RenderingTemplate:"include.style.flat.selection.svghmi"},HmiBackgroundSystemPart:{BackColor:4290822336,RenderingTemplate:"include.style.flat.background.svghmi"},HmiDataCellSystemPart:{FocusColor:4280704255,RenderingTemplate:"include.style.flat.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.style.flat.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.style.flat.marker.svghmi"},HmiRulerIndicatorSystemPart:{FocusColor:4280704255,BackColor:4294967295,RenderingTemplate:"include.style.flat.rulerindicator.svghmi"},HmiTooltipSystemPart:{ForeColor:4280363308,BackColor:4294967295,BorderColor:4288393150,Font:{Name:"Siemens Sans",Size:14},RenderingTemplate:"include.style.flat.tooltip.svghmi"}},flat_dark:{HmiWindowFrameSystemPart:{BorderColor:4286812576},HmiScrollBarSystemPart:{BackColor:4282008146,ThumbBackColor:4286812576,FocusColor:4283673087,BorderWidth:0,Thickness:20,RenderingTemplate:"include.style.flat.scrollbar.svghmi"},HmiHeaderCellSystemPart:{BackColor:8421504,RenderingTemplate:"include.style.flat.headercell.svghmi"},HmiSelectionSystemPart:{RenderingTemplate:"include.style.flat.selection.svghmi"},HmiBackgroundSystemPart:{BackColor:4290822336,RenderingTemplate:"include.style.flat.background.svghmi"},HmiDataCellSystemPart:{FocusColor:4283673087,RenderingTemplate:"include.style.flat.datacell.svghmi"},HmiListContainerSystemPart:{RenderingTemplate:"include.style.flat.listcontainer.svghmi"},HmiMarkerSystemPart:{RenderingTemplate:"include.style.flat.marker.svghmi"},HmiRulerIndicatorSystemPart:{FocusColor:4283673087,BackColor:4280296493,RenderingTemplate:"include.style.flat.rulerindicator.svghmi"},HmiTooltipSystemPart:{ForeColor:4294967295,BackColor:4280296493,BorderColor:4286812576,Font:{Name:"Siemens Sans",Size:14},RenderingTemplate:"include.style.flat.tooltip.svghmi"}}}).extended,{setResourceCachePrefix:function(e){be=e},getStyleProps:function(e){return Ce[e]},setStyleProps:function(e){ve=e},getSystemPartDefault:function(e){var t,i;return e.startsWith("Hmi")?(i=e,e=e.slice(3)):i="Hmi"+e,t=ve[i]?o.extend(!0,{},ve[i]):{},Ma.setAllPartProps(t,e),t.RenderingTemplate&&(t.RenderingTemplate=be+t.RenderingTemplate),t}});var _e=function(){var e=h,t=function(e,t){e&&e.node&&(e.node.style.left=t+"px")},i=function(e,t){e&&e.node&&(e.node.style.top=t+"px")},r=function(t,i,r){if(t&&t.node){var n="Height";if(t.props.Orientation===e.HmiOrientation.Vertical&&(t.node.style.height=i+"px"),t.props.Orientation===e.HmiOrientation.Horizontal&&(t.node.style.width=i+"px",n="Width"),!r){var a={};a[n]=i,Ma.onChanged(t,a)}}},n=function(t,i,r){if(t&&t.node){var n="Width";if(t.props.Orientation===e.HmiOrientation.Vertical?t.node.style.width=i+"px":(t.node.style.height=i+"px",n="Height"),!r){var a={};a[n]=i,Ma.onChanged(t,a)}}},a=function(e,t){e&&e.node&&(e.node.style.display=t?"inline":"none")},s=function(e,t,i){var r=e.screen.container;"MOVE_TRIGGERED"===t&&(rt.desktopOverlay(r,i),i||rt.fireEvent(r,"MovedEnd"))},l=function(e,t){e&&t&&Ma.onChanged(e,t)},u=function(o,s){o&&s&&(void 0!==s.Left&&(t(o,s.Left),delete s.Left),void 0!==s.Top&&(i(o,s.Top),delete s.Top),void 0!==s.Visible&&(a(o,s.Visible),delete s.Visible),void 0!==s.Width&&(o.props.Orientation===e.HmiOrientation.Vertical?n(o,s.Width,!0):r(o,s.Width,!0)),void 0!==s.Height&&(o.props.Orientation===e.HmiOrientation.Vertical?r(o,s.Height,!0):n(o,s.Height,!0)),l(o,s))},d=function(e,t,i){if(e&&t){var r={};void 0!==i&&(r.Visible=i),void 0!==t.left&&(r.Left=t.left),void 0!==t.top&&(r.Top=t.top),void 0!==t.width&&(r.Width=t.width),void 0!==t.height&&(r.Height=t.height),u(e,r)}},c=function(e){e&&e.templateInstance&&(Ma.removeSubTemplate(e.templateInstance),e.templateInstance=null)};return{createScrollBase:function(e,t,i,r,n,a){var u,h,c=Pe,p=E;return e&&i&&r?((h={gfxWebLib:e.gfxWebLib,node:null}).handler={},h.handler.onChanged=function(e,t){l(e,t)},h.handler.onCommand=a||s,h.cbOnTemplateLoaded=i,h.cbOnChanged=r,h.cbOnResized=n||d,(u=c.getSystemPartDefault("ScrollBarSystemPart")).Type="ScrollBarSystemPart",function(e,t,i){e&&t&&(o.extend(t,i),e.props=t)}(h,u,t),h.node=p.createDomElement("div",{style:"pointer-events: auto; position: absolute; overflow: hidden; left:0px; top:0px; width:"+h.props.Width+"px; height:"+h.props.Height+"px;"}),h.node.addEventListener("pointerdown",(e=>e.stopPropagation())),h):null},loadAndAppendScrollBar:function(e,t){var i=null;if(e.cbOnTemplateLoaded&&e.cbOnChanged){var r={ActualX:0,ActualY:0,ActualWidth:e.props.Width,ActualHeight:e.props.Height};i=Ma.loadSubTemplate(e.node,e,e.props.Type,e.props.RenderingTemplate,e.cbOnChanged,e.cbOnTemplateLoaded,r),t&&t.appendChild(e.node)}return rn.addTifLibExpandoProps(e,e.node),i},templateLoaded:function(e){return!(!e||!e.templateInstance)},repositionResizeScrollBar:function(e,t,i){e.cbOnResized(e,t,i)},setLeft:t,setTop:i,setMutableExtent:r,setFixedExtent:n,setVisibility:a,isScrollable:function(e,t,i,r,n){if(t||(t=e?e.props.VisibleValueRange:0),i||(i=e?e.props.EndValue:0),t&&i&&(r||(r=!e||e.props.Floating),n||(n=e?e.props.Thickness:0),!(!r&&t>=i&&t<i+n)))return t<i},updateScrollBarProps:l,setScrollBarProps:u,cleanUpScrollBar:c,deleteScrollBase:function(e){c(e)}}}();const Ae=_e,we=function(e){return Math.min(b.maxZoomFactor,Math.max(b.minZoomFactor,e))},xe=function(){var e=h,t=b,i={Thickness:10,Floating:!0},r={Adaption:function(e){return e},CurrentZoomFactor:function(e){return we(e)},InteractiveZooming:function(e){return e},HorizontalScrollBarVisibility:function(e){return e},HorizontalScrollBarPosition:function(e){return e},VerticalScrollBarVisibility:function(e){return e},VerticalScrollBarPosition:function(e){return e}},n=function(e,t){const i=t&&t.CurrentZoomFactor?t.CurrentZoomFactor:Ha.getProp(e,"CurrentZoomFactor",0,1);return we(i)},a=function(e,t){return e._screenNodesCreated&&Ae.templateLoaded(t)},s=function(e){if(!e)return;const t=Ha,i=e.handler.getClientRect(e),n={};n.ContentWidth=i?i.width:t.getProp(e,"Width",0,0),n.ContentHeight=i?i.height:t.getProp(e,"Height",0,0);for(const i in r)if(r.hasOwnProperty(i)){const a=t.getProp(e,i,0,0),o=r[i];n[i]=o(a)}return n},l=function(e,i,r){e.scrollX=e.scrollX||"0",e.scrollY=e.scrollY||"0";const n=r.toFixed(2);"left"===i?e.scrollX=n:e.scrollY=n,function(e){e&&!e.pendingUpdate&&(e.pendingUpdate=!0,window.requestAnimationFrame((()=>{e.pendingUpdate=!1,e.control&&e.control.domParent&&(e.control.domParent.style.transform=`translate(${e.scrollX}px, ${e.scrollY}px)`,e.isTopLevelScreenWindow&&t.scrollPopups&&e.control.handler.onScrollPopups(e,Se))})))}(e)},u=function(e,t,i,r,n,a,o){return e&&t&&void 0!==e[t]?e[t]:i&&r?i.props[r]:n&&a?Ha.getProp(n,a):o},d=function(t,r,n,a){if(!t||!t._screenNodesCreated||!t.control.initialized)return{visHori:!1,visVert:!1};const o=s(t);if(o.Adaption>0)return{visHori:!1,visVert:!1};let l=o.HorizontalScrollBarVisibility===e.HmiScrollBarVisibility.Automatic?void 0:o.HorizontalScrollBarVisibility!==e.HmiScrollBarVisibility.Collapsed,h=o.VerticalScrollBarVisibility===e.HmiScrollBarVisibility.Automatic?void 0:o.VerticalScrollBarVisibility!==e.HmiScrollBarVisibility.Collapsed;if(void 0!==l&&void 0!==h)return{visHori:l,visVert:h};const d=t._scrollBaseHorizontal,c=t._scrollBaseVertical,p=t.screen,m=Ha;if(r=r||{width:o.ContentWidth,height:o.ContentHeight},void 0===l){const e=u(r,"width",d,"VisibleValueRange",void 0,void 0,0);n||(n=d?m.getProp(d,"EndValue"):p.offsetLeft+m.getProp(p,"Width")*o.CurrentZoomFactor);const t=d?d.props.Floating:i.Floating,a=c?c.props.Width:i.Thickness;l=!(e<a)&&Ae.isScrollable(0,e,n,t,a)}if(void 0===h){const e=u(r,"height",c,"VisibleValueRange",void 0,void 0,0);a||(a=c?m.getProp(c,"EndValue"):p.offsetTop+m.getProp(p,"Height")*o.CurrentZoomFactor);const t=c?c.props.Floating:i.Floating,n=d?d.props.Height:i.Thickness;h=!(e<n)&&Ae.isScrollable(0,e,a,t,n)}return void 0===l&&void 0===h?{visHori:!1,visVert:!1}:(void 0===l?l=h:void 0===h&&(h=l),{visHori:l,visVert:h})},c=function(e,t,i,r,a,o){if(!e)return;const s=i?e._scrollBaseHorizontal:e._scrollBaseVertical;if(!s||e.props.Adaption)return;let u=s.props.CurrentValue||0;if(void 0!==t&&(u=t,o&&(u=s.props.CurrentValue+t)),u=Math.min(u,s.props.EndValue-s.props.VisibleValueRange),u=Math.round(Math.max(u,0)),!a){l(e,i?"left":"top",-1*u)}u/=n(e);const h=i?"HorizontalScrollBarPosition":"VerticalScrollBarPosition";r?e.props[h]!==u&&(e.props[h]=u,e.gfxWebLib.connection.sendPropertyByName(e.rtoid,h,u,!1,!0)):(e.handler.onChanged(e,Object.defineProperty({},h,{value:u,enumerable:!0})),e.gfxWebLib.connection.sendPropertyByName(e.rtoid,h,u,!1,!0))},p=function(e,t,i,r){void 0!==i.HorizontalScrollBarPosition&&(t.CurrentValue=i.HorizontalScrollBarPosition),void 0!==i.HorizontalScrollBarVisibility&&(t.Visibility=i.HorizontalScrollBarVisibility),void 0!==i.ContentWidth&&(t.VisibleValueRange=i.ContentWidth);const a=Ha;r=r||i.CurrentZoomFactor||n(e,i),void 0!==i.CurrentZoomFactor?(t.CurrentZoomFactor=r,t.EndValue=t.Offset+r*t.Length,t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:a.getProp(e,"HorizontalScrollBarPosition"))):void 0!==t.EndValue?(t.EndValue=t.Offset+r*t.Length,t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:a.getProp(e,"HorizontalScrollBarPosition"))):void 0!==t.CurrentValue&&(t.CurrentValue=r*t.CurrentValue)},m=function(e,t){e.Length&&(e.EndValue=e.Length,t&&t.factor&&(e.EndValue=e.EndValue*t.factor),e.EndValue+=e.Offset)},g=function(e,t,r){if(!e||!t)return;const n=Ha;let a=null;if(void 0!==t.EndValue||void 0!==t.VisibleValueRange){const o=e.screen,s=e._scrollBaseHorizontal;r=r||e.handler.getClientRect(e);const l=u(t,"EndValue",s,"EndValue",o,"Width",0);let h=o?n.getProp(o,"Height"):0;h=(o?o.offsetTop:0)+h*(t.CurrentZoomFactor||n.getProp(e,"CurrentZoomFactor"));const c=d(e,r,l,h);t.Visible=c.visHori;const p=u(t,"VisibleValueRange",s,"VisibleValueRange",e,"Width",0);t.Width=c.visVert?Math.max(0,p-i.Thickness):p,t.VisibleValueRange=i.Floating?p:t.Width;const m=u(t,"CurrentValue",s,"CurrentValue",void 0,void 0,0);t.CurrentValue=Math.max(0,Math.min(m,l-t.VisibleValueRange)),a={Visible:c.visVert}}return a},T=function(t,r){r.BeginValue=r.BeginValue?r.BeginValue:0,r.Orientation=e.HmiOrientation.Horizontal,r.Height=i.Thickness,r.Floating=i.Floating,r.Length=t.screen?Ha.getProp(t.screen,"Width"):0,r.Offset=t.screen?t.screen.offsetLeft:0},f=function(e,t){if(!e)return;const i=e._scrollBaseHorizontal;if(!a(e,i))return;const r=i.node.firstChild,n=i.templateInstance;if(!r||!n)return;const o=i.props,s=t?t.width:o.VisibleValueRange?o.VisibleValueRange:0;r.setAttribute("width",s),r.setAttribute("height",o.Height),r.style.position="absolute";const l=e.handler.getBorderWidth(e),u=Ha.getProp(e,"Height",0,0);Ae.setLeft(i,l-0),Ae.setTop(i,u-l-o.Height-0);let h=s;if(i.props.Floating){const t=e._scrollBaseVertical;h=Math.max(0,s-(t&&t.props.Visible?t.props.Width:0))}Ae.setMutableExtent(i,h,!0),Ae.setVisibility(i,o.Visible)},y=function(e,t){var i=t.node;if(e&&i){var r=e.domNode||null;r&&r.appendChild(i)}},D=function(e,t){if(!e)return;const i=e._scrollBaseVertical;if(!a(e,i))return;const r=i.node.firstChild,n=i.templateInstance;if(!r||!n)return;const o=i.props,s=t?t.height:o.VisibleValueRange?o.VisibleValueRange:0;r.setAttribute("height",s),r.setAttribute("width",o.Width),r.style.position="absolute";const l=e.handler.getBorderWidth(e),u=Ha.getProp(e,"Width",0,0),h=e.handler.getTitleBarHeight(e,0);Ae.setLeft(i,u-l-o.Width-0),Ae.setTop(i,l+h-0);let d=s;if(i.props.Floating){const t=e._scrollBaseHorizontal;d=Math.max(0,s-(t&&t.props.Visible?t.props.Height:0))}Ae.setMutableExtent(i,d,!0),Ae.setVisibility(i,o.Visible)},S=function(e,t,i){if(!e)return;const r=e.screenWindow;if(!r)return;T(r,e.gatherUpdatesScreen),m(e.gatherUpdatesScreen,e),t&&o.extend(e.gatherUpdatesWindow,t),p(r,e.gatherUpdatesScreen,e.gatherUpdatesWindow,i);const n=g(r,e.gatherUpdatesScreen),s=Ae;a(r,e)?(s.updateScrollBarProps(e,e.gatherUpdatesScreen),s.updateScrollBarProps(r._scrollBaseVertical,n)):(o.extend(e.props,e.gatherUpdatesScreen),o.extend(r._scrollBaseVertical.props,n)),void 0!==e.gatherUpdatesScreen.CurrentValue&&c(r,e.gatherUpdatesScreen.CurrentValue,!0,!0,!1,!1),e.gatherUpdatesScreen={},e.gatherUpdatesWindow={},f(r),D(r),y(r,e)},C=function(e,t){if(t){const t=s(e.screenWindow);S(e,t)}},v=function(e,t){if(!e)return;const i=function(e,t){var i={};return T(e,i),m(i),t&&p(e,i,t),g(e,i),i}(e,t),r=C,n=f,a=Ae.createScrollBase(e,i,r,(function(t,i){"HmiProps.CurrentValue"===t&&c(e,i,!0,!1,!1,!1)}),n,(function(e,t,i){const r=e.screenWindow;r&&"MOVE_TRIGGERED"===t&&Re.desktopOverlay(r,i)}));return a.gatherUpdatesScreen={},a.gatherUpdatesWindow={},a.screenWindow=e,e._scrollBaseHorizontal=a,a},P=function(e,t,i,r){void 0!==i.VerticalScrollBarPosition&&(t.CurrentValue=i.VerticalScrollBarPosition),void 0!==i.VerticalScrollBarVisibility&&(t.Visibility=i.VerticalScrollBarVisibility),void 0!==i.ContentHeight&&(t.VisibleValueRange=i.ContentHeight),r=r||n(e,i);const a=Ha;void 0!==i.CurrentZoomFactor?(t.EndValue=t.Offset+r*t.Length,t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:a.getProp(e,"VerticalScrollBarPosition")),t.CurrentZoomFactor=i.CurrentZoomFactor):void 0!==t.EndValue?(t.EndValue=t.Offset+r*t.Length,t.CurrentValue=r*(void 0!==t.CurrentValue?t.CurrentValue:a.getProp(e,"VerticalScrollBarPosition"))):void 0!==t.CurrentValue&&(t.CurrentValue=r*t.CurrentValue)},_=function(e,t){e.Length&&(e.EndValue=e.Length,t&&t.factor&&(e.EndValue=e.EndValue*t.factor),e.EndValue+=e.Offset)},A=function(e,t,r){if(!e||!t)return;const n=Ha;let a=null;if(void 0!==t.EndValue||void 0!==t.VisibleValueRange){const o=e.screen,s=e._scrollBaseVertical;r=r||e.handler.getClientRect(e);let l=o?n.getProp(o,"Width"):0;l=(o?o.offsetLeft:0)+l*(t.CurrentZoomFactor||n.getProp(e,"CurrentZoomFactor"));const h=u(t,"EndValue",s,"EndValue",o,"Height",0),c=d(e,r,l,h);t.Visible=c.visVert;const p=u(t,"VisibleValueRange",s,"VisibleValueRange",e,"Height",0);t.Height=c.visHori?Math.max(0,p-i.Thickness):p,t.VisibleValueRange=i.Floating?p:t.Height;const m=u(t,"CurrentValue",s,"CurrentValue",void 0,void 0,0);t.CurrentValue=Math.max(0,Math.min(m,h-t.VisibleValueRange)),a={Visible:c.visHori}}return a},w=function(t,r){r.BeginValue=r.BeginValue?r.BeginValue:0,r.Orientation=e.HmiOrientation.Vertical,r.Width=i.Thickness,r.Floating=i.Floating,r.Length=t.screen?Ha.getProp(t.screen,"Height"):0,r.Offset=t.screen?t.screen.offsetTop:0},x=function(e,t,i){if(!e)return;const r=e.screenWindow;if(!r)return;w(r,e.gatherUpdatesScreen),_(e.gatherUpdatesScreen,e),t&&o.extend(e.gatherUpdatesWindow,t),P(r,e.gatherUpdatesScreen,e.gatherUpdatesWindow,i);const n=A(r,e.gatherUpdatesScreen),s=Ae;a(r,e)?(s.updateScrollBarProps(e,e.gatherUpdatesScreen),s.updateScrollBarProps(r._scrollBaseHorizontal,n)):(o.extend(e.props,e.gatherUpdatesScreen),o.extend(r._scrollBaseHorizontal.props,n)),void 0!==e.gatherUpdatesScreen.CurrentValue&&c(r,e.gatherUpdatesScreen.CurrentValue,!1,!0,!1,!1),e.gatherUpdatesScreen={},e.gatherUpdatesWindow={},D(r),f(r),y(r,e)},V=function(e,t){if(t){const t=s(e.screenWindow);x(e,t)}},E=function(e,t){if(!e)return;const i=function(e,t){const i={};return w(e,i),_(i),t&&P(e,i,t),A(e,i),i}(e,t),r=V,n=D,a=Ae.createScrollBase(e,i,r,(function(t,i){"HmiProps.CurrentValue"===t&&c(e,i,!1,!1,!1,!1)}),n,(function(e,t,i){var r=e.screenWindow;r&&"MOVE_TRIGGERED"===t&&Re.desktopOverlay(r,i)}));return a.gatherUpdatesScreen={},a.gatherUpdatesWindow={},e._scrollBaseVertical=a,a.screenWindow=e,a},I=function(e){return Ae.loadAndAppendScrollBar(e)},R=function(e){if(e){const t=e.node,i=t.parentNode;if(!i)return;i.removeChild(t)}},B=function(e){if(!e)return;const t=Pe.getSystemPartDefault("ScrollBarSystemPart");i.Thickness=t.Thickness,i.Floating=t.Floating;const r=s(e),n=e._scrollBaseHorizontal||v(e,r),a=e._scrollBaseVertical||E(e,r),o=d(e);(o.visHori||o.visVert)&&(o.visHori&&!e._scrollBarHorizontalLoaded&&(I(n),e._scrollBarHorizontalLoaded=!0),o.visVert&&!e._scrollBarVerticalLoaded&&(I(a),e._scrollBarVerticalLoaded=!0))},L=function(e,t,i){if(!e||!t)return 0;let r=null,n=i||0;switch(t){case"up":return r=e._scrollBaseVertical,r&&r.props.CurrentValue>0?(n=r.props.CurrentValue+i,n<0?i-n:i):0;case"down":return r=e._scrollBaseVertical,r&&r.props.CurrentValue<r.props.EndValue-r.props.VisibleValueRange?(n=r.props.CurrentValue+i,n>r.props.EndValue-r.props.VisibleValueRange?i-(n-(r.props.EndValue-r.props.VisibleValueRange)):i):0;case"left":return r=e._scrollBaseHorizontal,r&&r.props.CurrentValue>0?(n=r.props.CurrentValue+i,n<0?i-n:i):0;case"right":return r=e._scrollBaseHorizontal,r&&r.props.CurrentValue<r.props.EndValue-r.props.VisibleValueRange?(n=r.props.CurrentValue+i,n>r.props.EndValue-r.props.VisibleValueRange?i-(n-(r.props.EndValue-r.props.VisibleValueRange)):i):0;default:return 0}};return{createScrollBars:B,onUpdateContent:function(e,t){if(!e)return;B(e);const i=Ae;if(e._scrollBaseHorizontal){const r=function(e,t){const i=e._scrollBaseHorizontal;let r=null;if(i&&t){const n={VisibleValueRange:t.width};r=g(e,n,t),Ae.updateScrollBarProps(i,n),f(e,t),void 0!==i.props.CurrentValue&&c(e,i.props.CurrentValue,!0,void 0,!0,!1)}return r}(e,t);i.updateScrollBarProps(e._scrollBaseVertical,r)}if(e._scrollBaseVertical){const r=function(e,t){const i=e._scrollBaseVertical;let r=null;if(i&&t){const n={VisibleValueRange:t.height};r=A(e,n,t),Ae.updateScrollBarProps(i,n),D(e,t),void 0!==i.props.CurrentValue&&c(e,i.props.CurrentValue,!1,!1,!0,!1)}return r}(e,t);i.updateScrollBarProps(e._scrollBaseHorizontal,r)}},onUpdateWindowProps:function(e,t){if(!e||!function(e){if(!e)return null;const t=["ScreenName"];for(let i=0,r=t.length;i<r;i++)e.hasOwnProperty(t[i])&&delete e[t[i]];return Object.keys(e).length>0?e:null}(t))return;B(e);const i=e._scrollBaseHorizontal,r=e._scrollBaseVertical;if(!i||!r)return;const n=Ae;let s=e.handler.getClientRect(e),l={VisibleValueRange:s.width};if(T(e,l),p(e,l,t),g(e,l,s),o.extend(i.gatherUpdatesWindow,l),a(e,i)?n.updateScrollBarProps(i,i.gatherUpdatesWindow):o.extend(i.props,i.gatherUpdatesWindow),void 0!==l.CurrentValue){let i=void 0===t.CurrentZoomFactor;c(e,l.CurrentValue,!0,i,!1,!1)}if(i.gatherUpdatesWindow={},l={VisibleValueRange:s.height},w(e,l),P(e,l,t),A(e,l,s),o.extend(r.gatherUpdatesWindow,l),a(e,r)?n.updateScrollBarProps(r,r.gatherUpdatesWindow):o.extend(r.props,r.gatherUpdatesWindow),void 0!==l.CurrentValue){let i=void 0===t.CurrentZoomFactor;c(e,l.CurrentValue,!1,i,!1,!1)}r.gatherUpdatesWindow={},s={width:i.props.VisibleValueRange,height:r.props.VisibleValueRange},f(e,s),D(e,s)},onScreenResized:function(e){if(!e)return;const t=e.handler.getClientRect(e),i={ContentWidth:t.width,ContentHeight:t.height};S(e._scrollBaseHorizontal,i),x(e._scrollBaseVertical,i),B(e)},onScreenChanged:function(e,t){if(!e)return;e._screenNodesCreated=!0;const i=s(e);o.extend(i,t),S(e._scrollBaseHorizontal,i),x(e._scrollBaseVertical,i),B(e)},onScreenChangedPre:function(e){e&&(e._screenNodesCreated=!1,e._scrollBaseHorizontal&&R(e._scrollBaseHorizontal),e._scrollBaseVertical&&R(e._scrollBaseVertical))},click:function(e,t,i,r,n){if(e)return n||(r*=i?1:-1),t&&e._scrollBaseHorizontal?(r=L(e,i?"right":"left",r))&&c(e,r,!0,!1,!1,!0):e._scrollBaseVertical&&(r=L(e,i?"down":"up",r))&&c(e,r,!1,!1,!1,!0),0!==r},page:function(e,t,i){if(!e)return;let r;t&&e._scrollBaseHorizontal?(r=e._scrollBaseHorizontal.props.VisibleValueRange*(i?1:-1),r=L(e,i?"right":"left",r),r&&c(e,r,!0,!1,!1,!0)):e._scrollBaseVertical&&(r=e._scrollBaseVertical.props.VisibleValueRange*(i?1:-1),r=L(e,i?"down":"up",r),r&&c(e,r,!1,!1,!1,!0))},isScreenMoveable:L,cleanUpScrollBars:function(e){if(!e)return;const t=Ae,i=e._scrollBaseHorizontal;i&&(R(i),t.cleanUpScrollBar(i),e._scrollBaseHorizontal=null,e._scrollBarHorizontalLoaded=!1);const r=e._scrollBaseVertical;r&&(R(r),t.cleanUpScrollBar(r),e._scrollBaseVertical=null,e._scrollBarVerticalLoaded=!1)}}}(),Ve=xe;var Ee;var Ie=function(){var e=h,t=b,i=function(t,i,r){if("PopupScreenWindow"===t.props.Type){var n=Ha,a=n.getProp(t,"StartupPosition"),o=n.getProp(t,"IsModal",0,!1),s=window.scrollX,l=window.scrollY;switch(o&&(s=l=0),a){case e.HmiWindowStartupPosition.CenteredMonitor:return{Left:Math.max(0,s+(document.documentElement.clientWidth-i)/2),Top:Math.max(0,l+(document.documentElement.clientHeight-r)/2)};case e.HmiWindowStartupPosition.Maximized:break;case e.HmiWindowStartupPosition.CenteredOwner:if(t.popupContainer){var u={},h=t.popupContainer.container;return rn.getRelPosToTLSW(h,u),{Left:u.x+Math.max(0,(h.control.width-i)/2),Top:u.y+Math.max(0,(h.control.height-r)/2)}}return{Left:Math.max(0,s+(document.documentElement.clientWidth-i)/2),Top:Math.max(0,l+(document.documentElement.clientHeight-r)/2)}}}return null},r=function(e,t,i){if("PopupScreenWindow"===e.props.Type&&e.popupContainer&&(void 0!==t||void 0!==i)){var r={},n={};return rn.getRelPosToTLSW(e.popupContainer,r),void 0!==t&&(n.Left=r.x+t*r.adaptScreenToWindowFactor),void 0!==i&&(n.Top=r.y+i*r.adaptScreenToWindowFactor),n}return null},n=function(e){qe.doFocus(e)},a=function(e,t){qe.desktopOverlay(e,t)},s=function(e){var t=Ha,i=1,r=0,n=0;return e.screen&&(i=function(e){return Math.min(b.maxZoomFactor,Math.max(b.minZoomFactor,e))}(t.getPropRaw(e,"CurrentZoomFactor")),r=t.getPropRaw(e.screen,"Width")*i,n=t.getPropRaw(e.screen,"Height")*i),{width:r,height:n}},l=function(t){return Ha.getProp(t,"WindowFlags")&e.HmiWindowFlag.ShowBorder?Pe.getSystemPartDefault("WindowFrameSystemPart").BorderWidth:0},u=function(t,i){return Ha.getProp(t,"WindowFlags")&e.HmiWindowFlag.ShowCaption?Pe.getSystemPartDefault("WindowFrameSystemPart").CaptionHeight:void 0!==i?i:l(t)},d=function(i,r,n,a){var o=Ha;if(o.getProp(i,"InteractiveZooming")&&o.getProp(i,"Adaption")!==e.HmiScreenWindowAdaption.ScreenToWindow){var s=o.getProp(i,"CurrentZoomFactor"),l=r;if(a||(l=r>0?+(s-.1).toFixed(3):+(s+.1).toFixed(3)),l<=t.maxZoomFactor&&l>=t.minZoomFactor){if(n){n.x-=i.screen.offsetLeft,n.y-=i.screen.offsetTop;var u=o.getProp(i,"HorizontalScrollBarPosition")*s,h=o.getProp(i,"VerticalScrollBarPosition")*s,d=(u+n.x)*l/s-n.x,c=(h+n.y)*l/s-n.y;i.handler.onChanged(i,{CurrentZoomFactor:l,HorizontalScrollBarPosition:d/l,VerticalScrollBarPosition:c/l})}else i.handler.onChanged(i,{CurrentZoomFactor:l});i.gfxWebLib.connection.sendPropertyByName(i.rtoid,"CurrentZoomFactor",l,!1,!0)}return!0}return!1};return{DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.HmiScreenWindowUseWebRTPU",DISABLE_SETSELECTIONPROPS:!0,onInit:function(e){var t,a=qe,s=Ha;if(e._screenNodesCreated=!1,rn.onInitEnabled(e),"PopupScreenWindow"===e.props.Type){var l=r(e,s.getProp(e,"Left"),s.getProp(e,"Top"));l&&(o.extend(e.props,l),e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,l)),(l=i(e,s.getProp(e,"Width"),s.getProp(e,"Height")))&&(o.extend(e.props,l),e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,l))}return function(e){var t;(t=qe.initWindowLocals()).origHorizontalScrollBarPosition=0,t.origVerticalScrollBarPosition=0,e._windowLocals=t}(e),function(e){qe.initControl(e),e.control.domParent=null,e.control.domSvgParent=null}(e),function(e){var t=qe;t.initEvents(e),e.control.handler.onResized&&t.subscribeEvent(e,"Resized",(function(t){e._resizedEvent=!0,e.control.handler.onResized(t),e._resizedEvent=!1})),e.control.handler.onMoved&&t.subscribeEvent(e,"Moved",(function(t){e.control.handler.onMoved(t)}))}(e),(t=Se.onInit(e)).setAttribute("data-rtoid",e.rtoid),e._templateDirectoryPrefix=a.getTemplateDirectoryPrefix(e),a.addActiveItem(e),e.gfxWebLib.appMode!==In.EDIT&&t.addEventListener(a.mapEventName("mousedown"),n,!0),function(e){if(e._windowLocals&&"FaceplateContainer"!==e.props.Type){var t=e._windowLocals;t.origHorizontalScrollBarPosition=Ha.getProp(e,"HorizontalScrollBarPosition"),t.origVerticalScrollBarPosition=Ha.getProp(e,"VerticalScrollBarPosition")}}(e),t},initProcessValueAndOutputFormats:function(){},adaptWindowToScreen:function(e){if(!e.isTopLevelScreenWindow){var t=s(e),r=l(e),n=u(e,r),a={Width:t.width+2*r,Height:t.height+2*r+n};if(!e.startupPositionHandled){e.startupPositionHandled=!0;var h=i(e,a.Width,a.Height);h&&o.extend(a,h)}Se.onChanged(e,a),e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,a)}},onCurrentLanguage:function(e,t){e.isTopLevelScreenWindow||Se.onCurrentLanguage(e,t)},onCurrentStyle:function(e,i){e.isTopLevelScreenWindow?t.zoomOnPoint&&(Ve.cleanUpScrollBars(e),Ve.createScrollBars(e),Ie.onScreenChanged(e)):(e.control&&e.control.handler.onCurrentStyle?e.control.handler.onCurrentStyle(e,i):Se.onCurrentStyle(e,i),e.control&&e.control.domParentRoot&&e.control.domParentRoot.style&&(e.control.domParentRoot.style.borderRadius=Ee.calcContentRadius(e)))},onScreenChangedPre:function(e){Ve.onScreenChangedPre(e)},onScreenChanged:function(e){var t={};if(e._windowLocals){t.HorizontalScrollBarPosition=e._windowLocals.origHorizontalScrollBarPosition,t.VerticalScrollBarPosition=e._windowLocals.origVerticalScrollBarPosition;const i=Ha.getProp(e,"HorizontalScrollBarPosition"),r=Ha.getProp(e,"VerticalScrollBarPosition");t.HorizontalScrollBarPosition===i&&t.VerticalScrollBarPosition===r||(e.props.HorizontalScrollBarPosition=t.HorizontalScrollBarPosition,e.props.VerticalScrollBarPosition=t.VerticalScrollBarPosition,e.gfxWebLib.connection.sendPropertiesByName(e.rtoid,{HorizontalScrollBarPosition:t.HorizontalScrollBarPosition,VerticalScrollBarPosition:t.VerticalScrollBarPosition}))}Ve.onScreenChanged(e,t)},onChanged:function(t,i,n){!function(t,i,n){var a=Se;if(!t.container||!t.container.isCleanedUp)if(t.isTopLevelScreenWindow||t.templateInstance){var s=t.props.WindowFlags&e.HmiWindowFlag.AlwaysOnTop;if(rn.onChangedEnabled(t,i,n)&&t.screen&&window.setTimeout((function(){t.screen.handler.onChanged(t.screen,{Enabled:Ha.getProp(t.screen,"Enabled")})}),0),!t.isTopLevelScreenWindow){var l=r(t,i.Left,i.Top);l&&(o.extend(i,l),t.gfxWebLib.connection.sendPropertiesByName(t.rtoid,l)),a.onChanged(t,i,n)}if(!n&&(void 0!==i.Name&&t.domNode.setAttribute("data-tif-id",i.Name),void 0===i.CurrentZoomFactor&&void 0===i.Adaption||qe.fireEvent(t,"Resized",!0),void 0!==i.WindowFlags&&s!==(i.WindowFlags&e.HmiWindowFlag.AlwaysOnTop))){var u=t.container;u&&N.orderWindows(u.winManager,t)}t.control&&t.control.handler.onChanged(t,i),Ve.onUpdateWindowProps(t,i)}else a.addDelayedUpdates(Ie.onChanged,t,i,n)}(t,i,n)},onFocus:function(e){qe.fireEvent(e,"Activated"),e.isTopLevelScreenWindow||Se.onFocus(e)},onFocusOut:function(e){qe.fireEvent(e,"Deactivated"),e.isTopLevelScreenWindow||Se.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){if(!e.isTopLevelScreenWindow)return Se.checkInnerNavigation(e,t,i,r)},onKeyDown:function(e,i,r,n){var a=e.gfxWebLib.keyboard.getKeycodes(),o=e.gfxWebLib.keyboard.getFlags(),s=!1;if(e.screen)if(n&o.CTRL)r||(-1!==[107,187,171].indexOf(i)?(d(e,-1),s=!0):-1!==[109,189,173].indexOf(i)&&(d(e,1),s=!0));else if(!e.props.Adaption&&(t.zoomOnPoint||!e.isTopLevelScreenWindow))switch(i){case a.ARROWLEFT:case a.ARROWRIGHT:Ve.click(e,!0,i===a.ARROWRIGHT,n&o.CTRL?1e6:20),s=!0;break;case a.ARROWUP:case a.ARROWDOWN:Ve.click(e,!1,i===a.ARROWDOWN,n&o.CTRL?1e6:20),s=!0;break;case a.HOME:case a.END:Ve.click(e,!1,i===a.END,1e6),Ve.click(e,!0,i===a.END,1e6),s=!0;break;case a.PAGEUP:case a.PAGEDOWN:n&o.SHIFT?Ve.page(e,!0,i===a.PAGEDOWN):Ve.page(e,!1,i===a.PAGEDOWN),s=!0}return s},onMouseWheel:function(e,i,r,n){var a=e.gfxWebLib.keyboard.getFlags();if(e.screen){if(t.zoomWithMouseWheelOnly&&!(r&a.CTRL))return d(e,i,n),!0;if(r&a.CTRL&&!t.zoomWithMouseWheelOnly)return d(e,i,n),!0;if(!e.props.Adaption&&(t.zoomOnPoint||!e.isTopLevelScreenWindow))return r&a.SHIFT?Ve.click(e,!0,i>0,i,!0):Ve.click(e,!1,i>0,i,!0),!0}},onPinchZoom:function(e,t,i){e.screen&&d(e,t,i,!0)},onPan:function(e,i,r){if(e.screen&&!e.props.Adaption&&(t.zoomOnPoint||!e.isTopLevelScreenWindow))return Ve.click(e,r,i<0,-i,!0,!0)},onCommand:function(e,t,i){var r=qe;switch(t){case"MAXIMIZE":!function(e){qe.handleMaximize(e)}(e);break;case"RESTORE":!function(e){qe.handleRestore(e)}(e);break;case"CLOSE":!function(e){qe.handleClose(e)}(e);break;case"MOVE_TRIGGERED":a(e,i),i||(r.ensureVisibility(e,"MovedEnd"),r.fireEvent(e,"MovedEnd"));break;case"RESIZE_TRIGGERED":a(e,i),i||(r.ensureVisibility(e,"ResizedEnd"),r.fireEvent(e,"ResizedEnd"));break;case"MOVED":r.fireEvent(e,"Moved")}},getPropertyBinding:function(){return Se.getPropertyBinding()},getBounds:function(e){return Se.getBounds(e)},bringToFront:function(e){return qe.bringToFront(e)},getClientRect:function(e){var t={left:0,top:0,width:0,height:0};return e.control?(t.left=e.control.left,t.top=e.control.top,t.width=e.control.width,t.height=e.control.height,t):Ee.getContentRect(e)},onCleanUp:function(e){if(qe.removeActiveItem(e),Ve.cleanUpScrollBars(e),e.control&&e.control.handler)try{e.control.handler.onCleanUp(e),e.control=null}catch(t){eo.traceErr(t,"Advanced.cleanUp: item.control.handler.onCleanUp rtoid: "+e.rtoid+" itemType: "+e.props.Type+" itemName: "+e.props.Name)}e.isTopLevelScreenWindow||Se.onCleanUp(e)},subscribeEvent:function(e,t,i){qe.subscribeEvent(e,t,i)},fireEvent:function(e,t){qe.fireEvent(e,t)},desktopOverlay:a,screenResized:function(e){e._resizedEvent||!t.zoomOnPoint&&e.isTopLevelScreenWindow||Ve.onScreenResized(e)},getBorderWidth:l,getTitleBarHeight:u,isScreenMoveable:function(e,i,r){var n=0,a=0;return!e.screen||e.props.Adaption||!t.zoomOnPoint&&e.isTopLevelScreenWindow||(i&&(n=i<0?Ve.isScreenMoveable(e,"right",1):Ve.isScreenMoveable(e,"left",-1)),r&&(a=r<0?Ve.isScreenMoveable(e,"down",1):Ve.isScreenMoveable(e,"up",-1))),0!==Math.trunc(n)||0!==Math.trunc(a)},isScreenMoveableInWindow:function(t){if(!t||!t.screen)return;const i=Ha.getProp,r=i(t,"Adaption"),n=i(t,"InteractiveZooming");if(!r){const e=Ae.isScrollable;return n||e(t._scrollBaseHorizontal)||e(t._scrollBaseVertical)}return r===e.HmiScreenWindowAdaption.WindowToScreen&&n},changeTemplate:function(e){Se.changeTemplate(e)},cleanUpScrollBars:function(e){Ve.cleanUpScrollBars(e)}}}();Ee=function(){var e=h,t=function(t){const i=t.gfxWebLib.getStyle();var r=Ha.getProp(t,"WindowFlags"),n="0px",a="0px",o="0px",s="0px";return"extended"===i&&(r&e.HmiWindowFlag.ShowBorder&&(n="4px",a="4px",s="4px",o="4px"),r&e.HmiWindowFlag.ShowCaption&&(n="0px",a="0px")),n+" "+a+" "+o+" "+s};return{RequestContentCallback:function(e,i,r,n,a){var o,s=e.Store;return n=Math.max(0,n),a=Math.max(0,a),o=wn.createSvgElement("g",{id:"ContentGroup_"+s.rtoid}),s.control&&(s.control.width=n,s.control.height=a,s.control.left=i,s.control.top=r,s.control.domSvgParent=o,s.control.domParent?(Ve.cleanUpScrollBars(s),Ve.createScrollBars(s),Ie.onScreenChanged(s)):(s.control.domParent=function(e,i,r,n,a){return e.control.domParentRoot=E.createDomElement("div",{style:"position:absolute; pointer-events:none; overflow:hidden; left:"+i+"px; top:"+r+"px; width:"+n+"px; height:"+a+"px;",appendTo:e.domNode}),e.control.domParentRoot.style.borderRadius=t(e),e.control.domParent=E.createDomElement("div",{style:"pointer-events:auto; position:relative;",appendTo:e.control.domParentRoot}),e.control.domParent}(s,i,r,n,a),function(e){e.control.handler.onInit(e),e.control.initialized=!0}(s),qe.fireEvent(s,"Resized"),Ve.createScrollBars(s))),new DocumentFragment},UpdateContentCallback:function(e,t,i,r,n){var a=e.Store;if(a.control){var o=!1;if(r=Math.max(0,r),n=Math.max(0,n),r===a.control.width&&n===a.control.height||(a.control.width=r,a.control.height=n,qe.fireEvent(a,"Resized"),o=!0),t===a.control.left&&i===a.control.top||(a.control.left=t,a.control.top=i,o=!0),o){var s={left:t,top:i,width:r,height:n};!function(e,t){var i=e.control.domParentRoot;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=t.width+"px",i.style.height=t.height+"px"}(a,s),a.screen&&a.screen.activated&&Ve.onUpdateContent(a,s)}}},getContentRect:function(e){var t={left:0,top:0,width:0,height:0};if(e.control)return t.left=e.control.left,t.top=e.control.top,t.width=e.control.width,t.height=e.control.height,t},calcContentRadius:t}}();const Re=Ie;var Be=function(){var e=h,t={Enabled:{func:["OperationEnabled"]},Visible:{gc:"Display",html:[{si:"domNode",ss:"display"}]},Left:{gc:"Pixel",html:[{si:"domNode",ss:"left"}]},Top:{gc:"Pixel",html:[{si:"domNode",ss:"top"}]},Width:{func:["_updateGeometry"],dep:["RotationCenterPlacement"]},Height:{func:["_updateGeometry"],dep:["RotationCenterPlacement"]},Adaption:{func:["_updateGeometry"],dep:["RotationCenterPlacement"]},WindowFlags:{func:["_updateWindowFlags"]},RotationCenterPlacement:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterX:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterY:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationAngle:{gc:"TransformRotate",html:[{si:"domNode",ss:"transform"}]}},i=function(e,t){var i=rn.getBounds(e);E.setBBox(e.domNode,i),e.control.width=i.w,e.control.height=i.h,t||Be.onResized(e)},r=function(t){var i=Ha.getProp(t,"WindowFlags");return i&e.HmiWindowFlag.ShowCaption||i&e.HmiWindowFlag.ShowBorder},n=function(e,t){const i=t.screen;i&&i.items&&(e.containerMap=e.containerMap||new Map,e.containerMap.set(t.rtoid,t),i.items.filter((e=>"FaceplateContainer"===e.props.Type)).forEach((t=>{n(e,t)})))},a=Re.isScreenMoveableInWindow;return{DOM_TYPE:"html",TEMPLATE_HANDLER_TYPE:"NATIVE",onInit:function(e){if(e.props.TabIntoWindow=!0,e.ignorePropertyBinding=!0,e.parentScreen=function(e){let t=e.container;for(;void 0===t.adaptScreenToWindowFactor;)t=t.container.container;return t}(e),r(e)){var t=Re;if(e.handler!==t){e.handler=t,e.container&&(e.domParent=e.container.domHtmlItems);const i=t.onInit(e);return e.templateInstance||n(e.container.core,e),i}}else!function(e){e.operable=!0,e._screenNodesCreated=!0,e.domNode=E.createDomScreenItemNode(e,{style:"position: absolute; pointer-events: none; overflow: hidden; content-visibility: auto;"}),e.control={left:0,top:0,width:e.props.Width,height:e.props.Height,domParent:e.domNode,initialized:!0,handler:{onResized:Be.onResized,updateVisibility:Be.updateVisibility}},e.control.domParent=E.createDomElement("div",{style:"pointer-events:auto; position:relative;",appendTo:e.domNode})}(e),rn.initAllAttributes(e),rn.onInitEnabled(e);var i=e.screen;if(i&&!i.container){i.container=e,i.gfxWebLib=e.gfxWebLib,i.initialized=!0;var a=Kr.getHandler("Screen");if(a){if(a.onDocumentChanged(e.container.core,i),e.faceplateUpdates){for(var o=e.faceplateUpdates.length,s=0;s<o;s+=1){var l=e.faceplateUpdates[s];a.onObjectInitialized(i,l)}e.faceplateUpdates=null}a.onDocumentActivated(i)}}else if(i){var u=e.control.domParent;u&&i.activated&&u.appendChild(i.domNode)}return e.domNode},onChanged:function(e,t,i){i||e.handler===Be&&(rn.onChangedEnabled(e,t,i)&&e.screen&&window.setTimeout((function(){e.screen.handler.onChanged(e.screen,{Enabled:Ha.getProp(e.screen,"Enabled")})}),0),rn.onChanged(e,t),void 0!==t.CurrentZoomFactor&&e.handler.onResized(e),Ve.onUpdateWindowProps(e,t),void 0===t.Adaption&&void 0===t.InteractiveZooming&&void 0===t.Width&&void 0===t.Height||a(e)&&e.screen.handler.addGestureEvents(e.screen))},onCurrentStyle:function(e,t){e.handler!==Be&&e.handler.changeTemplate(e),e.screen&&(e.screen.handler.updateStyle(screen,t),Ve.cleanUpScrollBars(e),Ve.createScrollBars(e),Be.onScreenChanged(e))},onResized:function(t){if(t.screen){Ha.getProp(t,"Adaption")&e.HmiScreenWindowAdaption.WindowToScreen&&t.handler.adaptWindowToScreen(t),t.screen.handler.adaptToScreenOrWindow(t),Ve.createScrollBars(t),Be.updateVisibility(t)}},updateVisibility:function(e){e.screen&&(1!==e.screen.adaptScreenToWindowFactor?e.screen.declutterFactor=e.screen.adaptScreenToWindowFactor:e.screen.declutterFactor=e.parentScreen.declutterFactor||e.parentScreen.adaptScreenToWindowFactor,e.screen.handler.declutterLayers(e.screen,e.screen.declutterFactor))},onCleanUp:function(e){try{e.screen&&e.screen.handler&&e.screen.handler.onCleanUp(e.screen),function(e){e.container&&e.container.core.containerMap&&(e.container.core.containerMap.delete(e.rtoid),0===e.container.core.containerMap.size&&(e.container.core.containerMap=null))}(e)}catch(e){eo.traceErr(e,"HmiFaceplateContainer:onCleanUp()")}},getPropertyBinding:function(){return t},onPropBindFunc:function(e,t,n){switch(e){case"_updateGeometry":i(t,n);break;case"_updateWindowFlags":!function(e){r(e)&&window.setTimeout((function(){var t=e.domNode;e.props.Enabled=e.orgEnabled;var i=Be.onInit(e);t.parentNode.replaceChild(i,t)}),0)}(t)}},onObjectInitialized:function(e,t){e.faceplateUpdates=e.faceplateUpdates||[],e.faceplateUpdates.push(t)},adaptWindowToScreen:function(e){const t=Ha,r=t.getProp(e,"CurrentZoomFactor");e.props.Width=t.getPropRaw(e.screen,"Width")*r,e.props.Height=t.getPropRaw(e.screen,"Height")*r,i(e,!0)},getClientRect:Re.getClientRect,getBorderWidth:Re.getBorderWidth,getTitleBarHeight:Re.getTitleBarHeight,isScreenMoveable:Re.isScreenMoveable,isScreenMoveableInWindow:a,onScreenChangedPre:Re.onScreenChangedPre,onScreenChanged:Re.onScreenChanged,onPan:Re.onPan,onPinchZoom:Re.onPinchZoom,onMouseWheel:Re.onMouseWheel,onKeyDown:Re.onKeyDown}}();const Le=Be;var Me=function(){var e=h;return{DOM_TYPE:"svg",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiScreenWindow",onInit:function(e){var t=Ha;e.orgHorizontalScrollBarPosition=t.getProp(e,"HorizontalScrollBarPosition"),e.orgVerticalScrollBarPosition=t.getProp(e,"VerticalScrollBarPosition"),e.screen&&!1===e.screen.initialized&&(e.screen.handler.appendToParentNode(e.screen),e.screen.initialized=!0),e.gfxWebLib.appMode===In.EDIT&&t.setProp(e,"ESScreen",e.props.Screen)},onChanged:function(e,t){void 0!==t.Screen&&e.gfxWebLib.appMode===In.EDIT&&Ha.setProp(e,"ESScreen",t.Screen)},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(t){!function(t){if(t.screen){const i=Ha.getProp(t,"Adaption");i===e.HmiScreenWindowAdaption.WindowToScreen&&t.handler.adaptWindowToScreen(t),t.screen.handler.adaptToScreenOrWindow(t),t.screen.handler.declutterLayers(t.screen),i===e.HmiScreenWindowAdaption.ScreenToWindow&&(t.props.CurrentZoomFactor=t.screen.adaptScreenToWindowFactor,t.gfxWebLib.connection.sendPropertyByName(t.rtoid,"CurrentZoomFactor",t.screen.adaptScreenToWindowFactor))}}(t)},onCleanUp:function(e){[e.screen,e.pendingScreen].forEach((function(e){try{e&&e.handler&&e.handler.onCleanUp(e)}catch(e){eo.traceErr(e,"HmiScreenWindow:onCleanUp()")}})),e.domNodeModal&&e.domParent.contains(e.domNodeModal)&&e.domParent.removeChild(e.domNodeModal)},scrollIntoView:function(e,t){var i=Ha,r=Math.max(.02,i.getPropRaw(e,"CurrentZoomFactor")),n=i.getPropRaw(e,"HorizontalScrollBarPosition"),a=i.getPropRaw(e,"VerticalScrollBarPosition"),o=e.handler.getClientRect(e);function s(e,t,i,r){return Math.max(0,Math.min(i,Math.max(t,e)))}1!==r&&(t=t.zoom(r));var l=s(n,t.right-o.width,t.left,o.width),u=s(a,t.bottom-o.height,t.top,o.height);l===n&&u===a||setTimeout((function(){e.handler.onChanged(e,{HorizontalScrollBarPosition:l,VerticalScrollBarPosition:u})}),0),t=t.translate(i.getPropRaw(e,"Left")+o.left-l,i.getPropRaw(e,"Top")+o.top-u);var h=e.container.container;h.control.handler.scrollIntoView(h,t)},getPropertyBinding:function(){return null}}}();const Fe=Me;var He,Oe=function(){var e={},t=function(e,t,i){var r,n,a,o,s;if(i=i||"ToolBar",(r=e.props[i])&&r.Elements)for(o=(n=r.Elements).length,a=0;a<o;a++)if((s=n[a])&&s.Mapping===t)return s;return null},i=Symbol("tempEventCache"),r=function(e){return e[i]=e[i]||[],e[i]};return{createControl:function(t,i){var r=t.gfxWebLib.rootDiv||document.getElementById("ID_MainDiv");!function(t){e[t.rtoid]=t}(t);var n,a=angular.element(r).scope();t.domNode=a.create(i,t.rtoid)[0],t.domNode.setAttribute("data-tif-id",void 0!==t.props.Name?t.props.Name:""),rn.addTifLibExpandoProps(t,t.domNode),(n=t._toolkitScope).$root.$$phase||n.$digest()},getItem:function(t){return e[t]},findElementByID:t,findToolbarButtonByName:function(e,t){window.console.error("HmiTypes.Advanced.findToolbarButtonByName is obsolete with CHROM v2.35, please use findToolbarElementByID")},findToolbarElementByID:function(e,i){return t(e,i,"ToolBar")},findStatusbarElementByName:function(e,t){window.console.error("HmiTypes.Advanced.findStatusbarElementByName is obsolete with CHROM v2.35, please use findStatusbarElementByID")},findStatusbarElementByID:function(e,i){return t(e,i,"StatusBar")},onFlashing:function(e,t,i){void 0!==e.control.handler&&void 0!==e.control.handler.onFlashing&&e.control.handler.onFlashing(e,t,i)},cleanUpItem:function(e){void 0!==e.control.handler&&(e.control.handler.onCleanUp(e),e.control=null),e.handler.onCleanUp(e),e.domNode.parentNode&&e.domNode.parentNode.removeChild(e.domNode),e._toolkitScope&&(e._toolkitScope.$destroy(),e._toolkitScope=null)},onFocus:function(e){e.control&&e.control.handler&&e.control.handler.onFocus&&e.control.handler.onFocus(e)},onFocusOut:function(e){e.control&&e.control.handler&&e.control.handler.onFocusOut&&e.control.handler.onFocusOut(e)},handleDLData:function(e,t,i){if(e.control.handler.onDLSendData)if(e.control.initialized)e.control.handler.onDLSendData(e,t,i);else{r(e).push({method:!1,args:{id:t,data:i}})}},handleMethod:function(e,t){if(e.control.handler.invokeMethod)if(e.control.initialized)e.control.handler.invokeMethod(e,t);else{r(e).push({method:!0,args:t})}},onInitialized:function(e){const t=e.container;t&&t.handler&&t.handler.onInitializedControl(t,e),e.gfxWebLib.connection.sendEventByName(e.rtoid,"Initialized");const r=function(e){return e[i]}(e);if(r){let i=!1;for(let t=0;t<r.length;t++){const n=r[t];n.method?e.control.handler.invokeMethod(e,n.args):(e.control.handler.onDLSendData(e,n.args.id,n.args.data),i=!0)}t&&i&&(t.dirtyFlags|=4,e.dirtyFlags|=2)}!function(e){delete e[i]}(e)},cleanUpScope:function(e){var t=angular.element(e.domNode).scope();t&&(t._someToolTipVisible&&e.gfxWebLib.tooltip.hide(),t.$destroy(),t.item=null),e._toolkitScope&&(e._toolkitScope.$destroy(),e._toolkitScope.item=null,e._toolkitScope=null)},destroyControl:function(t){!function(t){t===e[t.rtoid]&&delete e[t.rtoid]}(t)}}}();Oe.ToolBarApi=function(){var e="ToolBar:Elements.",t=h;return{enable:function(t,i,r){var n=Oe.findToolbarElementByID(t,i);n&&n.Enabled!==r&&(t.handler.onChanged(t,{Enabled:r},e+n.ElementID),t.gfxWebLib.connection.sendPartPropertyByName(t.rtoid,e+n.ElementID,"Enabled",r,!1,!0))},check:function(i,r,n){var a,o=Oe.findToolbarElementByID(i,r);o&&o.IsAlternateState!==n&&(a=o.Type===t.HmiScreenObjectType.ControlBarToggleSwitchPart&&n,i.handler.onChanged(i,{IsAlternateState:a,Pressed:a},e+o.ElementID),i.gfxWebLib.connection.sendPartPropertyByName(i.rtoid,e+o.ElementID,"IsAlternateState",a,!1,!0))},icon:function(t,i,r){var n=Oe.findToolbarElementByID(t,i);n&&n.Icon!==r&&t.handler.onChanged(t,{Icon:r},e+n.ElementID)},visible:function(t,i,r){var n=Oe.findToolbarElementByID(t,i);n&&n.Visible!==r&&(t.handler.onChanged(t,{Visible:r},e+n.ElementID),t.gfxWebLib.connection.sendPartPropertyByName(t.rtoid,e+n.ElementID,"Visible",r,!1,!0))},text:function(t,i,r){var n=Oe.findToolbarElementByID(t,i);n&&n.Text!==r&&(t.handler.onChanged(t,{Text:r},e+n.ElementID),t.gfxWebLib.connection.sendPartPropertyByName(t.rtoid,e+n.ElementID,"Text",r,!1,!0))},tooltip:function(t,i,r){var n=Oe.findToolbarElementByID(t,i);n&&n.ToolTipText!==r&&(t.handler.onChanged(t,{ToolTipText:r},e+n.ElementID),t.gfxWebLib.connection.sendPartPropertyByName(t.rtoid,e+n.ElementID,"ToolTipText",r,!1,!0))}}}(),Oe.StatusBarApi=(He="StatusBar:Elements.",{icon:function(e,t,i){var r=Oe.findStatusbarElementByID(e,t);r&&e.handler.onChanged(e,{Icon:i},He+r.ElementID)},visible:function(e,t,i){var r=Oe.findStatusbarElementByID(e,t);r&&e.handler.onChanged(e,{Visible:i},He+r.ElementID)},text:function(e,t,i){var r=Oe.findStatusbarElementByID(e,t);r&&e.handler.onChanged(e,{Text:i},He+r.ElementID)},tooltip:function(e,t,i){var r=Oe.findStatusbarElementByID(e,t);r&&e.handler.onChanged(e,{ToolTipText:i},He+r.ElementID)}}),Oe.BadgeApi=function(){var e="ToolBar:Elements.";return{text:function(t,i,r){var n=Oe.findToolbarElementByID(t,i);n&&t.handler.onChanged(t,{Text:r},e+n.ElementID+":Badge")},visible:function(t,i,r){var n=Oe.findToolbarElementByID(t,i);n&&t.handler.onChanged(t,{Visible:r},e+n.ElementID+":Badge")}}}();const Ne=Oe;var ke=function(){var e=h,t="allow-forms allow-scripts allow-same-origin",i="about:blank",r=null,n=function(){},a=function(t,i){Ne.ToolBarApi.text(t,e.HmiWebControlID.Address,i)},o=function(){return D.name()},s=function(e){e._overlay&&(!function(e){return Ha.getProp(e,"Enabled")}(e)?e._overlay.style.display="block":e._overlay.style.display="none")},l=function(e){var i=(e.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowPopups",!1)?" allow-popups":"")+(e.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowModals",!1)?" allow-modals":""),n=E.createDomElement("iframe",{sandbox:t+i,style:"position:static; pointer-events:visiblePainted; border:0; width:100%; height:100%;",frameborder:"0",appendTo:e.control.domNode});e._overlay=E.createDomElement("div",{style:"position:absolute; display:none; left:0px; top:0px; width:100%; height:100%; background-color:rgba( 225, 225, 225, 0 );",appendTo:e.control.domNode}),r&&r.extendIFrame(n),e._iFrame=n,n.onload=function(){d(e,"Done"),function(e,t){const i=()=>{const e=new window.CustomEvent("iframe",{bubbles:!1,cancelable:!1});t.dispatchEvent(e)};try{t.contentWindow.addEventListener("pointermove",i,{capture:!0,passive:!0}),t.contentWindow.addEventListener("pointerdown",i,{capture:!0,passive:!0}),t.contentWindow.addEventListener("keydown",i,{capture:!0,passive:!0}),e.iframeEnterHandler&&(t.removeEventListener("pointerenter",e.iframeEnterHandler),e.iframeEnterHandler=null)}catch(i){e.iframeEnterHandler||(e.iframeEnterHandler=()=>{const e=new window.CustomEvent("iframe_enter",{bubbles:!1,cancelable:!1});t.dispatchEvent(e)},t.addEventListener("pointerenter",e.iframeEnterHandler,{capture:!0,passive:!0}))}}(e,n)},v(e),s(e),f(e)},u=function(e,r){var n,a,o=e._iFrame,s=new URL(r).pathname;if(o){if(r=""!==r?r:i,a=".pdf",(n=s).toLowerCase().substring(n.length-a.length,n.length)===a.toLowerCase())o.removeAttribute("sandbox");else{var l=(e.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowPopups",!1)?" allow-popups":"")+(e.gfxWebLib.customsettings.getSetting("HmiWebControl","AllowModals",!1)?" allow-modals":"");o.setAttribute("sandbox",t+l)}o.setAttribute("src",function(e){var t=window.location.href;return("/"===t.substr(-1)?t:t+"/")===("/"===e.substr(-1)?e:e+"/")?e+"?":e}(r)),d(e,"Load")}},d=function(e,t){e&&function(e,t){e._lastMsgName=t}(e,t)},c=function(e){var t=e._iFrame;try{t.contentWindow.stop(),d(e,"Cancel")}catch(e){}},p=function(e){var t={value:e.urlHome};""!==t.value&&g(t),a(e,t.value)},m=function(e){var t=e._iFrame,r=t.getAttribute("src"),n=o();t.setAttribute("src",i),t.setAttribute("src",r),"Chrome"===n&&null!==t.contentWindow&&t.contentWindow.focus()},g=function(e){e.value=e.value.replace(/^\s+|\s+$/g,"");var t=e.value.toLowerCase();return 0===t.indexOf("http:")?(e.value=e.value.replace(/http/i,"https"),!1):!(0!==t.indexOf("https:")&&t.indexOf(":")<0)||(e.value="https://"+e.value,!1)},T=function(){},f=function(e){var t={};t.value=Ha.getProp(e,"Url"),t.value?g(t):t.value=i,a(e,t.value),u(e,t.value)},y={init:n,btnList:null,extendIFrame:n,restoreIFrame:n,back:n,fore:n,cancel:c,home:p,refresh:m,go:T,open:n},S={init:n,btnList:null,extendIFrame:n,restoreIFrame:n,back:n,fore:n,cancel:c,home:p,refresh:m,go:T,open:n},b={init:n,btnList:null,extendIFrame:n,restoreIFrame:n,back:n,fore:n,cancel:c,home:p,refresh:m,go:T,open:n},C={init:n,btnList:null,extendIFrame:n,restoreIFrame:n,back:n,fore:n,cancel:c,home:p,refresh:m,go:T,open:n},v=function(e){var t=e.control.domNode;t&&(t.style.height=e.control.height+"px",t.style.width=e.control.width+"px")};return function(){switch(o()){case"Microsoft Internet Explorer":r=y;break;case"Firefox":r=S;break;case"Chrome":r=b;break;default:r=C}r&&r.init()}(),{DOM_TYPE:"html",iFrameInterface:r,onInit:function(e){!function(e){e.readyState=0,e.urlHome=Ha.getProp(e,"Url"),e.control.domNode=E.createDomElement("div",{style:"position:absolute;pointer-events:visiblePainted",appendTo:e.control.domParent})}(e)},onChanged:function(t,r,n){n?r.Mapping===e.HmiWebControlID.Address?Ma.onChanged(t,{Text:Ha.getProp(t,"Url")},n):void 0!==r.Text&&Ha.getPart(t,n).Mapping===e.HmiWebControlID.Address&&(t.props.Url===r.Text||""===t.props.Url&&r.Text===i||t.gfxWebLib.connection.sendPropertyByName(t.rtoid,"Url",r.Text,!0)):(void 0!==r.Enabled&&s(t),void 0!==r.Url&&f(t))},onCurrentLanguage:function(){},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(e){e.readyState?v(e):(l(e),e.readyState=1)},onToolbarButton:function(t,i){switch(i){case e.HmiWebControlID.Help:t.gfxWebLib.dialogs.showHelp("#184433b1f4e27a81972293b2feade00b");break;case e.HmiWebControlID.Stop:r.cancel(t);break;case e.HmiWebControlID.Home:r.home(t);break;case e.HmiWebControlID.Reload:r.refresh(t);break;case e.HmiWebControlID.Go:r.go(t)}},invokeMethod:function(e,t){"FireCommand"===t.name&&ke.onToolbarButton(e,t.params[0])},onCleanUp:function(e){e&&r&&r.restoreIFrame(e)}}}();const We=ke;var Ge=function(){var e=h,t=function(t){var r="Stopped",n=!1,a=!1,o=!1,s=!1,l=!1,u=!1,h=t.control.domNode;if(u=t.control.domNode.muted,t.canPlay){h.paused?h.currentTime>0?(r="Paused",a=o=s=l=!0):(r="Stopped",a=s=!0):(r="Playing",n=o=s=l=!0);let i=Ne.findToolbarElementByID(t,e.HmiMediaControlID.Mute);i&&i.Type===e.HmiScreenObjectType.ControlBarButtonPart&&(u=!0)}i(t,e.HmiMediaControlID.Play,n),i(t,e.HmiMediaControlID.Pause,a),i(t,e.HmiMediaControlID.Stop,o),i(t,e.HmiMediaControlID.SeekForward,s),i(t,e.HmiMediaControlID.SeekBackward,l),i(t,e.HmiMediaControlID.Mute,u),r!==t.eventState&&(t.gfxWebLib.connection.sendEventByName(t.rtoid,r),t.eventState=r)},i=function(t,i,r){let n=Ne.findToolbarElementByID(t,i);n&&(n.Type===e.HmiScreenObjectType.ControlBarButtonPart?Ne.ToolBarApi.enable(t,i,r):n.Type===e.HmiScreenObjectType.ControlBarToggleSwitchPart&&(Ne.ToolBarApi.check(t,i,r),(i===e.HmiMediaControlID.Play||e.HmiMediaControlID.Pause)&&Ne.ToolBarApi.enable(t,i,t.canPlay)))},r=function(t){switch(Ha.getProp(t,"VideoOutput")){case e.HmiVideoOutput.Stretch:t.control.domNode.style.objectFit="fill";break;case e.HmiVideoOutput.PreserveAspectFit:t.control.domNode.style.objectFit="contain";break;case e.HmiVideoOutput.PreserveAspectCrop:t.control.domNode.style.objectFit="cover"}},n=function(e){var i=Ha,r=i.getProp(e,"Url"),n=e.control.domNode;e.canPlay=!1,n.src=r,r&&(n.load(),i.getProp(e,"AutoPlay")&&(n.muted=!0,n.play())),t(e)},a=function(e){return e.canPlay?e.control.domNode.duration:0};return{DOM_TYPE:"html",onInit:function(e){!function(e){e.eventState="Stopped",e.control.domNode=E.createDomElement("video",{style:"position:absolute; pointer-events:visiblePainted; object-fit:fill",preload:"metadata",appendTo:e.control.domParent}),e.canPlay=!1,e.control.domNode.addEventListener("canplay",(function(){e.canPlay=!0,t(e)})),e.control.domNode.addEventListener("ended",(function(){var i=e.control.domNode;i.paused||i.pause(),i.currentTime=0,t(e)})),r(e),n(e)}(e)},onChanged:function(t,i,a){!a&&t.control&&t.control.domNode&&(void 0!==i.Url&&n(t),void 0!==i.VideoOutput&&r(t),!1===i.AutoPlay&&(t.control.domNode.paused||Ge.onToolbarButton(t,e.HmiMediaControlID.Stop)))},invokeMethod:function(t,i){switch(i.name){case"Pause":Ge.onToolbarButton(t,e.HmiMediaControlID.Pause);break;case"Play":Ge.onToolbarButton(t,e.HmiMediaControlID.Play);break;case"Stop":Ge.onToolbarButton(t,e.HmiMediaControlID.Stop);break;case"FireCommand":Ge.onToolbarButton(t,i.params[0])}},onCurrentLanguage:function(){},onCurrentStyle:function(e,t){e.handler.changeTemplate(e)},onResized:function(e){!function(e){var t=e.control.domNode;t&&(t.style.height=e.control.height+"px",t.style.width=e.control.width+"px")}(e)},onToolbarButton:function(i,r){switch(r){case e.HmiMediaControlID.Play:i.control.domNode.play(),t(i);break;case e.HmiMediaControlID.Pause:i.control.domNode.pause(),t(i);break;case e.HmiMediaControlID.Stop:i.control.domNode.pause(),i.control.domNode.currentTime=0,t(i);break;case e.HmiMediaControlID.SeekForward:i.control.domNode.currentTime+=a(i)/10,t(i);break;case e.HmiMediaControlID.SeekBackward:i.control.domNode.currentTime-=a(i)/10,t(i);break;case e.HmiMediaControlID.Mute:i.control.domNode.muted=!i.control.domNode.muted}},onFocusOut:function(){},onCleanUp:function(){}}}();const Ue=Ge;var ze,je;const Ye=(ze=[],{initControlTypes:function(){je("SwacContainer",ce),je("CustomWebControlContainer",me),je("FaceplateContainer",Le),je("ScreenWindow",Fe),je("PopupScreenWindow",Fe),je("WebControl",We),je("MediaControl",Ue)},getHandler:function(e){return void 0!==ze[e]?ze[e]:null},isTypeSupported:function(e){return void 0!==ze[e]},addHandler:je=function(e,t){ze[e]=t},getExtendedMode:function(){return b.extendedMode}});var Xe=function(){var e=h,t={},i=function(e){var t=N,i=e.container;if(i)return t.bringToFront(i.winManager,e)},r=function(e,t){for(var i=t.callbacks.length,r=0;r<i;r++){t.callbacks[r].call(null,e)}},n=function(e,t,i){if(e.events){var n=e.events[t];n&&n.fire&&n.callbacks.length&&(i?r(e,n):(n.fire=!1,window.setTimeout((function(){e.control&&r(e,n),n.fire=!0}),0)))}};return{addActiveItem:function(e){t[e.rtoid]=e},removeActiveItem:function(e){e===t[e.rtoid]&&delete t[e.rtoid]},doFocus:function(r){var n=Ha,a=r.currentTarget.getAttribute("data-rtoid"),o=t[a];if(o){n.getProp(o,"Enabled")&&!Y.isScreenContainer(o)&&o.gfxWebLib.selection.setActiveItem(o);var s=0|e.HmiWindowFlag.ShowCaption;n.getProp(o,"WindowFlags")&s&&i(o)}},subscribeEvent:function(e,t,i){var r=e.events[t];r&&r.callbacks.push(i)},fireEvent:n,desktopOverlay:function(e,t){var i=e.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(e);i&&i.control.handler.desktopOverlay(i,t,e.container.domNode.style.cursor)},getTemplateDirectoryPrefix:function(e){return Ma.getTemplatePrefixUri(e)},getImageExtents:function(e,t,i){var r=rn,n=Ha;for(var a in t){var o,s;if(-1!==a.indexOf("Graphic")&&"GraphicStretchMode"!==a)o=i&&(s=n.getPartPathWithIndex(e,i))?"HmiProps."+s:"HmiProps",r.loadImage(e,t[a],a,o)}},handleMaximize:function(e){var t=Ha,i=Ma;if(e.container&&t.getProp(e,"Enabled")&&(e.gfxWebLib.selection.setActiveItem(e),!e._windowLocals.isMaximized)){var r=e.container.container.screen.props;e._windowLocals.origX=t.getProp(e,"Left"),e._windowLocals.origY=t.getProp(e,"Top"),e._windowLocals.origWidth=t.getProp(e,"Width"),e._windowLocals.origHeight=t.getProp(e,"Height");var n=t.getProp(e,"WindowFlags");e._windowLocals.origWindowFlags=n,e._windowLocals.isMaximized=!0;var a={Left:0,Top:0,Width:r.Width,Height:r.Height};i.onChanged(e,a)}},handleRestore:function(e){var t=Ma;if(e._windowLocals.isMaximized){var i={Left:e._windowLocals.origX,Top:e._windowLocals.origY,Width:e._windowLocals.origWidth,Height:e._windowLocals.origHeight};e._windowLocals.isMaximized=!1,t.onChanged(e,i)}},handleClose:function(e){var t=Ha,i=e.container;if(t.getProp(e,"Enabled")&&(e.gfxWebLib.selection.setActiveItem(e),i&&!i.isCleandUp)){if(Y.isScreenContainer(e)){var r=e.gfxWebLib.connection.getEventIDs();e.gfxWebLib.connection.sendEvent(e.rtoid,r.OnScreenWindowClose)}else e.gfxWebLib.connection.sendPropertyByName(e.rtoid,"Visible",!1,!0);n(e,"Closed")}},mapEventName:function(e){return s.Pointers.mapEventName(e)},bringToFront:i,initWindowLocals:function(){return{origX:0,origY:0,origWidth:0,origHeight:0,isMaximized:!1}},initControl:function(e){e.operable=!0,e.control={},e.control.handler=Ye.getHandler(e.props.Type),e.control.width=0,e.control.height=0,e.control.left=0,e.control.top=0,e.control.initialized=!1},initEvents:function(e){e.events={Moved:{fire:!0,callbacks:[]},MovedEnd:{fire:!0,callbacks:[]},Resized:{fire:!0,callbacks:[]},ResizedEnd:{fire:!0,callbacks:[]},Closed:{fire:!0,callbacks:[]},Activated:{fire:!0,callbacks:[]},Deactivated:{fire:!0,callbacks:[]},Apply:{fire:!0,callbacks:[]}}},ensureVisibility:function(t,i){var r=Ha,n=Ma;if(r.getProp(t,"WindowFlags")&e.HmiWindowFlag.AlwaysInParent){var a=r.getPropRaw(t,"Left"),s=r.getPropRaw(t,"Top"),l=r.getPropRaw(t,"Width"),u=r.getPropRaw(t,"Height"),h=r.getPropRaw(t.container,"Width"),d=r.getPropRaw(t.container,"Height"),c={};"MovedEnd"===i?(a<0?c.Left=0:a+l>h&&(l>h?a>h&&(c.Left=h-50):c.Left=h-l),s<0?c.Top=0:s+u>d&&(u>d?s>d&&(c.Top=d-50):c.Top=d-u)):(a<0?(c.Left=0,c.Width=Math.abs(a+l)):a+l>h&&(c.Width=Math.abs(h-a)),s<0?(c.Top=0,c.Height=Math.abs(s+u)):s+u>d&&(c.Height=Math.abs(d-s))),o.isEmptyObject(c)||(n.onChanged(t,c),t.gfxWebLib.connection.sendPropertiesByName(t.rtoid,c))}}}}();const qe=Xe,Ke=JSON.parse('{"AlarmColumnPart":{"UseAlarmColors":{"Type":"Bool","DefaultValue":true},"AlarmBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiAlarmBlock","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"AlarmControl":{"UseAlarmColors":{"Type":"Bool","DefaultValue":true},"Filter":{"RangeType":"MaxLength","Range":30000,"Type":"String","DefaultValue":""},"Systems":{"Type":"ArrayOfSRef","DefaultValue":[]},"AlwaysShowRecent":{"Type":"Bool","DefaultValue":true},"AlarmSourceType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiAlarmSourceType","DefaultValue":1},"AlarmDefinitionViewSetup":{"IsEnum":true,"EnumType":"Flags","Type":"HmiVisibleAlarms","DefaultValue":7},"ActiveAlarmsViewSetup":{"IsEnum":true,"EnumType":"Flags","Type":"HmiVisibleAlarms","DefaultValue":1},"SuppressFlashing":{"Type":"Bool","DefaultValue":false},"AcknowledgmentFlashingRate":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFlashingRate","DefaultValue":1},"ResetFlashingRate":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFlashingRate","DefaultValue":1},"TimeZone":{"Type":"HmiTimeZone","DefaultValue":-1},"DefaultSortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":1},"AlarmView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"AlarmStatisticsView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"AlarmStatisticsSettings":{"Type":"AlarmStatisticsSettingsPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"AlarmStatisticColumnPart":{"AlarmStatisticBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiAlarmStatisticBlock","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"AlarmStatisticsSettingsPart":{"TimeRangeFactor":{"Type":"DInt","DefaultValue":1},"TimeRangeBase":{"RangeType":"Discrete","Range":[1,2,3,4,5,6,7],"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeBase","DefaultValue":5},"MaximumRecords":{"Type":"UInt","DefaultValue":10000},"BeginTime":{"Type":"DateTime","DefaultValue":0},"TimeRangeStart":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeStart","DefaultValue":0}},"ApplicationPart":{"ApplicationExitCode":{"Type":"DWord","DefaultValue":0},"ApplicationState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiApplicationState","DefaultValue":0},"ApplicationName":{"Type":"String","DefaultValue":""},"Arguments":{"Type":"String","DefaultValue":""},"WorkingDirectory":{"Type":"String","DefaultValue":""},"TerminateApplicationOnLeave":{"Type":"Bool","DefaultValue":true},"Environment":{"Type":"String","DefaultValue":""}},"BackgroundSystemPart":{"Color":{"Type":"Color","DefaultValue":0},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"BadgePart":{"Text":{"RangeType":"MaxLength","Range":5,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Visible":{"RangeType":"MaxLength","Range":false,"Type":"Bool","DefaultValue":false}},"Bar":{"BarMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiBarMode","DefaultValue":1},"StraightScale":{"Type":"StraightScalePart","IsPart":true,"IsArray":false},"ProcessValue":{"Type":"Variant","DefaultValue":null},"ThresholdIndicators":{"IsEnum":true,"EnumType":"Flags","Type":"HmiThresholdIndicator","DefaultValue":2},"ShowTrendIndicator":{"Type":"Bool","DefaultValue":true},"TrendIndicatorColor":{"Type":"Color","DefaultValue":4291611852},"ProcessValueIndicatorForeColor":{"Type":"Color","DefaultValue":4294967295},"ProcessValueIndicatorBackColor":{"Type":"Color","DefaultValue":4278190080},"ProcessValueIndicatorMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiProcessIndicatorMode","DefaultValue":0},"OriginValue":{"Type":"LReal","DefaultValue":0},"RelativeToOrigin":{"RangeType":"MinMax","Range":[0,100],"Type":"Bool","DefaultValue":false},"PeakIndicators":{"IsEnum":true,"EnumType":"Flags","Type":"HmiPeakIndicator","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"NormalRangeColor":{"Type":"Color","DefaultValue":4278255360},"ComputedMaxPeakValue":{"Type":"Variant","DefaultValue":null},"ComputedMinPeakValue":{"Type":"Variant","DefaultValue":null},"ComputedValueTendency":{"IsEnum":true,"EnumType":"Enum","Type":"HmiValueTendency","DefaultValue":0},"ScaleBackColor":{"Type":"Color","DefaultValue":4290822336},"ScaleForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":true},"Title":{"Type":"TextPart","IsPart":true,"IsArray":false},"Label":{"Type":"TextPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"BindingSourceElement":{"AutoRequery":{"Type":"Bool","DefaultValue":false},"CursorPosition":{"Type":"UDInt","DefaultValue":0},"RowCount":{"Type":"UDInt","DefaultValue":0},"ReadCommand":{"Type":"CommandPart","IsPart":true,"IsArray":false},"ConsideredColumns":{"Type":"ConsideredColumnPart","IsPart":true,"IsArray":true},"DataConnection":{"IsSRef":true,"Type":"HmiDataConnection","DefaultValue":""},"SourceState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSourceState","DefaultValue":0}},"BlockSymbolSystemPart":{"TitleForeColor":{"Type":"Color","DefaultValue":4278190080},"HeaderForeColor":{"Type":"Color","DefaultValue":4278190080},"ContentForeColor":{"Type":"Color","DefaultValue":4278190080},"HeaderBackColor":{"Type":"Color","DefaultValue":4293848814},"ContentBackColor":{"Type":"Color","DefaultValue":4293848814},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BorderColor":{"Type":"Color","DefaultValue":4291611852},"TitleFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"HeaderFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"ContentFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"Button":{"HotKey":{"Type":"UInt","DefaultValue":0},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"Text":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"AlternateGraphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"AlternateText":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"AlternateGraphicWidth":{"Type":"UDInt","DefaultValue":0},"AlternateGraphicHeight":{"Type":"UDInt","DefaultValue":0},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"CheckBoxGroup":{"ProcessValue":{"Type":"Variant","DefaultValue":null},"SelectorPosition":{"RangeType":"Discrete","Range":[0,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionItemHeight":{"Type":"UInt","DefaultValue":0},"SelectionItems":{"Type":"SelectionItemPart","IsPart":true,"IsArray":true},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"Circle":{"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4278255360},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"FillLevel":{"RangeType":"MinMax","Range":[0,100],"Type":"USInt","DefaultValue":0},"FillDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillDirection","DefaultValue":0},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"ShowFillLevel":{"Type":"Bool","DefaultValue":false},"Radius":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":20},"CenterX":{"Type":"DInt","DefaultValue":0},"CenterY":{"Type":"DInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"CircleSegment":{"StartAngle":{"Type":"DInt","DefaultValue":0},"AngleRange":{"Type":"DInt","DefaultValue":90},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4278255360},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"FillLevel":{"RangeType":"MinMax","Range":[0,100],"Type":"USInt","DefaultValue":0},"FillDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillDirection","DefaultValue":0},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"ShowFillLevel":{"Type":"Bool","DefaultValue":false},"Radius":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":20},"CenterX":{"Type":"DInt","DefaultValue":0},"CenterY":{"Type":"DInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"CircularArc":{"StartAngle":{"Type":"DInt","DefaultValue":0},"AngleRange":{"Type":"DInt","DefaultValue":90},"LineColor":{"Type":"Color","DefaultValue":4278190080},"AlternateLineColor":{"Type":"Color","DefaultValue":4294967295},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"EndType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"StartType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"CapType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiCapType","DefaultValue":0},"LineWidth":{"RangeType":"MinMax","Range":[1,100],"Type":"USInt","DefaultValue":1},"Radius":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":20},"CenterX":{"Type":"DInt","DefaultValue":0},"CenterY":{"Type":"DInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"Clock":{"DialMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiScaleMode","DefaultValue":3},"DialBackColor":{"Type":"Color","DefaultValue":4294967295},"DialLabelColor":{"Type":"Color","DefaultValue":4278190080},"DialTickColor":{"Type":"Color","DefaultValue":4278190080},"ShowHours":{"Type":"Bool","DefaultValue":true},"ShowMinutes":{"Type":"Bool","DefaultValue":true},"ShowSeconds":{"Type":"Bool","DefaultValue":true},"ComputedHours":{"Type":"USInt","DefaultValue":0},"ComputedMinutes":{"Type":"USInt","DefaultValue":0},"ComputedSeconds":{"Type":"USInt","DefaultValue":0},"TimeSource":{"Type":"Variant","DefaultValue":null},"Title":{"Type":"TextPart","IsPart":true,"IsArray":false},"DialLabelFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ComboBox":{"SelectionMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSelectionMode","DefaultValue":1},"ProcessValue":{"Type":"Variant","DefaultValue":null},"SelectorPosition":{"RangeType":"Discrete","Range":[0,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionItemHeight":{"Type":"UInt","DefaultValue":0},"SelectionItems":{"Type":"SelectionItemPart","IsPart":true,"IsArray":true},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"CommandPart":{"CommandText":{"Type":"String","DefaultValue":""},"CommandType":{"Type":"String","DefaultValue":""},"CommandParameters":{"Type":"ParameterPart","IsPart":true,"IsArray":true}},"CommandSourceElement":{"Command":{"Type":"CommandPart","IsPart":true,"IsArray":false},"ResultSet":{"Type":"ParameterPart","IsPart":true,"IsArray":true},"DataConnection":{"IsSRef":true,"Type":"HmiDataConnection","DefaultValue":""},"SourceState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSourceState","DefaultValue":0}},"ConsideredColumnPart":{"Key":{"Type":"String","DefaultValue":""},"IsPrimary":{"Type":"Bool","DefaultValue":false}},"ContentPart":{"SplitRatio":{"RangeType":"MinMax","Range":[0,1],"Type":"LReal","DefaultValue":0.5},"ContentMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiContentMode","DefaultValue":2},"TextPosition":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTextPosition","DefaultValue":0},"GraphicStretchMode":{"RangeType":"Discrete","Range":[0,1,2,3],"IsEnum":true,"EnumType":"Enum","Type":"HmiGraphicStretchMode","DefaultValue":0},"VerticalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":1},"HorizontalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"Spacing":{"Type":"UDInt","DefaultValue":5},"TextTrimming":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTextTrimming","DefaultValue":0}},"ControlBarButtonPart":{"HotKey":{"Type":"UInt","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"Badge":{"Type":"BadgePart","IsPart":true,"IsArray":false},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"Text":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MinimumHeight":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumHeight":{"Type":"UDInt","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Mapping":{"Type":"DInt","DefaultValue":0},"Offset":{"Type":"DInt","DefaultValue":0},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"CustomID":{"Type":"DInt","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"ControlBarDisplayPart":{"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"Text":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MinimumHeight":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumHeight":{"Type":"UDInt","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Mapping":{"Type":"DInt","DefaultValue":0},"Offset":{"Type":"DInt","DefaultValue":0},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"CustomID":{"Type":"DInt","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"ControlBarLabelPart":{"Text":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"VerticalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":1},"HorizontalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":1},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MinimumHeight":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumHeight":{"Type":"UDInt","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Mapping":{"Type":"DInt","DefaultValue":0},"Offset":{"Type":"DInt","DefaultValue":0},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"CustomID":{"Type":"DInt","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"ControlBarSeparatorPart":{"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MinimumHeight":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumHeight":{"Type":"UDInt","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Mapping":{"Type":"DInt","DefaultValue":0},"Offset":{"Type":"DInt","DefaultValue":0},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"CustomID":{"Type":"DInt","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"ControlBarTextBoxPart":{"ReadOnly":{"Type":"Bool","DefaultValue":false},"BackColor":{"Type":"Color","DefaultValue":4294967295},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4278190080},"BorderWidth":{"Type":"USInt","DefaultValue":1},"Text":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"VerticalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":1},"HorizontalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":1},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MinimumHeight":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumHeight":{"Type":"UDInt","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Mapping":{"Type":"DInt","DefaultValue":0},"Offset":{"Type":"DInt","DefaultValue":0},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"CustomID":{"Type":"DInt","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"ControlBarToggleSwitchPart":{"IsAlternateState":{"Type":"Bool","DefaultValue":false},"AlternateText":{"IsRef":true,"Type":"HmiText","DefaultValue":""},"AlternateGraphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"AlternateGraphicWidth":{"Type":"UDInt","DefaultValue":0},"AlternateGraphicHeight":{"Type":"UDInt","DefaultValue":0},"HotKey":{"Type":"UInt","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"Badge":{"Type":"BadgePart","IsPart":true,"IsArray":false},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"Text":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MinimumHeight":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumHeight":{"Type":"UDInt","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Mapping":{"Type":"DInt","DefaultValue":0},"Offset":{"Type":"DInt","DefaultValue":0},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"CustomID":{"Type":"DInt","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"CornersPart":{"TopLeftRadius":{"RangeType":"MinMax","Range":[0,1250],"Type":"UDInt","DefaultValue":0},"TopRightRadius":{"RangeType":"MinMax","Range":[0,1250],"Type":"UDInt","DefaultValue":0},"BottomLeftRadius":{"RangeType":"MinMax","Range":[0,1250],"Type":"UDInt","DefaultValue":0},"BottomRightRadius":{"RangeType":"MinMax","Range":[0,1250],"Type":"UDInt","DefaultValue":0}},"CurvedScalePart":{"StartAngle":{"Type":"DInt","DefaultValue":225},"AngleRange":{"Type":"DInt","DefaultValue":270},"ScalingType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScalingType","DefaultValue":0},"DivisionCount":{"RangeType":"MinMax","Range":[1,1000],"Type":"DInt","DefaultValue":10},"SubDivisionCount":{"RangeType":"MinMax","Range":[1,250],"Type":"DInt","DefaultValue":1},"LargeTickLabelingStep":{"Type":"USInt","DefaultValue":1},"BeginValue":{"Type":"LReal","DefaultValue":0},"EndValue":{"Type":"LReal","DefaultValue":100},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"LabelFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"MeasurementUnitType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiMeasurementUnit","DefaultValue":2},"MeasurementUnit":{"RangeType":"MaxLength","Range":32,"Type":"String","DefaultValue":""},"AutoScaling":{"Type":"Bool","DefaultValue":true},"ScaleMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiScaleMode","DefaultValue":3},"LabelColor":{"Type":"Color","DefaultValue":4278190080},"TickColor":{"Type":"Color","DefaultValue":4278190080}},"CustomWebControlContainer":{"IsMonitorMode":{"Type":"Bool","DefaultValue":false},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"CustomWidgetContainer":{"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"DataCellSystemPart":{"OutputFormat":{"Type":"String","DefaultValue":""},"BackColor":{"Type":"Color","DefaultValue":4294967295},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionBackColor":{"Type":"Color","DefaultValue":871296750},"SelectionForeColor":{"Type":"Color","DefaultValue":855638271},"Enabled":{"Type":"Bool","DefaultValue":true},"IsEditing":{"Type":"Bool","DefaultValue":false},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"HasFocus":{"Type":"Bool","DefaultValue":false},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"DataGridColumnHeaderPart":{"Text":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"DataGridColumnPart":{"Key":{"Type":"String","DefaultValue":""},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"DataGridControl":{"BindingSource":{"IsSomRef":true,"Type":"HmiBindingSourceElement","DefaultValue":""},"DataGridView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"DataGridHeaderSettingsPart":{"AllowColumnReorder":{"Type":"Bool","DefaultValue":true},"AllowColumnResize":{"Type":"Bool","DefaultValue":true},"HeaderGridLineColor":{"Type":"Color","DefaultValue":4291611852},"HeaderForeColor":{"Type":"Color","DefaultValue":4278190080},"HeaderBackColor":{"Type":"Color","DefaultValue":4293848814},"HeaderSelectionForeColor":{"Type":"Color","DefaultValue":872415231},"HeaderSelectionBackColor":{"Type":"Color","DefaultValue":855638271},"RowHeaderType":{"RangeType":"Discrete","Range":[0,1],"IsEnum":true,"EnumType":"Enum","Type":"HmiDataGridHeaderType","DefaultValue":0},"ColumnHeaderType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDataGridHeaderType","DefaultValue":2},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false}},"DataGridViewPart":{"ColoringMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGridColoringMode","DefaultValue":2},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"BackColor":{"Type":"Color","DefaultValue":4294967295},"AlternateBackColor":{"Type":"Color","DefaultValue":4293980400},"AlternateForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionForeColor":{"Type":"Color","DefaultValue":4294967295},"SelectionBackColor":{"Type":"Color","DefaultValue":4291136049},"SelectFullRow":{"Type":"Bool","DefaultValue":true},"GridSelectionMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGridSelectionMode","DefaultValue":1},"HorizontalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"VerticalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"SelectionBorderWidth":{"Type":"USInt","DefaultValue":3},"SelectionBorderColor":{"Type":"Color","DefaultValue":4278190080},"AllowSort":{"Type":"Bool","DefaultValue":true},"RowHeight":{"Type":"USInt","DefaultValue":0},"GridLineColor":{"Type":"Color","DefaultValue":4291611852},"GridLineWidth":{"Type":"USInt","DefaultValue":1},"GridLineVisibility":{"IsEnum":true,"EnumType":"Flags","Type":"HmiSimpleGridLine","DefaultValue":3},"AllowFilter":{"Type":"Bool","DefaultValue":true},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"HeaderSettings":{"Type":"DataGridHeaderSettingsPart","IsPart":true,"IsArray":false},"CellPadding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Columns":{"IsPart":true,"IsArray":true}},"DataSourcePart":{"Source":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"VisualizeQuality":{"Type":"Bool","DefaultValue":true}},"DcsFaceplateContainer":{"DomainTypeGUID":{"Type":"String","DefaultValue":""},"DomainSubTypeGUID":{"Type":"String","DefaultValue":""},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"DetailedParameterControl":{"EditMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiEditMode","DefaultValue":7},"TimeZone":{"Type":"HmiTimeZone","DefaultValue":-1},"ParameterSetTypeFixed":{"IsSRef":true,"Type":"HmiParameterSetType","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionBackColor":{"Type":"Color","DefaultValue":4294967295},"SelectionForeColor":{"Type":"Color","DefaultValue":4278190080},"CurrentParameterSetTypeID":{"Type":"UDInt","DefaultValue":0},"CurrentParameterSetID":{"Type":"UDInt","DefaultValue":0},"HasPendingChanges":{"Type":"Bool","DefaultValue":false},"HideDetails":{"Type":"Bool","DefaultValue":false},"ParameterView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"DetailedParameterControlColumnPart":{"DetailedParameterControlBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDetailedParameterControlBlock","DefaultValue":0},"Key":{"Type":"String","DefaultValue":""},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"DotNetControlContainer":{"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"DynamicPropertyPart":{},"Ellipse":{"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4278255360},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"FillLevel":{"RangeType":"MinMax","Range":[0,100],"Type":"USInt","DefaultValue":0},"FillDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillDirection","DefaultValue":0},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"ShowFillLevel":{"Type":"Bool","DefaultValue":false},"RadiusX":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":30},"RadiusY":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":20},"CenterX":{"Type":"DInt","DefaultValue":0},"CenterY":{"Type":"DInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"EllipseSegment":{"StartAngle":{"Type":"DInt","DefaultValue":0},"AngleRange":{"Type":"DInt","DefaultValue":90},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4278255360},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"FillLevel":{"RangeType":"MinMax","Range":[0,100],"Type":"USInt","DefaultValue":0},"FillDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillDirection","DefaultValue":0},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"ShowFillLevel":{"Type":"Bool","DefaultValue":false},"RadiusX":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":30},"RadiusY":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":20},"CenterX":{"Type":"DInt","DefaultValue":0},"CenterY":{"Type":"DInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"EllipticalArc":{"StartAngle":{"Type":"DInt","DefaultValue":0},"AngleRange":{"Type":"DInt","DefaultValue":90},"LineColor":{"Type":"Color","DefaultValue":4278190080},"AlternateLineColor":{"Type":"Color","DefaultValue":4294967295},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"EndType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"StartType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"CapType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiCapType","DefaultValue":0},"LineWidth":{"RangeType":"MinMax","Range":[1,100],"Type":"USInt","DefaultValue":1},"RadiusX":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":30},"RadiusY":{"RangeType":"MinMax","Range":[0,2500],"Type":"UDInt","DefaultValue":20},"CenterX":{"Type":"DInt","DefaultValue":0},"CenterY":{"Type":"DInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"FaceplateContainer":{"IsVisible":{"Type":"Bool","DefaultValue":true},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"CurrentZoomFactor":{"RangeType":"MinMax","Range":[0.01,8],"Type":"LReal","DefaultValue":1},"VerticalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":2},"VerticalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"HorizontalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":2},"HorizontalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"Adaption":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScreenWindowAdaption","DefaultValue":0},"InteractiveZooming":{"Type":"Bool","DefaultValue":false},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"FaceplateType":{"EnableExplicitUnlock":{"IsSomRef":true,"Type":"HmiButton","DefaultValue":""},"Suspendable":{"Type":"Bool","DefaultValue":false},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":4290822336},"AlternateBackColor":{"Type":"Color","DefaultValue":4293651435},"BackGraphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"HorizontalAlignment":{"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"VerticalAlignment":{"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":0},"BackgroundFillMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiBackgroundFillMode","DefaultValue":0},"BackGraphicStretchMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGraphicStretchMode","DefaultValue":3},"Name":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Layers":{"Type":"LayerPart","IsPart":true,"IsArray":true}},"FlowLineDecoratorSystemPart":{"ForeColor":{"Type":"Color","DefaultValue":4278190080},"BackColor":{"Type":"Color","DefaultValue":4293848814},"DecoratorPositionX":{"RangeType":"MinMax","Range":[-1,1],"Type":"Real","DefaultValue":0},"DecoratorPositionY":{"RangeType":"MinMax","Range":[-1,1],"Type":"Real","DefaultValue":0},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"FocusEffectSystemPart":{"FocusColor":{"Type":"Color","DefaultValue":4286434550},"LineWidth":{"Type":"USInt","DefaultValue":2},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"FontPart":{"Description":{"IsRef":true,"Type":"HmiFont","DefaultValue":""},"Weight":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFontWeight","DefaultValue":400},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":"Arial"},"Italic":{"Type":"Bool","DefaultValue":false},"Size":{"RangeType":"MinMax","Range":[1,1000],"Type":"Real","DefaultValue":16},"Underline":{"Type":"Bool","DefaultValue":false},"StrikeOut":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFontStrikeOut","DefaultValue":0}},"FunctionTrendAreaPart":{"SelectedFunctionTrend":{"IsSomRef":true,"Type":"HmiFunctionTrendPart","DefaultValue":""},"TopValueAxes":{"Type":"XValueAxisPart","IsPart":true,"IsArray":true},"BottomValueAxes":{"Type":"XValueAxisPart","IsPart":true,"IsArray":true},"FunctionTrends":{"Type":"FunctionTrendPart","IsPart":true,"IsArray":true},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"BackColor":{"Type":"Color","DefaultValue":4292401644},"GridLines":{"IsEnum":true,"EnumType":"Flags","Type":"HmiGridLine","DefaultValue":3},"MajorGridLinesColor":{"Type":"Color","DefaultValue":4289774020},"MinorGridLinesColor":{"Type":"Color","DefaultValue":4291747794},"SizeFactor":{"RangeType":"MinMax","Range":[1,100],"Type":"UInt","DefaultValue":1},"VisibleTrendCount":{"Type":"UInt","DefaultValue":0},"Ruler":{"Type":"RulerPart","IsPart":true,"IsArray":false},"LeftValueAxes":{"Type":"YValueAxisPart","IsPart":true,"IsArray":true},"RightValueAxes":{"Type":"YValueAxisPart","IsPart":true,"IsArray":true}},"FunctionTrendControl":{"FunctionTrendAreas":{"Type":"FunctionTrendAreaPart","IsPart":true,"IsArray":true},"AreaSpacing":{"Type":"UInt","DefaultValue":10},"Online":{"Type":"Bool","DefaultValue":true},"ExtendRulerToAxis":{"Type":"Bool","DefaultValue":false},"ShowRuler":{"Type":"Bool","DefaultValue":true},"ShiftAxes":{"Type":"Bool","DefaultValue":false},"Legend":{"Type":"LegendPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"FunctionTrendPart":{"RangeType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeType","DefaultValue":0},"TimeRangeFactor":{"Type":"DInt","DefaultValue":1},"TimeRangeBase":{"RangeType":"Discrete","Range":[1,2,3,4,5,6,7],"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeBase","DefaultValue":3},"BeginTime":{"Type":"DateTime","DefaultValue":0},"EndTime":{"Type":"DateTime","DefaultValue":0},"PointCount":{"Type":"DInt","DefaultValue":120},"XValueAxis":{"IsSomRef":true,"Type":"HmiXValueAxisPart","DefaultValue":""},"TrendMode":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiTrendMode","DefaultValue":1},"DataSourceX":{"Type":"DataSourcePart","IsPart":true,"IsArray":false},"Visible":{"Type":"Bool","DefaultValue":true},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"LineWidth":{"Type":"USInt","DefaultValue":1},"LineColor":{"Type":"Color","DefaultValue":4278190080},"BackFillPattern":{"RangeType":"Discrete","Range":[65536,0,1048835,1048834,1048833,1048832,1048579,1048578,1048577,1048576],"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":65536},"BackColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBackColor":{"Type":"Color","DefaultValue":16777215},"MarkerType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiMarkerType","DefaultValue":2},"MarkerDimension":{"Type":"UDInt","DefaultValue":3},"MarkerColor":{"Type":"Color","DefaultValue":4278190080},"MarkerGraphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"ShowLoggedDataImmediately":{"Type":"Bool","DefaultValue":true},"YValueAxis":{"IsSomRef":true,"Type":"HmiYValueAxisPart","DefaultValue":""},"TrendDescription":{"Type":"String","DefaultValue":""},"QualityVisualization":{"Type":"QualityPart","IsPart":true,"IsArray":false},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":true},"DataSourceY":{"Type":"DataSourcePart","IsPart":true,"IsArray":false}},"Gauge":{"CurvedScale":{"Type":"CurvedScalePart","IsPart":true,"IsArray":false},"ProcessValue":{"Type":"Variant","DefaultValue":null},"ThresholdIndicators":{"IsEnum":true,"EnumType":"Flags","Type":"HmiThresholdIndicator","DefaultValue":2},"ShowTrendIndicator":{"Type":"Bool","DefaultValue":true},"TrendIndicatorColor":{"Type":"Color","DefaultValue":4291611852},"ProcessValueIndicatorForeColor":{"Type":"Color","DefaultValue":4294967295},"ProcessValueIndicatorBackColor":{"Type":"Color","DefaultValue":4278190080},"ProcessValueIndicatorMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiProcessIndicatorMode","DefaultValue":0},"OriginValue":{"Type":"LReal","DefaultValue":0},"RelativeToOrigin":{"RangeType":"MinMax","Range":[0,100],"Type":"Bool","DefaultValue":false},"PeakIndicators":{"IsEnum":true,"EnumType":"Flags","Type":"HmiPeakIndicator","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"NormalRangeColor":{"Type":"Color","DefaultValue":4278255360},"ComputedMaxPeakValue":{"Type":"Variant","DefaultValue":null},"ComputedMinPeakValue":{"Type":"Variant","DefaultValue":null},"ComputedValueTendency":{"IsEnum":true,"EnumType":"Enum","Type":"HmiValueTendency","DefaultValue":0},"ScaleBackColor":{"Type":"Color","DefaultValue":4290822336},"ScaleForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":true},"Title":{"Type":"TextPart","IsPart":true,"IsArray":false},"Label":{"Type":"TextPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"GraphicView":{"GraphicStretchMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGraphicStretchMode","DefaultValue":1},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"FillLevel":{"RangeType":"MinMax","Range":[0,100],"Type":"USInt","DefaultValue":0},"FillDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillDirection","DefaultValue":0},"ShowFillLevel":{"Type":"Bool","DefaultValue":false},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4278255360},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"GraphOverviewControlColumnPart":{"GraphOverviewControlBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGraphOverviewBlock","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"Group":{"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ContainedItems":{"Type":"ArrayOfSomRef","DefaultValue":[]},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"HeaderCellSystemPart":{"Text":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"BackColor":{"Type":"Color","DefaultValue":4293848814},"SelectionForeColor":{"Type":"Color","DefaultValue":872415231},"SelectionBackColor":{"Type":"Color","DefaultValue":855638271},"SortOrder":{"Type":"UInt","DefaultValue":0},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"Name":{"Type":"String","DefaultValue":""},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"HelpLinePart":{"Visible":{"Type":"Bool","DefaultValue":true},"Value":{"Type":"LReal","DefaultValue":0}},"HotKeyPart":{"HotKey":{"Type":"UInt","DefaultValue":0}},"InputBehaviorPart":{"AcceptOnDeactivated":{"Type":"Bool","DefaultValue":true},"ClearOnActivate":{"Type":"Bool","DefaultValue":false},"HiddenInput":{"Type":"Bool","DefaultValue":false},"InputOnActivate":{"Type":"Bool","DefaultValue":true}},"InputHintSystemPart":{"OffsetX":{"Type":"DInt","DefaultValue":0},"OffsetY":{"Type":"DInt","DefaultValue":0},"VerticalAlignment":{"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":0},"HorizontalAlignment":{"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"IOField":{"ProcessValue":{"Type":"Variant","DefaultValue":null},"IOFieldType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiIOFieldType","DefaultValue":2},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"VerticalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":1},"HorizontalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":1},"TextTrimming":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTextTrimming","DefaultValue":0},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":true},"InputBehavior":{"Type":"InputBehaviorPart","IsPart":true,"IsArray":false},"MeasurementUnitType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiMeasurementUnit","DefaultValue":2},"MeasurementUnit":{"RangeType":"MaxLength","Range":32,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"Label":{"Text":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"TextWrapping":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTextWrapping","DefaultValue":0},"VerticalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":1},"HorizontalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":1},"TextTrimming":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTextTrimming","DefaultValue":0},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"LayerPart":{"Visible":{"Type":"Bool","DefaultValue":true},"MaximumZoom":{"RangeType":"MinMax","Range":[0.01,8],"Type":"LReal","DefaultValue":8},"MinimumZoom":{"RangeType":"MinMax","Range":[0.01,8],"Type":"LReal","DefaultValue":0.01},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""}},"LegendPart":{"Visible":{"Type":"Bool","DefaultValue":true},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false}},"Line":{"X1":{"Type":"DInt","DefaultValue":0},"Y1":{"Type":"DInt","DefaultValue":0},"X2":{"Type":"DInt","DefaultValue":0},"Y2":{"Type":"DInt","DefaultValue":0},"LineColor":{"Type":"Color","DefaultValue":4278190080},"AlternateLineColor":{"Type":"Color","DefaultValue":4294967295},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"EndType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"StartType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"CapType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiCapType","DefaultValue":0},"LineWidth":{"RangeType":"MinMax","Range":[1,100],"Type":"USInt","DefaultValue":1},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"LineColorPart":{"NormalLine":{"Type":"Color","DefaultValue":4291085513},"ActiveLine":{"Type":"Color","DefaultValue":4287086130},"InactiveLine":{"Type":"Color","DefaultValue":4286434805}},"ListBox":{"SelectionMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSelectionMode","DefaultValue":0},"ProcessValue":{"Type":"Variant","DefaultValue":null},"SelectorPosition":{"RangeType":"Discrete","Range":[0,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionItemHeight":{"Type":"UInt","DefaultValue":0},"SelectionItems":{"Type":"SelectionItemPart","IsPart":true,"IsArray":true},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ListContainerSystemPart":{"SelectedIndex":{"Type":"DInt","DefaultValue":-1},"List":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":true},"Current":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"LogicSymbolSystemPart":{"HeaderForeColor":{"Type":"Color","DefaultValue":4278190080},"ContentForeColor":{"Type":"Color","DefaultValue":4278190080},"HeaderBackColor":{"Type":"Color","DefaultValue":4293848814},"ContentBackColor":{"Type":"Color","DefaultValue":4293848814},"LogicSymbolColor":{"Type":"Color","DefaultValue":4291085513},"LogicSymbolLineType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"HeaderFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"ContentFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"MarginPart":{"Top":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0},"Left":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0},"Bottom":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0},"Right":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0}},"MarkerSystemPart":{"MeasurementUnit":{"Type":"String","DefaultValue":""},"BackColor":{"Type":"Color","DefaultValue":16777215},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":false},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"MatrixViewPart":{"TileBorderWidth":{"Type":"USInt","DefaultValue":1},"TileHeightMin":{"Type":"UInt","DefaultValue":20},"TileHeightMax":{"Type":"UInt","DefaultValue":40},"TileWidthMin":{"Type":"UInt","DefaultValue":30},"TileWidthMax":{"Type":"UInt","DefaultValue":60},"HardwareDetails":{"Type":"SystemDiagnosisHardwareDetailPart","IsPart":true,"IsArray":true},"SystemDiagnosisHardwareDetailView":{"Type":"SystemDiagnosisDetailViewPart","IsPart":true,"IsArray":false}},"MediaControl":{"Url":{"RangeType":"MaxLength","Range":2048,"Type":"String","DefaultValue":""},"AutoPlay":{"Type":"Bool","DefaultValue":true},"VideoOutput":{"IsEnum":true,"EnumType":"Enum","Type":"HmiVideoOutput","DefaultValue":2},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ObjectExplorerControl":{"DisplayViewType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDisplayViewType","DefaultValue":0},"TargetObjectType":{"Type":"UDInt","DefaultValue":65552},"LinkedItem":{"IsSomRef":true,"Type":"HmiControlWindowBase","DefaultValue":""},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"OpenLinkElement":{"OpenLinkMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiOpenLinkMode","DefaultValue":2},"ActiveOnStartup":{"Type":"Bool","DefaultValue":true},"Pipe":{"Type":"PipePart","IsPart":true,"IsArray":false},"Application":{"Type":"ApplicationPart","IsPart":true,"IsArray":false},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false}},"OperabilityPart":{"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false}},"OverviewParameterControl":{"EditMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiEditMode","DefaultValue":7},"TimeZone":{"Type":"HmiTimeZone","DefaultValue":-1},"Filter":{"RangeType":"MaxLength","Range":3000,"Type":"String","DefaultValue":""},"ParameterSetTypeDefault":{"IsRef":true,"Type":"HmiParameterSetType","DefaultValue":""},"DetailedParameterControl":{"IsSomRef":true,"Type":"HmiDetailedParameterControl","DefaultValue":""},"ParameterView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"OverviewParameterControlColumnPart":{"OverviewParameterControlBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiOverviewParameterControlBlock","DefaultValue":0},"Key":{"Type":"String","DefaultValue":""},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"PaddingPart":{"Top":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0},"Left":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0},"Right":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0},"Bottom":{"RangeType":"MinMax","Range":[0,255],"Type":"DInt","DefaultValue":0}},"ParameterPart":{"ParameterName":{"Type":"String","DefaultValue":""},"ParameterValue":{"Type":"Variant","DefaultValue":null}},"PipePart":{"PipeState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiPipeConnectionState","DefaultValue":0},"PipeName":{"Type":"String","DefaultValue":""},"LastPropertyRequestResult":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRequestResult","DefaultValue":0},"ReconnectAutomatically":{"Type":"Bool","DefaultValue":false},"CharSet":{"IsEnum":true,"EnumType":"Enum","Type":"HmiCharSet","DefaultValue":1}},"PlcDataSourcePart":{"Tag":{"IsSRef":true,"Type":"HmiTag","DefaultValue":""},"Connection":{"IsRef":true,"Type":"HmiConnection","DefaultValue":""},"DB_Name":{"Type":"String","DefaultValue":""},"HmiConnectionName":{"Type":"String","DefaultValue":""}},"Polygon":{"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4278255360},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"FillLevel":{"RangeType":"MinMax","Range":[0,100],"Type":"USInt","DefaultValue":0},"FillDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillDirection","DefaultValue":0},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"ShowFillLevel":{"Type":"Bool","DefaultValue":false},"JoinType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineJoinType","DefaultValue":0},"Points":{"Type":"ArrayOfPoint","DefaultValue":[]},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"Polyline":{"LineColor":{"Type":"Color","DefaultValue":4278190080},"AlternateLineColor":{"Type":"Color","DefaultValue":4294967295},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"EndType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"StartType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineEndType","DefaultValue":0},"CapType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiCapType","DefaultValue":0},"LineWidth":{"RangeType":"MinMax","Range":[1,100],"Type":"USInt","DefaultValue":1},"JoinType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiLineJoinType","DefaultValue":0},"Points":{"Type":"ArrayOfPoint","DefaultValue":[]},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"PopupScreenWindow":{"IsModal":{"Type":"Bool","DefaultValue":false},"Monitor":{"RangeType":"MinMax","Range":[1,32],"Type":"USInt","DefaultValue":1},"StartupPosition":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowStartupPosition","DefaultValue":0},"TabIntoWindow":{"Type":"Bool","DefaultValue":false},"Screen":{"IsSRef":true,"Type":"HmiStoredScreen","DefaultValue":""},"ScreenName":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"ScreenNumber":{"Type":"UInt","DefaultValue":0},"System":{"IsSRef":true,"Type":"HmiSystem","DefaultValue":""},"CurrentZoomFactor":{"RangeType":"MinMax","Range":[0.01,8],"Type":"LReal","DefaultValue":1},"VerticalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"VerticalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"HorizontalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"HorizontalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"Adaption":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScreenWindowAdaption","DefaultValue":0},"InteractiveZooming":{"Type":"Bool","DefaultValue":true},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ProcessColumnPart":{"DataSource":{"Type":"DataSourcePart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"ProcessControl":{"Online":{"Type":"Bool","DefaultValue":true},"TimeStepSmoothingBase":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeBase","DefaultValue":1},"TimeStepSmoothingFactor":{"Type":"DInt","DefaultValue":1},"EditMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiEditMode","DefaultValue":0},"TimeZone":{"Type":"HmiTimeZone","DefaultValue":-1},"ProcessView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ProcessDiagnosisCriteriaAnalysisControl":{"SourceControl":{"IsSomRef":true,"Type":"HmiAlarmControl","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"HasError":{"Type":"Bool","DefaultValue":true},"CriteriaAnalysisView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"SnapToSourceControl":{"Type":"Bool","DefaultValue":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ProcessDiagnosisCriteriaAnalysisControlColumnPart":{"CriteriaAnalysisBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiProcessDiagnosisCriteriaAnalysisBlock","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"ProcessDiagnosisGraphOverviewControl":{"ShowOperationMode":{"Type":"Bool","DefaultValue":true},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"GridLineColor":{"Type":"Color","DefaultValue":4278190080},"HasError":{"Type":"Bool","DefaultValue":true},"SelectedStep":{"Type":"UInt","DefaultValue":0},"PlcSource":{"Type":"PlcDataSourcePart","IsPart":true,"IsArray":false},"OperationMode":{"Type":"ProcessDiagnosisOperationModePart","IsPart":true,"IsArray":false},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"GraphOverview":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ProcessDiagnosisOperationModePart":{"OpModeAutoText":{"RangeType":"MaxLength","Range":12,"IsRef":true,"Type":"HmiText","DefaultValue":""},"OpModeManText":{"RangeType":"MaxLength","Range":12,"IsRef":true,"Type":"HmiText","DefaultValue":""},"OpModeTapText":{"RangeType":"MaxLength","Range":12,"IsRef":true,"Type":"HmiText","DefaultValue":""},"OpModeTopText":{"RangeType":"MaxLength","Range":12,"IsRef":true,"Type":"HmiText","DefaultValue":""}},"ProcessDiagnosisOverviewControl":{"ForeColor":{"Type":"Color","DefaultValue":4278190080},"HasError":{"Type":"Bool","DefaultValue":true},"LineColor":{"Type":"Color","DefaultValue":4278190080},"PlcSource":{"Type":"PlcDataSourcePart","IsPart":true,"IsArray":false},"PDiagCategories":{"Type":"ProcessDiagnosisOverviewPart","IsPart":true,"IsArray":false},"PDiagSupervisionTypes":{"Type":"ProcessDiagnosisOverviewPart","IsPart":true,"IsArray":false},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ProcessDiagnosisOverviewElementPart":{"Text":{"RangeType":"MaxLength","Range":2,"IsRef":true,"Type":"HmiText","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"BackColor":{"Type":"Color","DefaultValue":4294901760},"Visible":{"Type":"Bool","DefaultValue":true},"FlashingRate":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFlashingRate","DefaultValue":255},"AlternateBackColor":{"Type":"Color","DefaultValue":4278190080},"AlternateForeColor":{"Type":"Color","DefaultValue":4294901760}},"ProcessDiagnosisOverviewPart":{"Visible":{"Type":"Bool","DefaultValue":true},"PDiagElements":{"Type":"ProcessDiagnosisOverviewElementPart","IsPart":true,"IsArray":true},"SymbolFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"Label":{"Type":"TextPart","IsPart":true,"IsArray":false}},"ProcessDiagnosisPlcCodeViewerControl":{"ShowSymbolLine":{"Type":"Bool","DefaultValue":true},"OverviewDetailRatio":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":0.5},"SymbolLineBackColor":{"Type":"Color","DefaultValue":4278190080},"IsSecurePlc":{"Type":"Bool","DefaultValue":false},"SymbolLineForeColor":{"Type":"Color","DefaultValue":4278190080},"DetailViewType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiProcessDiagnosisDetailViewType","DefaultValue":0},"ShowOverviewDetail":{"Type":"Bool","DefaultValue":true},"CurrentZoomFactor":{"RangeType":"MinMax","Range":[0.25,1.5],"Type":"LReal","DefaultValue":1},"HasError":{"Type":"Bool","DefaultValue":true},"SymbolLineFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"LineColors":{"Type":"LineColorPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"QualityPart":{"Visible":{"Type":"Bool","DefaultValue":true},"BadColor":{"Type":"Color","DefaultValue":4278190080},"UncertainColor":{"Type":"Color","DefaultValue":4026531840}},"RadioButtonGroup":{"ProcessValue":{"Type":"Variant","DefaultValue":null},"SelectorPosition":{"RangeType":"Discrete","Range":[0,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionItemHeight":{"Type":"UInt","DefaultValue":0},"SelectionItems":{"Type":"SelectionItemPart","IsPart":true,"IsArray":true},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"Rectangle":{"Corners":{"Type":"CornersPart","IsPart":true,"IsArray":false},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4278255360},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"FillLevel":{"RangeType":"MinMax","Range":[0,100],"Type":"USInt","DefaultValue":0},"FillDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillDirection","DefaultValue":0},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"ShowFillLevel":{"Type":"Bool","DefaultValue":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ResourceListEntryPart":{"ResourceListType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiResourceListType","DefaultValue":0},"Text":{"IsRef":true,"Type":"HmiText","DefaultValue":""},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0}},"RulerIndicatorSystemPart":{"BackColor":{"Type":"Color","DefaultValue":16777215},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"RulerPosition":{"RangeType":"MinMax","Range":[-1,1],"Type":"Real","DefaultValue":0},"Orientation":{"IsEnum":true,"EnumType":"Enum","Type":"HmiOrientation","DefaultValue":0},"OutputFormat":{"Type":"String","DefaultValue":""},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"HasFocus":{"Type":"Bool","DefaultValue":false},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"RulerPart":{"Width":{"RangeType":"MinMax","Range":[0,100],"Type":"UDInt","DefaultValue":1},"Color":{"Type":"Color","DefaultValue":4278190080}},"ScalingEntryPart":{"BeginValue":{"Type":"LReal","DefaultValue":0},"EndValue":{"Type":"LReal","DefaultValue":0},"BeginValueTarget":{"Type":"LReal","DefaultValue":0},"EndValueTarget":{"Type":"LReal","DefaultValue":0},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""}},"Screen":{"ScreenNumber":{"Type":"UInt","DefaultValue":0},"ScreenMaster":{"IsSomRef":true,"Type":"HmiScreenMaster","DefaultValue":""},"CurrentStyle":{"IsSRef":true,"Type":"HmiStyle","DefaultValue":""},"EnableExplicitUnlock":{"IsSomRef":true,"Type":"HmiButton","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"OffsetLeft":{"Type":"DInt","DefaultValue":0},"OffsetTop":{"Type":"DInt","DefaultValue":0},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"BackFillPattern":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":4290822336},"AlternateBackColor":{"Type":"Color","DefaultValue":4293651435},"BackGraphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"HorizontalAlignment":{"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"VerticalAlignment":{"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":0},"BackgroundFillMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiBackgroundFillMode","DefaultValue":0},"BackGraphicStretchMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGraphicStretchMode","DefaultValue":3},"Name":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Layers":{"Type":"LayerPart","IsPart":true,"IsArray":true}},"ScreenMaster":{"Visible":{"Type":"Bool","DefaultValue":true},"Name":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Layers":{"Type":"LayerPart","IsPart":true,"IsArray":true}},"ScreenWindow":{"TabIntoWindow":{"Type":"Bool","DefaultValue":false},"Screen":{"IsSRef":true,"Type":"HmiStoredScreen","DefaultValue":""},"ScreenName":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"ScreenNumber":{"Type":"UInt","DefaultValue":0},"System":{"IsSRef":true,"Type":"HmiSystem","DefaultValue":""},"CurrentZoomFactor":{"RangeType":"MinMax","Range":[0.01,8],"Type":"LReal","DefaultValue":1},"VerticalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"VerticalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"HorizontalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"HorizontalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"Adaption":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScreenWindowAdaption","DefaultValue":0},"InteractiveZooming":{"Type":"Bool","DefaultValue":true},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ScreenWindowLayout":{"Name":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"DisplayName":{"IsRef":true,"Type":"HmiText","DefaultValue":""},"CurrentStyle":{"IsSRef":true,"Type":"HmiStyle","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0},"ObjectId":{"Type":"UDInt","DefaultValue":0}},"ScrollBarSystemPart":{"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"AlternateForeColor":{"Type":"Color","DefaultValue":4278190080},"BackColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"ThumbForeColor":{"Type":"Color","DefaultValue":4294967295},"ThumbBackColor":{"Type":"Color","DefaultValue":4290822336},"VisibleValueRange":{"Type":"LReal","DefaultValue":0},"BeginValue":{"Type":"LReal","DefaultValue":0},"EndValue":{"Type":"LReal","DefaultValue":0},"Orientation":{"IsEnum":true,"EnumType":"Enum","Type":"HmiOrientation","DefaultValue":0},"CurrentValue":{"Type":"LReal","DefaultValue":0},"Thickness":{"Type":"UDInt","DefaultValue":10},"Floating":{"Type":"Bool","DefaultValue":false},"SmallStepValueRange":{"Type":"LReal","DefaultValue":0},"HasFocus":{"Type":"Bool","DefaultValue":false},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"SelectionItemPart":{"Text":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"IsSelected":{"Type":"Bool","DefaultValue":false},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0}},"SelectionSystemPart":{"BorderWidth":{"Type":"USInt","DefaultValue":2},"BorderColor":{"Type":"Color","DefaultValue":4278190335},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"Slider":{"ThumbForeColor":{"Type":"Color","DefaultValue":4294967295},"ThumbBackColor":{"Type":"Color","DefaultValue":4290822336},"WriteDuringChange":{"Type":"Bool","DefaultValue":false},"ShowValue":{"Type":"Bool","DefaultValue":false},"ValuePosition":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSimplePosition","DefaultValue":0},"BarMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiBarMode","DefaultValue":1},"StraightScale":{"Type":"StraightScalePart","IsPart":true,"IsArray":false},"ProcessValue":{"Type":"Variant","DefaultValue":null},"ThresholdIndicators":{"IsEnum":true,"EnumType":"Flags","Type":"HmiThresholdIndicator","DefaultValue":2},"ShowTrendIndicator":{"Type":"Bool","DefaultValue":true},"TrendIndicatorColor":{"Type":"Color","DefaultValue":4291611852},"ProcessValueIndicatorForeColor":{"Type":"Color","DefaultValue":4294967295},"ProcessValueIndicatorBackColor":{"Type":"Color","DefaultValue":4278190080},"ProcessValueIndicatorMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiProcessIndicatorMode","DefaultValue":0},"OriginValue":{"Type":"LReal","DefaultValue":0},"RelativeToOrigin":{"RangeType":"MinMax","Range":[0,100],"Type":"Bool","DefaultValue":false},"PeakIndicators":{"IsEnum":true,"EnumType":"Flags","Type":"HmiPeakIndicator","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"NormalRangeColor":{"Type":"Color","DefaultValue":4278255360},"ComputedMaxPeakValue":{"Type":"Variant","DefaultValue":null},"ComputedMinPeakValue":{"Type":"Variant","DefaultValue":null},"ComputedValueTendency":{"IsEnum":true,"EnumType":"Enum","Type":"HmiValueTendency","DefaultValue":0},"ScaleBackColor":{"Type":"Color","DefaultValue":4290822336},"ScaleForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":true},"Title":{"Type":"TextPart","IsPart":true,"IsArray":false},"Label":{"Type":"TextPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"SnapPointPart":{"SourceItem":{"IsSomRef":true,"Type":"HmiScreenItemBase","DefaultValue":""},"SelectedSnapPointIndex":{"Type":"UDInt","DefaultValue":0}},"StatusBarPart":{"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"BackColor":{"Type":"Color","DefaultValue":4292405740},"ShowToolTips":{"Type":"Bool","DefaultValue":true},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Elements":{"IsPart":true,"IsArray":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"StraightScalePart":{"Orientation":{"IsEnum":true,"EnumType":"Enum","Type":"HmiOrientation","DefaultValue":0},"ScalingType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScalingType","DefaultValue":0},"DivisionCount":{"RangeType":"MinMax","Range":[1,1000],"Type":"DInt","DefaultValue":10},"SubDivisionCount":{"RangeType":"MinMax","Range":[1,250],"Type":"DInt","DefaultValue":1},"LargeTickLabelingStep":{"Type":"USInt","DefaultValue":1},"BeginValue":{"Type":"LReal","DefaultValue":0},"EndValue":{"Type":"LReal","DefaultValue":100},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"LabelFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"MeasurementUnitType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiMeasurementUnit","DefaultValue":2},"MeasurementUnit":{"RangeType":"MaxLength","Range":32,"Type":"String","DefaultValue":""},"AutoScaling":{"Type":"Bool","DefaultValue":true},"ScaleMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiScaleMode","DefaultValue":3},"LabelColor":{"Type":"Color","DefaultValue":4278190080},"TickColor":{"Type":"Color","DefaultValue":4278190080}},"SwacContainer":{"Url":{"Type":"String","DefaultValue":""},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"SymbolContainer":{"EffectColor":{"Type":"Color","DefaultValue":4294901760},"Effect":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSymbolEffect","DefaultValue":0},"ProcessValue":{"Type":"Variant","DefaultValue":null},"Flip":{"IsEnum":true,"EnumType":"Enum","Type":"HmiFlipMode","DefaultValue":0},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":true},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"ContainedType":{"IsSRef":true,"Type":"SRef","DefaultValue":""},"Properties":{"Type":"DynamicPropertyPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"SymbolicIOField":{"AcceptOnDeactivated":{"Type":"Bool","DefaultValue":true},"ExpandOnActivate":{"Type":"Bool","DefaultValue":false},"AutoTabOnAccept":{"Type":"Bool","DefaultValue":false},"IOFieldType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiIOFieldType","DefaultValue":2},"ProcessValue":{"Type":"Variant","DefaultValue":null},"AcceptExplicitely":{"Type":"Bool","DefaultValue":true},"Text":{"IsRef":true,"Type":"HmiText","DefaultValue":""},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"SelectionBackColor":{"Type":"Color","DefaultValue":4294967295},"SelectionForeColor":{"Type":"Color","DefaultValue":4278190080},"ResourceList":{"IsSRef":true,"Type":"HmiResourceList","DefaultValue":""},"SelectedIndex":{"Type":"DInt","DefaultValue":-1},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"SystemDiagnosisControl":{"SelectedIndex":{"Type":"DInt","DefaultValue":-1},"TimeZone":{"Type":"HmiTimeZone","DefaultValue":-1},"SystemDiagnosisViewType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSystemDiagnosisViewType","DefaultValue":0},"ShowStatusPath":{"Type":"Bool","DefaultValue":true},"DiagnosisOverviewPathText":{"IsRef":true,"Type":"HmiText","DefaultValue":""},"DiagnosisBufferPathText":{"IsRef":true,"Type":"HmiText","DefaultValue":""},"SystemDiagnosisView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"MatrixView":{"Type":"MatrixViewPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"SystemDiagnosisControlColumnPart":{"SystemDiagnosisControlBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSystemDiagnosisControlBlock","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"SystemDiagnosisDetailViewPart":{"HardwareDetails":{"Type":"SystemDiagnosisHardwareDetailPart","IsPart":true,"IsArray":true},"ColoringMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGridColoringMode","DefaultValue":2},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"BackColor":{"Type":"Color","DefaultValue":4294967295},"AlternateBackColor":{"Type":"Color","DefaultValue":4293980400},"AlternateForeColor":{"Type":"Color","DefaultValue":4278190080},"SelectionForeColor":{"Type":"Color","DefaultValue":4294967295},"SelectionBackColor":{"Type":"Color","DefaultValue":4291136049},"SelectFullRow":{"Type":"Bool","DefaultValue":true},"GridSelectionMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiGridSelectionMode","DefaultValue":1},"HorizontalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"VerticalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"SelectionBorderWidth":{"Type":"USInt","DefaultValue":3},"SelectionBorderColor":{"Type":"Color","DefaultValue":4278190080},"AllowSort":{"Type":"Bool","DefaultValue":true},"RowHeight":{"Type":"USInt","DefaultValue":0},"GridLineColor":{"Type":"Color","DefaultValue":4291611852},"GridLineWidth":{"Type":"USInt","DefaultValue":1},"GridLineVisibility":{"IsEnum":true,"EnumType":"Flags","Type":"HmiSimpleGridLine","DefaultValue":3},"AllowFilter":{"Type":"Bool","DefaultValue":true},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"HeaderSettings":{"Type":"DataGridHeaderSettingsPart","IsPart":true,"IsArray":false},"CellPadding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Columns":{"IsPart":true,"IsArray":true}},"SystemDiagnosisHardwareDetailPart":{"Visible":{"Type":"Bool","DefaultValue":true},"SystemDiagnosisMatrixBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSystemDiagnosisMatrixBlock","DefaultValue":0}},"SystemDiagnosisMatrixColumnPart":{"SystemDiagnosisMatrixBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSystemDiagnosisMatrixBlock","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"TagInterfacePart":{"DataType":{"Type":"USInt","DefaultValue":0},"Tag":{"IsSRef":true,"Type":"HmiTag","DefaultValue":""},"TagDisplayName":{"Type":"String","DefaultValue":""},"StructuredTagType":{"IsRef":true,"Type":"HmiStructuredTagType","DefaultValue":""}},"Text":{"Text":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"VerticalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":1},"HorizontalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":1},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"TextBox":{"ReadOnly":{"Type":"Bool","DefaultValue":false},"Text":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"TextWrapping":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTextWrapping","DefaultValue":0},"VerticalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":1},"HorizontalTextAlignment":{"RangeType":"Discrete","Range":[0,1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":1},"TextTrimming":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTextTrimming","DefaultValue":0},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"TextPart":{"Text":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"Visible":{"Type":"Bool","DefaultValue":true},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false}},"ThresholdPart":{"BeginValue":{"Type":"LReal","DefaultValue":0},"Color":{"Type":"Color","DefaultValue":4278190080},"Name":{"Type":"String","DefaultValue":""},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"ThresholdMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiThresholdMode","DefaultValue":0},"EndValue":{"Type":"LReal","DefaultValue":0},"Value":{"Type":"LReal","DefaultValue":0}},"TimeAxisPart":{"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"AlwaysShowRecent":{"Type":"Bool","DefaultValue":true},"LabelFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"AxisColor":{"Type":"Color","DefaultValue":4278190080},"AutoScaling":{"Type":"Bool","DefaultValue":true},"ScaleMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiScaleMode","DefaultValue":3},"LabelColor":{"Type":"Color","DefaultValue":4278190080},"TickColor":{"Type":"Color","DefaultValue":4278190080},"TimeRangeBase":{"RangeType":"Discrete","Range":[1,2,3,4,5,6,7],"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeBase","DefaultValue":3},"TimeRangeFactor":{"Type":"DInt","DefaultValue":1},"BeginTime":{"Type":"DateTime","DefaultValue":0},"EndTime":{"Type":"DateTime","DefaultValue":0},"PointCount":{"Type":"DInt","DefaultValue":120},"RangeType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeType","DefaultValue":0}},"TimeRangeColumnPart":{"TimeRangeBase":{"RangeType":"Discrete","Range":[1,2,3,4,5,6,7],"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeBase","DefaultValue":3},"TimeRangeFactor":{"Type":"DInt","DefaultValue":1},"BeginTime":{"Type":"DateTime","DefaultValue":0},"EndTime":{"Type":"DateTime","DefaultValue":0},"PointCount":{"Type":"DInt","DefaultValue":120},"RangeType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTimeRangeType","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"ToggleSwitch":{"IsAlternateState":{"Type":"Bool","DefaultValue":false},"HotKey":{"Type":"UInt","DefaultValue":0},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"Text":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"AlternateGraphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"AlternateText":{"RangeType":"MaxLength","Range":32767,"IsRef":true,"Type":"HmiText","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"GraphicWidth":{"Type":"UDInt","DefaultValue":0},"GraphicHeight":{"Type":"UDInt","DefaultValue":0},"AlternateGraphicWidth":{"Type":"UDInt","DefaultValue":0},"AlternateGraphicHeight":{"Type":"UDInt","DefaultValue":0},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBorderColor":{"Type":"Color","DefaultValue":4294967295},"BorderWidth":{"Type":"USInt","DefaultValue":1},"BackColor":{"Type":"Color","DefaultValue":4286611584},"AlternateBackColor":{"Type":"Color","DefaultValue":4286611584},"VisualizeQuality":{"Type":"Bool","DefaultValue":true},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"RotationAngle":{"Type":"Int","DefaultValue":0},"RotationCenterX":{"Type":"Real","DefaultValue":0},"RotationCenterY":{"Type":"Real","DefaultValue":0},"RotationCenterPlacement":{"IsEnum":true,"EnumType":"Enum","Type":"HmiRotationCenterPlacement","DefaultValue":0},"ToolTipText":{"RangeType":"MaxLength","Range":320,"IsRef":true,"Type":"HmiText","DefaultValue":""},"Opacity":{"RangeType":"MinMax","Range":[0,1],"Type":"Real","DefaultValue":1},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"ToolBarPart":{"UseHotKeys":{"Type":"Bool","DefaultValue":true},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"BackColor":{"Type":"Color","DefaultValue":4292405740},"ShowToolTips":{"Type":"Bool","DefaultValue":true},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"Elements":{"IsPart":true,"IsArray":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Padding":{"Type":"PaddingPart","IsPart":true,"IsArray":false}},"TooltipSystemPart":{"BackColor":{"Type":"Color","DefaultValue":268435455},"ForeColor":{"Type":"Color","DefaultValue":4278190080},"BorderColor":{"Type":"Color","DefaultValue":4278190080},"Text":{"IsRef":true,"Type":"HmiText","DefaultValue":""},"Graphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"VerticalAlignment":{"RangeType":"Discrete","Range":[0,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiVerticalAlignment","DefaultValue":0},"HorizontalAlignment":{"RangeType":"Discrete","Range":[0,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiHorizontalAlignment","DefaultValue":0},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false},"Font":{"Type":"FontPart","IsPart":true,"IsArray":false},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"TopLevelScreenWindow":{"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0},"Screen":{"IsSRef":true,"Type":"HmiStoredScreen","DefaultValue":""},"ScreenName":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"ScreenNumber":{"Type":"UInt","DefaultValue":0},"System":{"IsSRef":true,"Type":"HmiSystem","DefaultValue":""},"CurrentZoomFactor":{"RangeType":"MinMax","Range":[0.01,8],"Type":"LReal","DefaultValue":1},"VerticalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"VerticalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"HorizontalScrollBarVisibility":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScrollBarVisibility","DefaultValue":0},"HorizontalScrollBarPosition":{"Type":"DInt","DefaultValue":0},"Adaption":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScreenWindowAdaption","DefaultValue":0},"InteractiveZooming":{"Type":"Bool","DefaultValue":true},"Monitor":{"RangeType":"MinMax","Range":[1,32],"Type":"USInt","DefaultValue":1},"StartupPosition":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowStartupPosition","DefaultValue":0},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0}},"TouchArea":{"BackColor":{"Type":"Color","DefaultValue":16777215},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Authorization":{"IsRef":true,"Type":"HmiFunctionRight","DefaultValue":""},"Operability":{"IsEnum":true,"EnumType":"Flags","Type":"HmiOperability","DefaultValue":0},"RequireExplicitUnlock":{"Type":"Bool","DefaultValue":false}},"TrendAreaPart":{"SelectedTrend":{"IsSomRef":true,"Type":"HmiTrendPart","DefaultValue":""},"StatisticRulers":{"Type":"RulerPart","IsPart":true,"IsArray":false},"TopTimeAxes":{"Type":"TimeAxisPart","IsPart":true,"IsArray":true},"BottomTimeAxes":{"Type":"TimeAxisPart","IsPart":true,"IsArray":true},"Trends":{"Type":"TrendPart","IsPart":true,"IsArray":true},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"BackColor":{"Type":"Color","DefaultValue":4292401644},"GridLines":{"IsEnum":true,"EnumType":"Flags","Type":"HmiGridLine","DefaultValue":3},"MajorGridLinesColor":{"Type":"Color","DefaultValue":4289774020},"MinorGridLinesColor":{"Type":"Color","DefaultValue":4291747794},"SizeFactor":{"RangeType":"MinMax","Range":[1,100],"Type":"UInt","DefaultValue":1},"VisibleTrendCount":{"Type":"UInt","DefaultValue":0},"Ruler":{"Type":"RulerPart","IsPart":true,"IsArray":false},"LeftValueAxes":{"Type":"YValueAxisPart","IsPart":true,"IsArray":true},"RightValueAxes":{"Type":"YValueAxisPart","IsPart":true,"IsArray":true}},"TrendColumnPart":{"TrendInfoBlock":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTrendInfoBlock","DefaultValue":0},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Enabled":{"Type":"Bool","DefaultValue":true},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"MinimumWidth":{"Type":"UDInt","DefaultValue":0},"MaximumWidth":{"Type":"UDInt","DefaultValue":0},"AllowSort":{"Type":"Bool","DefaultValue":true},"SortDirection":{"IsEnum":true,"EnumType":"Enum","Type":"HmiSortDirection","DefaultValue":0},"SortOrder":{"Type":"UInt","DefaultValue":0},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"ForeColor":{"Type":"Color","DefaultValue":0},"BackColor":{"Type":"Color","DefaultValue":0},"Header":{"Type":"DataGridColumnHeaderPart","IsPart":true,"IsArray":false},"Content":{"Type":"ContentPart","IsPart":true,"IsArray":false}},"TrendCompanion":{"TrendCompanionMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTrendCompanionMode","DefaultValue":0},"ShowAlways":{"Type":"Bool","DefaultValue":true},"UseSourceControlBackColor":{"Type":"Bool","DefaultValue":false},"UseSourceControlTrendColors":{"Type":"Bool","DefaultValue":true},"SourceTrendControl":{"IsSomRef":true,"Type":"HmiTrendControlBase","DefaultValue":""},"TimeZone":{"Type":"HmiTimeZone","DefaultValue":-1},"TrendRulerView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"TrendStatisticAreaView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"TrendStatisticResultView":{"Type":"DataGridViewPart","IsPart":true,"IsArray":false},"SnapToSourceControl":{"Type":"Bool","DefaultValue":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"TrendControl":{"ShowStatisticRulers":{"Type":"Bool","DefaultValue":false},"TimeZone":{"Type":"HmiTimeZone","DefaultValue":-1},"TrendAreas":{"Type":"TrendAreaPart","IsPart":true,"IsArray":true},"AreaSpacing":{"Type":"UInt","DefaultValue":10},"Online":{"Type":"Bool","DefaultValue":true},"ExtendRulerToAxis":{"Type":"Bool","DefaultValue":false},"ShowRuler":{"Type":"Bool","DefaultValue":true},"ShiftAxes":{"Type":"Bool","DefaultValue":false},"Legend":{"Type":"LegendPart","IsPart":true,"IsArray":false},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"TrendPart":{"TimeAxis":{"IsSomRef":true,"Type":"HmiTimeAxisPart","DefaultValue":""},"AggregationMode":{"RangeType":"Discrete","Range":[1,2],"IsEnum":true,"EnumType":"Enum","Type":"HmiAggregationMode","DefaultValue":1},"TrendMode":{"IsEnum":true,"EnumType":"Enum","Type":"HmiTrendMode","DefaultValue":1},"Visible":{"Type":"Bool","DefaultValue":true},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"DashType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiDashType","DefaultValue":0},"LineWidth":{"Type":"USInt","DefaultValue":1},"LineColor":{"Type":"Color","DefaultValue":4278190080},"BackFillPattern":{"RangeType":"Discrete","Range":[65536,0,1048835,1048834,1048833,1048832,1048579,1048578,1048577,1048576],"IsEnum":true,"EnumType":"Enum","Type":"HmiFillPattern","DefaultValue":65536},"BackColor":{"Type":"Color","DefaultValue":4278190080},"AlternateBackColor":{"Type":"Color","DefaultValue":16777215},"MarkerType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiMarkerType","DefaultValue":2},"MarkerDimension":{"Type":"UDInt","DefaultValue":3},"MarkerColor":{"Type":"Color","DefaultValue":4278190080},"MarkerGraphic":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"ShowLoggedDataImmediately":{"Type":"Bool","DefaultValue":true},"YValueAxis":{"IsSomRef":true,"Type":"HmiYValueAxisPart","DefaultValue":""},"TrendDescription":{"Type":"String","DefaultValue":""},"QualityVisualization":{"Type":"QualityPart","IsPart":true,"IsArray":false},"Thresholds":{"Type":"ThresholdPart","IsPart":true,"IsArray":true},"DataSourceY":{"Type":"DataSourcePart","IsPart":true,"IsArray":false}},"WebControl":{"Url":{"RangeType":"MaxLength","Range":2048,"Type":"String","DefaultValue":""},"BackColor":{"Type":"Color","DefaultValue":4291611852},"ToolBar":{"Type":"ToolBarPart","IsPart":true,"IsArray":false},"StatusBar":{"Type":"StatusBarPart","IsPart":true,"IsArray":false},"WindowFlags":{"IsEnum":true,"EnumType":"Flags","Type":"HmiWindowFlag","DefaultValue":123},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Icon":{"IsRef":true,"Type":"HmiGraphic","DefaultValue":""},"CaptionColor":{"Type":"Color","DefaultValue":4287730586},"WindowState":{"IsEnum":true,"EnumType":"Enum","Type":"HmiWindowState","DefaultValue":0},"Caption":{"Type":"TextPart","IsPart":true,"IsArray":false},"Top":{"Type":"DInt","DefaultValue":0},"Left":{"Type":"DInt","DefaultValue":0},"Width":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"Height":{"RangeType":"MinMax","Range":[0,2147483647],"Type":"UDInt","DefaultValue":0},"CurrentQuality":{"IsEnum":true,"EnumType":"Flags","Type":"HmiQuality","DefaultValue":0},"FocusColor":{"Type":"Color","DefaultValue":4290822336},"HasFocus":{"Type":"Bool","DefaultValue":false},"ShowFocusVisual":{"Type":"Bool","DefaultValue":true},"Margin":{"Type":"MarginPart","IsPart":true,"IsArray":false},"Name":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"Layer":{"IsSomRef":true,"Type":"HmiLayerPart","DefaultValue":""},"Enabled":{"Type":"Bool","DefaultValue":true},"TabIndex":{"Type":"UInt","DefaultValue":0}},"WindowFrameSystemPart":{"BorderWidth":{"Type":"USInt","DefaultValue":2},"BorderColor":{"Type":"Color","DefaultValue":4287730586},"CaptionHeight":{"Type":"DInt","DefaultValue":30},"RenderingTemplate":{"IsSRef":true,"Type":"HmiRenderingTemplate","DefaultValue":""},"Width":{"Type":"UDInt","DefaultValue":0},"Height":{"Type":"UDInt","DefaultValue":0}},"XValueAxisPart":{"ApplyScalingEntries":{"Type":"Bool","DefaultValue":false},"ShowScalingDisplayNames":{"Type":"Bool","DefaultValue":false},"AutoRange":{"Type":"Bool","DefaultValue":true},"HelpLines":{"Type":"HelpLinePart","IsPart":true,"IsArray":true},"ScalingEntries":{"Type":"ScalingEntryPart","IsPart":true,"IsArray":true},"Name":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"AxisColor":{"Type":"Color","DefaultValue":4278190080},"ScalingType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScalingType","DefaultValue":0},"DivisionCount":{"RangeType":"MinMax","Range":[1,1000],"Type":"DInt","DefaultValue":10},"SubDivisionCount":{"RangeType":"MinMax","Range":[1,250],"Type":"DInt","DefaultValue":1},"LargeTickLabelingStep":{"Type":"USInt","DefaultValue":1},"BeginValue":{"Type":"LReal","DefaultValue":0},"EndValue":{"Type":"LReal","DefaultValue":100},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"LabelFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"MeasurementUnitType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiMeasurementUnit","DefaultValue":2},"MeasurementUnit":{"RangeType":"MaxLength","Range":32,"Type":"String","DefaultValue":""},"AutoScaling":{"Type":"Bool","DefaultValue":true},"ScaleMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiScaleMode","DefaultValue":3},"LabelColor":{"Type":"Color","DefaultValue":4278190080},"TickColor":{"Type":"Color","DefaultValue":4278190080}},"YValueAxisPart":{"ApplyScalingEntries":{"Type":"Bool","DefaultValue":false},"ShowScalingDisplayNames":{"Type":"Bool","DefaultValue":false},"AutoRange":{"Type":"Bool","DefaultValue":true},"HelpLines":{"Type":"HelpLinePart","IsPart":true,"IsArray":true},"ScalingEntries":{"Type":"ScalingEntryPart","IsPart":true,"IsArray":true},"Name":{"RangeType":"MaxLength","Range":512,"Type":"String","DefaultValue":""},"Visible":{"Type":"Bool","DefaultValue":true},"DisplayName":{"RangeType":"MaxLength","Range":1000,"IsRef":true,"Type":"HmiText","DefaultValue":""},"AxisColor":{"Type":"Color","DefaultValue":4278190080},"ScalingType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiScalingType","DefaultValue":0},"DivisionCount":{"RangeType":"MinMax","Range":[1,1000],"Type":"DInt","DefaultValue":10},"SubDivisionCount":{"RangeType":"MinMax","Range":[1,250],"Type":"DInt","DefaultValue":1},"LargeTickLabelingStep":{"Type":"USInt","DefaultValue":1},"BeginValue":{"Type":"LReal","DefaultValue":0},"EndValue":{"Type":"LReal","DefaultValue":100},"OutputFormat":{"RangeType":"MaxLength","Range":128,"Type":"String","DefaultValue":""},"LabelFont":{"Type":"FontPart","IsPart":true,"IsArray":false},"MeasurementUnitType":{"IsEnum":true,"EnumType":"Enum","Type":"HmiMeasurementUnit","DefaultValue":2},"MeasurementUnit":{"RangeType":"MaxLength","Range":32,"Type":"String","DefaultValue":""},"AutoScaling":{"Type":"Bool","DefaultValue":true},"ScaleMode":{"IsEnum":true,"EnumType":"Flags","Type":"HmiScaleMode","DefaultValue":3},"LabelColor":{"Type":"Color","DefaultValue":4278190080},"TickColor":{"Type":"Color","DefaultValue":4278190080}}}');var Ze,Qe;const Je=(Ze=Ke,{addDefaults:function(e,t){Ze[e]=Ze[e]||{};for(var i=Ze[e],r=Object.keys(t),n=0;n<r.length;n++){var a=r[n];i[a]={DefaultValue:t[a]}}},getPropertyInfos:Qe=function(e){return e?Ze[e]:Ze},getPropertyInfo:function(e,t){var i=Qe(e);if(i)return i[t]}});var $e=function(){var e=h,t=0,i=1,r=2,n=3,a=4,o=5,l=7,u={AlarmControl:"AlarmView",TrendControl:"TrendView",FunctionTrendControl:"FunctionTrendView",ProcessControl:"ProcessView",TrendCompanion:"RulerView",ObjectExplorerControl:"BrowsingView"},d=function(s,u){var h=function(t){return e["Hmi"+t.props.Type+"ID"]}(s);if(h){var d=function(e,t){for(var i in e)if(t===e[i])return i;return null}(h,u);switch(d){case"TimeBase":return l;case"ConnectionStatus":return o;case"DisplayOption":return r;case"Selection":return i;case"Hidden":return a;case"Lock":return n}}return t},c=function(e,t){var i,r=e.gfxWebLib.getStyle(!0).toLowerCase();"extendedstyle"!==r&&"flatstyle_dark"!==r&&"flatstyle_bright"!==r&&(r="extendedstyle");var n=r.split("_");if(n.length>0)return i="content/images/statusbar/"+n[0].replace("style","")+"/",1===n.length?i+t+".svg":i+n[1]+"/"+t+".svg"},p=function(e,t,i){if(void 0!==i){if("StatusBar"!==t){var r=e.gfxWebLib.getStyle();"flat"!==r&&"extended"!==r&&(r="extended");var n=u[e.props.Type]||e.props.Type;return s.Icons?s.Icons.getToolBarUri(r+"/"+n+"/"+i):"content/advanced/"+r+"/"+n+"/"+i+".svg"}var a=d(e,i);if(a)return s.Icons?s.Icons.getStatusBarUri(a):c(e,a)}return null},m=function(t){return e.HmiScreenObjectType[t]||t},g=function(t){if("number"==typeof t)switch(t){case e.HmiScreenObjectType.ControlBarButtonPart:return"ControlBarButtonPart";case e.HmiScreenObjectType.ControlBarToggleSwitchPart:return"ControlBarToggleSwitchPart";case e.HmiScreenObjectType.ControlBarDisplayPart:return"ControlBarDisplayPart";case e.HmiScreenObjectType.ControlBarLabelPart:return"ControlBarLabelPart";case e.HmiScreenObjectType.ControlBarSeparatorPart:return"ControlBarSeparatorPart";case e.HmiScreenObjectType.ControlBarTextBoxPart:return"ControlBarTextBoxPart"}return t},T=function(t,i,r,n,a,o,s,l){var h,d,c=Ha,m=g(i.Type);if(s=s||[],h=c.getPropPart(i,m,"Graphic"),d=c.getPropPart(i,m,"Text"),a)!h&&i.Content.ContentMode===e.HmiContentMode.GraphicOrText&&!d||!h&&i.Content.ContentMode!==e.HmiContentMode.Text&&i.Content.ContentMode!==e.HmiContentMode.GraphicOrText?(h=p(t,r,i.Mapping))&&(i.Content=c.getPropPart(i,m,"Content"),i.Content.GraphicStretchMode=e.HmiGraphicStretchMode.Fill,i.Graphic=h,i._fakeIcon=!0):l&&i._fakeIcon?(h=p(t,r,i.Mapping))&&(i.Content.GraphicStretchMode=e.HmiGraphicStretchMode.Fill,i.Graphic=h,i._fakeIcon=!0):h&&rn.loadImage(t,h,"Graphic",r+":Elements."+i.ElementID),i.Badge={Text:"",Visible:!1};else{if(n.hasOwnProperty("Mapping")&&i._fakeIcon&&(h=p(t,r,n.Mapping))&&(n.Graphic=h),n.hasOwnProperty("Icon")&&i._fakeIcon)if("StatusBar"===r)n.Graphic="content/images/statusbar/"+n.Icon+".svg";else{var T=t.gfxWebLib.getStyle(),f=u[t.props.Type]||t.props.Type;"flat"!==T&&"extended"!==T&&(T="extended"),n.Graphic="content/advanced/"+T+"/"+f+"/"+n.Icon+".svg"}s.push({props:n,path:o})}return s},f=function(t,i,r,n,a,o,s,l){var h,d,m=Ha;if(s=s||[],h=m.getPropPart(i,"ControlBarDisplayPart","Graphic"),d=m.getPropPart(i,"ControlBarDisplayPart","Text"),a)!h&&i.Content.ContentMode===e.HmiContentMode.GraphicOrText&&!d||!h&&i.Content.ContentMode!==e.HmiContentMode.Text&&i.Content.ContentMode!==e.HmiContentMode.GraphicOrText?(h=p(t,r,i.Mapping))&&(i.Content=m.getPropPart(i,"ControlBarDisplayPart","Content"),i.Content.GraphicStretchMode=e.HmiGraphicStretchMode.Fill,i.Graphic=h,i._fakeIcon=!0):l&&i._fakeIcon?(h=p(t,r,i.Mapping))&&(i.Content.GraphicStretchMode=e.HmiGraphicStretchMode.Fill,i.Graphic=h,i._fakeIcon=!0):h&&rn.loadImage(t,h,"Graphic",r+":Elements."+i.ElementID);else{if(n.hasOwnProperty("Mapping")&&i._fakeIcon&&(h=p(t,r,n.Mapping))&&(n.Graphic=h),n.hasOwnProperty("Icon")&&i._fakeIcon)if("StatusBar"===r)n.Graphic=c(t,n.Icon);else{var g=t.gfxWebLib.getStyle(),T=u[t.props.Type]||t.props.Type;"flat"!==g&&"extended"!==g&&(g="extended"),n.Graphic="content/advanced/"+g+"/"+T+"/"+n.Icon+".svg"}s.push({props:n,path:o})}return s},y=function(e,t,i,r,n,a,o){return o=o||[]},D=function(e,t,i,r,n,a,o){return o=o||[]},S=function(e,t,i,r,n,a,o){return o=o||[]},b=function(t,i,r,n){var a={};r.Type===e.HmiScreenObjectType.ControlBarButtonPart||r.Type===e.HmiScreenObjectType.ControlBarToggleSwitchPart?T(t,r,i,a,!0,void 0,void 0,n):r.Type===e.HmiScreenObjectType.ControlBarDisplayPart?f(t,r,i,a,!0,void 0,void 0,n):r.Type===e.HmiScreenObjectType.ControlBarLabelPart?y():r.Type===e.HmiScreenObjectType.ControlBarTextBoxPart?D():r.Type===e.HmiScreenObjectType.ControlBarSeparatorPart&&S()},C=function(e,t,i){var r=e.props[t];if(r&&r.Elements)for(var n=r.Elements,a=n.length,o=0;o<a;o++){var s=n[o];s.Type=m(s.Type),b(e,t,s,i)}},v=function(e,t){var i=0;return t?t.Margin.Right>0&&e.Margin.Left>0?i+=Math.max(t.Margin.Right,e.Margin.Left):i+=t.Margin.Right+e.Margin.Left:i+=e.Margin.Left,i+=e.Width},P=function(e,t,i){var r=Ha,n=e.props[t];if(n)if(n.Elements&&n.Elements.length){for(var a=n.Elements,o=10,s=0,l=null,u=t+":Elements.",h=a.length,d=0;d<h;d++){var c=a[d],p=g(c.Type);c.Visible=r.getPropPart(c,p,"Visible"),c.Visible&&(c.Offset!==o&&(Array.isArray(i)?i.push({props:{Offset:o},path:u+c.ElementID}):c.Offset=o),c.Margin=r.getPropPart(c,p,"Margin"),c.Margin.Top=r.getPropPart(c.Margin,"MarginPart","Top"),c.Margin.Left=r.getPropPart(c.Margin,"MarginPart","Left"),c.Margin.Bottom=r.getPropPart(c.Margin,"MarginPart","Bottom"),c.Margin.Right=r.getPropPart(c.Margin,"MarginPart","Right"),c.Width=r.getPropPart(c,p,"Width"),c.Height=r.getPropPart(c,p,"Height"),o+=v(c,l),s=Math.max(s,c.Margin.Top+c.Height+c.Margin.Bottom),l=c)}var m=s;n.Height!==m&&(Array.isArray(i)?i.push({props:{Height:m},path:t}):n.Height=m)}else 0!==n.Height&&(Array.isArray(i)?i.push({props:{Height:0},path:t}):n.Height=0);return i},_=function(e){return"ToolBar"===(e=e.split(".")[0])||"StatusBar"===e?e:""},A=function(e,t,i){Ma.onChanged(e,t,i)},w=function(e,t){if(Array.isArray(t))for(var i=t.length,r=0;r<i;r++){var n=t[r];A(e,n.props,n.path)}};return{findIndex:function(e,t){for(var i=e.length,r=0;r<i;r++)if(e[r].ElementID===t)return r;return-1},initControlBar:function(e,t,i,r,n){!e.props[t]&&Je.getPropertyInfo(e.props.Type,t)&&(e.props[t]={Elements:[]}),r&&C(e,t,n),P(e,t)},updateControlBar:A,removeControlBar:function(e,t){var i=e.props[t];i&&i.Elements&&(i.Elements.length=0)},onUpdate:function(t,i,r){var n,a=r.split(":"),o=_(a[0]);if(2===a.length){if("Elements"===a[1].split(".")[0])if(a[1].split(".")[1]){var s=Ha.getPart(t,r);if(s)return n=function(t,i,r,n,a,o){return o=o||[],i.Type===e.HmiScreenObjectType.ControlBarButtonPart||i.Type===e.HmiScreenObjectType.ControlBarToggleSwitchPart?o=T(t,i,r,n,!1,a,o):i.Type===e.HmiScreenObjectType.ControlBarDisplayPart?o=f(t,i,r,n,!1,a,o):i.Type===e.HmiScreenObjectType.ControlBarLabelPart?o=y(0,0,0,0,0,0,o):i.Type===e.HmiScreenObjectType.ControlBarTextBoxPart?o=D(0,0,0,0,0,0,o):i.Type===e.HmiScreenObjectType.ControlBarSeparatorPart&&(o=S(0,0,0,0,0,0,o)),o}(t,s,o,i,r,n),w(t,n),void((i.hasOwnProperty("Width")||i.hasOwnProperty("Height")||i.hasOwnProperty("Visible"))&&(n=P(t,o,[]),w(t,n)))}else if(Array.isArray(i))return A(t,{Elements:i},o),C(t,o),n=P(t,o,[]),void w(t,n)}else if(3===a.length&&"Margin"===a[2].split(".")[0])return A(t,i,r),n=P(t,o,[]),void w(t,n);A(t,i,r)},onCreatePart:function(e,t,i){var r,n;if((r=t.split(":"),(n=_(r[0]))&&2===r.length)&&"Elements"===r[1].split(".")[0]){if(i.Type=m(i.Type),b(e,n,i),Ma.onCreatePart(e,t,i)){var a=P(e,n,[]);w(e,a)}return!0}},onDeletePart:function(e,t){var i,r;if(i=t.split(":"),r=_(i[0])){if(1===i.length)return A(e,{Visible:!1},r),!0;if(2===i.length&&Ma.onDeletePart(e,t)){var n=P(e,r,[]);return w(e,n),!0}}},onMovePart:function(e,t,i){var r=t.split(":");if(2===r.length){var n=_(r[0]);if(n&&Ma.onMovePart(e,t,i)){var a=P(e,n,[]);return w(e,a),!0}}},getTypeNameFromId:g,onKeyDown:function(){return!1}}}();const et=$e;var tt,it=function(){var e=h,t={Visible:1,Enabled:1,Icon:"",Left:0,Top:0,Width:0,Height:0,WindowFlags:123,Caption:"",FocusColor:4286434550,HasFocus:!1},i=function(e){qe.doFocus(e)},r=function(e,t,i){qe.subscribeEvent(e,t,i)},n=function(e,t){qe.desktopOverlay(e,t)};return{DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.HmiWindowUseWebRTPU",DISABLE_SETSELECTIONPROPS:!0,onInit:function(e,t){var n,a=qe,s=Se,l=et;return rn.onInitEnabled(e),t||function(e){var t=qe;e._windowLocals=t.initWindowLocals()}(e),function(e){qe.initControl(e),e.control.domParent=null,e.control.domSvgParent=null}(e),function(e){qe.initEvents(e),e.control.handler.onResized&&r(e,"Resized",(function(t){e.control.handler.onResized(t)})),e.control.handler.onResizedEnd&&r(e,"ResizedEnd",(function(t){e.control.handler.onResizedEnd(t)})),e.control&&e.control.handler.onMoved&&r(e,"Moved",(function(t){e.control.handler.onMoved(t)}))}(e),l.initControlBar(e,"StatusBar",!0,!0,t),l.initControlBar(e,"ToolBar",!0,!0,t),"CustomWebControlContainer"!==e.props.Type&&"SwacContainer"!==e.props.Type||(e._controlProperties=e.props.Properties,delete e.props.Properties,"CustomWebControlContainer"===e.props.Type&&(e._props=o.extend(!0,{},e.props))),(n=s.onInit(e,t)).setAttribute("data-rtoid",e.rtoid),e._templateDirectoryPrefix=a.getTemplateDirectoryPrefix(e),a.addActiveItem(e),e.gfxWebLib.appMode!==In.EDIT&&n.addEventListener(function(e){return qe.mapEventName(e)}("mousedown"),i,!0),n},onScopeInitialized:function(e,t){e._controlProperties&&(e.props.Properties=e._controlProperties,delete e._controlProperties),e.control&&(tt.onContentInitialized(e,t),qe.fireEvent(e,"Resized"))},onDLSendData:function(e,t,i){Ne.handleDLData(e,t,i)},invokeMethodAsync:function(e,t){Ne.handleMethod(e,t)},onScreenItemsInitialized:function(e){e.control&&e.control.handler&&e.control.handler.onScreenItemsInitialized&&e.control.handler.onScreenItemsInitialized(e)},initProcessValueAndOutputFormats:function(){},onCurrentLanguage:function(e,t){Se.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){e.control&&e.control.handler.onCurrentStyle?(et.initControlBar(e,"StatusBar",!0,!0,!0),et.initControlBar(e,"ToolBar",!0,!0,!0),e.control.handler.onCurrentStyle(e,t)):Se.onCurrentStyle(e,t),e.control&&e.control.domParentRoot&&e.control.domParentRoot.style&&(e.control.domParentRoot.style.borderRadius=tt.calcContentRadius(e))},onChanged:function(i,r,n){var a=qe,s=Se;i.container&&i.container.isCleanedUp||(i.templateInstance&&s.checkControlIsReady(i)?n&&n.startsWith("Properties")?i.control.handler.onChanged(i,r,n):(a.getImageExtents(i,r,n),function(i,r,n){var a,s,l,u=et,h=Se,d=t,c=i.props.WindowFlags&e.HmiWindowFlag.AlwaysOnTop;if(rn.onChangedEnabled(i,r,n),!h.onChanged(i,r,n))if(n){var p=n.split(":")[0].split(".")[0];"ToolBar"!==p&&"StatusBar"!==p||u.onUpdate(i,r,n),i.control&&i.control.handler.onChanged(i,r,n)}else{var m;for(m in r)"StatusBar"===m||"ToolBar"===m?(a=a||{})[m]=r[m]:void 0===d[m]?(s=s||{})[m]=r[m]:(l=l||{})[m]=r[m],"Name"===m?i.domNode.setAttribute("data-tif-id",r.Name):"BackColor"===m&&((l=l||{})[m]=r[m]);if(a)if(i.gfxWebLib.appMode===In.EDIT){for(m in a)i.props[m]=a[m],"StatusBar"===m?u.initControlBar(i,"StatusBar",!0,!0):u.initControlBar(i,"ToolBar",!0,!0);u.updateControlBar(i,a[m],m)}else i.handler.onChanged(i,a[m],m);if(l&&void 0!==l.WindowFlags&&c!==(l.WindowFlags&e.HmiWindowFlag.AlwaysOnTop)){var g=i.container;g&&N.orderWindows(g.winManager,i)}if(h.onChanged(i,r,n),i.control&&(s||l)){var T=o.extend(s,l);i.control.handler.onChanged(i,T)}}}(i,r,n)):s.addDelayedUpdates(it.onChanged,i,r,n))},onFocus:function(e){qe.fireEvent(e,"Activated"),Se.onFocus(e)},onFocusOut:function(e){qe.fireEvent(e,"Deactivated"),Se.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return Se.checkInnerNavigation(e,t,i,r)},onKeyDown:function(e,t,i,r){var n=et.onKeyDown(e,t,i,r);return!n&&e.control&&e.control.handler.onKeyDown&&(n=e.control.handler.onKeyDown(e,t,i,r)),n},onMouseWheel:function(e,t,i){if(e.control&&e.control.handler.onMouseWheel)return e.control.handler.onMouseWheel(e,t,i)},onCreatePart:function(e,t,i){var r=Se,n=t.split(":")[0].split(".")[0];if(e.templateInstance&&r.checkControlIsReady(e)){if("ToolBar"===n||"StatusBar"===n)return r.setAllPartProps(i,i.Type),void et.onCreatePart(e,t,i);"CustomWebControlContainer"!==e.props.Type&&r.onCreatePart(e,t,i),e.control&&window.setTimeout((function(){e&&e.control&&e.control.handler.onCreatePart&&e.control.handler.onCreatePart(e,t,i)}),0)}else r.addDelayedUpdates(it.onCreatePart,e,t,i)},onDeletePart:function(e,t){var i=Se,r=t.split(":")[0].split(".")[0];e.templateInstance&&i.checkControlIsReady(e)?"ToolBar"!==r&&"StatusBar"!==r?("CustomWebControlContainer"!==e.props.Type&&i.onDeletePart(e,t),e.control&&window.setTimeout((function(){e&&e.control&&e.control.handler.onDeletePart&&e.control.handler.onDeletePart(e,t)}),0)):et.onDeletePart(e,t):i.addDelayedUpdates(it.onDeletePart,e,t,void 0)},onMovePart:function(e,t,i){var r=Se,n=t.split(":")[0].split(".")[0];e.templateInstance&&r.checkControlIsReady(e)?"ToolBar"!==n&&"StatusBar"!==n?("CustomWebControlContainer"!==e.props.Type&&r.onMovePart(e,t,i),e.control&&window.setTimeout((function(){e.control&&e.control.handler.onMovePart&&e.control.handler.onMovePart(e,t,i)}),0)):et.onMovePart(e,t,i):r.addDelayedUpdates(it.onMovePart,e,t,i)},onFlashing:function(e,t,i){Ne.onFlashing(e,t,i),Se.onFlashing(e,t,i)},onCommand:function(e,t,i){var r,a=qe;switch(t){case"MAXIMIZE":!function(e){qe.handleMaximize(e)}(e);break;case"RESTORE":!function(e){qe.handleRestore(e)}(e);break;case"CLOSE":!function(e){qe.handleClose(e)}(e);break;case"MOVE_TRIGGERED":n(e,i),i||(a.ensureVisibility(e,"MovedEnd"),a.fireEvent(e,"MovedEnd"));break;case"RESIZE_TRIGGERED":n(e,i),i||(a.ensureVisibility(e,"ResizedEnd"),a.fireEvent(e,"ResizedEnd"));break;case"MOVED":a.fireEvent(e,"Moved");break;case"BUTTON_RELEASED":case"BUTTON_PRESSED":case"BUTTON_ENTER":case"BUTTON_LEAVE":r=function(e,t){var i,r=Ne;return(i=r.findElementByID(e,t,"ToolBar")?"ToolBar":"")||(i=r.findElementByID(e,t,"StatusBar")?"StatusBar":i),i}(e,i),function(e,t,i,r){var n=Ha,a=Ne.findElementByID(e,t,i);if(a)switch(r){case"BUTTON_RELEASED":255&t&&e.gfxWebLib.connection.sendToolBarCommand(e.rtoid,t,!1),"ToolBar"===i?e.control&&e.control.handler.onToolbarButton&&e.control.handler.onToolbarButton(e,t):e.control&&e.control.handler.onStatusbarElement&&e.control.handler.onStatusbarElement(e,t);break;case"BUTTON_PRESSED":default:break;case"BUTTON_ENTER":var o=n.getProp(e,i);n.getPropPart(o,i+"Part","ShowToolTips")&&a.ToolTipText&&(e.gfxWebLib.tooltip.show({props:{ToolTipText:a.ToolTipText}},window.pageX,window.pageY),e._someToolTipVisible=!0);break;case"BUTTON_LEAVE":e._someToolTipVisible&&(e.gfxWebLib.tooltip.hide(),e._someToolTipVisible=!1)}}(e,i,r,t);break;case"SHOW_TOOLTIP":case"HIDE_TOOLTIP":!function(e,t,i){switch(i){case"SHOW_TOOLTIP":t&&(e.gfxWebLib.tooltip.show({props:{ToolTipText:t}},window.pageX,window.pageY),e._someToolTipVisible=!0);break;case"HIDE_TOOLTIP":e._someToolTipVisible&&(e.gfxWebLib.tooltip.hide(),e._someToolTipVisible=!1)}}(e,i,t);break;case"EXPAND_COLLAPSE":!function(e,t){e.control&&e.control.handler.onExpandCollapse&&e.control.handler.onExpandCollapse(e,t)}(e,i)}},listProvider:{setUpdateFunction:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.setUpdateFunction)return e.control.handler.listProvider.setUpdateFunction(e,t,i)},setUpdateCurrentFunction:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.setUpdateCurrentFunction)return e.control.handler.listProvider.setUpdateCurrentFunction(e,t,i)},hasList:function(e,t){return!!(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.hasList)&&e.control.handler.listProvider.hasList(e,t)},getList:function(e,t){return e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.getList?e.control.handler.listProvider.getList(e,t):[]},releaseList:function(e,t){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.releaseList)return e.control.handler.listProvider.releaseList(e,t)},setSelection:function(e,t,i,r){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.setSelection)return e.control.handler.listProvider.setSelection(e,t,i,r)},notyfyResourceListContainer:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.notyfyResourceListContainer)return e.control.handler.listProvider.notyfyResourceListContainer(e,t,i)},notyfyResourceListContainerCurrrent:function(e,t,i){if(e.control&&e.control.handler.listProvider&&e.control.handler.listProvider.notyfyResourceListContainerCurrrent)return e.control.handler.listProvider.notyfyResourceListContainerCurrrent(e,t,i)}},getPropertyBinding:function(){return Se.getPropertyBinding()},getBounds:function(e){return Se.getBounds(e)},bringToFront:function(e){return qe.bringToFront(e)},getClientRect:function(e){return tt.getContentRect(e)},applyChanged:function(e,t,i){Se.onChanged(e,Object.defineProperty({},t,{value:i,enumerable:!0}))},onCleanUp:function(e,t){var i=Se;if(qe.removeActiveItem(e),e._someToolTipVisible&&e.gfxWebLib.tooltip.hide(),e.control&&e.control.handler)try{e.control.handler.onCleanUp(e,t),e.control=null}catch(t){eo.traceErr(t,"Advanced.cleanUp: item.control.handler.onCleanUp rtoid: "+e.rtoid+" itemType: "+e.props.Type+" itemName: "+e.props.Name)}i.onCleanUp(e)},subscribeEvent:r,fireEvent:function(e,t){qe.fireEvent(e,t)},desktopOverlay:n,changeTemplate:function(e){Se.changeTemplate(e)}}}();tt=function(){var e=h,t=function(t){const i=t.gfxWebLib.getStyle();var r=Ha.getProp(t,"WindowFlags"),n="0px",a="0px",o="0px",s="0px";if("extended"===i&&r&e.HmiWindowFlag.ShowBorder){n="4px",a="4px",s="4px",o="4px",r&e.HmiWindowFlag.ShowCaption&&(n="0px",a="0px");const i=t.props.StatusBar;i&&i.Height&&(s="0px",o="0px");const l=t.props.ToolBar;if(l&&l.Height)switch(l.ToolBarPosition){case 0:n="0px",a="0px";break;case 2:n="0px",s="0px";break;case 3:a="0px",o="0px";break;default:s="0px",o="0px"}}return n+" "+a+" "+o+" "+s},i=function(e,t){var i=e.control.domParentRoot;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=t.width+"px",i.style.height=t.height+"px"};return{RequestContentCallback:function(e,r,n,a,o){var s,l=e.Store;(a=Math.max(0,a),o=Math.max(0,o),s=wn.createSvgElement("g",{id:"ContentGroup_"+l.rtoid}),l.control)&&(l.control.width=a,l.control.height=o,l.control.left=r,l.control.top=n,l.control.domSvgParent=s,l.control.domParent?i(l,{left:r,top:n,width:a,height:o}):l.control.domParent=function(e,i,r,n,a){return e.control.domParentRoot=E.createDomElement("div",{style:"position:absolute; pointer-events:none; overflow:hidden; left:"+i+"px; top:"+r+"px; width:"+n+"px; height:"+a+"px;",appendTo:e.domNode}),e.control.domParentRoot.style.borderRadius=t(e),e.control.domParent=E.createDomElement("div",{style:"pointer-events:auto; position:relative;",appendTo:e.control.domParentRoot}),e.control.domParent}(l,r,n,a,o));return new DocumentFragment},UpdateContentCallback:function(e,t,r,n,a){var o=e.Store;o.control&&(n=Math.max(0,n),a=Math.max(0,a),n===o.control.width&&a===o.control.height||(o.control.width=n,o.control.height=a,qe.fireEvent(o,"Resized")),i(o,{left:t,top:r,width:n,height:a}))},getContentRect:function(e){var t={left:0,top:0,width:0,height:0};if(e.control)return t.left=e.control.left,t.top=e.control.top,t.width=e.control.width,t.height=e.control.height,t},onContentInitialized:function(e,t){e.control.handler.onInit(e,t),e.control.initialized=!0,Ne.onInitialized(e)},calcContentRadius:t}}();const rt=it;var nt,at,ot,st,lt,ut,ht,dt,ct,pt,mt=(nt=0,at=1,ot=2,st=3,lt=4,ut=5,ht=6,dt=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",appendTo:e}),n.createSvgElement("circle",{cx:"5",cy:"5",r:"5",fill:i,stroke:"none",appendTo:r}),r},ct=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",appendTo:e}),n.createSvgElement("circle",{cx:"5",cy:"5",r:"3.5",fill:"none",stroke:i,"stroke-width":"3",appendTo:r}),r},pt=function(e,t,i,r,n){var a,o=wn;return a=o.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:n?"2":"1",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e}),o.createSvgElement("path",{d:"M0,0 L0,10",fill:"none",stroke:i,"stroke-width":Math.max(1,.67*r),appendTo:a}),a},{createRemoveSvgLineMarkerStart:function(e){var t=Ha,i=ka,r=t.getProp(e,"StartType"),n=wn.getSvgDefs(e);if(null!==e.svgMarkerStart&&(e.svgLine.removeAttribute("marker-start"),n.removeChild(e.svgMarkerStart),e.svgMarkerStart=null),r!==nt){var a=t.getProp(e,"LineColor",i.enumConverter.Color),o=t.getProp(e,"LineWidth"),s=Y.mkId(e,"ID_StartMarker"),l=null,u=rn.getBounds(e);if(u.w||u.h){switch(r){case at:l=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e}),n.createSvgElement("path",{d:"M0,5 L10,0 L5,5 L10,10 Z",fill:i,stroke:"none",appendTo:r}),r}(n,s,a);break;case ot:l=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e}),n.createSvgElement("path",{d:"M0,5 L10,0 L10,10 Z",fill:i,stroke:"none",appendTo:r}),r}(n,s,a);break;case st:l=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e}),n.createSvgElement("path",{d:"M0,0 L10,5 L0,10 Z",fill:i,stroke:"none",appendTo:r}),r}(n,s,a);break;case lt:l=pt(n,s,a,o,!0);break;case ut:l=ct(n,s,a);break;case ht:l=dt(n,s,a)}null!==l&&(e.svgMarkerStart=l,e.svgLine.setAttribute("marker-start","url(#"+s+")"))}}},createRemoveSvgLineMarkerEnd:function(e){var t=Ha,i=ka,r=t.getProp(e,"EndType"),n=wn.getSvgDefs(e);if(null!==e.svgMarkerEnd&&(e.svgLine.removeAttribute("marker-end"),n.removeChild(e.svgMarkerEnd),e.svgMarkerEnd=null),r!==nt){var a=t.getProp(e,"LineColor",i.enumConverter.Color),o=t.getProp(e,"LineWidth"),s=Y.mkId(e,"ID_EndMarker"),l=null,u=rn.getBounds(e);if(u.w||u.h){switch(r){case at:l=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e}),n.createSvgElement("path",{d:"M0,0 L10,5 L0,10 L 5,5 Z",fill:i,stroke:"none",appendTo:r}),r}(n,s,a);break;case ot:l=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e}),n.createSvgElement("path",{d:"M0,0 L10,5 L0,10 Z",fill:i,stroke:"none",appendTo:r}),r}(n,s,a);break;case st:l=function(e,t,i){var r,n=wn;return r=n.createSvgElement("marker",{id:t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"4",orient:"auto",appendTo:e}),n.createSvgElement("path",{d:"M10,0 L0,5 L10,10 Z",fill:i,stroke:"none",appendTo:r}),r}(n,s,a);break;case lt:l=pt(n,s,a,o,!1);break;case ut:l=ct(n,s,a);break;case ht:l=dt(n,s,a)}null!==l&&(e.svgMarkerEnd=l,e.svgLine.setAttribute("marker-end","url(#"+s+")"))}}}});const gt=mt;var Tt,ft,yt,Dt,St,bt,Ct=(Tt={Enabled:{func:["OperationEnabled"]},DashType:{gc:"LineDashArray",func:["_BgLine","_setPoints"],svg:[{si:"svgLine",sp:"stroke-dasharray"}],dep:["LineColor","AlternateLineColor","LineWidth","CapType","JoinType"]},Points:{func:["_setPoints"],dep:["StartType","EndType"]},StartType:{func:["_StartStyle"],dep:["CapType"]},EndType:{func:["_EndStyle"],dep:["CapType"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},CapType:{gc:"LineCap",svg:[{si:"svgLine",sp:"stroke-linecap"},{si:"svgBackgroundLine",sp:"stroke-linecap"}]},JoinType:{gc:"LineJoin",svg:[{si:"svgLine",sp:"stroke-linejoin"},{si:"svgBackgroundLine",sp:"stroke-linejoin"}]},LineColor:{gc:"Color",svg:[{si:"svgLine",sp:"stroke"}],dep:["StartType","EndType"]},AlternateLineColor:{gc:"Color",svg:[{si:"svgBackgroundLine",sp:"stroke"}]},LineWidth:{gc:"None",svg:[{si:"svgLine",sp:"stroke-width"},{si:"svgBackgroundLine",sp:"stroke-width"}],dep:["DashType"]},Left:{func:["_setPoints"],dep:["RotationAngle"]},Top:{func:["_setPoints"],dep:["RotationAngle"]},Width:{dep:["RotationAngle"]},Height:{dep:["RotationAngle"]}},ft={useCloning:b.useCloning,blueprint:null,expressions:null},yt=function(e,t,i){if(!t.blueprint){t.useCloning=!1;var r=e.gfxWebLib.createHmiObject(e.props.Type,i);t.useCloning=!0,t.blueprint=r.domNode,r.domNode=null,r=null,t.expressions=(n=new XPathEvaluator,(a={}).Line=n.createExpression("svg:path[1]",(function(e){return"http://www.w3.org/2000/svg"})),n=null,a)}var n,a},Dt=function(e){return yt(e,ft,"blueprint_line"),e.svgBackgroundLine=e.svgLine=e.svgMarkerStart=e.svgMarkerEnd=null,function(e,t){var i=t.blueprint.cloneNode(!0);e.domNode=e.domSvgNode=i,wn.augmentSvgScreenItemNode(e,{},e.domNode);var r=t.expressions.Line;e.svgLine=r.evaluate(e.domNode,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}(e,ft),e.props.Enabled=Ha.getPropRaw(e,"Enabled"),e.props.Visible=Ha.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode},St=function(e,t){return e+t},bt=function(e){var t,i=Ha,r=i.getPropRaw(e,"Points"),n=i.getPropRaw(e,"Left"),a=i.getPropRaw(e,"Top"),o=0,s=2,l=r.length/2,u="";if(l>1)for(u="M"+St(r[o+0],n)+" "+St(r[o+1],a)+"L"+St(r[o+2],n)+" "+St(r[o+3],a),r[t=2*l-4]===r[t+2]&&r[t+1]===r[t+3]&&(l-=1),o+=4;s<l;s+=1)u+="L"+St(r[o],n)+","+St(r[o+1],a),o+=2;e.svgBackgroundLine&&e.svgBackgroundLine.setAttribute("d",u),e.svgLine&&e.svgLine.setAttribute("d",u)},{DOM_TYPE:"svg",onInit:function(e){return ft.useCloning?Dt(e):(function(e){e.svgBackgroundLine=e.svgLine=e.svgMarkerStart=e.svgMarkerEnd=null}(e),function(e){var t=wn;e.domSvgNode=e.domNode=t.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),e.svgLine=t.createSvgElement("path",{fill:"none",appendTo:e.domSvgNode})}(e),rn.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=Ha.handleScreenModelPart(e,t,i),rn.onChanged(e,t)},onCleanUp:function(e){var t=E;e.svgMarkerStart&&t.removeNodeWithAllChilds(e.svgMarkerStart),e.svgMarkerEnd&&t.removeNodeWithAllChilds(e.svgMarkerEnd)},getPropertyBinding:function(){return Tt},onPropBindFunc:function(e,t){switch(e){case"_setPoints":bt(t);break;case"_buildPoints":!function(e){var t=Ha;e.props.Points=e.props.Points||[],e.props.Points[0]=t.getPropRaw(e,"X1"),e.props.Points[1]=t.getPropRaw(e,"Y1"),e.props.Points[2]=t.getPropRaw(e,"X2"),e.props.Points[3]=t.getPropRaw(e,"Y2"),bt(e)}(t);break;case"_BgLine":!function(e){var t,i=Ha,r=ka;0!==(t=i.getProp(e,"DashType",r.enumConverter.LineStyle))&&null===e.svgBackgroundLine&&(e.svgBackgroundLine=wn.createSvgElement("path",{fill:"none","stroke-dasharray":i.getProp(e,"DashType",r.enumConverter.AlternateLineDashArray)}),e.domSvgNode.insertBefore(e.svgBackgroundLine,e.domSvgNode.firstChild)),0===t&&null!==e.svgBackgroundLine&&(e.domSvgNode.removeChild(e.svgBackgroundLine),e.svgBackgroundLine=null)}(t);break;case"_StartStyle":gt.createRemoveSvgLineMarkerStart(t);break;case"_EndStyle":gt.createRemoveSvgLineMarkerEnd(t)}},getBounds:function(e){var t,i,r,n=Ha.getPropRaw(e,"Points"),a=n.length,o=Number.MIN_VALUE,s=Number.MIN_VALUE,l=Number.MAX_VALUE,u=Number.MAX_VALUE;if(a>1){for(t=0;t<a;t+=2)(i=n[t])<l&&(l=i),i>o&&(o=i),(r=n[t+1])<u&&(u=r),r>s&&(s=r);return{l:0,t:0,w:o-l,h:s-u}}return{l:0,t:0,w:0,h:0}},getRefPoint:function(e){var t=Ha;return{x:t.getProp(e,"Left"),y:t.getProp(e,"Top")}}});const vt=Ct;var Pt,_t,At=o.extend(!0,{},Ct);delete(Pt=o.extend(!0,{},At.getPropertyBinding())).JoinType,delete Pt.Points,Pt.DashType={gc:"LineDashArray",func:["_BgLine","_buildPoints"],svg:[{si:"svgLine",sp:"stroke-dasharray"}],dep:["LineColor","AlternateLineColor","LineWidth","CapType"]},Pt.X1={func:["_buildPoints"],dep:["StartType","EndType"]},Pt.Y1={func:["_buildPoints"],dep:["StartType","EndType"]},Pt.X2={func:["_buildPoints"],dep:["StartType","EndType"]},Pt.Y2={func:["_buildPoints"],dep:["StartType","EndType"]},Pt.Left={func:["_buildPoints"],dep:["RotationAngle"]},Pt.Top={func:["_buildPoints"],dep:["RotationAngle"]},At.getPropertyBinding=function(){return Pt};const wt={getCoordsMinMax:_t=function(e,t,i){var r,n,a,o,s,l;n=r=i?0:1,a=r,o=1/0,s=-1/0;for(var u=0;u<t;u+=1)(l=e[r])<o&&(o=l,n=r),l>s&&(s=l,a=r),r+=2;return{Min:o,MinIndex:n,Max:s,MaxIndex:a}},calcMinMaxWidth:function(e,t){return _t(e,t,!0)},calcMinMaxHeight:function(e,t){return _t(e,t,!1)}};var xt=function(){var e={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["BorderWidth","BorderColor","AlternateBorderColor","JoinType"]},BorderWidth:{gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType"]},BackFillPattern:{gc:"Fill",func:["Border.BorderItems"],dep:["BackColor"]},Points:{func:["_setPoints"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},JoinType:{gc:"LineJoin",svg:[{si:"border.svgBorderItem",sp:"stroke-linejoin"},{si:"border.svgBorderBgItem",sp:"stroke-linejoin"}]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},Left:{func:["_setPoints","Border.FillClip"],dep:["RotationAngle"]},Top:{func:["_setPoints","Border.FillClip"],dep:["RotationAngle"]},Width:{func:["Border.FillClip"],dep:["RotationAngle"]},Height:{func:["Border.FillClip"],dep:["RotationAngle"]}},t={useCloning:b.useCloning,blueprint:null,expressions:null},i=function(e){if(!t.blueprint){t.useCloning=!1;var i=e.gfxWebLib.createHmiObject(e.props.Type,"blueprint_rect");t.useCloning=!0,t.blueprint=i.domNode,i.domNode=null,i=null,r=new XPathEvaluator,n=function(e){return"http://www.w3.org/2000/svg"},(a={}).BI=r.createExpression("svg:polygon[4]",n),a.BIFR=r.createExpression("svg:polygon[2]",n),a.BBI=r.createExpression("svg:polygon[3]",n),a.BBIFR=r.createExpression("svg:polygon[1]",n),t.expressions=a,r=null}var r,n,a;return function(e){var i=t.blueprint.cloneNode(!0);e.domNode=e.domSvgNode=i,wn.augmentSvgScreenItemNode(e,{},e.domNode)}(e),e.border=rn.Border.createBorderClone(e.domNode,t.expressions),e.props.Enabled=Ha.getPropRaw(e,"Enabled"),e.props.Visible=Ha.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode},r=function(e,t){return e+t};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"polygon",onInit:function(e){return t.useCloning?i(e):(function(e){e.border=rn.Border.createBorder()}(e),function(e){e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;","fill-rule":"evenodd"})}(e),rn.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=Ha.handleScreenModelPart(e,t,i),rn.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return e},onPropBindFunc:function(e,t){if("_setPoints"===e)!function(e){var t=Ha,i=t.getPropRaw(e,"Points"),n=t.getPropRaw(e,"Left"),a=t.getPropRaw(e,"Top"),o=0,s=2,l="",u=i.length/2;if(u>1)for(l+=r(i[o+0],n)+","+r(i[o+1],a)+" "+r(i[o+2],n)+","+r(i[o+3],a),o+=4;s<u;s+=1)l+=" "+r(i[o],n)+","+r(i[o+1],a),o+=2;rn.Border.setAttribute(e.border,"points",l)}(t)},getBounds:function(e){var t,i,r=wt,n=Ha,a=e.props.Points?e.props.Points.length:0,o={l:0,t:0,w:0,h:0};return a&&(t=r.calcMinMaxWidth(e.props.Points,a),i=r.calcMinMaxHeight(e.props.Points,a),o.l=t.Min,o.t=i.Min,o.w=t.Max-o.l,o.h=i.Max-o.t),o.l=o.l+n.getProp(e,"Left"),o.t=o.t+n.getProp(e,"Top"),o},getRefPoint:function(e){var t=Ha;return{x:t.getProp(e,"Left"),y:t.getProp(e,"Top")}}}}();const Vt=xt;var Et=function(){var e={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems","Border.BorderRect"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["BorderWidth","BorderColor","AlternateBorderColor"]},BorderWidth:{gc:"None",func:["Border.BorderItems","Border.BorderRect"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType"]},BackFillPattern:{func:["Border.BorderItems","Border.BorderRect"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems","Border.BorderRect"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},Corners:{func:["Border.BorderRect"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},Left:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]},Height:{func:["Border.BorderRect","Border.FillClip"],dep:["RotationAngle"]}},t={useCloning:b.useCloning,blueprint:null,expressions:null},i=function(e){if(!t.blueprint){t.useCloning=!1;var i=e.gfxWebLib.createHmiObject(e.props.Type,"blueprint_rect");t.useCloning=!0,t.blueprint=i.domNode,i.domNode=null,i=null,r=new XPathEvaluator,n=function(e){return"http://www.w3.org/2000/svg"},(a={}).BI=r.createExpression("svg:path[4]",n),a.BIFR=r.createExpression("svg:path[2]",n),a.BBI=r.createExpression("svg:path[3]",n),a.BBIFR=r.createExpression("svg:path[1]",n),t.expressions=a,r=null}var r,n,a;return function(e){var i=t.blueprint.cloneNode(!0);e.domNode=e.domSvgNode=i,wn.augmentSvgScreenItemNode(e,{},e.domNode)}(e),e.border=rn.Border.createBorderClone(e.domNode,t.expressions),e.props.Enabled=Ha.getPropRaw(e,"Enabled"),e.props.Visible=Ha.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){return t.useCloning?i(e):(function(e){e.border=rn.Border.createBorder()}(e),function(e){e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"})}(e),rn.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=Ha.handleScreenModelPart(e,t,i),rn.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return e}}}();const It=Et;var Rt,Bt,Lt,Mt,Ft,Ht,Ot,Nt,kt,Wt,Gt,Ut,zt,jt,Yt,Xt,qt,Kt,Zt,Qt,Jt,$t,ei,ti,ii,ri,ni,ai,oi,si,li,ui,hi,di,ci,pi,mi,gi,Ti,fi,yi,Di,Si,bi,Ci,vi,Pi,_i;const Ai=(Ht=1,Ot=2,Nt=3,kt=4,Wt=!1,Gt=0,Ut=0,zt=0,jt=0,Yt=function(e){return e%=360},qt=function(e){return e>0},Kt=function(e,t){e.Left=t.l,e.Top=t.t,e.Width=t.w,e.Height=t.h},Zt=function(e,t,i,r){var n=e.props.Type;$t(n)?t.Radius=i:(t.RadiusWidth=i,t.RadiusHeight=r)},Qt=function(e){return"CircularArc"===e||"EllipticalArc"===e||"TubeArc"===e},Jt=function(e){return"CircleSegment"===e||"EllipseSegment"===e},$t=function(e){return"Circle"===e||"CircleSegment"===e||"CircularArc"===e||"RoundButton"===e},ei=function(e){var t={};e.access("ArcObject",Wt,t),t.centerPoint={x:0,y:0},Ft=t.centerPoint,Lt={x:0,y:0},Mt={x:0,y:0},Rt={l:0,t:0,w:0,h:0},Bt={l:0,t:0,w:0,h:0}},ti=function(e,t,i,r){var n=Ha;return i[r]?i[r]:t[r]?t[r]:n.getProp(e,r)},ii=function(e,t,i){var r=90-ti(e,t,i,"StartAngle");return{Start:r-ti(e,t,i,"AngleRange"),End:r}},ri=function(e,t,i,r){r.l=ti(e,t,i,"Left"),r.t=ti(e,t,i,"Top"),r.w=ti(e,t,i,"Width"),r.h=ti(e,t,i,"Height")},ni=function(e,t,i,r,n){var a=Ha,o=si(t),s=0,l={};switch(void 0===i&&(i=a.getProp(e,"RadiusWidth")),void 0===r&&(r=a.getProp(e,"RadiusHeight")),!n&&e.centrePoint&&(n=e.centrePoint),o){case Ht:s=(90-t)*Math.PI/180,l.x=n.x+Math.floor(i*Math.cos(s)+.5),l.y=n.y-Math.floor(r*Math.sin(s)+.5);break;case Ot:s=(t-270)*Math.PI/180,l.x=n.x-Math.floor(i*Math.cos(s)+.5),l.y=n.y-Math.floor(r*Math.sin(s)+.5);break;case Nt:s=(270-t)*Math.PI/180,l.x=n.x-Math.floor(i*Math.cos(s)+.5),l.y=n.y+Math.floor(r*Math.sin(s)+.5);break;case kt:s=(t-90)*Math.PI/180,l.x=n.x+Math.floor(i*Math.cos(s)+.5),l.y=n.y+Math.floor(r*Math.sin(s)+.5)}return l},ai=function(e,t,i,r,n,a){return a||Y.copyPoint(t,e.centrePoint),ni(e,i,r,n,t)},oi=function(e,t,i,r,n,a,o,s,l){var u,h,d=Y;u=ai(e,t,r,n,a,l),h=ai(e,t,i,n,a,l),d.copyPoint(u,o),d.copyPoint(h,s)},si=function(e){var t=Ht;return(e=Yt(e))>=0&e<90&&(t=Ht),e>=90&e<180&&(t=kt),e>=180&e<270&&(t=Nt),e>=270&e<360&&(t=Ot),t},li=function(e,t){return e>=Ft.x?t>=Ft.y?kt:Ht:t>=Ft.y?Nt:Ot},ui=function(e,t,i,r,n){var a,o,s,l,u,h,d,c=Ha,p=e.rect;void 0===r&&(r=c.getProp(e,"RadiusWidth")),void 0===n&&(n=c.getProp(e,"RadiusHeight")),i%=360,a=si(t%=360),o=si(i),s=di(t),l=di(i),u=s*Math.PI/180,h=l*Math.PI/180,a===Ht?o===Ht?Xt(i,t)>90?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:p.l,y:p.b}:e.centrePoint={x:Math.floor(p.l-r*Math.cos(u)+.5),y:Math.floor(p.b+n*Math.sin(h)+.5)}:e.centrePoint={x:(p.l+p.r)/2,y:(p.t+p.b)/2}:o===Ot?e.centrePoint={x:(p.l+p.r)/2,y:p.b-n}:o===Nt?e.centrePoint={x:p.r-r,y:p.b-n}:(d=Math.sin(h)/(Math.sin(u)+Math.sin(h)),e.centrePoint={x:p.r-r,y:Math.floor(p.b-d*p.h+.5)}):a===Ot?o===Ot?Xt(i,t)>90?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:p.r,y:p.b}:e.centrePoint={x:Math.floor(p.r+r*Math.cos(h)+.5),y:Math.floor(p.b+n*Math.sin(u)+.5)}:e.centrePoint={x:(p.l+p.r)/2,y:(p.t+p.b)/2}:o===Ht?(d=Math.cos(u)/(Math.cos(u)+Math.cos(h)),e.centrePoint={x:Math.floor(p.l+d*p.w+.5),y:p.t+n}):e.centrePoint=o===Nt?{x:p.r-r,y:(p.t+p.b)/2}:{x:p.r-r,y:p.t+n}:a===Nt?o===Nt?Xt(i,t)>90?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:p.r,y:p.t}:e.centrePoint={x:Math.floor(p.r+r*Math.cos(u)+.5),y:Math.floor(p.t-n*Math.sin(h)+.5)}:e.centrePoint={x:(p.l+p.r)/2,y:(p.t+p.b)/2}:o===Ht?e.centrePoint={x:p.l+r,y:p.t+n}:o===Ot?(d=Math.sin(h)/(Math.sin(u)+Math.sin(h)),e.centrePoint={x:p.l+r,y:Math.floor(p.t+d*p.h+.5)}):e.centrePoint={x:(p.l+p.r)/2,y:p.t+n}:a===kt&&(o===kt?Xt(i,t)>90?"EllipseSegment"===e.props.Type||"CircleSegment"===e.props.Type?e.centrePoint={x:p.l,y:p.t}:e.centrePoint={x:Math.floor(p.l-r*Math.cos(h)+.5),y:Math.floor(p.t-n*Math.sin(u)+.5)}:e.centrePoint={x:(p.l+p.r)/2,y:(p.t+p.b)/2}:o===Ht?e.centrePoint={x:p.l+r,y:(p.t+p.b)/2}:o===Ot?e.centrePoint={x:p.l+r,y:p.b-n}:(d=Math.cos(h)/(Math.cos(u)+Math.cos(h)),e.centrePoint={x:Math.floor(p.l+d*p.w+.5),y:p.b-n}))},hi=function(e,t,i,r,n,a,o,s){var l=Y;l.copyRect(a,e.rect),e.rect.b=a.t+a.h,e.rect.r=a.l+a.w,ui(e,t,i,r,n),l.copyPoint(e.centrePoint,Ft)},di=function(e){var t=0;switch(si(e)){case Ht:360===e&&(e=0),t=90-e;break;case Ot:t=e-270;break;case Nt:t=270-e;break;case kt:t=e-90}return t},ci=function(e,t,i,r,n,a){"width"===a?n.h=function(e,t,i,r){var n,a,o,s,l,u,h,d,c;return d=r%360,n=si(h=i%360),a=si(d),o=di(h),s=di(d),l=o*Math.PI/180,u=s*Math.PI/180,c=Math.abs(Math.round(e)),n===Ht?a===Ht?d>h?Math.floor(c*(Math.sin(l)/Math.cos(u))+.5):c:a===Ot?Math.floor(c*(1+Math.sin(Math.max(u,l)))/2+.5):a===Nt?Math.floor(c*((1+Math.sin(l))/(1+Math.cos(u)))+.5):Math.floor(c*(Math.sin(l)+Math.sin(u))+.5):n===Ot?a===Ot?d>h?Math.floor(c*(Math.sin(u)/Math.cos(l))+.5):c:a===Ht?Math.floor(c/(Math.cos(l)+Math.cos(u))+.5):a===Nt?Math.floor(2*c/(1+Math.cos(Math.min(l,u)))+.5):Math.floor(c*((1+Math.sin(u))/(1+Math.cos(l)))+.5):n===Nt?a===Nt?d>h?Math.floor(c*(Math.sin(l)/Math.cos(u))+.5):c:a===Ht?Math.floor(c*((1+Math.sin(l))/(1+Math.cos(u)))+.5):a===Ot?Math.floor(c*(Math.sin(l)+Math.sin(u))+.5):Math.floor(c*(1+Math.sin(Math.max(u,l)))/2+.5):a===kt?d>h?Math.floor(c*(Math.sin(u)/Math.cos(l))+.5):c:a===Ht?Math.floor(2*c/(1+Math.cos(Math.max(l,u)))+.5):n===Ot?Math.floor(c*((1+Math.sin(u))/(1+Math.cos(l)))+.5):Math.floor(c/(Math.cos(l)+Math.cos(u))+.5)}(e,0,i,r):"height"===a&&(Rt.w=function(e,t,i,r){var n,a,o,s,l,u,h,d,c;return d=r%360,n=si(h=i%360),a=si(d),o=di(h),s=di(d),l=o*Math.PI/180,u=s*Math.PI/180,c=Math.abs(Math.round(t)),n===Ht?a===Ht?d>h?Math.floor(c*(Math.cos(u)/Math.sin(l))+.5):c:a===Ot?Math.floor(2*c/(1+Math.sin(Math.max(u,l)))+.5):a===Nt?Math.floor(c*((1+Math.cos(u))/(1+Math.sin(l)))+.5):Math.floor(c/(Math.sin(l)+Math.sin(u))+.5):n===Ot?a===Ot?d>h?Math.floor(c*(Math.cos(l)/Math.sin(u))+.5):c:a===Ht?Math.floor(c*(Math.cos(l)+Math.cos(u))+.5):a===Nt?Math.floor(c*(1+Math.cos(Math.min(l,u)))/2+.5):Math.floor(c*((1+Math.cos(l))/(1+Math.sin(u)))+.5):n===Nt?a===Nt?d>h?Math.floor(c*(Math.cos(u)/Math.sin(l))+.5):c:a===Ht?Math.floor(c*((1+Math.cos(u))/(1+Math.sin(l)))+.5):a===Ot?Math.floor(c/(Math.sin(l)+Math.sin(u))+.5):Math.floor(2*c/(1+Math.sin(Math.max(u,l)))+.5):a===kt?d>h?Math.floor(c*(Math.cos(l)/Math.sin(u))+.5):c:a===Ht?Math.floor(c*(1+Math.cos(Math.min(l,u)))/2+.5):n===Ot?Math.floor(c*((1+Math.cos(l))/(1+Math.sin(u)))+.5):Math.floor(c*(Math.cos(l)+Math.cos(u))+.5)}(0,t,i,r))},pi=function(e,t,i,r,n,a){var o,s,l=Y,u={l:0,t:0,w:0,h:0};return(0!==r.h&&0!==r.w||0!==n.h&&0!==n.w)&&(o=li(e.x,e.y),s=li(t.x,t.y),o===Ht?s===Ht?e.x>t.x?(u.t=t.y,Jt(a)?(u.l=i.x,u.w=e.x-i.x,u.h=i.y-t.y):(u.l=t.x,u.w=e.x-t.x,u.h=e.y-t.y)):u=l.copyRect(r,u):s===Ot?(u.l=t.x,u.t=r.t,u.w=e.x-t.x,Jt(a)?u.h=i.y-r.t:u.h=Math.max(e.y,t.y)-r.t):s===Nt?(u.l=r.l,u.t=r.t,u.w=e.x-r.l,u.h=t.y-r.t):(u.l=r.l,u.t=r.t,u.w=Math.max(e.x,t.x)-r.l,u.h=r.h):o===Ot?s===Ot?e.x>t.x?(u.l=t.x,u.t=e.y,Jt(a)?(u.w=i.x-t.x,u.h=i.y-e.y):(u.w=e.x-t.x,u.h=t.y-e.y)):u=l.copyRect(r,u):s===Ht?(u.l=r.l,u.t=Math.min(e.y,t.y),u.w=r.w,u.h=r.t+r.h-u.t):s===Nt?(u.l=r.l,u.t=e.y,u.h=t.y-e.y,Jt(a)?u.w=i.x-r.l:u.w=Math.max(e.x,t.x)-r.l):(u.l=r.l,u.t=e.y,u.w=t.x-r.l,u.h=r.t+r.h-e.y):o===Nt?s===Nt?e.x<t.x?(u.l=e.x,Jt(a)?(u.t=i.y,u.w=i.x-e.x,u.h=t.y-i.y):(u.t=e.y,u.w=t.x-e.x,u.h=t.y-e.y)):u=l.copyRect(r,u):s===Ht?(u.l=e.x,u.t=t.y,u.w=r.l+r.w-e.x,u.h=r.t+r.h-t.y):s===Ot?(u.l=Math.min(e.x,t.x),u.t=r.t,u.w=r.l+r.w-u.l,u.h=r.h):(u.l=e.x,u.w=t.x-e.x,Jt(a)?(u.t=i.y,u.h=r.t+r.h-i.y):(u.t=Math.min(e.y,t.y),u.h=r.t+r.h-u.t)):s===kt?e.x<t.x?Jt(a)?(u.l=i.x,u.t=i.y,u.w=t.x-i.x,u.h=e.y-i.y):(u.l=e.x,u.t=t.y,u.w=t.x-e.x,u.h=e.y-t.y):u=l.copyRect(r,u):s===Ht?(u.h=e.y-t.y,Jt(a)?(u.l=i.x,u.t=t.y,u.w=r.l+r.w-i.x):(u.l=Math.min(e.x,t.x),u.t=t.y,u.w=r.l+r.w-u.l)):s===Ot?(u.l=t.x,u.t=r.t,u.w=r.l+r.w-t.x,u.h=e.y-r.t):(u.l=r.l,u.t=r.t,u.w=r.w,u.h=Math.max(e.y,t.y)-r.t)),u},mi=function(e,t,i,r,n,a,o){var s,l,u,h,d,c,p,m=e%360,g=t%360;s=si(m),l=si(g),u=di(m),h=di(g),d=u*Math.PI/180,c=h*Math.PI/180,s===Ht?l===Ht?g>m?(n=Math.floor(i.w/Math.cos(c)+.5),a=Math.floor(i.h/Math.sin(d)+.5),r.x=i.l,r.y=i.t+i.h):(n=Math.round(i.w/2),a=Math.round(i.h/2),r.x=Math.round(i.l+i.w/2),r.y=Math.round(i.t+i.h/2)):l===Ot?(n=Math.round(i.w/2),a=Math.floor(i.h/(1+Math.sin(Math.max(c,d)))+.5),r.x=Math.round(i.l+i.w/2),r.y=i.t+i.h-a):l===Nt?(n=Math.floor(i.w/(1+Math.cos(c))+.5),a=Math.floor(i.h/(1+Math.sin(d))+.5),r.x=i.l+i.w-n,r.y=i.t+i.h-a):(n=i.w,a=Math.floor(i.h/(Math.sin(d)+Math.sin(c))+.5),p=Math.sin(c)/Math.sin(d)+Math.sin(c),r.x=i.l,r.y=Math.floor(i.t+i.h-p*i.h+.5)):s===Ot?l===Ot?g>m?(n=Math.floor(i.w/Math.cos(d)+.5),a=Math.floor(i.h/Math.sin(c)+.5),r.x=i.l+i.w,r.y=i.t+i.h):(n=Math.round(i.w/2),a=Math.round(i.h/2),r=Math.round(i.l+i.w/2),r=Math.round(i.t+i.h/2)):l===Ht?(n=Math.floor(i.w/(Math.cos(d)+Math.cos(c))+.5),a=i.h,p=Math.cos(d)/(Math.cos(d)+Math.cos(c)),r.x=Math.floor(i.l+p*i.w+.5),r.y=i.t+i.h):l===Nt?(n=Math.floor(i.w/(1+Math.cos(Math.min(c,d)))+.5),a=Math.round(i.h/2),r.x=Math.round(i.l+i.w-n),r.t=Math.round(i.t+i.h/2)):(n=Math.floor(i.w/(1+Math.cos(d))+.5),a=Math.floor(i.h/(1+Math.sin(c))+.5),r.x=i.l+i.w-n,r.y=i.t+a):s===Nt?l===Nt?g>m?(n=Math.floor(i.w/Math.cos(c)+.5),a=Math.floor(i.h/Math.sin(d)+.5),r.x=i.l+i.w,r.y=i.t):(n=Math.round(i.w/2),a=Math.round(i.h/2),r.x=Math.round(i.l+i.w/2),r.y=Math.round(i.t+i.h/2)):l===Ht?(n=Math.floor(i.w/(1+Math.cos(c))+.5),a=Math.floor(i.h/(1+Math.sin(d))+.5),r.x=i.l+n,r.y=i.t+a):l===Ot?(n=i.w,a=Math.floor(i.h/(Math.sin(d)+Math.sin(c))+.5),p=Math.sin(c)/(Math.sin(d)+Math.sin(c)),r.x=i.l+i.w,r.y=Math.floor(i.t+p*i.h+.5)):(n=Math.round(i.w/2),a=Math.floor(i.h/(1+Math.sin(Math.max(c,d)))+.5),r.x=Math.round(i.l+i.w/2),r.y=i.t+a):l===kt?g>m?(n=Math.floor(i.w/Math.cos(d)+.5),a=Math.floor(i.h/Math.sin(c)+.5),r.x=i.l,r.y=i.t):(n=Math.round(i.w/2),a=Math.round(i.h/2),r.x=Math.round(i.l+i.w/2),r.y=Math.round(i.t+i.h/2)):l===Ht?(n=Math.floor(i.w/(1+Math.cos(Math.min(c,d)))+.5),a=Math.round(i.h/2),r.x=i.l+n,r.y=Math.round(i.t+i.h/2)):l===Ot?(n=Math.floor(i.w/(1+Math.cos(d))+.5),a=Math.floor(i.h/(1+Math.sin(c))+.5),r.x=i.l+n,r.y=i.t+i.h-a):(n=Math.floor(i.w/(Math.cos(d)+Math.cos(c))+.5),a=i.h,p=Math.cos(c)/(Math.cos(d)+Math.cos(c)),r.x=Math.floor(i.l+p*i.w+.5),r.y=i.t),gi(o,n,a,r)},gi=function(e,t,i,r){e.l=r.x-t,e.t=r.y-i,e.w=t+t,e.h=i+i},Ti=function(e,t){var i=Y;e.rect&&(i.copyRect(t,e.rect),e.rect.r=e.rect.l+e.rect.w,e.rect.b=e.rect.t+e.rect.h)},Pi=function(){Bt||(Bt={}),Lt||(Lt={}),Mt||(Mt={})},_i={CircularArc:{Width:fi=function(e,t,i,r,n){var a,o,s=Y,l=t.Width,u=e.props.Type;ei(n),ri(e,i,r,Rt),Rt.w=l,Qt(u)||Jt(u)?(o=ii(e,i,r),zt=o.Start,jt=o.End,$t(u)&&(a=Rt.h,ci(l,a,zt,jt,Rt,"width")),mi(zt,jt,Rt,Ft,Gt,Ut,Bt)):($t(u)&&(Rt.h=l),s.copyRect(Rt,Bt)),Zt(e,r,Math.round(Bt.w/2),Math.round(Bt.h/2)),Kt(r,Rt),Ft.x=Bt.l+Math.round(Bt.w/2),Ft.y=Bt.t+Math.round(Bt.h/2),Ti(e,Rt),e.centrePoint&&s.copyPoint(Ft,e.centrePoint)},Height:yi=function(e,t,i,r,n){var a,o,s=Y,l=t.Height,u=e.props.Type;ei(n),ri(e,i,r,Rt),Rt.h=l,Qt(u)||Jt(u)?(o=ii(e,i,r),zt=o.Start,jt=o.End,$t(u)&&(a=Rt.w,ci(a,l,zt,jt,Rt,"height")),mi(zt,jt,Rt,Ft,Gt,Ut,Bt)):($t(u)&&(Rt.w=l),s.copyRect(Rt,Bt)),Zt(e,r,Math.round(Bt.w/2),Math.round(Bt.h/2)),Kt(r,Rt),Ft.x=Bt.l+Math.round(Bt.w/2),Ft.y=Bt.t+Math.round(Bt.h/2),Ti(e,Rt),e.centrePoint&&s.copyPoint(Ft,e.centrePoint)},Radius:Di=function(e,t,i,r,n){var a,o,s,l=e.props.Type;qt(t.Radius)&&(ei(n),Gt=t.Radius,ri(e,i,r,Rt),Qt(l)||Jt(l)?(s=ii(e,i,r),zt=s.Start,jt=s.End,o=ti(e,i,r,"Radius"),hi(e,zt,jt,o,o,Rt),gi(Bt,Gt,Gt,Ft),oi(e,Ft,zt,jt,Gt,Gt,Lt,Mt),a=pi(Lt,Mt,Ft,Bt,Rt,l)):(Ft.x=Rt.l+Math.round(Rt.w/2),Ft.y=Rt.t+Math.round(Rt.h/2),gi(Bt,Gt,Gt,Ft),a=Bt),Kt(r,a),Ti(e,a))},StartAngle:Ci=function(e,t,i,r,n){var a,o,s,l=e.props.Type;ei(n),ri(e,i,r,Rt),jt=90-t.StartAngle,s=90-ti(e,i,r,"StartAngle"),zt=jt-ti(e,i,r,"AngleRange"),o=s-ti(e,i,r,"AngleRange"),$t(l)?(Gt=ti(e,i,r,"Radius"),Ut=Gt):(Gt=ti(e,i,r,"RadiusWidth"),Ut=ti(e,i,r,"RadiusHeight")),hi(e,o,s,Gt,Ut,Rt),oi(e,Ft,zt,jt,Gt,Ut,Lt,Mt),gi(Bt,Gt,Ut,Ft),a=pi(Lt,Mt,Ft,Bt,Rt,l),Kt(r,a),Ti(e,a)},AngleRange:vi=function(e,t,i,r,n){var a,o,s=e.props.Type;ei(n),ri(e,i,r,Rt),jt=90-ti(e,i,r,"StartAngle"),zt=jt-t.AngleRange,o=jt-ti(e,i,r,"AngleRange"),$t(s)?(Gt=ti(e,i,r,"Radius"),Ut=Gt):(Gt=ti(e,i,r,"RadiusWidth"),Ut=ti(e,i,r,"RadiusHeight")),hi(e,o,jt,Gt,Ut,Rt),oi(e,Ft,zt,jt,Gt,Ut,Lt,Mt),gi(Bt,Gt,Ut,Ft),a=pi(Lt,Mt,Ft,Bt,Rt,s),Kt(r,a),Ti(e,a)}},CircleSegment:{Width:fi,Height:yi,Radius:Di,StartAngle:Ci,AngleRange:vi},Ellipse:{Width:fi,Height:yi,RadiusWidth:Si=function(e,t,i,r,n){var a,o,s,l=e.props.Type;qt(t.RadiusWidth)&&(ei(n),Gt=t.RadiusWidth,ri(e,i,r,Rt),Ut=ti(e,i,r,"RadiusHeight"),Qt(l)||Jt(l)?(s=ii(e,i,r),zt=s.Start,jt=s.End,o=ti(e,i,r,"RadiusWidth"),hi(e,zt,jt,o,Ut,Rt),gi(Bt,Gt,Ut,Ft),oi(e,Ft,zt,jt,Gt,Ut,Lt,Mt),a=pi(Lt,Mt,Ft,Bt,Rt,l)):(Ft.x=Rt.l+Math.floor(Rt.w/2),Ft.y=Rt.t+Math.floor(Rt.h/2),gi(Bt,Gt,Ut,Ft),a=Bt),Kt(r,a),Ti(e,a))},RadiusHeight:bi=function(e,t,i,r,n){var a,o,s,l=e.props.Type;qt(t.RadiusHeight)&&(ei(n),Ut=t.RadiusHeight,ri(e,i,r,Rt),Gt=ti(e,i,r,"RadiusWidth"),Qt(l)||Jt(l)?(s=ii(e,i,r),zt=s.Start,jt=s.End,o=ti(e,i,r,"RadiusHeight"),hi(e,zt,jt,Gt,o,Rt),gi(Bt,Gt,Ut,Ft),oi(e,Ft,zt,jt,Gt,Ut,Lt,Mt),a=pi(Lt,Mt,Ft,Bt,Rt,l)):(Ft.x=Rt.l+Math.round(Rt.w/2),Ft.y=Rt.t+Math.round(Rt.h/2),gi(Bt,Gt,Ut,Ft),a=Bt),Kt(r,a),Ti(e,a))}},EllipticalArc:{Width:fi,Height:yi,RadiusWidth:Si,RadiusHeight:bi,StartAngle:Ci,AngleRange:vi},EllipseSegment:{Width:fi,Height:yi,RadiusWidth:Si,RadiusHeight:bi,StartAngle:Ci,AngleRange:vi},TubeArc:{Width:fi,Height:yi,RadiusWidth:Si,RadiusHeight:bi,StartAngle:Ci,AngleRange:vi},RoundButton:{Width:fi,Height:yi,Radius:Di}},{getDepPropsHandling:function(){return _i},calcPointFromAngle:ni,calcCenterpointFromAngles:ui,diffAngle:Xt=function(e,t){var i=Yt(e),r=Yt(t);return i<=r?r-i:r+360-i},calcAnglesFromRange:function(e){var t=Ha,i=t.getProp(e,"StartAngle");return{Start:(i=90-i)-t.getProp(e,"AngleRange"),End:i}},calcPointFromCenterRadiusAngle:function(e,t,i,r,n,a){var o,s={};return o=(a%=360)/180*Math.PI,s.x=t+Math.cos(o)*r,s.y=i+Math.sin(o)*n,s},calcBounds:function(e,t,i,r,n,a,o,s){var l,u=e.props.Type;return Pi(),qt(r)&&qt(n)?(Ft={x:t,y:i},Qt(u)||Jt(u)?(gi(Bt,r,n,Ft),oi(e,Ft,a,o,r,n,Lt,Mt,s),l=pi(Lt,Mt,Ft,Bt,Rt,u)):(gi(Bt,r,n,Ft),l=Bt)):l={l:t,t:i,w:0,h:0},l},calcBoundsWhole:function(e,t,i,r,n){var a;return Pi(),qt(r)&&qt(n)&&(gi(Bt,r,n,Ft={x:t,y:i}),a=Bt),a}});var wi=function(){var e={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["RadiusX","RadiusY","BorderWidth","BorderColor","AlternateBorderColor"]},BorderWidth:{gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType","RadiusX","RadiusY"]},BackFillPattern:{func:["Border.BorderItems"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},CenterX:{func:["Border.FillClip","_setCx"],dep:["RotationAngle"]},CenterY:{func:["Border.FillClip","_setCy"],dep:["RotationAngle"]},RadiusX:{func:["Border.FillClip","_setRx"],dep:["RotationAngle"]},RadiusY:{func:["Border.FillClip","_setRy"],dep:["RotationAngle"]}},t={useCloning:b.useCloning,blueprint:null,expressions:null},i={useCloning:b.useCloning,blueprint:null,expressions:null},r=function(e,t,i){if(!t.blueprint){t.useCloning=!1;var r=e.gfxWebLib.createHmiObject(e.props.Type,i);t.useCloning=!0,t.blueprint=r.domNode,r.domNode=null,r=null,t.expressions=e.handler.createExpressions()}},n=function(e,t){var i=t.blueprint.cloneNode(!0);e.domNode=e.domSvgNode=i,wn.augmentSvgScreenItemNode(e,{},e.domNode)},a=function(e,a){return"Ellipse"===a?(r(e,t,"blueprint_ellipse"),n(e,t),e.border=rn.Border.createBorderClone(e.domNode,t.expressions)):(r(e,i,"blueprint_circle"),n(e,i),e.border=rn.Border.createBorderClone(e.domNode,i.expressions)),e.props.Enabled=Ha.getPropRaw(e,"Enabled"),e.props.Visible=Ha.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode},o=function(e){var t,i=Ha,r=Ai,n=Y,a=i.getPropRaw(e,"CenterX"),o=i.getPropRaw(e,"CenterY"),s=i.getPropRaw(e,"RadiusX"),l=i.getPropRaw(e,"RadiusY"),u={};return t=r.calcBounds(e,a,o,s,l,0,0),n.copyRect(t,u),u},s=function(e){var t=Ha;return{x:t.getProp(e,"CenterX"),y:t.getProp(e,"CenterY")}};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"ellipse",onInit:function(e){if("Ellipse"===e.props.Type){if(t.useCloning)return a(e,"Ellipse")}else if(i.useCloning)return a(e,"Circle");return function(e){e.border=rn.Border.createBorder()}(e),function(e){e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"})}(e),rn.initAllAttributes(e),e.domNode},createExpressions:function(){var e=new XPathEvaluator,t=function(e){return"http://www.w3.org/2000/svg"},i={};return i.BI=e.createExpression("svg:ellipse[4]",t),i.BIFR=e.createExpression("svg:ellipse[2]",t),i.BBI=e.createExpression("svg:ellipse[3]",t),i.BBIFR=e.createExpression("svg:ellipse[1]",t),e=null,i},onChanged:function(e,t,i){t=Ha.handleScreenModelPart(e,t,i),rn.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return e},onPropBindFunc:function(e,t,i){switch(e){case"_setCx":!function(e){var t=Ha.getProp(e,"CenterX");rn.Border.setAttribute(e.border,"cx",t)}(t);break;case"_setCy":!function(e){var t=Ha.getProp(e,"CenterY");rn.Border.setAttribute(e.border,"cy",t)}(t);break;case"_setRx":!function(e){var t=Ha.getProp(e,"RadiusX");rn.Border.setAttribute(e.border,"rx",t)}(t);break;case"_setRy":!function(e){var t=Ha.getProp(e,"RadiusY");rn.Border.setAttribute(e.border,"ry",t)}(t);break;case"_setRadius":!function(e){var t=Ha.getProp(e,"Radius");rn.Border.setAttribute(e.border,"r",t)}(t)}},getBounds:o,getBoundsWhole:o,getRefPoint:s,getCenterOffset:s}}();const xi=wi;var Vi=o.extend(!0,{},wi);!function(){Vi.BORDER_SVG_ELEM_TYPE="circle";var e=o.extend(!0,{},Vi.getPropertyBinding());delete e.RadiusX,delete e.RadiusY,e.Radius={func:["Border.FillClip","_setRadius"]},e.DashType={gc:"BorderDashArray",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["Radius","BorderWidth","BorderColor","AlternateBorderColor"]},e.BorderWidth={gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType","Radius"]},Vi.createExpressions=function(){var e=new XPathEvaluator,t=function(e){return"http://www.w3.org/2000/svg"},i={};return i.BI=e.createExpression("svg:circle[4]",t),i.BIFR=e.createExpression("svg:circle[2]",t),i.BBI=e.createExpression("svg:circle[3]",t),i.BBIFR=e.createExpression("svg:circle[1]",t),e=null,i},Vi.getBounds=function(e){var t=Ha,i=t.getPropRaw(e,"Radius"),r=2*i;return{l:t.getProp(e,"CenterX")-i,t:t.getProp(e,"CenterY")-i,w:r,h:r}},Vi.getBoundsWhole=Vi.getBounds,Vi.getPropertyBinding=function(){return e}}();var Ei=function(){var e=!1,t={Enabled:{func:["OperationEnabled"]},DashType:{gc:"LineDashArray",func:["_BgLine","_updateGeometry"],svg:[{si:"svgLine",sp:"stroke-dasharray"}],dep:["LineColor","AlternateLineColor","LineWidth","CapType"]},StartType:{func:["_StartStyle"],dep:["CapType"]},EndType:{func:["_EndStyle"],dep:["CapType"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},CapType:{gc:"LineCap",svg:[{si:"svgLine",sp:"stroke-linecap"},{si:"svgBackgroundLine",sp:"stroke-linecap"}]},LineColor:{gc:"Color",svg:[{si:"svgLine",sp:"stroke"}],dep:["StartType","EndType"]},AlternateLineColor:{gc:"Color",svg:[{si:"svgBackgroundLine",sp:"stroke"}]},LineWidth:{gc:"None",svg:[{si:"svgLine",sp:"stroke-width"},{si:"svgBackgroundLine",sp:"stroke-width"}],dep:["DashType"]},CenterX:{func:["_updateGeometry"],dep:["RotationAngle"]},CenterY:{gc:"Pixel",func:["_updateGeometry"],dep:["RotationAngle"]},RadiusX:{gc:"None",func:["_updateGeometry"]},RadiusY:{gc:"None",func:["_updateGeometry"]},StartAngle:{gc:"None",func:["_updateGeometry"]},AngleRange:{gc:"None",func:["_updateGeometry"]}},i={useCloning:b.useCloning,blueprint:null,expressions:null},r=function(e,t,i){if(!t.blueprint){t.useCloning=!1;var r=e.gfxWebLib.createHmiObject(e.props.Type,i);t.useCloning=!0,t.blueprint=r.domNode,r.domNode=null,r=null,t.expressions=(n=new XPathEvaluator,(a={}).Line=n.createExpression("svg:path[1]",(function(e){return"http://www.w3.org/2000/svg"})),n=null,a)}var n,a},n=function(e){return r(e,i,"blueprint_segment"),e.svgBackgroundLine=e.svgLine=e.svgMarkerStart=e.svgMarkerEnd=null,e.rect={l:0,t:0,w:0,h:0},function(e,t){var i=t.blueprint.cloneNode(!0);e.domNode=e.domSvgNode=i,wn.augmentSvgScreenItemNode(e,{},e.domNode);var r=t.expressions.Line;e.svgLine=r.evaluate(e.domNode,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}(e,i),e.props.Enabled=Ha.getPropRaw(e,"Enabled"),e.props.Visible=Ha.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),a(e),e.domNode},a=function(e){var t,i,r,n,a=Ai,o=Ha,s=o.getProp(e,"CenterX"),l=o.getProp(e,"CenterY"),u="EllipticalArc"===e.props.Type?o.getProp(e,"RadiusX"):o.getProp(e,"Radius"),h="EllipticalArc"===e.props.Type?o.getProp(e,"RadiusY"):u,d=o.getProp(e,"StartAngle"),c=o.getProp(e,"AngleRange"),p=c+d,m=a.diffAngle(d,p)>180?1:0;t=a.calcPointFromCenterRadiusAngle(e,s,l,u,h,d),r=a.calcPointFromCenterRadiusAngle(e,s,l,u,h,p),n="M"+wn.pointParameter(t.x,t.y),Y.equalPoint(t,r)&&0!==c&&(i=a.calcPointFromCenterRadiusAngle(e,s,l,u,h,d+180),n+="A"+wn.arcParameter(u,h,0,m,1,i.x,i.y)),n+="A"+wn.arcParameter(u,h,0,m,1,r.x,r.y),null!==e.svgBackgroundLine&&e.svgBackgroundLine.setAttribute("d",n),null!==e.svgLine&&e.svgLine.setAttribute("d",n)},o=function(e){var t=Ha;return{x:t.getProp(e,"CenterX"),y:t.getProp(e,"CenterY")}};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){return i.useCloning?n(e):(function(e){e.svgBackgroundLine=e.svgLine=e.svgMarkerStart=e.svgMarkerEnd=null,e.rect={l:0,t:0,w:0,h:0}}(e),function(e){var t=wn;e.domSvgNode=e.domNode=t.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),e.svgLine=t.createSvgElement("path",{fill:"none",appendTo:e.domSvgNode})}(e),rn.initAllAttributes(e),a(e),e.domNode)},onChanged:function(t,i,r){e=!1,i=Ha.handleScreenModelPart(t,i,r),rn.onChanged(t,i),e&&a(t)},onCleanUp:function(e){var t=E;e.svgMarkerStart&&t.removeNodeWithAllChilds(e.svgMarkerStart),e.svgMarkerEnd&&t.removeNodeWithAllChilds(e.svgMarkerEnd)},getPropertyBinding:function(){return t},onPropBindFunc:function(t,i,r){switch(t){case"_updateGeometry":e=!0;break;case"_BgLine":!function(e){var t,i=ka;0!==(t=Ha.getProp(e,"DashType",i.enumConverter.LineStyle))&&null===e.svgBackgroundLine&&(e.svgBackgroundLine=wn.createSvgElement("path",{fill:"none"}),e.domSvgNode.insertBefore(e.svgBackgroundLine,e.domSvgNode.firstChild)),0===t&&null!==e.svgBackgroundLine&&(e.domSvgNode.removeChild(e.svgBackgroundLine),e.svgBackgroundLine=null)}(i);break;case"_StartStyle":gt.createRemoveSvgLineMarkerStart(i);break;case"_EndStyle":gt.createRemoveSvgLineMarkerEnd(i)}},getBounds:function(e){var t,i=Ha,r=Ai,n=Y,a=i.getProp(e,"CenterX"),o=i.getProp(e,"CenterY"),s="EllipticalArc"===e.props.Type?i.getProp(e,"RadiusX"):i.getProp(e,"Radius"),l="EllipticalArc"===e.props.Type?i.getProp(e,"RadiusY"):s,u=i.getProp(e,"StartAngle")+90,h=u+i.getProp(e,"AngleRange"),d={};return t=r.calcBounds(e,a,o,s,l,u,h,!0),n.copyRect(t,d),d},getBoundsWhole:function(e){var t,i=Ha,r=Ai,n=Y,a=i.getProp(e,"CenterX"),o=i.getProp(e,"CenterY"),s="EllipticalArc"===e.props.Type?i.getProp(e,"RadiusX"):i.getProp(e,"Radius"),l="EllipticalArc"===e.props.Type?i.getProp(e,"RadiusY"):s,u={};return t=r.calcBoundsWhole(e,a,o,s,l),n.copyRect(t,u),u},getRefPoint:o,getCenterOffset:o}}();const Ii=Ei;var Ri=o.extend(!0,{},Ei);!function(){var e=o.extend(!0,{},Ri.getPropertyBinding());delete e.RadiusX,delete e.RadiusY,e.Radius={gc:"None",func:["_updateGeometry"]},Ri.getPropertyBinding=function(){return e}}();var Bi=function(){var e=!1,t={Enabled:{func:["OperationEnabled"]},DashType:{gc:"BorderDashArray",func:["Border.BorderItems","_updateGeometry"],svg:[{si:"border.svgBorderItem",sp:"stroke-dasharray"}],dep:["BorderWidth","BorderColor","AlternateBorderColor"]},BorderWidth:{gc:"None",func:["Border.BorderItems"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["DashType"]},BackFillPattern:{func:["Border.BorderItems"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems"]},FillLevel:{func:["Border.FillClip"]},FillDirection:{func:["Border.FillClip"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},AlternateBorderColor:{gc:"Color",svg:[{si:"border.svgBorderBgItem",sp:"stroke"}]},CenterX:{func:["_updateGeometry"],dep:["RotationAngle","FillLevel"]},CenterY:{func:["_updateGeometry"],dep:["RotationAngle","FillLevel"]},RadiusX:{func:["_updateGeometry"],dep:["FillLevel"]},RadiusY:{func:["_updateGeometry"],dep:["FillLevel"]},StartAngle:{func:["_updateGeometry"],dep:["FillLevel"]},AngleRange:{func:["_updateGeometry"],dep:["FillLevel"]}},i={useCloning:b.useCloning,blueprint:null,expressions:null},r=function(e,t,i){if(!t.blueprint){t.useCloning=!1;var r=e.gfxWebLib.createHmiObject(e.props.Type,i);t.useCloning=!0,t.blueprint=r.domNode,r.domNode=null,r=null,t.expressions=(n=new XPathEvaluator,a=function(e){return"http://www.w3.org/2000/svg"},(o={}).BI=n.createExpression("svg:path[4]",a),o.BIFR=n.createExpression("svg:path[2]",a),o.BBI=n.createExpression("svg:path[3]",a),o.BBIFR=n.createExpression("svg:path[1]",a),n=null,o)}var n,a,o},n=function(e){return r(e,i,"blueprint_segment"),function(e,t){var i=t.blueprint.cloneNode(!0);e.domNode=e.domSvgNode=i,wn.augmentSvgScreenItemNode(e,{},e.domNode)}(e,i),e.border=rn.Border.createBorderClone(e.domNode,i.expressions),e.rect={l:0,t:0,w:0,h:0},e.props.Enabled=Ha.getPropRaw(e,"Enabled"),e.props.Visible=Ha.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),a(e),e.domNode},a=function(e){var t,i,r,n,a,o,s=Ai,l=Ha,u=l.getProp(e,"CenterX"),h=l.getProp(e,"CenterY"),d="EllipseSegment"===e.props.Type?l.getProp(e,"RadiusX"):l.getProp(e,"Radius"),c="EllipseSegment"===e.props.Type?l.getProp(e,"RadiusY"):d,p=l.getProp(e,"StartAngle"),m=l.getProp(e,"AngleRange");m<0&&(m=360+m%360),p<0&&(p=360+p%360),a=m+p,o=s.diffAngle(p,a)>180?1:0,t=s.calcPointFromCenterRadiusAngle(e,u,h,d,c,p),r=s.calcPointFromCenterRadiusAngle(e,u,h,d,c,a),n="M"+wn.pointParameter(t.x,t.y),Y.equalPoint(t,r)&&0!==m&&(i=s.calcPointFromCenterRadiusAngle(e,u,h,d,c,p+180),n+="A"+wn.arcParameter(d,c,0,o,1,i.x,i.y)),n+="A"+wn.arcParameter(d,c,0,o,1,r.x,r.y),n+="L"+wn.pointParameter(u,h),n+="Z",rn.Border.setAttribute(e.border,"d",n)},o=function(e){var t=Ha;return{x:t.getProp(e,"CenterX"),y:t.getProp(e,"CenterY")}};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){return i.useCloning?n(e):(function(e){e.border=rn.Border.createBorder(),e.rect={l:0,t:0,w:0,h:0}}(e),function(e){e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"})}(e),rn.initAllAttributes(e),a(e),e.domNode)},onChanged:function(t,i,r){e=!1,i=Ha.handleScreenModelPart(t,i,r),rn.onChanged(t,i),e&&a(t)},onCleanUp:function(e){},getPropertyBinding:function(){return t},onPropBindFunc:function(t,i,r){if("_updateGeometry"===t)e=!0},getBounds:function(e){var t,i=Ha,r=Ai,n=Y,a=i.getPropRaw(e,"CenterX"),o=i.getPropRaw(e,"CenterY"),s="EllipseSegment"===e.props.Type?i.getProp(e,"RadiusX"):i.getProp(e,"Radius"),l="EllipseSegment"===e.props.Type?i.getProp(e,"RadiusY"):s,u=i.getProp(e,"StartAngle")+90,h=u+i.getProp(e,"AngleRange"),d={};return t=r.calcBounds(e,a,o,s,l,u,h,!0),n.copyRect(t,d),d},getBoundsWhole:function(e){var t,i=Ha,r=Ai,n=Y,a=i.getPropRaw(e,"CenterX"),o=i.getPropRaw(e,"CenterY"),s="EllipseSegment"===e.props.Type?i.getProp(e,"RadiusX"):i.getProp(e,"Radius"),l="EllipseSegment"===e.props.Type?i.getProp(e,"RadiusY"):s,u={};return t=r.calcBoundsWhole(e,a,o,s,l),n.copyRect(t,u),u},getRefPoint:o,getCenterOffset:o}}();const Li=Bi;var Mi,Fi,Hi,Oi,Ni,ki,Wi,Gi,Ui,zi,ji,Yi,Xi,qi,Ki,Zi,Qi=o.extend(!0,{},Bi);!function(){var e=o.extend(!0,{},Qi.getPropertyBinding());delete e.RadiusX,delete e.RadiusY,e.Radius={gc:"None",func:["_updateGeometry"],dep:["FillLevel"]},Qi.getPropertyBinding=function(){return e}}();const Ji=(Fi=["None","CTT","SvgNat"],Oi=["BLEN","COMA","COTR","COMP","CVMA","DFLI","DPMA","DILI","FLOO","FCTA","FCTB","FCTG","FCTR","GABL","IMAG","MERG","MENO","MORP","OFFS","POLI","SPEL","SPOL","TILE","TURB"],Ni="filter",ki={BLEN:{},COMA:{filterType:"COMA",type:"matrix",values:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],computeSubType:function(e){var t;return t=e.values,Wi(t)},createFilterElement:function(e,t){var i,r=wn,n="";if(20===(i=e.values).length){for(var a=0;a<20;a++)i[a];n=r.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i,result:t})}return n}},COTR:{},COMP:{},CVMA:{},DFLI:{},DPMA:{},DILI:{},FLOO:{},FCTA:{},FTCB:{},FTCG:{},FTCR:{},GABL:{},IMAG:{},MERG:{},MENO:{},MORP:{},OFFS:{},POLI:{},SPEL:{},SPOL:{},TILE:{},TURB:{}},Wi=function(e){for(var t="",i=0;i<20;i++)t+=e[i],t+="_";return t},Gi={row0Entry0Unity:"1.0 0.0 0.0 0.0",row0Entry0Mult100:"100.0 0.0 0.0 0.0",row1Entry1Unity:" 0.0 1.0 0.0 0.0",row1Entry1Mult100:" 0.0 100.0 0.0 0.0",row2Entry2Unity:" 0.0 0.0 1.0 0.0",row2Entry2Mult100:" 0.0 0.0 100.0 0.0",row3Entry3Unity:" 0.0 0.0 0.0 1.0 0.0",row3Entry4Point5:" 0.0 0.0 0.0 0.0 0.5",addVal:[" 1.0"," 0.97"," 0.94"," 0.91"," 0.89"," 0.85"," 0.82"," 0.787"," 0.757"," 0.726"," 0.6944"," 0.68"," 0.66"," 0.61"," 0.59"," 0.55"," 0.9929"," 0.9926"," 0.9921"," 0.9916"," 0.9911"," 0.9906"," 0.9901"," 0.9895"," 0.989"," 0.9884"," 0.9878"," 0.9871"," 0.9865"," 0.9858"," 0.9851"," 0.9844"," 0.9837"," 0.9829"," 0.9821"," 0.9813"," 0.9805"," 0.9796"," 0.9787"," 0.9778"," 0.9769"," 0.9759"," 0.9749"," 0.9739"," 0.9729"," 0.9719"," 0.9708"," 0.9697"," 0.9685"," 0.9674"," 0.9662"," 0.965"," 0.9638"," 0.9625"," 0.9612"," 0.9599"," 0.9585"," 0.9572"," 0.9558"," 0.9544"," 0.9529"," 0.9514"," 0.9499"," 0.9484"," 0.9468"," 0.9452"," 0.9436"," 0.942"," 0.9403"," 0.9386"," 0.9368"," 0.936"," 0.934"," 0.932"," 0.93"," 0.928"," 0.926"," 0.924"," 0.922"," 0.92"," 0.918"," 0.916"," 0.914"," 0.912"," 0.91"," 0.908"," 0.905"," 0.903"," 0.901"," 0.899"," 0.896"," 0.894"," 0.892"," 0.889"," 0.887"," 0.884"," 0.882"," 0.879"," 0.876"," 0.874"," 0.871"," 0.868"," 0.866"," 0.863"," 0.86"," 0.857"," 0.854"," 0.852"," 0.849"," 0.846"," 0.843"," 0.84"," 0.837"," 0.833"," 0.83"," 0.827"," 0.824"," 0.821"," 0.817"," 0.814"," 0.811"," 0.807"," 0.804"," 0.8"," 0.797"," 0.793"," 0.79"," 0.786"," 0.783"," 0.779"," 0.775"," 0.772"," 0.768"," 0.764"," 0.76"," 0.756"," 0.752"," 0.748"," 0.744"," 0.74"," 0.736"," 0.732"," 0.728"," 0.724"," 0.72"," 0.716"," 0.712"," 0.708"," 0.704"," 0.699"," 0.694"," 0.689"," 0.685"," 0.681"," 0.677"," 0.671"," 0.666"," 0.661"," 0.657"," 0.653"," 0.649"," 0.642"," 0.638"," 0.634"," 0.628"," 0.622"," 0.618"," 0.614"," 0.609"," 0.602"," 0.597"," 0.592"," 0.587"," 0.582"," 0.576"," 0.571"," 0.564"," 0.56"," 0.555"," 0.548"," 0.544"," 0.536"," 0.532"," 0.525"," 0.52"," 0.513"," 0.508"," 0.502"," 0.498"," 0.492"," 0.485"," 0.478"," 0.473"," 0.466"," 0.461"," 0.453"," 0.447"," 0.442"," 0.434"," 0.428"," 0.422"," 0.414"," 0.408"," 0.402"," 0.395"," 0.388"," 0.383"," 0.375"," 0.368"," 0.361"," 0.355"," 0.348"," 0.34"," 0.333"," 0.328"," 0.32"," 0.312"," 0.305"," 0.297"," 0.29"," 0.283"," 0.277"," 0.269"," 0.261"," 0.253"," 0.246"," 0.238"," 0.23"," 0.223"," 0.215"," 0.207"," 0.199"," 0.192"," 0.184"," 0.176"," 0.168"," 0.16"," 0.152"," 0.144"," 0.136"," 0.13"," 0.12"," 0.114"," 0.104"," 0.095"," 0.085"," 0.077"," 0.069","  0.061"," 0.053"," 0.043"," 0.034"," 0.026"," 0.018"," 0.007"," 0.0"],subVal:[" -0.0"," -0.05"," -0.07"," -0.11"," -0.14"," -0.17"," -0.19"," -0.21"," -0.25"," -0.29"," -0.3"," -0.334"," -0.37"," -0.4"," -0.45"," -0.5"," -0.0013"," -0.0017"," -0.0022"," -0.0026"," -0.0031"," -0.0036"," -0.0042"," -0.0047"," -0.0053"," -0.0058"," -0.0065"," -0.0071"," -0.0077"," -0.0084"," -0.0091"," -0.0098"," -0.0107"," -0.0113"," -0.0121"," -0.0129"," -0.0138"," -0.0146"," -0.0155"," -0.0164"," -0.0173"," -0.0183"," -0.0193"," -0.0203"," -0.0213"," -0.0224"," -0.0235"," -0.0246"," -0.0267"," -0.0268"," -0.028"," -0.0292"," -0.0305"," -0.0317"," -0.033"," -0.0343"," -0.0358"," -0.037"," -0.0384"," -0.0399"," -0.0413"," -0.0428"," -0.0443"," -0.0458"," -0.0476"," -0.049"," -0.0506"," -0.0523"," -0.0539"," -0.0556"," -0.0574"," -0.06"," -0.061"," -0.063"," -0.065"," -0.067"," -0.069"," -0.071"," -0.073"," -0.075"," -0.077"," -0.079"," -0.081"," -0.083"," -0.085"," -0.087"," -0.09"," -0.092"," -0.094"," -0.096"," -0.099"," -0.101"," -0.104"," -0.106"," -0.109"," -0.111"," -0.114"," -0.116"," -0.119"," -0.121"," -0.124"," -0.127"," -0.129"," -0.132"," -0.135"," -0.138"," -0.141"," -0.144"," -0.147"," -0.15"," -0.152"," -0.156"," -0.159"," -0.162"," -0.165"," -0.168"," -0.171"," -0.174"," -0.178"," -0.181"," -0.184"," -0.188"," -0.191"," -0.195"," -0.198"," -0.202"," -0.205"," -0.209"," -0.215"," -0.218"," -0.222"," -0.226"," -0.23"," -0.234"," -0.238"," -0.242"," -0.246"," -0.25"," -0.253"," -0.257"," -0.261"," -0.265"," -0.27"," -0.274"," -0.277"," -0.281"," -0.285"," -0.291"," -0.2965"," -0.301"," -0.305"," -0.31"," -0.313"," -0.318"," -0.323"," -0.328"," -0.332"," -0.336"," -0.34"," -0.347"," -0.351"," -0.355"," -0.362"," -0.367"," -0.372"," -0.375"," -0.38"," -0.387"," -0.391"," -0.395"," -0.402"," -0.406"," -0.41"," -0.419"," -0.424"," -0.43"," -0.435"," -0.44"," -0.446"," -0.45"," -0.455"," -0.462"," -0.468"," -0.475"," -0.48"," -0.485"," -0.49"," -0.498"," -0.502"," -0.508"," -0.512"," -0.52"," -0.529"," -0.535"," -0.54"," -0.548"," -0.554"," -0.56"," -0.565"," -0.572"," -0.58"," -0.585"," -0.592"," -0.598"," -0.605"," -0.61"," -0.614"," -0.625"," -0.63"," -0.64"," -0.645"," -0.65"," -0.66"," -0.665"," -0.674"," -0.682"," -0.687"," -0.695"," -0.702"," -0.708"," -0.716"," -0.72"," -0.73"," -0.739"," -0.748"," -0.755"," -0.76"," -0.769"," -0.778"," -0.785"," -0.792"," -0.8"," -0.807"," -0.816"," -0.825"," -0.83"," -0.84"," -0.847"," -0.856"," -0.865"," -0.87"," -0.88"," -0.89"," -0.899"," -0.908"," -0.915"," -0.92"," -0.928"," -0.936"," -0.948"," -0.955"," -0.963"," -0.971"," -0.979"," -0.991"," -1.0"]},Ui=function(e,t){var i,r,n,a=wn;i=function(e){return(e[0]>15?Gi.row0Entry0Unity:Gi.row0Entry0Mult100)+Gi.addVal[e[0]].toString()+(e[1]>15?Gi.row1Entry1Unity:Gi.row1Entry1Mult100)+Gi.addVal[e[1]].toString()+(e[2]>15?Gi.row2Entry2Unity:Gi.row2Entry2Mult100)+Gi.addVal[e[2]].toString()+Gi.row3Entry3Unity}(t),r=a.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i,result:"stage1Addition"}),e.appendChild(r),r=a.createSvgElement("feColorMatrix",{in:"stage1Addition",type:"matrix",values:"-1.0 0.0 0.0 0.0 1.0  0.0 -1.0 0.0 0.0 1.0  0.0 0.0 -1.0 0.0 1.0  0.0 0.0 0.0 1.0 0.0",result:"stage1Inversion"}),e.appendChild(r),i=function(e){return(e[0]>15?Gi.row0Entry0Unity:Gi.row0Entry0Mult100)+Gi.subVal[e[0]].toString()+(e[1]>15?Gi.row1Entry1Unity:Gi.row1Entry1Mult100)+Gi.subVal[e[1]].toString()+(e[2]>15?Gi.row2Entry2Unity:Gi.row2Entry2Mult100)+Gi.subVal[e[2]].toString()+Gi.row3Entry4Point5}(t),r=a.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i,result:"stage1Subtraction"}),e.appendChild(r),n=a.createSvgElement("feBlend",{in:"stage1Inversion",in2:"stage1Subtraction",mode:"screen",result:"stage1ColorZero"}),e.appendChild(n),r=a.createSvgElement("feColorMatrix",{in:"stage1ColorZero",type:"matrix",values:"2.0 0.0 0.0 0.0 0.0  0.0 2.0 0.0 0.0 0.0  0.0 0.0 2.0 0.0 0.0  0.0 0.0 0.0 2.0 -1.0",result:"stage1AlphaCorrection"}),e.appendChild(r)},zi=function(e,t,i,r){var n=Ni;return n=(n=n+"_"+Fi[t])+"_"+i,"string"==typeof r&&(n=n+"_"+r),n},ji=function(e,t){var i,r,n=wn;return i=t.ColorArray,r=n.createSvgElement("filter",{id:t.Id}),Ui(r,i),function(e){var t,i,r,n=wn;t=n.createSvgElement("feColorMatrix",{in:"stage1AlphaCorrection",type:"matrix",values:"1.0 1.0 1.0 0.0 0.0  1.0 1.0 1.0 0.0 0.0  1.0 1.0 1.0 0.0 0.0  0.0 0.0 0.0 1.0 0.0",result:"stage2RGBAddition"}),e.appendChild(t),t=n.createSvgElement("feColorMatrix",{in:"stage2RGBAddition",type:"matrix",values:"1.0 0.0 0.0 0.0 0.499999  0.0 1.0 0.0 0.0 0.499999  0.0 0.0 1.0 0.0 0.499999  0.0 0.0 0.0 1.0 0.0",result:"stage2RGBThresholdRaise"}),e.appendChild(t),i=n.createSvgElement("feComponentTransfer",{result:"stage2Discretization"}),r=n.createSvgElement("feFuncR",{type:"discrete",tableValues:"1.0 0.0"}),i.appendChild(r),r=n.createSvgElement("feFuncG",{type:"discrete",tableValues:"1.0 0.0"}),i.appendChild(r),r=n.createSvgElement("feFuncB",{type:"discrete",tableValues:"1.0 0.0"}),i.appendChild(r),e.appendChild(i),t=n.createSvgElement("feColorMatrix",{in:"stage2Discretization",type:"matrix",values:"0.0 0.0 0.0 0.0 0.0  0.0 0.0 0.0 0.0 0.0  0.0 0.0 0.0 0.0 0.0  -1.0 1.0 -1.0 1.0 0.0",result:"stage2ColorAlphaZero"}),e.appendChild(t)}(r),function(e){var t,i,r=wn;t=r.createSvgElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"1.0 0.0 0.0 0.0 0.0  0.0 1.0 0.0 0.0 0.0  0.0 0.0 1.0 0.0 0.0  0.0 0.0 0.0 0.0 0.5",result:"stage3AlphaZeroPointFive"}),e.appendChild(t),i=r.createSvgElement("feBlend",{in:"stage2ColorAlphaZero",in2:"stage3AlphaZeroPointFive",mode:"screen",result:"stage3ColorAlphaZero"}),e.appendChild(i),t=r.createSvgElement("feColorMatrix",{in:"stage3ColorAlphaZero",type:"matrix",values:"2.0 0.0 0.0 0.0 0.0  0.0 2.0 0.0 0.0 0.0  0.0 0.0 2.0 0.0 0.0  0.0 0.0 0.0 2.0 -1.0",result:"stage3Correction"}),e.appendChild(t)}(r),r},Xi=function(e){return"string"==typeof e&&e.slice(0,6)===Ni},Ki=function(e,t){var i,r;e.imgFilters||function(e){e.imgFilters={},e.imgFilters.Count=0,e.imgFilters.FilterList={}}(e),!0!==(r=(i=e.imgFilters).FilterList)[t]&&(r[t]=!0,i.Count=i.Count+1)},Zi=function(e,t){var i,r=wn;return!("string"!=typeof t||!Xi(t)||(qi(e,t)&&(delete(i=e.imgFilters).FilterList[t],i.Count=i.Count-1,r.removeSvgDef(e,t)),0))},{enumFilterType:Mi={None:0,ColorToTransparency:1,SvgNative:2},enumFilterTypeSvgNative:Hi={Blend:0,ColorMatrix:1,ComponentTransfer:2,Composite:3,ConvolveMatrix:4,DiffuseLighting:5,DisplacementMap:6,DistantLight:7,Flood:8,FuncA:9,FuncB:10,FuncG:11,FuncR:12,GaussianBlur:13,Image:14,Merge:15,MergeNode:16,Morphology:17,Offset:18,PointLight:19,SpecularLighting:20,SpotLight:21,Tile:22,Turbulence:23},configFilterColorToTransparency:function(e,t,i){var r,n,a,o={};return n=65536*(r=ka.colorToRgb(t))[0]+256*r[1]+r[2],""===(a=zi(0,Mi.ColorToTransparency,n.toString(),i))?null:(o.Type=Mi.ColorToTransparency,o.Id=a,o.ColorArray=r,o)},configFilterSvgNative:function(e,t,i){var r,n={};return t?(n.Type=Mi.SvgNative,r=t.computeSubType(t),n.Id=zi(0,Mi.SvgNative,r,i),n.filterProps=t,n):null},getFilterPropsSvgNative:function(e){var t,i;return(t=Hi[e])&&Oi[t]?(i=ki[Oi[t]],o.extend(!0,{},i)):null},filterExistent:Yi=function(e,t){return null!==wn.lookupSvgDef(e,t)},getFilterCount:function(e){var t=e.imgFilters;return t?t.Count:0},getFilterIdFromConfig:function(e){var t="";return e.Id&&(t=e.Id),t},usesFilter:qi=function(e,t){var i,r=e.imgFilters;return!!r&&!!Xi(t)&&void 0!==(i=r.FilterList)[t]&&!0===i[t]},createFilter:function(e,t){var i,r,n=wn,a=null;if(!function(e){return!(!e||"number"!=typeof e.Type)&&Xi(e.Id)}(t))return!1;if(r=t.Id,null!==(i=n.lookupSvgDef(e,r)))return qi(e,r)||(n.appendSvgDef(e,i),Ki(e,r)),!0;switch(t.Type){case Mi.ColorToTransparency:a=ji(0,t);break;case Mi.SvgNative:a=function(e,t){var i,r,n;return r=wn.createSvgElement("filter",{id:t.Id}),n=(0,(i=t.filterProps).createFilterElement)(i,i.result),r.appendChild(n),r}(0,t);break;default:a=null}return null!==a&&(n.appendSvgDef(e,a),Ki(e,r),!0)},addFilterToSvgImage:function(e,t,i){return!(!t||!Xi(i)||!Yi(e,i)||(t.setAttribute("filter","url(#"+i+")"),0))},getFilterIdFromSvgImage:function(e){var t;return e&&(t=e.getAttribute("filter"))?t.slice(5,t.length-1):""},removeFilter:Zi,removeFilterQuantity:function(e,t){var i=e.imgFilters,r=0;if(i){for(var n in t=t<i.Count?t:i.Count,i.FilterList){if(!(r<t))break;Zi(e,n),r+=1}i.Count=i.Count-r}},removeAllFilters:function(e){var t,i=e.imgFilters;if(i){for(var r in t=i.FilterList)Zi(e,r);t.length=0,i.Count=0,delete e.imgFilters}}});var $i=function(){var e=h,t={Enabled:{func:["OperationEnabled"]},BackFillPattern:{func:["Border.BorderItems","Border.BorderRect","_ImageBounds"],dep:["BackColor"]},GraphicStretchMode:{func:["_ImageBounds"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ShowFillLevel:{func:["Border.BorderItems","Border.BorderRect","_ImageClipPath","_ImageBounds"]},FillLevel:{func:["Border.FillClip","_ImageBounds"]},FillDirection:{func:["Border.FillClip","_ImageBounds"]},Padding:{func:["_ImageBounds"]},BackColor:{func:["Border.BackColors"]},AlternateBackColor:{dep:["BackFillPattern"]},Left:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Height:{func:["Border.BorderRect","Border.FillClip","_ImageBounds"],dep:["RotationAngle"]},Graphic:{func:["_HandlePropGraphic"]}},i={useCloning:b.useCloning,blueprint:null,expressions:null},r=function(e){if(!i.blueprint){i.useCloning=!1;var t=e.gfxWebLib.createHmiObject(e.props.Type,"blueprint_graphicview");i.useCloning=!0,i.blueprint=t.domNode,t.domNode=null,r=new XPathEvaluator,a=function(e){return"http://www.w3.org/2000/svg"},(o={}).BI=r.createExpression("svg:rect[4]",a),o.BIFR=r.createExpression("svg:rect[2]",a),o.BBI=r.createExpression("svg:rect[3]",a),o.BBIFR=r.createExpression("svg:rect[1]",a),o.IM=r.createExpression("svg:image[1]",a),o.IMCP=r.createExpression("svg:clipPath[1]",a),o.IMCR=r.createExpression("svg:clipPath[1]/svg:path[1]",a),o.IMTP=r.createExpression("svg:pattern[1]",a),o.IMTR=r.createExpression("svg:rect[1]",a),i.expressions=o}var r,a,o;return function(e,t){var r=i.blueprint.cloneNode(!0);e.domNode=e.domSvgNode=r,wn.augmentSvgScreenItemNode(e,{},e.domNode);var n=i.expressions;e.svgImage=n.IM.evaluate(e.domNode,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,e.svgImageClipPath=null,e.svgImageClipRect=null,e.svgImageTilingPattern=null,e.svgImageTilingRect=null,e.imgData=null}(e),n(e),e.border=rn.Border.createBorderClone(e.domNode,i.expressions,!0),e.props.Enabled=Ha.getPropRaw(e,"Enabled"),e.props.Visible=Ha.getPropRaw(e,"Visible"),e.handler.onChanged(e,e.props),e.domNode},n=function(e){e.imgData={upToDate:!1}},a=function(e,t){var i=Ha,r=wn,n=r.getSvgDefs(e),a=i.getProp(e,"ShowFillLevel");null!==e.svgImageClipPath&&(e.svgImageClipPath.removeChild(e.svgImageClipRect),e.svgImageClipRect=null,n.removeChild(e.svgImageClipPath),e.svgImageClipPath=null,e.svgImage.removeAttribute("clip-path"),e.svgImageBgRect&&(e.domSvgNode.removeChild(e.svgImageBgRect),e.svgImageBgRect=null)),(a||t)&&(e.svgImageClipPath=r.createSvgElement("clipPath",{id:Y.mkId(e,"ID_ImageClipPath"),appendTo:n}),e.svgImageClipRect=r.createSvgElement("rect",{appendTo:e.svgImageClipPath}),e.svgImage.setAttribute("clip-path",Y.mkUrl(e,"ID_ImageClipPath")),a&&(e.svgImageBgRect=r.createSvgElement("rect",{fill:"rgba(0,0,0,0)",appendTo:e.domSvgNode})))},o=function(e,t){e.imgData.imgBounds={},e.imgData.imgBounds.w=t.w,e.imgData.imgBounds.h=t.h,e.imgData.upToDate=!0,d(e),e.svgImage.setAttributeNS(wn.xlinkNS,"xlink:href",e.imgData.imgUrl)},s=function(e){var t,i=Ha,r=new _;e&&e.imgData&&(t=i.getProp(e,"Graphic"),e.imgData.upToDate=!1,r.loadImage(e,t,o))},l=function(e,t,i,r){var n,a;n=t.w-i.w,a=t.h-i.h,r.l=t.l+n/2,r.t=t.t+a/2,r.w=i.w,r.h=i.h},u=function(t,i,r){var n=Ha,o={};if(r.w=r.w||t.props.GraphicWidth||0,r.h=r.h||t.props.GraphicHeight||0,t&&i&&r&&r.w>0&&r.h>0){const s=n.getProp(t,"GraphicStretchMode"),u=s!==e.HmiGraphicStretchMode.Fill&&s!==e.HmiGraphicStretchMode.Tiled;switch(s){case e.HmiGraphicStretchMode.None:l(0,i,r,o);break;case e.HmiGraphicStretchMode.Fill:!function(e,t,i,r){r.l=t.l,r.t=t.t,r.h=t.h,r.w=t.w}(0,i,0,o);break;case e.HmiGraphicStretchMode.Uniform:!function(e,t,i,r){var n,a,o;n=(t.w-i.w)/i.w,a=(t.h-i.h)/i.h,n<=0&&a>=0||n<=0&&a<=0&&Math.abs(n)>=Math.abs(a)||n>0&&a>0&&Math.abs(n)<=Math.abs(a)?(o=t.w/i.w,r.l=t.l,r.w=t.w,r.h=i.h*o,r.t=t.t+(t.h-r.h)/2):(o=t.h/i.h,r.t=t.t,r.h=t.h,r.w=i.w*o,r.l=t.l+(t.w-r.w)/2)}(0,i,r,o);break;case e.HmiGraphicStretchMode.UniformToFill:!function(e,t,i,r){var n,a,o;n=(t.w-i.w)/i.w,a=(t.h-i.h)/i.h,n>=0&&a<=0||n>=0&&a>=0&&Math.abs(n)>=Math.abs(a)||n<0&&a<0&&Math.abs(n)<=Math.abs(a)?(o=t.w/i.w,r.l=t.l,r.w=t.w,r.h=i.h*o,r.t=t.t+(t.h-r.h)/2):(o=t.h/i.h,r.t=t.t,r.h=t.h,r.w=i.w*o,r.l=t.l+(t.w-r.w)/2)}(0,i,r,o);break;case e.HmiGraphicStretchMode.Tiled:!function(e,t,i,r){r.t=0,r.l=0,r.w=i.w,r.h=i.h}(0,0,r,o);break;default:l(0,i,r,o)}n.getProp(t,"ShowFillLevel")||a(t,u)}else eo.consolLog(eo.enumTraceMode.Error,"Failed to get the graphic size of item (rtoid): "+t.rtoid);return o},d=function(t){var i,r,n,a,o,s,l=Ha,h=rn,d=wn;if(i=h.getInnerBounds(t),r=function(e){return e&&e.imgData&&e.imgData.upToDate?e.imgData.imgBounds:null}(t),!r)return!1;if(n=u(t,i,r),function(e,t){e&&t&&wn.setBBox(e,t)}(t.svgImage,n),function(t,i,r){var n=wn,a=n.getSvgDefs(t),o=Ha.getProp(t,"GraphicStretchMode")===e.HmiGraphicStretchMode.Tiled,s=o&&!t.svgImageTilingPattern||!o&&t.svgImageTilingPattern;return s&&(null!==t.svgImageTilingPattern&&(a.removeChild(t.svgImageTilingPattern),t.svgImageTilingPattern=null,t.domSvgNode.removeChild(t.svgImageTilingRect),t.svgImageTilingRect=null),o&&(t.svgImageTilingPattern=n.createSvgElement("pattern",{id:Y.mkId(t,"ID_ImageTilingPattern"),patternUnits:"userSpaceOnUse",appendTo:a}),t.svgImageTilingRect=n.createSvgElement("rect",{appendTo:t.domSvgNode}))),o&&i&&(t.svgImageTilingPattern.setAttribute("x",i.l),t.svgImageTilingPattern.setAttribute("y",i.t),t.svgImageTilingPattern.setAttribute("width",r.w),t.svgImageTilingPattern.setAttribute("height",r.h),n.setBBox(t.svgImageTilingRect,i)),s}(t,i,r)&&function(t){Ha.getProp(t,"GraphicStretchMode")!==e.HmiGraphicStretchMode.Tiled?(t.domSvgNode.appendChild(t.svgImage),null!==t.svgImageClipPath&&t.svgImage.setAttribute("clip-path",Y.mkUrl(t,"ID_ImageClipPath"))):(t.svgImage.removeAttribute("clip-path"),t.svgImageTilingPattern.appendChild(t.svgImage),t.svgImageTilingRect.setAttribute("fill",Y.mkUrl(t,"ID_ImageTilingPattern")),t.svgImageTilingRect.setAttribute("clip-path",Y.mkUrl(t,"ID_ImageClipPath")))}(t),null!==t.svgImageClipPath){if(o=l.getProp(t,"ShowFillLevel"),a=h.copyBounds(i),o)switch(s=l.getProp(t,"FillLevel"),l.getProp(t,"FillDirection")){case e.HmiFillDirection.BottomToTop:a.h=(100-s)/100*a.h;break;case e.HmiFillDirection.TopToBottom:a.t=a.t+s/100*a.h,a.h=(100-s)/100*a.h;break;case e.HmiFillDirection.LeftToRight:a.l=a.l+s/100*a.w,a.w=(100-s)/100*a.w;break;case e.HmiFillDirection.RightToLeft:a.w=(100-s)/100*a.w}d.setBBox(t.svgImageClipRect,a),t.svgImageBgRect&&d.setBBox(t.svgImageBgRect,i)}return!0};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"rect",onInit:function(e){return i.useCloning?r(e):(function(e){e.border=rn.Border.createBorder(!0),e.svgImage=e.svgImageBgRect=e.svgImageClipPath=e.svgImageClipRect=e.svgImageTilingPattern=e.svgImageTilingRect=e.imgData=null}(e),function(e){var t=wn;e.domSvgNode=e.domNode=t.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),e.svgImage=t.createSvgElement("image",{preserveAspectRatio:"none",appendTo:e.domSvgNode}),e.props.imageRendering&&(e.svgImage.style.imageRendering=e.props.imageRendering)}(e),n(e),rn.initAllAttributes(e),e.domNode)},onChanged:function(e,t,i){t=Ha.handleScreenModelPart(e,t,i),rn.onChanged(e,t)},onCleanUp:function(e){var t=E,i=Ji;e.svgImageClipPath&&t.removeNodeWithAllChilds(e.svgImageClipPath),i.removeAllFilters(e)},getPropertyBinding:function(){return t},onPropBindFunc:function(e,t){switch(e){case"_ImageClipPath":a(t);break;case"_HandlePropGraphic":!function(e){var t,i=Ha,r=ka;e&&e.imgData&&((t=i.getProp(e,"Graphic"))?(e.imgData.imgUrl=r.toHRef(t,e),s(e)):(e.svgImage.setAttributeNS(wn.xlinkNS,"xlink:href",""),e.imgData.upToDate=!1))}(t);break;case"_ImageBounds":d(t);break;case"_ImageBoundsOrig":s(t)}}}}();const er=$i;var tr=function(){var e={Enabled:{func:["OperationEnabled"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ForeColor:{gc:"Color",svg:[{si:"text.svgText",sp:"fill"}]},Left:{func:["Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Top:{func:["Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Width:{func:["Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Height:{func:["Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Font:{func:["Text.Font"],dep:["Text"]},HorizontalTextAlignment:{func:["Text.TextHorizontalAlignment"]},VerticalTextAlignment:{func:["Text.TextVerticalAlignment"]},Text:{func:["_setText"]}},t=function(e){e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),e.text=rn.Text.createText(e,function(e){return{getBBox:function(){var t=rn.getBounds(e);return{x:t.l,y:t.t,width:t.w,height:t.h}}}}(e))};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",onInit:function(e){return t(e),rn.initAllAttributes(e),e.domNode},onChanged:function(e,t,i){t=Ha.handleScreenModelPart(e,t,i),rn.onChanged(e,t)},onCleanUp:function(e){},getPropertyBinding:function(){return e},onPropBindFunc:function(e,t,i){switch(e){case"_setText":!function(e){var t=Ha.getProp(e,"Text");rn.Text.setText(e.text,t)}(t);break;case"_updateLayout":!function(e,t){t||rn.Text.setOffsets(e.text,0,0)}(t,i)}}}}();const ir=tr;var rr,nr;const ar=(nr=function(e){return e.replace(/^[0]+/g,"")},{getDefaultOutputFormat:rr=function(e){var t=window.Variant.CF_VT;switch(e&t.TYPE_MASK){case t.BOOL:return"{B}";case t.INT8:case t.INT16:case t.INT32:case t.INT64:case t.UINT8:case t.UINT16:case t.UINT32:case t.UINT64:return"{I}";case t.FLOAT:case t.DOUBLE:return"{F}";case t.TIMESPAN:return"{P}";case t.DATETIME:return"{D} {T}";case t.CY:return"{N2}";case t.BITSET8:return"{B8,4}";case t.BITSET16:return"{B16,4}";case t.BITSET32:return"{H8,4}";case t.BITSET64:return"{H16,4}";case t.BLOB:return"{H}";case t.CHROM_CHAR:case t.STR:case t.SREF:return"{S}"}return""},is64BitDataType:function(e){var t=window.Variant.CF_VT;switch(e){case t.INT64:case t.UINT64:case t.BITSET64:case t.CY:return!0;default:return!1}},getDefaultProcessValueOutputFormat:function(e){return""===e.format?void 0!==e.vt?rr(e.vt):"string"==typeof e.pv?"{S}":"number"==typeof e.pv?"{F}":"":e.format},convertString2DataType:function(e,t,i){var r=ka.enumHmiFieldDataType;if(0!==t.length||!function(e){var t=ka.enumHmiFieldDataType;return e>=t.Decimal&&e<=t.Float}(i)){switch(i){case r.Binary:return t=nr(t),t=ja.baseConverter.bin2dec(t);case r.Hex:return t=nr(t),t=ja.baseConverter.hex2dec(t);case r.Integer:return t=nr(t);case r.Float:case r.Decimal:case r.Exponential:t=parseFloat(t.replace(",","."));break;case r.Date:case r.Time:case r.DateTime:case r.String:return t}return isNaN(t)?void 0:t}}});var or=function(){var e=function(e){var t=Ha,i=ka,r=t.getProp(e,"RotationAngle",i.enumConverter.TransformRotatePlaced,0),n=t.getProp(e,"Flip",i.enumConverter.TransformScale,0);if(r||n){var a="";r&&(a+=r),n&&(a+=" translate("+(2*t.getProp(e,"Left")+t.getProp(e,"Width"))+", 0 )",a+=" "+n),e.domNode.setAttribute("transform",a)}else e.domNode.removeAttribute("transform")},t=function(t,i){var r=Ha,n=ka;t.domSvgNode.setAttribute("focusable",!1),t.domSvgNode.setAttribute("display",r.getProp(t,"Visible",n.enumConverter.Display)),t.domSvgNode.setAttribute("x",r.getProp(t,"Left")),t.domSvgNode.setAttribute("y",r.getProp(t,"Top")),t.domSvgNode.setAttribute("width",Math.max(0,r.getProp(t,"Width"))),t.domSvgNode.setAttribute("height",Math.max(0,r.getProp(t,"Height"))),t.domSvgNode.style["pointer-events"]="none",t.domSvgNode.style.contain="content",function(e){for(var t=e.firstElementChild;t;)t.style&&"defs"!==t.nodeName&&(t.style["pointer-events"]="visiblePainted"),t=t.nextElementSibling}(t.domSvgNode),t.domSvgNode.setAttribute("opacity",r.getProp(t,"Opacity",n.enumConverter.None,1)),e(t),rn.setEnabled(t),t.quality=rn.Quality.create(t),rn.Quality.ShowQuality(t),t.handler&&t.handler.onScopeInitialized&&t.handler.onScopeInitialized(t,i)},i=function(t,i){var r=ka,n=rn;void 0!==i.Enabled&&n.setEnabled(t),t.domNode&&(void 0===i.RotationAngle&&void 0===i.RotationCenterX&&void 0===i.RotationCenterY&&void 0===i.RotationCenterPlacement||(e(t),n.Quality.ShowQuality(t)),void 0===i.CurrentQuality&&void 0===i.VisualizeQuality||n.Quality.ShowQuality(t),void 0!==i.Name&&t.domNode.setAttribute("data-tif-id",i.Name)),t.domSvgNode&&(void 0!==i.Visible&&t.domSvgNode.setAttribute("display",r.convertTo(r.enumConverter.Display,i.Visible,t)),void 0!==i.Left&&t.domSvgNode.setAttribute("x",i.Left),void 0!==i.Top&&t.domSvgNode.setAttribute("y",i.Top),void 0===i.Top&&void 0===i.Left&&void 0===i.Width&&void 0===i.Height||(void 0!==i.Width&&t.domSvgNode.setAttribute("width",Math.max(0,i.Width)),void 0!==i.Height&&t.domSvgNode.setAttribute("height",Math.max(0,i.Height)),e(t),n.Quality.ShowQuality(t)),void 0!==i.Opacity&&t.domSvgNode.setAttribute("opacity",i.Opacity),(void 0!==i.Flip||t.props.Flip&&void 0!==i.Left)&&e(t))};return{HANDLE_NAME:"WebRTPU.Handler",DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.WebRTPU.Handler",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,r){return e.handler.updateFrameAttributes=i,e.domNode=wn.createSvgElement("g"),Ma.onInit(e,t,r),e.domNode},onCurrentLanguage:function(e){Ma.onCurrentLanguage(e)},onCurrentStyle:function(e){Ma.onCurrentStyle(e)},onChanged:function(e,t,i){return Ma.onChanged(e,t,i)},onCreatePart:function(e,t,i){return Ma.onCreatePart(e,t,i)},onDeletePart:function(e,t){return Ma.onDeletePart(e,t)},onMovePart:function(e,t,i){return Ma.onMovePart(e,t,i)},onFocus:function(e){Ma.onFocus(e)},onFocusOut:function(e){Ma.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return Ma.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){Ma.onCleanUp(e)},getPropertyBinding:function(){return null},getBounds:function(e){var t=Ha;return{l:t.getPropRaw(e,"Left"),t:t.getPropRaw(e,"Top"),w:t.getPropRaw(e,"Width"),h:t.getPropRaw(e,"Height")}},onFlashing:function(e,t,i){Ma.onFlashing(e,t,i)},checkControlIsReady:function(e){return Ma.checkControlIsReady(e)},addDelayedUpdates:function(e,t,i,r){Ma.addDelayedUpdates(e,t,i,r)},handleDelayedUpdates:function(e){Ma.handleDelayedUpdates(e)},webRtpuIsArray:function(e){return Ma.webRtpuIsArray(e)},registerWebRTPUContent:function(e,t,i){Ma.registerWebRTPUContent(e,t,i)},setParamProps:function(e,t,i){Ma.setParamProps(e,t,i)},getTemplatePrefixUri:function(e){return Ma.getTemplatePrefixUri(e)},loadSubTemplate:function(e,t,i,r,n,a){return Ma.loadSubTemplate(e,t,i,r,n,a)},removeSubTemplate:function(e){Ma.removeSubTemplate(e)}}}();const sr=or;var lr,ur,hr,dr,cr,pr;const mr=(lr=sr,ur=new window.Variant(0),hr={threshold:3,startPos:null,baseWindow:null,trendAreaTarget:null,trendControl:null,cloned:!1,item:null},dr=E.createDomElement("div",{style:"position: absolute; pointer-events: none;"}),cr=function(e){hr.startPos=hr.startPos||{x:e.pageX,y:e.pageY};const t=Math.abs(e.pageX-hr.startPos.x)>=hr.threshold||Math.abs(e.pageY-hr.startPos.y)>=hr.threshold;if(!hr.cloned&&t){var i=hr.item.domSvgNode.cloneNode(!0);dr.appendChild(i),dr.style.opacity="0.5",hr.baseWindow.domNode.appendChild(dr),hr.cloned=!0}dr.style.left=e.clientX+2+"px",dr.style.top=e.clientY+2+"px";var r=function(){for(var e=document.querySelectorAll(":hover"),t={TrendControl:null,TrendArea:null},i=0;i<e.length;i++){if(e[i].id.includes("TrendControlContent")){var r=e[i].parentNode;"TrendControl"===r.TifProperties.item.props.Type&&(t.TrendControl=r.TifProperties.item)}e[i].id.includes("eventRect")&&e[i].parentNode.id.includes("eventFocusElements")&&(t.TrendArea=e[i])}return t}();r.TrendControl&&Ha.getProp(r.TrendControl,"Enabled")?(hr.trendControl&&hr.trendControl!==r.TrendControl&&hr.item.gfxWebLib.selection.setActiveItem(hr.item),hr.trendControl=r.TrendControl,hr.trendControl.gfxWebLib.selection.setActiveItem(hr.trendControl),hr.trendAreaTarget&&(hr.trendAreaTarget.setAttribute("stroke","none"),hr.trendAreaTarget.setAttribute("stroke-width","none"),hr.trendAreaTarget=null),r.TrendArea&&(hr.trendAreaTarget=r.TrendArea,hr.trendAreaTarget.setAttribute("stroke","rgb(125,204,246)"),hr.trendAreaTarget.setAttribute("stroke-width","5"))):hr.trendControl&&!r&&(hr.item.gfxWebLib.selection.setActiveItem(hr.item),hr.trendControl=null,hr.trendAreaTarget&&(hr.trendAreaTarget.setAttribute("stroke","none"),hr.trendAreaTarget.setAttribute("stroke-width","none"),hr.trendAreaTarget=null))},pr=function(e){if(hr.cloned&&0!==dr.children.length&&(dr.removeChild(dr.children[0]),hr.baseWindow.domNode.removeChild(hr.baseWindow.domNode.children[hr.baseWindow.domNode.children.length-1])),hr.trendControl){var t;if(hr.trendControl.gfxWebLib.selection.setActiveItem(hr.trendControl),hr.trendAreaTarget){hr.trendAreaTarget.setAttribute("stroke","none");const e=hr.trendAreaTarget.getAttribute("id");t=Array.from(hr.trendControl.props.TrendAreas).find((t=>`${hr.trendControl.rtoid}_${t.Name}_eventRect`===e))}else t=hr.trendControl.props.TrendAreas[0];const e={value:null,source:{screenid:hr.item.container.props.ElementID,itemid:hr.item.props.ElementID},target:t?t.ElementID:null},i=hr.trendControl.gfxWebLib.connection.getEventIDs();i&&hr.trendControl.gfxWebLib.connection.sendEvent(hr.trendControl.rtoid,i.OnDrop,e)}hr.trendControl=null,hr.trendAreaTarget=null,hr.cloned=!1,hr.baseWindow=null,hr.item=null,document.removeEventListener("pointermove",cr),document.removeEventListener("pointerup",pr)},{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",TEMPLATE_HANDLER_TYPE:"NATIVE",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e){return rn.onInitEnabled(e),e.props.ProcessValue&&e.props.ProcessValue.VT&&(e._vt=e.props.ProcessValue.VT),e._orgOutputFormat=Ha.getProp(e,"OutputFormat"),lr.onInit(e)},initProcessValueAndOutputFormats:function(e){var t,i=ar,r={};e.props.ProcessValue&&(t=ur.setValue(Ha.getProp(e,"ProcessValue")),i.is64BitDataType(t.typeOf())?e.props.ProcessValue=ja.format(t._value,"{I}"):e.props.ProcessValue=t.jsValueOf(),""===e.props.OutputFormat&&(r.format=e.props.OutputFormat,r.pv=t.valueOf(),r.vt=t.typeOf(),e.props.OutputFormat=i.getDefaultProcessValueOutputFormat(r)))},onCurrentLanguage:function(e,t){lr.onCurrentLanguage(e,t)},onCurrentStyle:function(e,t){lr.onCurrentStyle(e,t)},onChanged:function(e,t,i){!function(e,t,i){var r,n=Ha,a=ar,o={};t.ProcessValue&&t.ProcessValue.VT&&(e._vt=t.ProcessValue.VT),""===n.getScreenModelPartName(e,t,i)&&(void 0!==t.OutputFormat&&(e._orgOutputFormat=t.OutputFormat,""===t.OutputFormat&&(r=ur.setValue(n.getProp(e,"ProcessValue")),o.format=e._orgOutputFormat,o.pv=r.valueOf(),o.vt=r.typeOf(),t.OutputFormat=a.getDefaultProcessValueOutputFormat(o))),void 0!==t.ProcessValue&&(r=ur.setValue(t.ProcessValue),a.is64BitDataType(r.typeOf())?t.ProcessValue=ja.format(r._value,"{I}"):t.ProcessValue=r.jsValueOf(),""===e._orgOutputFormat&&(o.format=e._orgOutputFormat,o.pv=r.valueOf(),o.vt=r.typeOf(),t.OutputFormat=a.getDefaultProcessValueOutputFormat(o))))}(e,t,i),rn.onChangedEnabled(e,t,i),lr.onChanged(e,t,i)},onFlashing:function(e,t,i){lr.onFlashing(e,t,i)},onFocus:function(e){lr.onFocus(e)},onFocusOut:function(e){lr.onFocusOut(e)},checkInnerNavigation:function(e,t,i,r){return lr.checkInnerNavigation(e,t,i,r)},onCleanUp:function(e){lr.onCleanUp(e)},onInputFinished:function(e,t){e.gfxWebLib.connection.sendEventByName(e.rtoid,"InputFinished",t)},getPropertyBinding:function(){return lr.getPropertyBinding()},getBounds:function(e){return lr.getBounds(e)},onPointerDown:function(e,t,i){if(e._vt!==window.Variant.CF_VT.DATETIME&&e._vt!==window.Variant.CF_VT.TIMESPAN){var r=e.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(e);hr.baseWindow=r,hr.item=e,hr.startPos=null,document.addEventListener("pointermove",cr),document.addEventListener("pointerup",pr)}}});var gr={fill:"#CCCCCC"};const Tr=function(e,t,i,r,n,a,o,s){var l=e,u=o,h={fill:"#EEEEEE"},d=gr,c={fill:"#BBBBBB"},p={fill:"#F6F6F6"},m=s,g=null,T=null,f=null;return function(e){var t=!1;return g=wn.createSvgElement("g"),"object"==typeof e?"svg"!==e.nodeName&&"g"!==e.nodeName&&"svg:svg"!==e.nodeName&&"svg:g"!==e.nodeName||(e.appendChild(g),t=!0):"string"==typeof e&&(document.getElementById(e)?(document.getElementById(e).appendChild(g),t=!0):(g.setAttributeNS(null,"id",e),document.documentElement.appendChild(g),t=!0)),t}(t)&&function(e,t,i,r){var n,a,o,s,c,p=0,m=0;for(o in r>i?(p=(r-i)/2,m=0,s=i):(p=0,m=(i-r)/2,s=r),a=s/4,"vertical_up"===u?(c="LineUp",n="M"+(e+m+a)+" "+(t+p+3*a)+" L"+(e+.5*i)+" "+(t+p+a)+" L"+(e+m+3*a)+" "+(t+p+3*a)+" Z"):"vertical_down"===u?(c="LineDown",n="M"+(e+m+3*a)+" "+(t+p+a)+" L"+(e+.5*i)+" "+(t+p+3*a)+" L"+(e+m+a)+" "+(t+p+a)+" Z"):"horizontal_up"===u?(c="LineUp",n="M"+(e+m+a)+" "+(t+.5*r)+" L"+(e+m+3*a)+" "+(t+p+3*a)+" L"+(e+m+3*a)+" "+(t+p+a)+" Z"):(c="LineDown",n="M"+(e+m+3*a)+" "+(t+.5*r)+" L"+(e+m+a)+" "+(t+p+a)+" L"+(e+m+a)+" "+(t+p+3*a)+" Z"),T=wn.createSvgElement("rect",{id:l,"data-tif-type":c,x:e,y:t,width:i,height:r,appendTo:g}),h)h.hasOwnProperty(o)&&T.setAttributeNS(null,o,h[o]);for(o in f=wn.createSvgElement("path",{d:n,"pointer-events":"none",appendTo:g}),d)d.hasOwnProperty(o)&&f.setAttributeNS(null,o,d[o])}(i,r,n,a),{onPointerDown:function(e,t,i){var r;for(r in d)d.hasOwnProperty(r)&&f.removeAttributeNS(null,r);for(r in c)c.hasOwnProperty(r)&&f.setAttributeNS(null,r,c[r]);this.fireFunction("buttonDown")},onPointerUp:function(e,t){var i;for(i in c)c.hasOwnProperty(i)&&f.removeAttributeNS(null,i);for(i in d)d.hasOwnProperty(i)&&f.setAttributeNS(null,i,d[i]);this.fireFunction("buttonUp")},fireFunction:function(e){"function"!=typeof m?"object"!=typeof m||m.scrollbuttonChanged(l,e):m(l,e)},updateScrollButton:function(e,t,i,r){var n,a,o,s=0,l=0,h=wn.setAttr;r>i?(s=(r-i)/2,l=0,o=i):(s=0,l=(i-r)/2,o=r),a=o/4,n="vertical_up"===u?"M"+(e+l+a)+" "+(t+s+3*a)+" L"+(e+.5*i)+" "+(t+s+a)+" L"+(e+l+3*a)+" "+(t+s+3*a)+" Z":"vertical_down"===u?"M"+(e+l+3*a)+" "+(t+s+a)+" L"+(e+.5*i)+" "+(t+s+3*a)+" L"+(e+l+a)+" "+(t+s+a)+" Z":"horizontal_up"===u?"M"+(e+l+a)+" "+(t+.5*r)+" L"+(e+l+3*a)+" "+(t+s+3*a)+" L"+(e+l+3*a)+" "+(t+s+a)+" Z":"M"+(e+l+3*a)+" "+(t+.5*r)+" L"+(e+l+a)+" "+(t+s+a)+" L"+(e+l+a)+" "+(t+s+3*a)+" Z",h(T,{x:e,y:t,width:i,height:r}),h(f,{d:n,"pointer-events":"none"})},hide:function(){g.setAttributeNS(null,"display","none")},show:function(){g.setAttributeNS(null,"display","inherit")},remove:function(){g.parentNode.removeChild(g)},enable:function(){var e;for(e in p)p.hasOwnProperty(e)&&T.removeAttributeNS(null,e);for(e in h)h.hasOwnProperty(e)&&T.setAttributeNS(null,e,h[e])},disable:function(){var e;for(e in h)h.hasOwnProperty(e)&&T.removeAttributeNS(null,e);for(e in p)p.hasOwnProperty(e)&&T.setAttributeNS(null,e,p[e])},updateColor:function(){T.setAttributeNS(null,"fill",h.fill)}}};const fr=function(e,t,i,r,n,a,o,s,l,u,h,d,c,p,m){var g,T,f,y=e,D=o,S=s,b=d,C={fill:"#EEEEEE"},v={fill:"#CCCCCC"},P={fill:"#BBBBBB"},_={fill:"#F6F6F6",stroke:"#f6f6f6"},A=c,w="vertical",x=n,V=!1,E=h,I=null,R=!0,B={abs:"",perc:u},L=null,M=0,F=0,H=0,O=0,N=null,k=null,W=null,G=0,U=0,z=0,j=0,Y=function(e,t){var i,r,n,a;return e=e.split("rgba(")[1].split(","),i=parseInt(e[0],10),r=parseInt(e[1],10),n=parseInt(e[2],10),a=e[3],"rgba("+(i=Math.round(Math.min(Math.max(0,i+i*t),255)))+","+(r=Math.round(Math.min(Math.max(0,r+r*t),255)))+","+(n=Math.round(Math.min(Math.max(0,n+n*t),255)))+","+a},X=function(e,t){if(t>=0&&t<=1)return"rgba("+(e=e.split("rgba(")[1].split(","))[0]+","+e[1]+","+e[2]+","+t+")"};return function(e){var t=!1;return I=wn.createSvgElement("g"),"object"==typeof e?"svg"!==e.nodeName&&"g"!==e.nodeName&&"svg:svg"!==e.nodeName&&"svg:g"!==e.nodeName||(e.appendChild(I),t=!0):"string"==typeof e&&(document.getElementById(e)?(document.getElementById(e).appendChild(I),t=!0):(I.setAttributeNS(null,"id",e),document.documentElement.appendChild(I),t=!0)),t}(t)&&function(e,t,i,r,n,a,o){var s,l,u,h,d,c,m=!1,T=!1;if("string"==typeof p&&-1!==p.indexOf("rgba")&&(C.fill=Y(p,1.4),P.fill=X(p,.8),gr.fill=v.fill=X(p,.5)),!o&&i>r?(w="horizontal",x=r):o&&(x="horizontal"===(w=o)?r:i),"vertical"===w)if(I.setAttribute("data-tif-type","VScroll"),I.setAttribute("data-tif-id","VScroll_"+y),s=e,l=e,M=e,H=i,r<=2*x)T=!0,O=0,u=t,h=t+r/2;else switch(O=r-2*x,b){case"top_top":F=t+2*x,u=t,h=t+x;break;case"bottom_bottom":F=t,u=t+r-2*x,h=t+r-x;break;case"top_bottom":F=t+x,u=t,h=t+r-x;break;default:F=t,O=r}else if("horizontal"===w)if(I.setAttribute("data-tif-type","HScroll"),I.setAttribute("data-tif-id","HScroll_"+y),u=t,h=t,F=t,O=r,i<=2*x)m=!0,H=0,s=e,l=e+i/2;else switch(H=i-2*x,b){case"top_top":M=e+2*x,s=e,l=e+x;break;case"bottom_bottom":M=e,s=e+i-2*x,l=e+i-x;break;case"top_bottom":M=e+x,s=e,l=e+i-x;break;default:M=e,H=i}for(d in L=wn.createSvgElement("rect",{id:"scrollbar_"+y,"data-tif-type":"Scrollbar",x:M,y:F,width:H,height:O,appendTo:I}),C)C.hasOwnProperty(d)&&L.setAttributeNS(null,d,C[d]);for(d in"vertical"===w?(U=F+(O-O*n)*a,z=Math.max(6,O*n),g=z/(O-z),U+z>F+O&&(U=F+O-z),c=H>18?3:Math.round(H/6),W=wn.createSvgElement("rect",{id:"scroller_"+y,"data-tif-type":"Thumber",x:M+c,y:U,width:H-2*c,rx:i/4,height:z,appendTo:I})):"horizontal"===w&&(G=M+(H-H*n)*a,j=Math.max(6,H*n),g=j/(H-j),G+j>M+H&&(G=M+H-j),c=O>18?3:Math.round(O/6),W=wn.createSvgElement("rect",{id:"scroller_"+y,"data-tif-type":"Thumber",x:G,y:F+c,width:j,height:O-2*c,ry:r/4,appendTo:I})),v)v.hasOwnProperty(d)&&W.setAttributeNS(null,d,v[d]);"none_none"!==b&&(N=new Tr("scrollUpperRect_"+y,I,s,u,m?i/2:x,T?r/2:x,w+"_up"),k=new Tr("scrollLowerRect_"+y,I,l,h,m?i/2:x,T?r/2:x,w+"_down"))}(i,r,n,a,l,u,m),{onPointerDown:function(e,t,i){if(R){var r,n=this,a=i.getAttributeNS(null,"id");if(a==="scroller_"+y)this.scroll(e,t,"mousedown");else if(a==="scrollLowerRect_"+y||a==="scrollUpperRect_"+y)this.buttonScrollActive=!0,this.scrollDir="down",this.scrollStep=E,this.currentScrollButton=k,a==="scrollUpperRect_"+y&&(this.scrollDir="up",this.currentScrollButton=N),this.currentScrollButton.onPointerDown(e,t,i),this.scrollPercent(this.scrollDir,this.scrollStep),setTimeout((function(){n.scrollPerButton(n)}),400);else if(a==="scrollbar_"+y){for(r in this.scrollbarScrollActive=!0,T=e,f=t,this.scrollDir="down",this.scrollStep=E,"vertical"===w?t<U&&(this.scrollDir="up"):"horizontal"===w&&e<G&&(this.scrollDir="up"),v)W.removeAttributeNS(null,r);for(r in P)W.setAttributeNS(null,r,P[r]);this.scrollPercent(this.scrollDir,g),setTimeout((function(){n.scrollPerScrollbar(n)}),400)}}},onPointerMove:function(e,t){return!(!R||!V)&&(this.scroll(e,t,"mousemove"),!0)},onPointerUp:function(e,t){var i;if(R&&(V&&this.scroll(e,t,"mouseup"),this.buttonScrollActive&&(this.buttonScrollActive=!1,this.currentScrollButton.onPointerUp(e,t),this.currentScrollButton=void 0,this.fireFunction("scrollEnd")),this.scrollbarScrollActive)){for(i in this.scrollbarScrollActive=!1,P)P.hasOwnProperty(i)&&W.removeAttributeNS(null,i);for(i in v)v.hasOwnProperty(i)&&W.setAttributeNS(null,i,v[i]);this.fireFunction("scrollEnd")}},scroll:function(e,t,i){var r;if("mousedown"===i){for(r in V=!0,this.panCoords={x:e,y:t},this.fireFunction("scrollStart"),v)v.hasOwnProperty(r)&&W.removeAttributeNS(null,r);for(r in P)P.hasOwnProperty(r)&&W.setAttributeNS(null,r,P[r])}else if("mousemove"===i){var n=e-this.panCoords.x,a=t-this.panCoords.y,o=!1;if("vertical"===w){var s=U;(U+=a)<F&&(U=F),U+z>F+O&&(U=F+O-z),W.setAttributeNS(null,"y",U),s!==U&&(o=!0)}if("horizontal"===w){var l=G;(G+=n)<M&&(G=M),G+j>M+H&&(G=M+H-j),W.setAttributeNS(null,"x",G),l!==G&&(o=!0)}o&&this.fireFunction("scrollChange"),this.panCoords={x:e,y:t}}else if("mouseup"===i){for(r in V=!1,P)P.hasOwnProperty(r)&&W.removeAttributeNS(null,r);for(r in v)v.hasOwnProperty(r)&&W.setAttributeNS(null,r,v[r]);this.fireFunction("scrollEnd")}},scrollPercent:function(e,t){"up"===e&&(t*=-1);var i=this.getValue().perc+t;i<0&&(i=0),i>1&&(i=1),this.scrollToPercent(i)},scrollToPercent:function(e){var t,i;e>=0&&e<=1&&("vertical"===w&&(U=i=F+(O-z)*e,W.setAttributeNS(null,"y",i)),"horizontal"===w&&(G=t=M+(H-j)*e,W.setAttributeNS(null,"x",t)),this.fireFunction("scrolledStep"))},scrollPerButton:function(e){e.buttonScrollActive&&(e.scrollPercent(e.scrollDir,e.scrollStep),setTimeout((function(){e.scrollPerButton(e)}),50))},scrollPerScrollbar:function(e){var t=!0;"vertical"===w?("up"===e.scrollDir&&U<f||"down"===e.scrollDir&&U+z>f)&&(t=!1):("up"===e.scrollDir&&G<T||"down"===e.scrollDir&&G+j>T)&&(t=!1),e.scrollbarScrollActive&&t&&(e.scrollPercent(e.scrollDir,g),setTimeout((function(){e.scrollPerScrollbar(e)}),50))},scrollToValue:function(e){if(e>=D&&e<=S||e<=D&&e>=S){var t=e/(S-D);this.scrollToPercent(t)}},getValue:function(){var e;return"vertical"===w&&(e=(U-F)/(O-z)),"horizontal"===w&&(e=(G-M)/(H-j)),{abs:D+(S-D)*e,perc:e}},fireFunction:function(e){B=this.getValue(),"function"!=typeof A?"object"!=typeof A||A.scrollbarChanged(y,e,B.abs,B.perc):A(y,e,B.abs,B.perc)},updateScrollbar:function(e,t,i,r,n){var a,o,s,u,h=!1,d=!1,c=wn.setAttr,p=n||l;if("vertical"===w)if(a=e,o=e,M=e,H=i,r<=2*x)d=!0,O=0,s=t,u=t+r/2;else switch(O=r-2*x,b){case"top_top":F=t+2*x,s=t,u=t+x;break;case"bottom_bottom":F=t,s=t+r-2*x,u=t+r-x;break;case"top_bottom":F=t+x,s=t,u=t+r-x;break;default:F=t,O=r}else if("horizontal"===w)if(s=t,u=t,F=t,O=r,i<=2*x)h=!0,H=0,a=e,o=e+i/2;else switch(H=i-2*x,b){case"top_top":M=e+2*x,a=e,o=e+x;break;case"bottom_bottom":M=e,a=e+i-2*x,o=e+i-x;break;case"top_bottom":M=e+x,a=e,o=e+i-x;break;default:M=e,H=i}c(L,{x:M,y:F,width:H,height:O}),"vertical"===w?(U=F+(O-O*p)*B.perc,z=Math.max(6,O*p),g=z/(O-z),U+z>F+O&&(U=F+O-z),c(W,{x:M+3,y:U,width:H-6,height:z})):"horizontal"===w&&(G=M+(H-H*p)*B.perc,j=Math.max(6,H*p),g=j/(H-j),G+j>M+H&&(G=M+H-j),c(W,{x:G,y:F+3,width:j,height:O-6})),"none_none"!==b&&(N.updateScrollButton(a,s,h?i/2:x,d?r/2:x),k.updateScrollButton(o,u,h?i/2:x,d?r/2:x))},hide:function(){I.setAttributeNS(null,"display","none")},show:function(){I.setAttributeNS(null,"display","inherit")},remove:function(){I.parentNode.removeChild(I)},scrollbarHeight:function(){return O},scrollbarWidth:function(){return H},enable:function(){var e;for(e in R=!0,_)_.hasOwnProperty(e)&&W.removeAttributeNS(null,e);for(e in v)v.hasOwnProperty(e)&&W.setAttributeNS(null,e,v[e]);for(e in _)_.hasOwnProperty(e)&&L.removeAttributeNS(null,e);for(e in C)C.hasOwnProperty(e)&&L.setAttributeNS(null,e,C[e]);N.enable(),k.enable()},disable:function(){var e;for(e in R=!1,v)v.hasOwnProperty(e)&&W.removeAttributeNS(null,e);for(e in _)_.hasOwnProperty(e)&&W.setAttributeNS(null,e,_[e]);for(e in C)C.hasOwnProperty(e)&&L.removeAttributeNS(null,e);for(e in _)_.hasOwnProperty(e)&&L.setAttributeNS(null,e,_[e]);N.disable(),k.disable()},getState:function(){return R},updateScrollerColor:function(e){"string"==typeof e&&-1!==e.indexOf("rgba")&&(C.fill=Y(e,1.4),P.fill=X(e,.8),gr.fill=v.fill=X(e,.5),L&&L.setAttributeNS(null,"fill",C.fill),W&&W.setAttributeNS(null,"fill",v.fill),N&&N.updateColor(),k&&k.updateColor())}}};const yr=function(e,t){var i=18,r=.025,n="top_bottom",a=6,o=0,s=0,l=!1,u=1,h=1,d=1,c=0,p=null,m=null,g={l:0,t:0,w:0,h:0},T={l:0,t:0,w:0,h:0},f=e.rtoid,y=t,D=wn.createSvgElement("svg",{id:"SVGScrollView_"+e.rtoid,appendTo:e.domSvgNode||e.domNode}),S=wn.createSvgElement("g",{appendTo:D}),b=function(){return{l:T.l,t:T.t,w:T.w,h:T.h}},C=function(){return g.h>T.h&&T.w>i},v=function(){return g.w>T.w&&T.h>i};return{getScrollbarWidth:function(e){return"vertical"===e&&m?m.scrollbarWidth():"horizontal"===e&&p?p.srollbarHeight():i},getWindow:function(){return D},getDocument:function(){return S},getClientRect:function(){var e=b();return m&&(e.w-=m.scrollbarWidth()),p&&(e.h-=p.scrollbarHeight()),e},getOffsetX:function(){return-o},getOffsetY:function(){return-s},setScrollSteps:function(e){e.StepPercY>0&&e.StepSizeY>0&&(u=e.StepPercY,h=e.StepSizeY,l=!0)},resetScrollSteps:function(){l=!1,u=1,h=1,d=1,c=0},setWindowPos:function(e,t,i,r,n){var a=b();!1===Y.equalRect(T,e)&&(wn.setBBox(D,e),T=e,this.updateScrollbars(t,i,r,n),T.w===a.w&&T.h===a.h||this.fireFunction())},setDocumentSize:function(e,t,i,r,n,a){var o=C(),s=v(),l={l:0,t:0,w:e,h:t};!1===Y.equalRect(g,l)&&(g=l,this.updateScrollbars(i,r,n,a),o===C()&&s===v()||this.fireFunction())},setScrollPos:function(e,t){"vertical"===e?m&&m.scrollToValue(-t):"horizontal"===e&&p&&p.scrollToValue(-t)},setScrollPerc:function(e,t){"vertical"===e?m&&m.scrollToPercent(t):"horizontal"===e&&p&&p.scrollToPercent(t)},updateScrollbars:function(e,t,a,h){var d,c=r,y=v(),b=C();e=e||0,t=t||0,a=a||i,h=h||i,g.w>0&&g.h>0&&(p&&(p.remove(),p=null),y?(d=T.w/g.w,p=new fr("sbhoriz_"+f,D,0,T.h-a,T.w-(b?h:0),a,(g.w-T.w)*e,-(g.w-T.w)*(1-e),d,e,c,n,this,void 0,"horizontal"),e&&p.scrollToPercent(e)):(S.setAttributeNS(null,"transform","translate(0,"+s+")"),o=0),m&&(m.remove(),m=null),b?(d=T.h/g.h,!0===l&&(c=u),m=new fr("sbvert_"+f,D,T.w-h,0,h,T.h-(y?a:0),(g.h-T.h)*t,-(g.h-T.h)*(1-t),d,t,c,n,this,void 0,"vertical"),t&&m.scrollToPercent(t)):(S.setAttributeNS(null,"transform","translate("+o+",0)"),s=0))},scrollbarChanged:function(e,t,i,r){var n,a;"scrollChange"!==t&&"scrolledStep"!==t||(e.match(/horiz/gi)&&(o=i),e.match(/vert/gi)&&(a=s,s=i,!0===l&&((n=i-c<0?Math.ceil((i-.5)/h):Math.floor((i+.5)/h))===d?s=a:(s=n*h,c=i,d=n))),S.setAttributeNS(null,"transform","translate("+o+","+s+")"))},fireFunction:function(e){"function"!=typeof y?"object"!=typeof y||y.scrollviewChanged():y(e)},onPointerDown:function(e,t,i){var r=i.getAttributeNS(null,"id");return null!==r&&(r.match(/horiz/gi)?(p.onPointerDown(e,t,i),!0):!!r.match(/vert/gi)&&(m.onPointerDown(e,t,i),!0))},onPointerMove:function(e,t){var i=!1;return p&&(i=p.onPointerMove(e,t)),m&&(i=m.onPointerMove(e,t)),i},onPointerUp:function(e,t,i){var r;return void 0===i?p?(p.onPointerUp(e,t),!0):!!m&&(m.onPointerUp(e,t),!0):null!==(r=i.getAttributeNS(null,"id"))&&(r.match(/horiz/gi)?(p.onPointerUp(e,t),!0):!!r.match(/vert/gi)&&(m.onPointerUp(e,t),!0))},getSbExtentPerpend:function(e){return e>=i?i:e>a?e:a},getSbExtentPerpendDefault:function(){return i}}};const Dr=function(e,t){var i=e,r=!1,n=!1,a=null,o="Centered",s="Centered",l={x:0,y:0,dirty:!1},u={},h={lines:0,txtSize:12,dyNext:16,docSize:0},d=i.childNodes,c=0,p=0,m=function(e,t){c<p?(d[c].textContent=e,d[c].setAttribute("dy",c?t+4:t-3)):wn.createSvgElement("tspan",{dy:c?t+4:t-3,appendTo:i}).textContent=e;c+=1},g=function(e,t,i){var r=u[t][i];return void 0===r&&(r=u[t][i]={width:wn.getTextWidth(e,i),timestamp:0}),r.timestamp=Date.now(),r};return{setInitialized:function(){r=!0,n&&(this.applyLayout(t.getBBox()),n=!1)},setTextDesc:function(e,t,i){h.lines=e,h.txtSize=t,h.dyNext=i,h.docSize=t-3+(e-1)*(t+4)},getTextDesc:function(){return h},getTextSize:function(){var e=i.getAttribute("font-size");return e?parseInt(e,10):0},setOffsets:function(e,i){l.x=e,l.y=i,l.dirty=!0,r?this.applyLayout(t.getBBox()):n=!0},getOffsets:function(){return l},getBBox:function(){return wn.getBBox(i)},setText:function(e,r,n,a){var o,s,h,T,f=ka,y=e.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),D=r.Name+","+r.Size+","+r.Weight;if(D in u||(u[D]={}),p=d.length,c=0,a)for(o=0;o<y.length;o++)h=f.textEllipsis(y[o],n,r),m(f.converterBlanks2Nbsps(h),r.Size);else for(o=0;o<y.length;o++){for(var S=/\r|[ \u00A0]{1}|[^ \u00A0]+/g,b=[];null!=(s=S.exec(y[o]));)b.push(s[0]);var C="",v=0;if(b[0])for(C="";b[0];){if(v+(T=g(r,D,b[0]).width)<=n||-1===n||wn.getTextWidth(r,C+b[0])<=n)C+=b.shift(),v+=T;else if(""===C){for(var P,_="",A=b[0].split("");A[0];)P=_+A[0],g(r,D,P).width<=n?_+=A.shift():(0===_.length&&(_+=A.shift()),m(f.converterBlanks2Nbsps(_),r.Size),_="");b.shift(),""!==_&&b.unshift(_)}else!/[ \u00A0]{1}$/.test(C)&&/^[ \u00A0]{1}$/.test(b[0])&&(C+=b.shift()),m(""===C?" ":f.converterBlanks2Nbsps(C),r.Size),C="",v=0}""===C&&y.length>1?m(" ",r.Size):m(f.converterBlanks2Nbsps(C),r.Size)}return function(){for(var e=c;e<p;e++)i.removeChild(d[c])}(),function(){var e=Date.now();for(var t in u)if(u.hasOwnProperty(t)){var i=u[t];for(var r in i)i.hasOwnProperty(r)&&e>i[r].timestamp+1e3&&delete i[r]}}(),this.setTextDesc(i.childNodes.length,r.Size,r.Size+4),l.dirty=!0,this.applyLayout(t.getBBox())},setPosition:function(e,t){!function(e){i.setAttribute("x",e)}(e),function(e){i.setAttribute("y",e)}(t),function(e){var t,i=d.length;for(t=0;t<i;t++)d[t].setAttribute("x",e)}(e)},setAnchor:function(e){i.setAttribute("text-anchor",e)},setTransform:function(e){i.setAttribute("transform",e)},applyLayout:function(e){var t={};return a.applyLayout(this,t,e),n=!1,t.bBox},setMode:function(e,t,i){o=t,s=i,this.setLayout(e)},setLayout:function(e){(a=e).setXAlignment(o),a.setYAlignment(s)},setXAlignment:function(e){o!==e&&(l.dirty=!0,o=e,a.setXAlignment(o),r?this.applyLayout(t.getBBox()):n=!0)},setYAlignment:function(e){s!==e&&(l.dirty=!0,s=e,a.setYAlignment(s),r?this.applyLayout(t.getBBox()):n=!0)}}};var Sr=function(){var e="Centered",t="Centered",i={Left:"start",Centered:"middle",Right:"end"},r={Left:function(e,t){return t.x},Centered:function(e,t){return t.x+t.width/2},Right:function(e,t){return t.x+t.width}},n={Top:function(e,t){return t.y},Centered:function(e,t){return t.y+(t.height/2-e.height/2)},Bottom:function(e,t,i){return t.y+t.height-e.height-.2*i}};this.applyLayout=function(a,o,s){var l=a.getTextDesc();if(l.lines>0){var u=l.lines>1?l.txtSize+(l.lines-1)*l.dyNext:l.txtSize;o.bBox={height:u};var h=a.getOffsets();if(h.dirty){var d=r[e](o.bBox,s),c=n[t](o.bBox,s,l.txtSize);a.setAnchor(i[e]),a.setPosition(d+h.x,c+h.y),h.dirty=!1}}},this.setXAlignment=function(t){e=t},this.setYAlignment=function(e){t=e}};const br=function(e,t){var i,r=e,n="Centered",a="Centered",o={x:0,y:0,dirty:!1},s={lines:0,txtSize:12,dyNext:16},l=r.childNodes;this.setTextDesc=function(e,t,i){e!==s.lines&&(s.lines=e,o.dirty=!0),t!==s.txtSize&&(s.txtSize=t,o.dirty=!0),s.dyNext=i},this.getTextDesc=function(){return s},this.setOffsets=function(e,i){o.x=e,o.y=i,o.dirty=!0,this.applyLayout(t.getBBox())},this.getOffsets=function(){return o},this.getBBox=function(){return wn.getBBox(r)},this.setText=function(e){var i=ka,n=0,a=0,s=e.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),u=s.length,h=l.length,d=this.getTextSize(),c=d+4,p=.9*c-4;for(this.setTextDesc(u,d,c),n=0;n<u&&n<h;n++)l[n].textContent=i.converterBlanks2Nbsps(s[n]),o.dirty&&l[n].setAttribute("dy",0===n?p:c);if(u>h)for(;n<u;n++){var m=wn.createSvgElement("tspan",{dy:0===n?p:c});m.textContent=i.converterBlanks2Nbsps(s[n]),r.appendChild(m)}if(u<h)for(a=n;a<h;a++)r.removeChild(l[n]);return this.applyLayout(t.getBBox())},this.getTextSize=function(){var e=r.getAttribute("font-size");return e?parseInt(e,10):0},this.removeAllChilds=function(){for(;r.firstChild;)r.removeChild(r.firstChild)},this.setX=function(e){r.setAttribute("x",e)},this.setY=function(e){r.setAttribute("y",e)},this.setChildrenX=function(e){for(var t=0,i=l.length;t<i;t++)l[t].setAttribute("x",e)},this.setPosition=function(e,t){this.setX(e),this.setY(t),this.setChildrenX(e)},this.setAnchor=function(e){r.setAttribute("text-anchor",e)},this.setTransform=function(e){r.setAttribute("transform",e)},this.applyLayout=function(e){var t={};return i.applyLayout(this,t,e),t.bBox},this.setMode=function(e,t,i){n=t,a=i,this.setLayout(e)},this.setLayout=function(e){(i=e).setXAlignment(n),i.setYAlignment(a)},this.setXAlignment=function(e){n!==e&&(o.dirty=!0,n=e,i.setXAlignment(n),this.applyLayout(t.getBBox()))},this.setYAlignment=function(e){a!==e&&(o.dirty=!0,a=e,i.setYAlignment(a),this.applyLayout(t.getBBox()))}};var Cr=function(){var e=h,t={Enabled:{func:["OperationEnabled"]},BorderWidth:{gc:"None",func:["Border.BorderItems","Border.BorderRect","Quality.ShowQuality"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["Width"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},ForeColor:{gc:"Color",svg:[{si:"svgText",sp:"fill"}]},BackColor:{func:["Border.BackColors"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},HorizontalTextAlignment:{func:["TextHorizontalAlignment"]},VerticalTextAlignment:{func:["TextVerticalAlignment"]},Left:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Height:{func:["Border.BorderRect","_updateLayout","Quality.ShowQuality"],dep:["RotationAngle"]},Padding:{func:["_updateLayout"]},Font:{func:["Font"],dep:["Text"]},VisualizeQuality:{func:["Quality.ShowQuality"]},CurrentQuality:{func:["Quality.ShowQuality"]},Text:{func:["_setText"],dep:["BackColor"]},TextWrapping:{func:["_setText"]},TextTrimming:{func:["_setText"]}},i={extended:{Corners:{TopLeftRadius:5,TopRightRadius:5,BottomLeftRadius:5,BottomRightRadius:5}},futuredark:{Corners:{TopLeftRadius:0,TopRightRadius:0,BottomLeftRadius:0,BottomRightRadius:0}}},r=function(e){e.operable=!0,function(e){var t=e.gfxWebLib.getStyle(),r=i[t]?i[t]:i.extended;for(var n in r)e.props[n]=r[n]}(e),e.border=rn.Border.createBorder(),e._view=null,e.svgText=null},n=function(e){var t={};return t.hori=e._view.getSbExtentPerpendDefault(),t.vert=t.hori,t},a=function(t){var i,r,a,o,s,l,u,h,d=Ha,c=rn,p=d.getProp(t,"Text"),m=d.getProp(t,"TextWrapping"),g=c.getFont(t,"Font"),T=d.getPropRaw(t,"TextTrimming");s=(o=d.getProp(t,"HorizontalTextAlignment"))===e.HmiHorizontalAlignment.Center?.5:o===e.HmiHorizontalAlignment.Right?1:0,l=(o=d.getProp(t,"VerticalTextAlignment"))===e.HmiVerticalAlignment.Center?.5:o===e.HmiVerticalAlignment.Bottom?1:0,h=n(t),m?(T=!1,i=t._view.getClientRect().w,r=t.textAdapter.setText(p,g,i,T),t.textAdapter.getTextDesc().docSize>t._view.getClientRect().h&&(r=t.textAdapter.setText(p,g,i-t._view.getScrollbarWidth("vertical"),T),t._view.setDocumentSize(i,r.height-1,s,l,h.hori,h.vert),u=!0),T||u||t._view.setDocumentSize(i,r.height-1,s,l,h.hori,h.vert)):T?(a=c.getInnerBounds(t),r=t.textAdapter.setText(p,g,a.w,T),t._view.setDocumentSize(a.w,r.height-1,s,l,h.hori,h.vert)):(i=wn.getTextWidthCR(g,p),r=t.textAdapter.setText(p,g,i),t._view.setDocumentSize(i,r.height-1,s,l,h.hori,h.vert))},o=function(e,t){s(e),function(e,t){e.gfxWebLib.connection.sendPropertyByName(e.rtoid,"Text",t,!0)}(e,t)},s=function(e){e.svgText.setAttribute("display","inline")};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onPointerDown:function(e,t,i,r){if(e._view.onPointerDown(t,i,r))return e.gfxWebLib.interaction.setCapture(e),32768},onPointerUp:function(e,t,i,r,n){if(!e._view.onPointerUp(t,i,r)&&!Ha.getProp(e,"ReadOnly")){if(e!==e.gfxWebLib.selection.getActiveItem())return!1;if(0!==n)return!1;e.gfxWebLib.input.startInput(e)}return!0},onPointerMove:function(e,t,i){e._view.onPointerMove(t,i)},onReleaseCapture:function(e,t,i){e._view.onPointerUp(t,i)},onInit:function(e){return r(e),function(e){var t=rn,i={};i.item=e,i.func=e.handler.scrollviewChanged,i.scrollviewChanged=function(){this.func(this.item)},e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted; touch-action: none;"}),e.quality=t.Quality.create(e),e._view=new yr(e,i),e.svgText=wn.createSvgElement("text",{appendTo:e._view.getDocument()})}(e),e.textAdapter=new Dr(e.svgText,function(e){return{getBBox:function(){var t=e._view.getClientRect();return{x:0,y:0,width:t.w,height:t.h}}}}(e)),e.textAdapter.setLayout(new Sr),rn.initAllAttributes(e),e.textAdapter.setInitialized(),e.domNode},onChanged:function(e,t,i){t=Ha.handleScreenModelPart(e,t,i),rn.onChanged(e,t)},onCleanUp:function(e){e.textAdapter=null},onFocusOut:function(e){e.gfxWebLib.input.checkHandleInputEnd(e)},onKeyDown:function(e,t,i,r){var n=e.gfxWebLib.input,a=e.gfxWebLib.keyboard.handler.getKeycodes(),o=e.gfxWebLib.keyboard.handler.getFlags(),s=!1;return a&&t===a.SPACE&&o&&0==(r&o.CTRL)&&(n.isInputActive()||(Ha.getProp(e,"ReadOnly")||n.startInput(e),s=!0)),s},getInputStartValue:function(e){return Ha.getProp(e,"Text")},onInputKeyDown:function(e,t,i,r){var n=!1;switch(t){case 27:e.gfxWebLib.input.endInput(!1);break;case 9:n=!0,e.gfxWebLib.input.endInput(!0),r?e.gfxWebLib.selection.selectPreviousItem(!0):e.gfxWebLib.selection.selectNextItem(!0)}return n},onInputFocusOut:function(e,t){o(e,t)},onInput:o,getPropertyBinding:function(){return t},onPropBindFunc:function(t,i){switch(t){case"_setText":a(i);break;case"_updateLayout":!function(t){var i,r,a,o=rn.getInnerBounds(t),s=Ha,l=s.getProp(t,"HorizontalTextAlignment"),u=s.getProp(t,"VerticalTextAlignment");i=l===e.HmiHorizontalAlignment.Center?.5:l===e.HmiHorizontalAlignment.Right?1:0,r=u===e.HmiVerticalAlignment.Center?.5:u===e.HmiVerticalAlignment.Bottom?1:0,a=n(t),t._view.setWindowPos(o,i,r,a.hori,a.vert),t.textAdapter.setOffsets(0,0)}(i)}},scrollviewChanged:function(e){a(e)},hideTextElement:function(e){e.svgText.setAttribute("display","none")},showTextElement:s}}();const vr=Cr;var Pr=function(){var e=sr;return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiTextBox",DISABLE_SETSELECTIONPROPS:!1,onInit:function(t){return i=t.gfxWebLib.getProjectVersion(),r=17,!i||i.split(".")[0]>=r?(rn.onInitEnabled(t),e.onInit(t)):(t.handler=vr,t.handler.onInit(t));var i,r},onCurrentLanguage:function(t,i){e.onCurrentLanguage(t,i)},onCurrentStyle:function(t,i){e.onCurrentStyle(t,i)},onChanged:function(t,i,r){rn.onChangedEnabled(t,i,r),e.onChanged(t,i,r)},onFlashing:function(t,i,r){e.onFlashing(t,i,r)},onFocus:function(t){e.onFocus(t)},onFocusOut:function(t){e.onFocusOut(t)},checkInnerNavigation:function(t,i,r,n){return e.checkInnerNavigation(t,i,r,n)},onCleanUp:function(t){e.onCleanUp(t)},getPropertyBinding:function(){return e.getPropertyBinding()},getBounds:function(t){return e.getBounds(t)}}}();const _r=Pr;var Ar=function(){var e=h,t={Enabled:{func:["OperationEnabled"]},BorderWidth:{gc:"None",func:["Border.BorderItems","Border.BorderRect","Text.TextClip"],svg:[{si:"border.svgBorderItem",sp:"stroke-width"},{si:"border.svgBorderBgItem",sp:"stroke-width"}],dep:["Text"]},BackFillPattern:{func:["Border.BorderItems","Border.BorderRect"],dep:["BackColor"]},Visible:{gc:"Display",svg:[{si:"domSvgNode",sp:"display"}]},Opacity:{gc:"Opaque",svg:[{si:"domSvgNode",sp:"opacity"}]},RotationCenterPlacement:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterX:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationCenterY:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},RotationAngle:{gc:"TransformRotatePlaced",svg:[{si:"domNode",sp:"transform"}]},Corners:{func:["Border.BorderRect"]},ForeColor:{gc:"Color",svg:[{si:"text.svgText",sp:"fill"}]},BackColor:{func:["Border.BackColors"]},BorderColor:{gc:"Color",svg:[{si:"border.svgBorderItem",sp:"stroke"}]},Left:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Top:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Width:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["TextTrimming","RotationAngle"]},Height:{func:["Border.BorderRect","Text.TextClip","_updateLayout"],dep:["RotationAngle"]},Padding:{func:["_updateLayout"]},Font:{func:["Text.Font"],dep:["Text"]},HorizontalTextAlignment:{func:["Text.TextHorizontalAlignment"]},VerticalTextAlignment:{func:["Text.TextVerticalAlignment"]},Text:{func:["_setText"]},TextTrimming:{func:["_setText"]},TextWrapping:{func:["_setText"]}},i={extended:{BackFillPattern:e.HmiFillPattern.Transparent,BackColor:16777215,AlternateBackColor:16777215,BorderColor:16777215,AlternateBorderColor:16777215,BorderWidth:0,TextTrimming:e.HmiTextTrimming.None,VisualizeQuality:!1},futuredark:{BackFillPattern:e.HmiFillPattern.Transparent,BackColor:16777215,AlternateBackColor:16777215,BorderColor:16777215,AlternateBorderColor:16777215,BorderWidth:0,TextTrimming:e.HmiTextTrimming.None,VisualizeQuality:!1}},r={extended:{BackFillPattern:e.HmiFillPattern.Solid,Corners:{TopLeftRadius:5,TopRightRadius:5,BottomLeftRadius:5,BottomRightRadius:5}},futuredark:{BackFillPattern:e.HmiFillPattern.Solid,Corners:{TopLeftRadius:0,TopRightRadius:0,BottomLeftRadius:0,BottomRightRadius:0}}},n=function(t){!function(t){var n=Ha,a=ka,o=t.gfxWebLib.getStyle(),s="Label"===t.props.Type?r:i,l=s[o]?s[o]:s.extended;for(var u in l)"BackFillPattern"===u&&n.getProp(t,"BackColor",a.enumConverter.None,4278190080)<16777216?t.props[u]=e.HmiFillPattern.Solid:t.props[u]=l[u]}(t),t.border=rn.Border.createBorder()},a=function(e){e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{style:"pointer-events: visiblePainted;"}),e.text=rn.Text.createText(e,function(e){return{getBBox:function(){var t=rn.getInnerBounds(e);return{x:t.l,y:t.t,width:t.w,height:t.h}}}}(e))},o=function(e){var t=Ha,i=t.getProp(e,"Text");t.getPropRaw(e,"TextTrimming")?i=function(e,t){const i=rn,r=ka,n=i.getFont(e,"Font"),a=i.getInnerBounds(e).w,o=t.split(/\r\n|[\n\r\u0085\u2028\u2029]/g);t="";for(let e=0;e<o.length;e++)t&&(t+="\n"),t+=r.textEllipsis(o[e],a,n);return t}(e,i):t.getPropRaw(e,"TextWrapping")&&(i=function(e,t){const i=rn,r=i.getFont(e,"Font"),n=i.getInnerBounds(e).w,a=t.split(/\r\n|[\n\r\u0085\u2028\u2029]/g);let o,s,l,u,h;t="";for(let e=0;e<a.length;e++){for(var d=/\r|[ \u00A0]{1}|[^ \u00A0]+/g,c=[];null!==(o=d.exec(a[e]));)c.push(o[0]);if(u="",h=0,c[0])for(u="";c[0];)if(l=wn.getTextWidth(r,c[0]),h+l<=n||-1===n||wn.getTextWidth(r,u+c[0])<=n)u+=c.shift(),h+=l;else if(""===u){for(var p,m="",g=c[0].split("");g[0];)p=m+g[0],s=wn.getTextWidth(r,p),s<=n?m+=g.shift():(0===m.length&&(m+=g.shift()),t+=m+"\n",m="");c.shift(),""!==m&&c.unshift(m)}else!/[ \u00A0]{1}$/.test(u)&&/^[ \u00A0]{1}$/.test(c[0])&&(u+=c.shift()),t+=u+"\n",u="",h=0;t+=u,e<a.length-1&&(t+="\n")}return t}(e,i)),rn.Text.setText(e.text,i)};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"path",onInit:function(e){return n(e),a(e),rn.initAllAttributes(e),e.domNode},onChanged:function(t,n,a){a||function(t,n){var a,o=t.gfxWebLib.getStyle(),s="Label"===t.props.Type?r:i,l=s[o]?s[o]:s.extended;for(var u in l)"BackFillPattern"===u&&(a=n.BackColor)&&(n[u]=a<16777216?e.HmiFillPattern.Solid:l[u])}(t,n),n=Ha.handleScreenModelPart(t,n,a),rn.onChanged(t,n)},onCleanUp:function(e){},getPropertyBinding:function(){return t},onPropBindFunc:function(e,t,i){switch(e){case"_setText":o(t);break;case"_updateLayout":!function(e,t){t||rn.Text.setOffsets(e.text,0,0)}(t,i)}}}}();const wr=Ar;var xr=function(){let e=Se,t=new window.Variant(0),i=function(e){return!isNaN(parseFloat(e))&&isFinite(e)?Number(e):void 0},r=function(e,r){let n=t.setValue(e[r]);const a=n.jsValueOf();return n.typeOf()===window.Variant.CF_VT.STR&&(n=t.setValue(i(a)),n.typeOf()===window.Variant.CF_VT.EMPTY)?(delete e[r],n):(e[r]=n.jsValueOf(),n)};return{DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiScaleWidget",DISABLE_SETSELECTIONPROPS:!1,onInit:function(r,n){rn.onInitEnabled(r);const a=t.setValue(r.props.ProcessValue),o=a.typeOf();let s=a.jsValueOf();return o!==window.Variant.CF_VT.EMPTY&&o!==window.Variant.CF_VT.STR||(s=i(s)||0),r.props.ProcessValue=s,r.computedProcessValue=s,e.onInit(r,n)},initProcessValueAndOutputFormats:function(e){var i,r=Ha,n=ar,a={};void 0===e.props.OutputFormat&&(e.props.OutputFormat=r.getProp(e,"OutputFormat")),e._orgOutputFormat=e.props.OutputFormat,i=t.setValue(r.getProp(e,"ProcessValue")),e.props.ProcessValue=i.jsValueOf(),""===e.props.OutputFormat&&(a.format=e.props.OutputFormat,a.pv=i.valueOf(),a.vt=i.typeOf(),e.props.OutputFormat=n.getDefaultProcessValueOutputFormat(a)),i=t.setValue(r.getProp(e,"ComputedMinPeakValue")),e.props.ComputedMinPeakValue=i.jsValueOf(),i=t.setValue(r.getProp(e,"ComputedMaxPeakValue")),e.props.ComputedMaxPeakValue=i.jsValueOf(),"Gauge"===e.props.Type?(void 0===e.props.CurvedScale&&(e.props.CurvedScale={}),void 0===e.props.CurvedScale.OutputFormat&&(e.props.CurvedScale.OutputFormat=r.getPropDefault("CurvedScalePart","OutputFormat")),e._orgOutputFormatScale=e.props.CurvedScale.OutputFormat,""===e.props.CurvedScale.OutputFormat&&(e.props.CurvedScale.OutputFormat=n.getDefaultOutputFormat(window.Variant.CF_VT.DOUBLE))):(void 0===e.props.StraightScale&&(e.props.StraightScale={}),void 0===e.props.StraightScale.OutputFormat&&(e.props.StraightScale.OutputFormat=r.getPropDefault("StraightScalePart","OutputFormat")),e._orgOutputFormatScale=e.props.StraightScale.OutputFormat,""===e.props.StraightScale.OutputFormat&&(e.props.StraightScale.OutputFormat=n.getDefaultOutputFormat(window.Variant.CF_VT.DOUBLE)))},onCurrentLanguage:function(t,i){e.onCurrentLanguage(t,i)},onCurrentStyle:function(t,i){e.onCurrentStyle(t,i)},onChanged:function(i,n,a){return function(e,i,n){let a,o,s,l,u=Ha,h=ar,d={};a=u.getScreenModelPartName(e,i,n),""===a&&(void 0!==i.OutputFormat&&(e._orgOutputFormat=i.OutputFormat,""===i.OutputFormat&&(s=t.setValue(u.getProp(e,"ProcessValue")),d.format=e._orgOutputFormat,d.pv=s.valueOf(),d.vt=s.typeOf(),i.OutputFormat=h.getDefaultProcessValueOutputFormat(d))),void 0!==i.ProcessValue&&(s=r(i,"ProcessValue"),s.typeOf()!==window.Variant.CF_VT.EMPTY&&""===e._orgOutputFormat&&(d.format=e._orgOutputFormat,d.pv=s.valueOf(),d.vt=s.typeOf(),i.OutputFormat=h.getDefaultProcessValueOutputFormat(d))),void 0!==i.ComputedMinPeakValue&&r(i,"ComputedMinPeakValue"),void 0!==i.ComputedMaxPeakValue&&r(i,"ComputedMaxPeakValue")),"StraightScale"!==a&&"CurvedScale"!==a||(o=void 0!==i[a]?i[a]:i,void 0!==o.OutputFormat?(l=e._orgOutputFormatScale,o.OutputFormat!==l&&(e._orgOutputFormatScale=o.OutputFormat,""===o.OutputFormat&&(o.OutputFormat=h.getDefaultOutputFormat(window.Variant.CF_VT.DOUBLE)))):e.gfxWebLib.appMode===In.EDIT&&(o.OutputFormat=e.props.StraightScale?e.props.StraightScale.OutputFormat:e.props.CurvedScale.OutputFormat))}(i,n,a),rn.onChangedEnabled(i,n,a),e.onChanged(i,n,a)},onFlashing:function(e,t,i){Se.onFlashing(e,t,i)},onCleanUp:function(t){e.onCleanUp(t)},onFocus:function(t){e.onFocus(t)},onFocusOut:function(t){e.onFocusOut(t)},checkInnerNavigation:function(t,i,r,n){return e.checkInnerNavigation(t,i,r,n)},getPropertyBinding:function(){return e.getPropertyBinding()},getBounds:function(t){return e.getBounds(t)}}}();const Vr=xr;var Er=function(){var e=sr,t={numClocks:0},i=null,r=0,n=1,a=2,o=function(){i=setInterval((function(){!function(){var e,i;for(var r in e=new Date,t)"numClocks"!==r&&(i=t[r],h(i,e))}()}),1e3)},s=function(e){return"cwb_"+e.rtoid},l=function(e,i){var r,n,a;e&&(0===t.numClocks&&(a=(new Date).getMilliseconds(),window.setTimeout(o,1e3-a+200)),r=s(e),t[r]=e,t.numClocks=t.numClocks+1,n=new Date,h(e,n))},u=function(e){var r;e&&(r=s(e),t[r]===e&&delete t[r],t.numClocks=t.numClocks-1,0===t.numClocks&&(clearInterval(i),i=null))},h=function(t,i){var a=0,o=0,s=0,l=0,u=0;if(t.timeZoneMode===r)a=i.getHours(),o=i.getMinutes(),s=i.getSeconds();else if(t.timeZoneMode===n)l=i.getTime()-6e4*i.getTimezoneOffset(),l+=6e4*t.timeZoneOffset,a=(u=new Date(l)).getUTCHours(),o=u.getUTCMinutes(),s=u.getUTCSeconds();else{var h=ja.format(i,"{T,@HH:mm:ss}",{timeZone:t.timeZone});if("string"==typeof h){var d=h.split(":");d.length>=3&&(a=+d[0],o=+d[1],s=+d[2])}}e.onChanged(t,{ComputedHours:a,ComputedMinutes:o,ComputedSeconds:s})},d=function(e,t){var i=t.typeOf();if(i===window.Variant.CF_VT.DATETIME){var o=t.valueOf().getTime(),s=new Date,l=s.getTime()-6e4*s.getTimezoneOffset();e.timeZoneOffset=(o-l)/6e4,e.timeZoneMode=n}else if(i===window.Variant.CF_VT.TIMESPAN)e.timeZoneOffset=t.valueOf().getTime()/6e4,e.timeZoneMode=n;else if(i===window.Variant.CF_VT.STR){var u=t.valueOf();u?(e.timeZone=e.gfxWebLib.textbib.toIANATimeZone(u),e.timeZoneMode=a):e.timeZoneMode=r}else if(i!==window.Variant.CF_VT.EMPTY){var h=t.valueOf();h>=0?(e.timeZone=e.gfxWebLib.textbib.toIANATimeZone(h),e.timeZoneMode=a):e.timeZoneMode=r}else e.timeZoneMode=r};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",TEMPLATE_HANDLER_TYPE:"NATIVE",DISABLE_SETSELECTIONPROPS:!1,onInit:function(t){var i;!function(e){e.props.Analog=!0,e.props.FakePropDigiTime="Not supported yet!",e.timeZoneOffset=0,e.timeZoneMode=r,e.timeZone="Europe/Berlin",e.props.ComputedHours=0,e.props.ComputedMinutes=0,e.props.ComputedSeconds=0}(t);var n=window.Variant(Ha.getProp(t,"TimeSource"));return d(t,n),i=e.onInit(t),l(t),i},initTimeSourceAndOutputFormats:function(e){var t,i=Ha;e.props.TimeSource&&(t=window.Variant(i.getProp(e,"TimeSource")),e.props.TimeSource=t.jsValueOf())},onCurrentLanguage:function(t,i){e.onCurrentLanguage(t,i)},onCurrentStyle:function(t,i){e.onCurrentStyle(t,i)},onChanged:function(t,i,r){var n;""===Ha.getScreenModelPartName(t,i,r)&&void 0!==i.TimeSource&&(n=window.Variant(i.TimeSource),i.TimeSource=n.jsValueOf(),d(t,n)),e.onChanged(t,i,r)},onFlashing:function(t,i,r){e.onFlashing(t,i,r)},onFocus:function(t){e.onFocus(t)},onFocusOut:function(t){e.onFocusOut(t)},checkInnerNavigation:function(t,i,r,n){return e.checkInnerNavigation(t,i,r,n)},onCleanUp:function(t){u(t),e.onCleanUp(t)},onScopeInitialized:function(e){},getPropertyBinding:function(){return e.getPropertyBinding()},getBounds:function(t){return e.getBounds(t)}}}();const Ir=Er;var Rr=function(){var e=h,t=sr,i=["Graphic","AlternateGraphic"],r=function(t){let i;i=t.observer.trigger===e.HmiEventTrigger.Touch?new PointerEvent("pointermove",{pointerType:"touch",pointerId:t.observer.pointerId,bubbles:!0,isPrimary:!0}):new PointerEvent("pointerleave",{pointerType:"mouse",pointerId:t.observer.pointerId,bubbles:!0,isPrimary:!0}),t.observer.target.dispatchEvent(i)},n=function(e){window.requestAnimationFrame((()=>{e.observer&&(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(document.elementFromPoint(e.observer.x,e.observer.y),e.domNode)?r(e):n(e))}))};return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiButton",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,i){return rn.onInitEnabled(e),"ToggleSwitch"===e.props.Type&&(e.fallback={ensuredState:e.props.IsAlternateState,_timeoutID:0,_timeoutDelay:1e3,resetStateByTimeout(){window.clearTimeout(this._timeoutID),this._timeoutID=window.setTimeout((()=>t.onChanged(e,{IsAlternateState:this.ensuredState})),this._timeoutDelay)},clearResetStateByTimeout(){window.clearTimeout(this._timeoutID)}}),t.onInit(e,i)},onScopeInitialized:function(e){rn.imageWidthHeight(e,i)},onCurrentLanguage:function(e,i){t.onCurrentLanguage(e,i)},onCurrentStyle:function(e,i){t.onCurrentStyle(e,i)},onChanged:function(e,i,n){var a=rn;for(var o in i)-1!==o.indexOf("Graphic")&&"GraphicStretchMode"!==o&&a.loadImage(e,i[o],o,n);a.onChangedEnabled(e,i,n),i.Operability&&e.observer&&r(e),"ToggleSwitch"===e.props.Type&&i.hasOwnProperty("IsAlternateState")&&(e.fallback.ensuredState=i.IsAlternateState,e.fallback.clearResetStateByTimeout()),t.onChanged(e,i,n)},onFlashing:function(e,i,r){t.onFlashing(e,i,r)},onFocus:function(e){t.onFocus(e)},onFocusOut:function(e){t.onFocusOut(e)},checkInnerNavigation:function(e,i,r,n){return t.checkInnerNavigation(e,i,r,n)},onCleanUp:function(i){if(t.onCleanUp(i),i.observer){i.observer=null;"FaceplateType"===(i.groupContainer||i.container).props.Type&&i.gfxWebLib.connection.sendPointerUpEvent(i.rtoid,0,0,0,0,e.HmiEventTrigger.Unknown)}},getPropertyBinding:function(){return t.getPropertyBinding()},getBounds:function(e){return t.getBounds(e)},onPointerDown:function(t,i,r,a,o,s){t.observer||(t.observer={trigger:s.trigger,pointerId:s.pointerId,target:s.target,x:s.x,y:s.y},s.trigger===e.HmiEventTrigger.Touch&&n(t))},onPointerUpdate:function(e,t){e.observer&&(e.observer.x=t.x,e.observer.y=t.y)},onPointerUp:function(e,t,i){e.observer&&(e.observer=null)}}}();const Br=Rr;var Lr=function(){var e=sr,t=new window.Variant(0),i=["SelectionItems.Graphic"];return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiSelectionGroup",DISABLE_SETSELECTIONPROPS:!1,onScopeInitialized:function(e){rn.imageWidthHeight(e,i)},onInit:function(t,i){return rn.onInitEnabled(t),e.onInit(t,i)},initProcessValueAndOutputFormats:function(e){var i,r=Ha;i=t.setValue(r.getProp(e,"ProcessValue")),e.props.ProcessValue=i.jsValueOf()},onChanged:function(i,r,n){var a,o=rn,s=Ha;for(var l in r)-1!==l.indexOf("Graphic")&&"GraphicStretchMode"!==l&&o.loadImage(i,r[l],l,n);""===s.getScreenModelPartName(i,r,n)&&void 0!==r.ProcessValue&&(a=t.setValue(r.ProcessValue),r.ProcessValue=a.jsValueOf()),o.onChangedEnabled(i,r,n),e.onChanged(i,r,n)},onFlashing:function(t,i,r){e.onFlashing(t,i,r)},onCreatePart:function(t,i,r){return e.onCreatePart(t,i,r)},onDeletePart:function(t,i,r){return e.onDeletePart(t,i)},onMovePart:function(t,i,r){return e.onMovePart(t,i,r)},onCurrentStyle:function(t,i){e.onCurrentStyle(t,i)},onFocus:function(t){e.onFocus(t)},onFocusOut:function(t){e.onFocusOut(t)},checkInnerNavigation:function(t,i,r,n){return e.checkInnerNavigation(t,i,r,n)},onCleanUp:function(t){e.onCleanUp(t)},getBounds:function(t){return e.getBounds(t)}}}();const Mr=Lr;var Fr=function(){var e=Se,t=new window.Variant(0),i="",r=function(e){delete e.props.ResourceList},n=function(e){var t={ElementID:1,Text:e.props.Text,Graphic:e.props.Graphic,GraphicWidth:e.props.GraphicWidth,GraphicHeight:e.props.GraphicHeight};return void 0!==e.props.SelectedIndex&&-1!==e.props.SelectedIndex&&(t.$index=e.props.SelectedIndex),t},a=function(e,t,i){return{SelectedIndex:e,Current:t,List:i}},o=function(e,t,i){var r=Ha;if(0!==e.itemCount&&0===e.props.RotationAngle){if(!e.oldPosition){e.prevParentNode=e.domNode.parentNode,e.nextNode=e.maximize?e.domNode.nextSibling:e.nextNode,e.oldPosition={Left:r.getProp(e,"Left"),Top:r.getProp(e,"Top")};const i=function(e,t,i){var r={},n={};return rn.getRelPosToTLSW(e.container,r),e.factor=r.adaptScreenToWindowFactor,n.Left=r.x+t*e.factor,n.Top=r.y+i*e.factor,n}(e,e.oldPosition.Left,e.oldPosition.Top);"PopupScreenWindow"===t.props.Type&&(i.Left-=t.props.Left,i.Top-=t.props.Top),Fr.onChanged(e,i)}var n=e.itemCount*e.itemHeight+e.contentPosY,a=r.getProp(e,"Top"),o=r.getProp(e,"Height");a+o+n>r.getProp(t,"Height")&&"PopupScreenWindow"!==t.props.Type?function(e,t){e.setAttribute("transform","translate(0,"+-t+")")}(i,n):function(e,t){e.setAttribute("transform","translate(0,"+t+")")}(i,o),t.domNode.appendChild(e.domNode),e.domNode.style.transformOrigin="0 0",e.domNode.style.transform="scale("+e.factor+")"}},s=function(e){e.stopPropagation()};return{DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiSymboliciofield",DISABLE_SETSELECTIONPROPS:!1,onInit:function(t,r){const n=rn;return t.itemCount=0,t.prevParentNode=null,t.nextNode=null,t.oldPosition=null,n.onInitEnabled(t),r?t.props.ResourceList||(t.props.ResourceList=t.currentResourceList):function(e){if(e.props.ResourceList){var t,i=e.props.ResourceList.length;for(t=0;t<i;t+=1)e.props.ResourceList[t].GraphicWidth=0,e.props.ResourceList[t].GraphicHeight=0}}(t),t.fallback={selectedIndex:-1,_timeoutID:0,_timeoutDelay:1e3,resetStateByTimeout(){window.clearTimeout(this._timeoutID),this._timeoutID=window.setTimeout((()=>{e.onChanged(t,{SelectedIndex:this.selectedIndex}),Fr.listProvider.notyfyResourceListContainer(t,t.props.ResourceList,i,this.selectedIndex)}),this._timeoutDelay)},clearResetStateByTimeout(){window.clearTimeout(this._timeoutID)}},e.onInit(t,r)},initProcessValueAndOutputFormats:function(e){var i,r=Ha;i=t.setValue(r.getProp(e,"ProcessValue")),e.props.ProcessValue=i.jsValueOf()},onScopeInitialized:function(e){rn.imageWidthHeight(e,["Graphic"])},onCurrentLanguage:function(t,i){e.onCurrentLanguage(t,i)},onCurrentStyle:function(t,i){e.onCurrentStyle(t,i)},onChanged:function(r,a,o){var s=rn;if(!r.container||!r.container.isCleanedUp)if(r.templateInstance){if(void 0!==a.ResourceList){if(r.props.IOFieldType!==h.HmiIOFieldType.Output){const e=void 0!==a.SelectedIndex?a.SelectedIndex:r.props.SelectedIndex;r.props.ResourceList&&r.props.ResourceList.length>0&&(a.Graphic=a.Graphic||"",a.Text=a.Text||""),0===a.ResourceList.length&&(a.Graphic="",a.Text=""),r.props.ResourceList=a.ResourceList,Fr.listProvider.notyfyResourceListContainer(r,r.props.ResourceList,i,e)}delete a.ResourceList}if(o||void 0===a.ProcessValue||(a.ProcessValue=t.setValue(a.ProcessValue).jsValueOf()),s.onChangedEnabled(r,a,o),e.onChanged(r,a,o),a.Graphic)s.loadImage(r,a.Graphic,"Graphic");else if(void 0!==a.Text||void 0!==a.Graphic){const e=n(r);Fr.listProvider.notyfyResourceListContainerCurrrent(r,e,i)}void 0!==a.ProcessValue&&(r.fallback.clearResetStateByTimeout(),r.fallback.selectedIndex=r.props.SelectedIndex)}else e.addDelayedUpdates(Fr.onChanged,r,a,o)},onImageLoaded:function(e,t){if(!t.targetPath){var r=n(e);Fr.listProvider.notyfyResourceListContainerCurrrent(e,r,i)}},onFlashing:function(t,i,r){e.onFlashing(t,i,r)},onCommand:function(e,t,i){var r=rn;switch(t){case"MAXIMIZE":e.maximize=!0,e.props.ResourceList&&r.imageWidthHeight(e,["ResourceList.Graphic"]);var n=e.domNode.querySelector("#TIFID_ExpandedListBox");if(n&&e.container){var a=e.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(e);o(e,a,n),e.domNode.addEventListener("wheel",s,!1)}break;case"RESTORE":e.restore=!0,e.maximize&&e.oldPosition&&(Fr.onChanged(e,e.oldPosition),e.oldPosition=null,e.prevParentNode.insertBefore(e.domNode,e.nextNode),e.domNode.style.removeProperty("transform"),e.domNode.removeEventListener("wheel",s,!1)),e.maximize=!1,e.restore=!1}},onFocus:function(t){e.onFocus(t)},onFocusOut:function(t){if(n=t.gfxWebLib.getProjectVersion(),a=16,n&&n.split(".")[0]===a){var i=t.domNode.querySelector("#TIFID_ExpandedListBox");if(i)if("none"!==i.getAttribute("display")){var r=t.domNode.querySelector("#TIFID_CollapsSymbolicIOField");r&&r.dispatchEvent(new PointerEvent("pointerdown",{isPrimary:!0}))}}var n,a;e.onFocusOut(t)},onCleanUp:function(t,i){i&&(t.currentResourceList=t.props.ResourceList),e.onCleanUp(t)},checkInnerNavigation:function(t,i,r,n){return e.checkInnerNavigation(t,i,r,n)},listProvider:{setUpdateFunction:function(e,t,i){e["_cbResourceListChanged_"+t]=i},setUpdateCurrentFunction:function(e,t,i){e["_cbResourceListCurrentChanged_"+t]=i},setListHeightFunction:function(e,t,i){e["_cbResourceListHeightChange_"+t]=i},setProperties:function(e,t,i,r){var n=e.itemCount;if(e.itemCount=Math.min(e.props.ResourceList.length,t),e.itemHeight=i,e.contentPosY=r,n!==e.itemCount&&0!==e.itemCount&&e.maximize&&!e.restore){var a=e.domNode.querySelector("#TIFID_ExpandedListBox"),s=e.gfxWebLib.topLevelScreenWindow.getTopLevelScreenWindow(e);o(e,s,a)}},hasList:function(e,t){return"HmiTextList"===t||"HmiGraphicList"===t||"HmiTextGraphicList"===t},getList:function(e,t,o){var s;if(i&&i!==t&&r(e),i=t,o)return s=-1!==e.props.SelectedIndex&&e.props.ResourceList&&e.props.SelectedIndex<e.props.ResourceList.length?e.props.ResourceList[e.props.SelectedIndex]:n(e),Fr.onCommand(e,"RESTORE"),a(e.props.SelectedIndex,s,[]);if(!e.props.ResourceList||0===e.props.ResourceList.length){var l=rn;e.props.ResourceList=function(e,t){if(t){var i=e.gfxWebLib.connection.getEventIDs();i&&e.gfxWebLib.connection.sendEvent(e.rtoid,i.OnRequestResourceListEntries)}return[]}(e,t),l.imageWidthHeight(e,["ResourceList.Graphic"])}var u=webRTPU.DataPreprocessor.clone(e.props.ResourceList),h=-1!==e.props.SelectedIndex&&e.props.SelectedIndex<u.length?u[e.props.SelectedIndex]:{};return a(e.props.SelectedIndex,h,u)},releaseList:function(e,t){e["_cbResourceListChanged_"+t]&&delete e["_cbResourceListChanged_"+t],e["_cbResourceListCurrentChanged_"+t]&&delete e["_cbResourceListCurrentChanged_"+t],r(e)},setSelection:function(e,t,i,r){},notyfyResourceListContainer:function(e,t,i,r){e["_cbResourceListChanged_"+i]&&e["_cbResourceListChanged_"+i](t,r)},notyfyResourceListContainerCurrrent:function(e,t,i){e["_cbResourceListCurrentChanged_"+i]&&e["_cbResourceListCurrentChanged_"+i](t)}},getPropertyBinding:function(){return e.getPropertyBinding()},getBounds:function(t){return e.getBounds(t)}}}();const Hr=Fr;var Or=function(){var e=sr,t=new window.Variant(0);return{DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiSymbolContainer",DISABLE_SETSELECTIONPROPS:!1,onScopeInitialized:function(t){e.setParamProps(t,t.props.Properties,"ParamProps",!0)},onInit:function(t){return rn.onInitEnabled(t),t.props.Properties=t.props.Properties||{},e.onInit(t)},initProcessValueAndOutputFormats:function(e){var i,r=Ha;e.props.ProcessValue&&(i=t.setValue(r.getProp(e,"ProcessValue")),e.props.ProcessValue=i.jsValueOf())},onCurrentLanguage:function(t,i){e.onCurrentLanguage(t,i)},onCurrentStyle:function(){},onChanged:function(i,r,n){var a;"Properties"===(n?n.split(":")[0].split(".")[0]:"")?(i.props.Properties=o.extend(i.props.Properties,r),e.setParamProps(i,r,"ParamProps",!0)):(void 0!==r.ProcessValue&&(a=t.setValue(r.ProcessValue),r.ProcessValue=a.jsValueOf()),rn.onChangedEnabled(i,r,n),e.onChanged(i,r,n))},onFlashing:function(t,i,r){e.onFlashing(t,i,r)},onCreatePart:function(t,i,r){return e.onCreatePart(t,i,r)},onDeletePart:function(t,i,r){return e.onDeletePart(t,i)},onMovePart:function(t,i,r){return e.onMovePart(t,i,r)},onFocus:function(t){e.onFocus(t)},onFocusOut:function(t){e.onFocusOut(t)},checkInnerNavigation:function(t,i,r,n){return e.checkInnerNavigation(t,i,r,n)},onCleanUp:function(t){e.onCleanUp(t)},getBounds:function(t){return e.getBounds(t)}}}();const Nr=Or;const kr={getStraightScale:function(e){var t=Ha,i=t.getProp(e,"StraightScale")||{},r="StraightScale",n={};return n.Orientation=t.getPropPart(i,r,"Orientation"),n.ScalingType=t.getPropPart(i,r,"ScalingType"),n.DivisionCount=t.getPropPart(i,r,"DivisionCount"),n.SubDivisionCount=t.getPropPart(i,r,"SubDivisionCount"),n.LargeTickLabelingStep=t.getPropPart(i,r,"LargeTickLabelingStep"),n.BeginValue=t.getPropPart(i,r,"BeginValue"),n.EndValue=t.getPropPart(i,r,"EndValue"),n.OutputFormat=t.getPropPart(i,r,"OutputFormat"),n.MeasurementUnitType=t.getPropPart(i,r,"MeasurementUnitType"),n.MeasurementUnit=t.getPropPart(i,r,"MeasurementUnit"),n.AutoScaling=t.getPropPart(i,r,"AutoScaling"),n.ScaleMode=t.getPropPart(i,r,"ScaleMode"),n.LabelColor=t.getPropPart(i,r,"LabelColor"),n.TickColor=t.getPropPart(i,r,"TickColor"),n},getLimit:function(e,t){var i=Ha,r=i.getProp(e,t)||{},n="LimitPart",a={};return a.LowerLimitAvailable=i.getPropPart(r,n,"LowerLimitAvailable"),a.LowerLimitVisible=i.getPropPart(r,n,"LowerLimitVisible"),a.UpperLimitAvailable=i.getPropPart(r,n,"UpperLimitAvailable"),a.UpperLimitVisible=i.getPropPart(r,n,"UpperLimitVisible"),a.FlashingOnViolation=i.getPropPart(r,n,"FlashingOnViolation"),a.AboveUpperLimitColor=i.getPropPart(r,n,"AboveUpperLimitColor"),a.BelowLowerLimitColor=i.getPropPart(r,n,"BelowLowerLimitColor"),a.UpperLimit=i.getPropPart(r,n,"UpperLimit"),a.LowerLimit=i.getPropPart(r,n,"LowerLimit"),a.LowerLimitAvailable&&a.UpperLimitAvailable&&a.UpperLimit===a.LowerLimit&&(a.LowerLimitAvailable=a.UpperLimitAvailable=0),a},getCorners:function(e){var t=Ha,i=t.getPropRaw(e,"Corners")||{},r="CornersPart";return{TopLeftRadius:t.getPropPart(i,r,"TopLeftRadius"),TopRightRadius:t.getPropPart(i,r,"TopRightRadius"),BottomRightRadius:t.getPropPart(i,r,"BottomRightRadius"),BottomLeftRadius:t.getPropPart(i,r,"BottomLeftRadius")}},getPadding:function(e){var t=Ha,i=t.getPropRaw(e,"Padding")||{},r="PaddingPart";return{Top:t.getPropPart(i,r,"Top"),Bottom:t.getPropPart(i,r,"Bottom"),Left:t.getPropPart(i,r,"Left"),Right:t.getPropPart(i,r,"Right")}},getMargin:function(e){var t=Ha,i=t.getPropRaw(e,"Margin")||{},r="MarginPart";return{Top:t.getPropPart(i,r,"Top"),Bottom:t.getPropPart(i,r,"Bottom"),Left:t.getPropPart(i,r,"Left"),Right:t.getPropPart(i,r,"Right")}}};var Wr=function(){var e=h,t=null,i=function(e){var i=Ha,r=i.getProp(e,"Left"),n=i.getProp(e,"Top");e.yogaRoot.calculateLayout(i.getProp(e,"Width"),i.getProp(e,"Height"),t.DIRECTION_LTR);for(var a=0;a<e.yogaNodes.length;a++){var s=e.yogaNodes[a],l=s.child.getComputedLayout();s.item.handler?s.item.handler.onChanged(s.item,{Left:l.left+r,Top:l.top+n,Width:l.width,Height:l.height}):o.extend(s.item.props,{Left:l.left+r,Top:l.top+n,Width:l.width,Height:l.height})}};return"object"==typeof window.webRTPU&&window.webRTPU.Yoga&&(t=window.webRTPU.Yoga),{DOM_TYPE:"svg",HANDLER_NAME:"PWC.Lib.HmiTypes.HmiStackPanel",onInit:function(r){var n=Ha,a=r.items,o=r.container;if(t){var s=n.getProp(r,"Wrapping"),l=n.getProp(r,"Orientation");r.yogaConfig=t.Config.create(),r.yogaRoot=t.Node.create(r.yogaConfig),r.yogaRoot.setFlexDirection(l===e.HmiOrientation.Horizontal?t.FLEX_DIRECTION_ROW:t.FLEX_DIRECTION_COLUMN),r.yogaRoot.setFlexWrap(s?t.WRAP_WRAP:t.WRAP_NO_WRAP);var u=kr.getPadding(r);r.yogaRoot.setPadding(t.EDGE_LEFT,u.Left),r.yogaRoot.setPadding(t.EDGE_RIGHT,u.Right),r.yogaRoot.setPadding(t.EDGE_TOP,u.Top),r.yogaRoot.setPadding(t.EDGE_BOTTOM,u.Bottom),r.yogaNodes=[];for(var h=0;h<a.length;h++){var d=o.handler.getItem(o,a[h]);if(d){d.panel=r;var c=t.Node.create(r.yogaConfig);if(c){var p=n.getProp(d,"Width");p?c.setWidth(p):(c.setWidthAuto(),c.setMinWidth(n.getProp(d,"MinimumWidth")),c.setMaxWidth(n.getProp(d,"MaximumWidth")));var m=n.getProp(d,"Height");m?c.setHeight(m):(c.setHeightAuto(),c.setMinHeight(n.getProp(d,"MinimumHeight")),c.setMaxHeight(n.getProp(d,"MaximumHeight")));var g=n.getPropRaw(d,"BorderWidth",0,0);g&&(c.setBorder(t.EDGE_LEFT,g),c.setBorder(t.EDGE_RIGHT,g),c.setBorder(t.EDGE_TOP,g),c.setBorder(t.EDGE_BOTTOM,g));var T=kr.getMargin(d);c.setMargin(t.EDGE_LEFT,T.Left),c.setMargin(t.EDGE_RIGHT,T.Right),c.setMargin(t.EDGE_TOP,T.Top),c.setMargin(t.EDGE_BOTTOM,T.Bottom),r.yogaRoot.insertChild(c,h),r.yogaNodes.push({item:d,child:c})}}}i(r)}},onChanged:function(r,n){o.extend(r.props,n),void 0!==n.Orientation&&r.yogaRoot.setFlexDirection(n.Orientation===e.HmiOrientation.Horizontal?t.FLEX_DIRECTION_ROW:t.FLEX_DIRECTION_COLUMN),void 0!==n.Wrapping&&r.yogaRoot.setFlexWrap(n.Wrapping?t.WRAP_WRAP:t.WRAP_NO_WRAP),i(r)},onResized:function(e){},onCleanUp:function(e){e.yogaNodes=[],e.root&&e.root.freeRecursive(),e.config&&e.config.free()},getPropertyBinding:function(){return null}}}();const Gr=Wr;var Ur=function(){var e=h,t={Enabled:{func:["_setEnable"]},Visible:{gc:"Display",html:[{si:"domNode",ss:"display"}]},Left:{gc:"Pixel",html:[{si:"domNode",ss:"left"}]},Top:{gc:"Pixel",html:[{si:"domNode",ss:"top"}]},Width:{gc:"Pixel",html:[{si:"domNode",ss:"width"}]},Height:{gc:"Pixel",html:[{si:"domNode",ss:"height"}]},BackColor:{gc:"Color",html:[{si:"domNode",ss:"background-color"}]}},i=function(t){return t.domNode=E.createDomScreenItemNode(t,{style:"position: absolute; pointer-events: auto;"}),window.Hammer&&function(t){t.hammertime=new Hammer.Manager(t.domNode,{touchAction:"none"}),t.hammertime.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL,threshold:b.zoomOnPoint?3:0})),t.hammertime.add(new Hammer.Swipe({event:"onefingerswipe",velocity:.1}).recognizeWith(t.hammertime.get("pan"))),t.hammertime.on("panstart",(function(e){t.domNode.style.touchAction="none",e.preventDefault(),t.container&&t.container.handler&&t.container.handler.lockGesture(t.container,t.hammertime)})),t.hammertime.on("panmove",(function(e){e.preventDefault()})),t.hammertime.on("panend",(function(e){t.domNode.style.touchAction="pinch-zoom",e.preventDefault()})),t.hammertime.on("onefingerswipe",(function(i){var r=e.HmiGesture.Unknown;switch(i.offsetDirection){case Hammer.DIRECTION_LEFT:r=e.HmiGesture.SwipeLeft;break;case Hammer.DIRECTION_RIGHT:r=e.HmiGesture.SwipeRight;break;case Hammer.DIRECTION_UP:r=e.HmiGesture.SwipeUp;break;case Hammer.DIRECTION_DOWN:r=e.HmiGesture.SwipeDown}r!==e.HmiGesture.Unknown&&t.gfxWebLib.connection.sendGestureEvent(t.rtoid,r)}))}(t),t.domNode};return{DOM_TYPE:"html",TEMPLATE_HANDLER_TYPE:"NATIVE",onInit:function(e){return i(e),rn.initAllAttributes(e),e.domNode},onChanged:function(e,t,i){rn.onChanged(e,t)},onCleanUp:function(e){e.hammertime&&e.hammertime.destroy()},getPropertyBinding:function(){return t},onPropBindFunc:function(e,t,i){if("_setEnable"===e)!function(e){var t=Ha.getProp(e,"Enabled");e.container&&(t=e.container.isEnabled&&t),e.gfxWebLib.interaction.addEvents(e,t),e.hammertime&&e.hammertime.set({enable:t})}(t)}}}();const zr=Ur;const jr={DOM_TYPE:"svg",BORDER_SVG_ELEM_TYPE:"g",onInit:function(e){return e.domSvgNode=e.domNode=wn.createSvgScreenItemNode(e,{}),e.domNode},onChanged:function(e,t,i){if(i){var r=Ha.getPart(e,i);o.extend(r,t)}else if(o.extend(e.props,t),!0===t.Visible){var n=e.domNode;e.handler=Kr.getHandler(e.props.Type);var a=e.handler.onInit(e);e.domParent.replaceChild(a,n)}},onCleanUp:function(){},getPropertyBinding:function(){return null}};var Yr=function(){var e={Enabled:{func:["_enableItems"]},Visible:{gc:"Display",html:[{si:"domNode",ss:"display"}]},Left:{gc:"Pixel",html:[{si:"domNode",ss:"left"}]},Top:{gc:"Pixel",html:[{si:"domNode",ss:"top"}]},Width:{func:["_updateGeometry"]},Height:{func:["_updateGeometry"]},RotationCenterPlacement:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterX:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationCenterY:{gc:"TransformOriginPlaced",html:[{si:"domNode",ss:"transform-origin"}]},RotationAngle:{gc:"TransformRotate",html:[{si:"domNode",ss:"transform"}]}};return{DOM_TYPE:"html",TEMPLATE_HANDLER_TYPE:"NATIVE",onInit:function(e){return function(e){e.domNode=E.createDomScreenItemNode(e,{style:"position: absolute; pointer-events: none;"}),e.screen={offsetLeft:0,offsetTop:0,items:[],domHtmlItems:e.domNode,container:e,gfxWebLib:e.gfxWebLib,tabOrder:null,winManager:null,layersInfo:null,handler:null,domNode:null,core:null,props:{Width:e.props.Width,Height:e.props.Height,Type:"Screen"}},e.container&&(e.screen.tabOrder=e.container.tabOrder,e.screen.layersInfo=e.container.layersInfo,e.screen.handler=e.container.handler,e.screen.winManager=e.container.winManager,e.screen.domNode=e.container.domNode,e.screen.core=e.container.core)}(e),rn.initAllAttributes(e),e.domNode},onChanged:function(e,t,i){i||rn.onChanged(e,t)},onResized:function(e){},onCleanUp:function(e){},getPropertyBinding:function(){return e},onPropBindFunc:function(e,t,i){switch(e){case"_updateGeometry":!function(e,t){var i=rn.getBounds(e);E.setBBox(e.domNode,i),e.screen.props.Width=i.w,e.screen.props.Height=i.h}(t);break;case"_enableItems":!function(e,t){var i=Ha,r=e.screen,n=i.getProp(e,"Enabled"),a=r.isEnabled;if(e.container&&(n=e.container.isEnabled&&n),r.isEnabled=n,!t&&a!==r.isEnabled)for(var o=r.items.length,s=0;s<o;s+=1){var l=r.items[s];l.handler.getPropertyBinding()&&!l.ignorePropertyBinding?l.handler.onChanged(l,{Enabled:i.getProp(l,"Enabled")}):l.handler.onChanged(l,{_Enabled:!0})}}(t,i)}},addItem:function(e,t){e.screen.items.push(t),t.container=e.screen,t.groupContainer=e.container;const i=function(e,t){return"svg"===t?(e.domSvgItems||(e.domSvgItems=wn.createSvgElement("svg",{style:"position: absolute; pointer-events: none; overflow: visible; display: block;",focusable:"false",appendTo:e.domHtmlItems})),e.domSvgItems):(e.domSvgItems=null,e.domHtmlItems)}(e.screen,t.handler.DOM_TYPE||"svg");return t.domNode&&i.appendChild(t.domNode),i}}}();const Xr=Yr;var qr;const Kr=(qr={},{initObjTypes:function(){qr.Screen=null,qr.ScreenWindow=Re,qr.PopupScreenWindow=Re,qr.CustomWebControlContainer=rt,qr.SwacContainer=rt,qr.AlarmControl=rt,qr.TrendControl=rt,qr.FunctionTrendControl=rt,qr.TrendCompanion=rt,qr.ObjectExplorerControl=rt,qr.ProcessControl=rt,qr.SystemDiagnosisControl=rt,qr.WebControl=rt,qr.MediaControl=rt,qr.DetailedParameterControl=rt,qr.ProcessDiagnosisCriteriaAnalysisControl=rt,qr.ProcessDiagnosisGraphOverviewControl=rt,qr.ProcessDiagnosisPlcCodeViewerControl=rt,qr.ProcessDiagnosisOverviewControl=rt,qr.Line=At,qr.Polyline=vt,qr.Polygon=Vt,qr.Rectangle=It,qr.Circle=Vi,qr.CircularArc=Ri,qr.CircleSegment=Qi,qr.Ellipse=xi,qr.EllipticalArc=Ii,qr.EllipseSegment=Li,qr.GraphicView=er,qr.StackPanel=Gr,qr.TouchArea=zr,qr.Group=Xr,qr.Text=ir,qr.Label=wr,qr.IOField=mr,qr.TextBox=_r,qr.Bar=Vr,qr.Clock=Ir,qr.Slider=Vr,qr.Gauge=Vr,qr.Button=Br,qr.RadioButtonGroup=Mr,qr.CheckBoxGroup=Mr,qr.ListBox=Mr,qr.ToggleSwitch=Br,qr.SymbolicIOField=Hr,qr.CustomWidgetContainer=Nr,qr.SymbolContainer=Nr,qr.FaceplateContainer=Le},getHandler:function(e,t){var i=qr[e];return void 0!==i?t&&!1===t.props.Visible&&"svg"===i.DOM_TYPE?jr:i:null},addHandler:function(e,t){void 0!==qr[e]&&null!==qr[e]?eo.consolLog(eo.enumTraceMode.Warning,"HmiObjectTypes Warning: Handler did already exist and will NOT be overwritten: "+e):qr[e]=t},isTypeSupported:function(e){return void 0!==qr[e]},iterateOverObjTypes:function(e,t){if("function"==typeof e)for(var i in qr)qr.hasOwnProperty(i)&&e(t,i,qr[i])},TYPE_HMI_SCREEN:"Screen",TYPE_HMI_SCREENWINDOW:"ScreenWindow",TYPE_HMI_TOPLEVELSCREENWINDOW:"TopLevelScreenWindow",TYPE_HMI_POPUPSCREENWINDOW:"PopupScreenWindow",TYPE_HMI_IOFIELD:"IOField"});var Zr=function(){var e=h,t=function(t){var i=Ha,r=rn.getInnerBounds(t),n=t.border;if(null!==n.svgFillClipPath){var a=Math.min(100,i.getProp(t,"FillLevel")),o=i.getProp(t,"FillDirection"),s=rn.copyBounds(r);switch(o){case e.HmiFillDirection.BottomToTop:s.t=s.t+(100-a)/100*s.h;break;case e.HmiFillDirection.TopToBottom:s.h=s.h-(100-a)/100*s.h;break;case e.HmiFillDirection.LeftToRight:s.w=s.w-(100-a)/100*s.w;break;case e.HmiFillDirection.RightToLeft:s.l=s.l+(100-a)/100*s.w}wn.setBBox(n.svgFillClipRect,s)}},i=function(e,t){return e+" "+t+" "},r=function(e){var t,r,n,a,o,s,l,u,h,d,c,p=kr.getCorners(e),m=rn.getBorderRect(e),g=e.border;m.w<=0||m.h<=0?Zr.removeAttribute(g,"d"):(r=Math.min(m.w,m.h)/2,p.TopLeftRadius=Math.min(p.TopLeftRadius,r),p.TopRightRadius=Math.min(p.TopRightRadius,r),p.BottomRightRadius=Math.min(p.BottomRightRadius,r),p.BottomLeftRadius=Math.min(p.BottomLeftRadius,r),n=m.l,a=m.t,o=m.w,s=m.h,l=p.TopLeftRadius,u=p.TopRightRadius,h=p.BottomRightRadius,d=p.BottomLeftRadius,c="M"+i(n+l,a),c+="L"+i(n+o-u,a)+"Q"+i(n+o,a)+i(n+o,a+u),c+="L"+i(n+o,a+s-h)+"Q"+i(n+o,a+s)+i(n+o-h,a+s),c+="L"+i(n+d,a+s)+"Q"+i(n,a+s)+i(n,a+s-d),t=(c+="L"+i(n,a+l)+"Q"+i(n,a)+i(n+l,a))+"Z",Zr.setAttribute(g,"d",t))};return{createBorder:function(e){return{fillMode:e,svgBorderItem:null,svgBorderItemFillRect:null,svgBorderBgItem:null,svgBorderBgItemFillRect:null,svgFillClipPath:null,svgBgPatternElement:null,svgBgGradientElement:null,svgFillClipRect:null,svgFillPattern:null}},createBorderClone:function(e,t,i){return{fillMode:i,svgBorderItem:i?null:t.BI.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgBorderItemFillRect:t.BIFR.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgBorderBgItem:i?null:t.BBI.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgBorderBgItemFillRect:t.BBIFR.evaluate(e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,svgFillClipPath:null,svgBgPatternElement:null,svgBgGradientElement:null,svgFillClipRect:null,svgFillPattern:null}},setAttribute:function(e,t,i){null!==e.svgBorderBgItemFillRect&&e.svgBorderBgItemFillRect.setAttribute(t,i),null!==e.svgBorderBgItem&&e.svgBorderBgItem.setAttribute(t,i),null!==e.svgBorderItemFillRect&&e.svgBorderItemFillRect.setAttribute(t,i),null!==e.svgBorderItem&&e.svgBorderItem.setAttribute(t,i)},removeAttribute:function(e,t){null!==e.svgBorderBgItemFillRect&&e.svgBorderBgItemFillRect.removeAttribute(t),null!==e.svgBorderBgItem&&e.svgBorderBgItem.removeAttribute(t),null!==e.svgBorderItemFillRect&&e.svgBorderItemFillRect.removeAttribute(t),null!==e.svgBorderItem&&e.svgBorderItem.removeAttribute(t)},BorderItems:function(e){var i=Ha,r=ka,n=e.border;if(function(e){var t=Ha,i=e.handler,r=e.border;r.fillMode||r.svgBorderBgItem||(r.svgBorderBgItem=wn.createSvgElement(i.BORDER_SVG_ELEM_TYPE,{}),e.domSvgNode.insertBefore(r.svgBorderBgItem,e.domSvgNode.firstChild)),r.svgBorderBgItemFillRect||(r.svgBorderBgItemFillRect=wn.createSvgElement(i.BORDER_SVG_ELEM_TYPE,{stroke:"none"}),e.domSvgNode.insertBefore(r.svgBorderBgItemFillRect,e.domSvgNode.firstChild)),r.fillMode||(t.getProp(e,"ShowFillLevel",0,0)?r.svgBorderBgItem.setAttribute("fill","rgba(0,0,0,0)"):r.svgBorderBgItem.setAttribute("fill","none"),t.getProp(e,"DashType",0,0)?r.svgBorderBgItem.removeAttribute("display"):r.svgBorderBgItem.setAttribute("display","none"))}(e),function(e){var t=Ha,i=e.handler,r=e.border;const n=ka;if(r.fillMode||null!==r.svgBorderItem||(r.svgBorderItem=wn.createSvgElement(i.BORDER_SVG_ELEM_TYPE,{}),e.domSvgNode.insertBefore(r.svgBorderItem,r.svgBorderBgItem.nextSibling)),null===r.svgBorderItemFillRect&&(r.svgBorderItemFillRect=wn.createSvgElement(i.BORDER_SVG_ELEM_TYPE,{stroke:"none"}),void 0!==t.getPropRaw(e,"BackFillPattern")&&(r.fillMode?e.domSvgNode.insertBefore(r.svgBorderItemFillRect,r.svgBorderBgItemFillRect.nextSibling):e.domSvgNode.insertBefore(r.svgBorderItemFillRect,r.svgBorderBgItem))),!r.fillMode){var a=t.getProp(e,"ShowFillLevel",0,0);const i=t.getProp(e,"DashType",n.enumConverter.AlternateBorderDashArray,0);a?r.svgBorderItem.setAttribute("fill","rgba(0,0,0,0)"):(r.svgBorderItem.setAttribute("fill","none"),null!==i?r.svgBorderBgItem.setAttribute("stroke-dasharray",i):r.svgBorderBgItem.removeAttribute("stroke-dasharray"))}}(e),function(e){var t,i=Ha,r=ka,n=e.border;null!==n.svgBgPatternElement&&(n.svgBgPatternElement.parentNode.removeChild(n.svgBgPatternElement),n.svgBgPatternElement=null),null!==n.svgBgGradientElement&&(n.svgBgGradientElement.parentNode.removeChild(n.svgBgGradientElement),n.svgBgGradientElement=null),(t=i.getProp(e,"BackFillPattern",r.enumConverter.None,0))>=131072&&(t>=1048576?n.svgBgGradientElement=rn.createSvgBgGradient(e,t):n.svgBgPatternElement=rn.createSvgBgPattern(e,t))}(e),function(e){var t=Ha,i=ka,r=wn.getSvgDefs(e),n=t.getProp(e,"ShowFillLevel",i.enumConverter.None,0),a=e.border;null!==a.svgFillClipPath&&(a.svgFillClipPath.removeChild(a.svgFillClipRect),a.svgFillClipRect=null,r.removeChild(a.svgFillClipPath),a.svgFillClipPath=null,r.removeChild(a.svgFillPattern),a.svgFillPattern=null),n&&(a.svgFillClipPath=wn.createSvgElement("clipPath",{id:Y.mkId(e,"ID_ItemFillClipPath"),appendTo:r}),a.svgFillClipRect=wn.createSvgElement("rect",{appendTo:a.svgFillClipPath}),a.svgFillPattern=wn.createSvgElement("pattern",{id:Y.mkId(e,"ID_ItemFillPattern"),patternUnits:"userSpaceOnUse",appendTo:r}),a.svgBorderItemFillRect&&a.svgBorderItemFillRect.setAttribute("clip-path",Y.mkUrl(e,"ID_ItemFillClipPath")),a.svgBorderBgItemFillRect&&a.svgBorderBgItemFillRect.setAttribute("clip-path",Y.mkUrl(e,"ID_ItemFillClipPath")))}(e),t(e),65536===i.getProp(e,"BackFillPattern",r.enumConverter.None,0))n.svgBorderBgItemFillRect.setAttribute("fill","none"),n.svgBorderItemFillRect&&n.svgBorderItemFillRect.setAttribute("fill","none");else if(null!==n.svgBgPatternElement?n.svgBorderItemFillRect.setAttribute("fill",Y.mkUrl(e,"ID_ItemBgPatternElement")):n.svgBorderItemFillRect&&n.svgBorderItemFillRect.setAttribute("fill","none"),null!==n.svgBgGradientElement)n.svgBorderBgItemFillRect.setAttribute("fill",Y.mkUrl(e,"ID_ItemBgGradientElement"));else{var a=i.getProp(e,"BackColor",r.enumConverter.Color);n.svgBorderBgItemFillRect.setAttribute("fill",a)}},BorderRect:function(e){"rect"===e.handler.BORDER_SVG_ELEM_TYPE?function(e){var t=rn.getBorderRect(e),i=e.border;i.svgBorderItemFillRect&&wn.setBBox(i.svgBorderItemFillRect,t),i.svgBorderItem&&wn.setBBox(i.svgBorderItem,t),i.svgBorderBgItemFillRect&&wn.setBBox(i.svgBorderBgItemFillRect,t),i.svgBorderBgItem&&wn.setBBox(i.svgBorderBgItem,t)}(e):"path"===e.handler.BORDER_SVG_ELEM_TYPE&&r(e)},BackColors:function(e,t){var i,r=Ha,n=ka,a=r.getProp(e,"BackFillPattern",n.enumConverter.None,0),o=e.border;65536!==a&&(o.svgBgGradientElement?(i=n.mkColorObj(r.getProp(e,t)),w.setBackColors(a,o.svgBgGradientElement.childNodes,i)):(i=r.getProp(e,t,n.enumConverter.Color),o.svgBorderBgItemFillRect.setAttribute("fill",i)))},FillClip:t}}();const Qr=Zr;const Jr={createText:function(e,t){var i=wn,r=i.createSvgElement("clipPath",{id:Y.mkId(e,"ID_ClipPath"),appendTo:e.domSvgNode}),n=i.createSvgElement("rect",{fill:"none",appendTo:r}),a=i.createSvgElement("text",{"clip-path":Y.mkUrl(e,"ID_ClipPath"),appendTo:e.domSvgNode}),o=new br(a,t);return o.setLayout(new Sr),{svgTextClipPath:r,svgTextClipRect:n,svgText:a,textBox:o}},setText:function(e,t){e.textBox.setText(t)},setOffsets:function(e,t,i){e.textBox.setOffsets(t,i)},display:function(e,t){var i=t?"inline":"none";e.svgText.setAttribute("display",i)},TextClip:function(e){var t=rn.getInnerBounds(e),i=e.text;null!==i.svgTextClipRect&&(t.w=Math.max(0,t.w),t.h=Math.max(0,t.h),wn.setBBox(i.svgTextClipRect,t))},TextHorizontalAlignment:function(e){var t=ka,i=Ha.getProp(e,"HorizontalTextAlignment",t.enumConverter.textHAlign);e.text.textBox.setXAlignment(i)},TextVerticalAlignment:function(e){var t=ka,i=Ha.getProp(e,"VerticalTextAlignment",t.enumConverter.textVAlign);e.text.textBox.setYAlignment(i)},Font:function(e){var t=rn.getFont(e,"Font");rn.setFontProps(e.text.svgText,t)}};var $r=function(){var e=h,t=function(e,t){var i,r,n,a,o,s,l=e.quality;if(!l.svgImageOverlay.loaded){if(!e.gfxWebLib.isImageOverlayLoaded())return void e.gfxWebLib.registerForOverlay(e);l.svgImageOverlay.setAttributeNS(wn.xlinkNS,"xlink:href",e.gfxWebLib.overlayContent.qualityImage),l.svgImageOverlay.loaded=!0}n=(r=e.gfxWebLib.getOverlaySize()).w,a=r.h,n&&a&&(i={},t=t||rn.getBounds(e),e.handler!==vr&&(t.l=t.t=0),t.w>n&&t.h>a?(i.w=n,i.h=a,i.l=t.l+(t.w-n)/2,i.t=t.t+(t.h-a)/2):(o=t.w/n)<(s=t.h/a)?(i.w=t.w,i.l=t.l,i.h=Math.floor(o*a+.5),i.t=t.t+Math.floor((t.h-o*a)/2+.5)):(i.w=Math.floor(s*n+.5),i.l=t.l+Math.floor((t.w-s*n)/2+.5),i.h=t.h,i.t=t.t),wn.setBBox(l.svgImageOverlay,i))};return{create:function(e){return{svgQuality:null,svgObjectState:null,svgImageOverlay:null,isShown:!1}},ShowQuality:function(i){var r=Ha,n=r.getPropRaw(i,"VisualizeQuality"),a=15&r.getPropRaw(i,"CurrentQuality"),o=n&&a&&a!==e.HmiQuality.Good,s=i.quality;if(s){if(i.gfxWebLib.appMode!==In.EDIT)if(o){var l=rn.getBounds(i);i.handler!==vr&&(l.l=l.t=0),s.svgQuality||function(e){var t=wn,i=e.quality;i.svgQuality=t.createSvgElement("g",{}),i.svgObjectState=t.createSvgElement("rect",{fill:Y.mkUrl(e,"ID_Pattern_QualityVisualization_DiagonalHatch",!0),"pointer-events":"none",appendTo:i.svgQuality}),i.svgImageOverlay=t.createSvgElement("image",{preserveAspectRatio:"none",opacity:"0.5","pointer-events":"none",appendTo:i.svgQuality})}(i),wn.setBBox(s.svgObjectState,l),t(i,l),s.isShown||(i.domSvgNode.contains(s.svgQuality)||i.domSvgNode.appendChild(s.svgQuality),s.svgQuality.setAttribute("display","inline"),s.isShown=!0)}else s.isShown&&(s.svgQuality.setAttribute("display","none"),s.isShown=!1)}else eo.consolLog(eo.enumTraceMode.Error,"HmiObject.Quality.showQuality: Wrong parameter! quality not initialized!")},adjustImageOverlay:t}}();const en=$r;var tn=function(){var e=h,t=b,i=b.drawInsideFrame,r=function(e,i){var n,a,o,s=Ha;if(!e||!e.props)return i.x=0,i.y=0,void(i.adaptScreenToWindowFactor=1);switch(e.props.Type){case"DesktopWindow":i.x=0,i.y=0,i.adaptScreenToWindowFactor=1;break;case Kr.TYPE_HMI_TOPLEVELSCREENWINDOW:i.x=s.getPropRaw(e,"Left"),i.y=s.getPropRaw(e,"Top"),t.zoomOnPoint&&(o=s.getProp(e,"CurrentZoomFactor",0,1),i.x-=s.getPropRaw(e,"HorizontalScrollBarPosition")*o,i.y-=s.getPropRaw(e,"VerticalScrollBarPosition")*o),i.adaptScreenToWindowFactor=1;break;case Kr.TYPE_HMI_SCREENWINDOW:case Kr.TYPE_HMI_POPUPSCREENWINDOW:r(e.container,i),n=s.getPropRaw(e,"Left"),a=s.getPropRaw(e,"Top"),void 0!==e.control&&(n+=e.control.left,a+=e.control.top),o=s.getProp(e,"CurrentZoomFactor",0,1),n-=s.getPropRaw(e,"HorizontalScrollBarPosition")*o,a-=s.getPropRaw(e,"VerticalScrollBarPosition")*o,i.x+=n*i.adaptScreenToWindowFactor,i.y+=a*i.adaptScreenToWindowFactor;break;case"FaceplateContainer":case"Group":r(e.container,i),n=s.getPropRaw(e,"Left"),a=s.getPropRaw(e,"Top"),void 0!==e.control&&(n+=e.control.left,a+=e.control.top),i.x+=n*i.adaptScreenToWindowFactor,i.y+=a*i.adaptScreenToWindowFactor;break;case Kr.TYPE_HMI_SCREEN:case"FaceplateType":r(e.container,i),i.x+=e.offsetLeft*i.adaptScreenToWindowFactor,i.y+=e.offsetTop*i.adaptScreenToWindowFactor,i.adaptScreenToWindowFactor*=e.adaptScreenToWindowFactor?e.adaptScreenToWindowFactor:1;break;default:eo.consolLog(eo.enumTraceMode.Error,"_getRelPosToTLSW(): unknown container type: "+e.props.Type)}},n=function(e){return"Arial"===e?"Arial, Helvetica, sans-serif":"Arial Black"===e?"Arial Black, Gadget, sans-serif":"Tahoma"===e?"Tahoma, Geneva, sans-serif":"Lucida Sans Unicode"===e?"Lucida Sans Unicode, Lucida Grande, sans-serif":"Trebuchet MS"===e?"Trebuchet MS, Helvetica, sans-serif":"Verdana"===e?"Verdana, Geneva, sans-serif":"Times New Roman"===e?"Times New Roman, Times, serif":"Georgia"===e?"Georgia, Utopia, Charter, serif":"Courier New"===e?"Courier New, Courier, monospace":`"${e}"`},a=function(e,t){var i;e.setAttribute("font-size",t.Size.toString()+"px"),e.setAttribute("font-style",t.Italic?"italic":"normal"),e.setAttribute("font-weight",t.Weight),e.setAttribute("font-family",n(t.Name)),i=t.Underline||t.StrikeOut?(t.Underline?"underline ":"")+(t.StrikeOut?"line-through ":""):"none",e.setAttribute("text-decoration",i)},s=function(){var e=Ha,t=arguments[0]||{},i="FontPart";return arguments.length>1&&(t=e.getProp(arguments[0],arguments[1])||{}),{Name:e.getPropPart(t,i,"Name"),Size:e.getPropPart(t,i,"Size"),Underline:e.getPropPart(t,i,"Underline"),StrikeOut:e.getPropPart(t,i,"StrikeOut"),Weight:e.getPropPart(t,i,"Weight"),Italic:e.getPropPart(t,i,"Italic")}},l=function(e,t){var i,r,n;if(r=(i=t.params).propName,n=i.targetPath,i.propName){var a={};a[r+"Width"]=t.w,a[r+"Height"]=t.h,e.templateInstance?(Ma.onChanged(e,a,n),e.handler.onImageLoaded&&e.handler.onImageLoaded(e,i)):Ma.addDelayedUpdates(Ma.onChanged,e,a,n)}},u=function(e,t,i,r){var n={propName:i,targetPath:r};new _(e.gfxWebLib.appMode!==In.EDIT).loadImage(e,t,l,n)},d=function(e,t,i,r){var n,a,s,l,h;if(i.length>1)if(h=t[l=i[0]],s=i.slice(1,i.length),Ma.webRtpuIsArray(h))for(var c=0;c<h.length;c++)d(e,h[c],s,(r?r+":":"")+l+"."+h[c].ElementID);else o.isObject(h)?d(e,t[l],s):eo.consolLog(eo.enumTraceMode.Error,"resolveAndLoad(): Wrong currentPart in: "+e.props.Type+" / "+r);else(a=t[n=i[0]])&&u(e,a,n,r)},c=function(e){var t=Ha.getProp(e,"Enabled");return e.container&&(t=e.container.isEnabled&&t),t},p=function(e){var t=c(e);e.gfxWebLib.interaction.addEvents(e,t)},m=function(e,t){var i,r=t.split("."),n=r.length;if(1===n)return e[t];if(2===n)return(e=e[r[0]])[r[1]];for(i=0;i<n;i++)e=e[r[i]];return e},g=function(e,t,i,r){try{if("_"===e[0]){var n=t.handler;n.onPropBindFunc?n.onPropBindFunc(e,t,r):eo.consolLog(eo.enumTraceMode.Error,"HmiObject:_onPropBindFunc() Item does not supported onPropBindFunc(). Item type: "+t.props.Type)}else{var a=m(tn,e);a?a.call(null,t,i):eo.consolLog(eo.enumTraceMode.Error,"HmiObject:_onPropBindFunc() func: "+e+" is not supported for type: "+t.props.Type+" property: "+i)}}catch(r){eo.traceErr(r,"HmiObject:_onPropBindFunc() func:"+e+" itemType: "+t.props.Type+" property: "+i,t)}},T=function(e,t,i,r,n){var a,o,s;if(void 0!==i.func)for(s=i.func.length,a=0;a<s;a+=1)void 0===n[o=i.func[a]]&&(n[o]=!0,g(o,t,e,r))},f=function(e,t,i){var r,n,a,o,s,l=Ha,u=ka;if(void 0!==i.gc){if(r=l.getProp(t,e,u.enumConverter[i.gc]),void 0!==i.svg)for(s=i.svg.length,a=0;a<s;a+=1)null!==t[(n=i.svg[a]).si]&&("data"===n.sp?t[n.si].data=r:void 0!==r&&(o=m(t,n.si),null!==r?"xlink:href"===n.sp?o.setAttributeNS(wn.xlinkNS,n.sp,r):o.setAttribute(n.sp,r):o.removeAttribute(n.sp)));if(void 0!==i.html)for(s=i.html.length,a=0;a<s;a+=1)n=i.html[a],void 0!==r&&null!==t[n.si]&&(o=m(t,n.si),n.ss?null!==r?o.style[n.ss]=r:o.style.removeProperty(n.ss):n.sp&&(null!==r?o.setAttribute(n.sp,r):o.removeAttribute(n.sp)))}},y=function(e,t,i){var r,n,a,o;if(void 0!==t.dep){for(o=t.dep.length,n=0;n<o;n+=1)a=i[r=t.dep[n]],T(r,e,a,!1,{});for(n=0;n<o;n+=1)a=i[r=t.dep[n]],f(r,e,a)}},D=function(e){if(window.angular){var t=angular.element(e);t.empty&&t.empty(),t.remove&&t.remove()}},S=function(e){e.svgSelectionElement&&(e.svgSelectionElement.parentNode&&e.svgSelectionElement.parentNode.removeChild(e.svgSelectionElement),e.svgSelectionElement=null)},C=function(e,t){var i,r=Ha,n=e.handler;return void 0!==n.getBoundsWhole&&t?i=n.getBoundsWhole(e):(void 0!==n.getBounds?i=n.getBounds(e):((i={}).l=r.getPropRaw(e,"Left"),i.t=r.getPropRaw(e,"Top"),i.w=r.getPropRaw(e,"Width"),i.h=r.getPropRaw(e,"Height")),i)},v=["Line","Polyline","Connector","CircularArc","EllipticalArc","Circle","CircleSegment","Ellipse","EllipseSegment","GraphicView","Polygon","Rectangle","SymbolView","Tube","TubeArc"],P=function(e){return-1===v.indexOf(e)||i},A=1,x=4,V=8,I=function(e){return!!e.rtflags&&0!=(e.rtflags&A)},R=function(e){return!!e.rtflags&&0!=(e.rtflags&V)};return{getHandlerType:function(e){return e.props.Type},onChanged:function(e,t){var i,r,n,a,o,s=e.handler.getPropertyBinding(),l={};for(n=Object.keys(t),t!==e.props&&function(e,t,i){var r,n,a,o,s=Ha;for(o=i.length,r=0;r<o;r+=1)n=t[a=i[r]],s.setProp(e,a,n),"Name"===a&&(e.domSvgNode||e.domNode).setAttribute("data-tif-id",n)}(e,t,n),o=n.length,i=0;i<o;i+=1)void 0!==(r=s[a=n[i]])&&void 0!==r.func&&T(a,e,r,!1,l);for(i=0;i<o;i+=1)void 0!==(r=s[a=n[i]])&&void 0!==r.gc&&f(a,e,r);for(i=0;i<o;i+=1)void 0!==(r=s[a=n[i]])&&void 0!==r.dep&&y(e,r,s);return!1},onCleanUp:function(e,t){S(e),tn.removeTifLibExpandoProps(e),e.gfxWebLib.interaction.removeEvents(e),e.handler&&e.handler.onCleanUp&&e.handler.onCleanUp(e,t)},onFocus:function(e,t){var i,r,n=Ha,a=e.handler;e.hasFocus=!0,void 0!==a.onFocus&&a.onFocus(e,t),t&&e.props.Type!==Kr.TYPE_HMI_SCREEN&&(r=e.container.container).control&&r.control.handler.scrollIntoView&&(i=function e(t,i,r,n){return{left:t,top:i,width:r,height:n,right:t+r,bottom:i+n,translate:function(a,o){return e(a+t,o+i,r,n)},zoom:function(a){return e(t*a,i*a,r*a,n*a)}}}(n.getPropRaw(e,"Left"),n.getPropRaw(e,"Top"),n.getPropRaw(e,"Width")||10,n.getPropRaw(e,"Height")||10),r.control.handler.scrollIntoView(r,i))},onFocusOut:function(e,t){var i=e.handler;e.hasFocus=!1,void 0!==i.onFocusOut&&i.onFocusOut(e,t)},setSelectionProps:function(e){var t,i,r,n=Ha,a=ka,o=void 0===e.handler.DISABLE_SETSELECTIONPROPS||!e.handler.DISABLE_SETSELECTIONPROPS,s=n.getProp(e,"BorderColor",a.enumConverter.None,-1),l=n.getProp(e,"ShowFocusVisual",a.enumConverter.None,!1);-1===s&&(o=!1),o&&l&&((r=e.border?e.border.svgBorderItem?e.border.svgBorderItem:e.svgBorderBgItem:null)?(t=n.getProp(e,"BorderWidth",a.enumConverter.None,0),i=n.getProp(e,"FocusColor",a.enumConverter.Color,0),e.svgSelectionElement=r.cloneNode(!0),e.svgSelectionElement.setAttribute("stroke",i),e.svgSelectionElement.setAttribute("stroke-width",t+2),e.svgSelectionElement.setAttribute("fill","none"),r.parentNode.appendChild(e.svgSelectionElement)):e.svgSelectionElement=null)},clearSelectionProps:S,onKeyDown:function(e,t,i,r){var n=!1;return e.handler.onKeyDown&&(n=e.handler.onKeyDown(e,t,i,r)),n},onKeyUp:function(e,t,i,r){var n=!1;return e.handler.onKeyUp&&(n=e.handler.onKeyUp(e,t,i,r)),n},setEnabled:p,onInitEnabled:function(t){t.container&&(t.orgEnabled=Ha.getProp(t,"Enabled"),t.orgOperability=Ha.getProp(t,"Operability",0,e.HmiOperability.Operable),t.props.Enabled=t.container.isEnabled&&t.orgEnabled,t.props.Enabled?t.props.Operability=t.orgOperability&~e.HmiOperability.DisabledProgrammatically:t.props.Operability=t.orgOperability|e.HmiOperability.DisabledProgrammatically)},onChangedEnabled:function(t,i,r){if(!r&&t.container){var n=t.props.Enabled;if(void 0!==i.Operability&&t.orgOperability!==i.Operability&&(t.orgOperability=i.Operability,t.props.Enabled?i.Operability=t.orgOperability&~e.HmiOperability.DisabledProgrammatically:i.Operability=t.orgOperability|e.HmiOperability.DisabledProgrammatically),void 0!==i.Enabled)return t.orgEnabled=i.Enabled,i.Enabled=t.container.isEnabled&&i.Enabled,i.Enabled?i.Operability=t.orgOperability&~e.HmiOperability.DisabledProgrammatically:i.Operability=t.orgOperability|e.HmiOperability.DisabledProgrammatically,n!==i.Enabled;if(void 0!==i._Enabled)return i.Enabled=t.container.isEnabled&&t.orgEnabled,i.Enabled?i.Operability=t.orgOperability&~e.HmiOperability.DisabledProgrammatically:i.Operability=t.orgOperability|e.HmiOperability.DisabledProgrammatically,delete i._Enabled,n!==i.Enabled}},cleanUpDomNodes:function(e){var t=E;D(e.domNode),t.removeNodeWithAllChilds(e.domNode),e.domNode=null,e.domSvgNode&&(D(e.domSvgNode),t.removeNodeWithAllChilds(e.domSvgNode),e.domSvgNode=null)},initAllAttributes:function(e){var t,i,r,n,a,o=e.handler.getPropertyBinding(),s={};for(a=(r=Object.keys(o)).length,t=0;t<a;t+=1)void 0!==(i=o[n=r[t]])&&void 0!==i.func&&T(n,e,i,!0,s);for(t=0;t<a;t+=1)void 0!==(i=o[n=r[t]])&&void 0!==i.gc&&f(n,e,i)},getRelPosToTLSW:r,getSize:function(e){var t,i=Ha,r=e.handler;return void 0!==r.getSize?t=r.getSize(e):((t={}).w=i.getPropRaw(e,"Width"),t.h=i.getPropRaw(e,"Height")),t},getBounds:C,getInnerBounds:function(e){var t,i,r,n=Ha,a=ka;return(r=C(e)).w&&r.h&&(t=n.getProp(e,"BorderWidth",a.enumConverter.None,0),P(e.props.Type)||(t=Math.floor(t/2)),r.l+=t,r.t+=t,r.w=Math.max(0,r.w-2*t),r.h=Math.max(0,r.h-2*t),r.w&&r.h&&(i=kr.getPadding(e),r.l+=i.Left,r.t+=i.Top,r.w=Math.max(0,r.w-(i.Left+i.Right)),r.h=Math.max(0,r.h-(i.Top+i.Bottom)))),r},getBorderRect:function(e){var t,i=Ha,r=ka,n=0;return(t=C(e)).w&&t.h&&(P(e.props.Type)&&(n=i.getProp(e,"BorderWidth",r.enumConverter.None,0),n=Math.floor(n/2)),t.l+=n,t.t+=n,t.w=Math.max(0,t.w-2*n),t.h=Math.max(0,t.h-2*n)),t},copyBounds:function(e){return{l:e.l,t:e.t,w:e.w,h:e.h}},createSvgBgPattern:function(e,t){var i,r=(i=t)>=131072&&i<=131076?i-131072:131077===i?38:i>=196608&&i<=196644?i-196608+5:void 0;return void 0!==r?wn.createPattern(e,r):(eo.consolLog(eo.enumTraceMode.Warning,"HmiObject:createSvgBgPattern() wrong fillStyle: "+t.toString()),null)},createSvgBgGradient:function(e,t){var i={id:Y.mkId(e,"ID_ItemBgGradientElement")};return w.setProps(t,e,i)?wn.createLinearGradient(e,i):null},safeFontFamily:n,getFont:s,setFontProps:a,addTifLibExpandoProps:function(e,t){t.setAttribute("data-tif-type","WSI:"+e.props.Type),t.TifProperties={tif:{},item:e}},removeTifLibExpandoProps:function(e){e.domSvgNode&&e.domSvgNode.TifProperties?e.domSvgNode.TifProperties=null:e.domNode&&e.domNode.TifProperties&&(e.domNode.TifProperties=null)},canActivate:function(t,i){var r=Ha;if(!t)return!1;var n=r.getProp(t,"Operability",0,e.HmiOperability.Operable);return n&&!t.gfxWebLib.getCheckAuthorization()&&(n&=~e.HmiOperability.NoAuthorization),r.getPropRaw(t,"Visible")&&c(t)&&n===e.HmiOperability.Operable&&(I(t)||R(t)||!i&&function(t){if(t.operable){const i=Ha;return!("TextBox"===t.props.Type&&i.getPropRaw(t,"ReadOnly")||"IOField"===t.props.Type&&i.getPropRaw(t,"IOFieldType")===e.HmiIOFieldType.Output)}return!1}(t))},hasActions:I,hasDynamics:function(e){return!!e.rtflags&&0!=(e.rtflags&x)},isExplicitUnlock:R,commentRequired:function(){return!1},checkMustDrawInsideFrame:P,OperationEnabled:p,Font:function(e){var t=s(e,"Font");a(e.svgText,t)},TextHorizontalAlignment:function(e){var t=ka,i=Ha.getProp(e,"HorizontalTextAlignment",t.enumConverter.textHAlign);e.textAdapter.setXAlignment(i)},TextVerticalAlignment:function(e){var t=ka,i=Ha.getProp(e,"VerticalTextAlignment",t.enumConverter.textVAlign);e.textAdapter.setYAlignment(i)},Flashing:function(e){e.gfxWebLib.flashing.setFlashingAttributes(e)},imageWidthHeight:function(e,t){var i,r,n;if(t.length){i=e.templateInstance;for(var a=0;a<t.length;a++)n=(r=t[a]).split("."),r&&d(e,i.Store.props,n,"")}},loadImage:u}}();tn.Border=Qr,tn.Text=Jr,tn.Quality=en;const rn=tn;var nn,an;const on=(nn=[{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,3,8,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,8)}},{w:8,h:8,f:function(e,t){e.beginPath(),e.lineCap="square",e.strokeStyle=t,e.moveTo(4,0),e.lineTo(8,4),e.moveTo(0,4),e.lineTo(4,8),e.stroke()}},{w:8,h:8,f:function(e,t){e.beginPath(),e.strokeStyle=t,e.moveTo(1,0),e.lineTo(0,1),e.moveTo(8,1),e.lineTo(1,8),e.stroke()}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,8),e.fillRect(0,7,8,1)}},{w:4,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,7,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,3,1,1),e.fillRect(2,1,1,1)}},{w:2,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(1,2,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(0,2,1,1),e.fillRect(1,1,1,1),e.fillRect(2,0,1,1),e.fillRect(2,2,1,1),e.fillRect(3,3,1,1)}},{w:2,h:2,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(1,1,1,1)}},{w:2,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,2),e.fillRect(1,1,1,4),e.fillRect(0,3,1,3),e.fillRect(1,6,1,2)}},{w:2,h:2,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,2,1),e.fillRect(1,1,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,3,3),e.fillRect(0,3,1,1),e.fillRect(3,0,1,1),e.fillRect(2,2,2,2)}},{w:4,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,4,7),e.fillRect(0,7,1,1),e.fillRect(2,7,2,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(7,0,1,1),e.fillRect(0,1,8,1),e.fillRect(3,2,1,3),e.fillRect(0,5,8,1),e.fillRect(7,6,1,2)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(6,0,2,1),e.fillRect(4,1,2,1),e.fillRect(2,2,2,1),e.fillRect(0,3,2,1),e.fillRect(4,3,2,1),e.fillRect(6,4,2,1),e.fillRect(5,5,1,1),e.fillRect(3,6,2,1),e.fillRect(0,7,2,1),e.fillRect(4,7,2,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,0,2,1),e.fillRect(6,2,1,1),e.fillRect(5,3,1,1),e.fillRect(2,4,2,1),e.fillRect(6,6,1,1),e.fillRect(5,7,1,1),e.fillRect(7,7,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,1,2,1),e.fillRect(2,3,2,1),e.fillRect(6,3,2,1),e.fillRect(0,4,2,1),e.fillRect(4,4,2,1),e.fillRect(6,5,2,3),e.fillRect(2,7,2,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(4,2,1,1),e.fillRect(5,1,1,1),e.fillRect(7,3,1,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(2,0,1,2),e.fillRect(5,0,1,1),e.fillRect(4,1,1,1),e.fillRect(6,1,1,1),e.fillRect(1,2,1,1),e.fillRect(3,2,1,2),e.fillRect(5,2,1,1),e.fillRect(7,2,1,2)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,3,1,1),e.fillRect(1,7,1,1),e.fillRect(4,0,1,1),e.fillRect(4,2,1,1),e.fillRect(5,5,1,1),e.fillRect(7,6,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(5,0,3,1),e.fillRect(0,2,2,1),e.fillRect(4,2,4,1),e.fillRect(0,3,6,2),e.fillRect(0,6,6,2)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,0,1,1),e.fillRect(4,0,1,1),e.fillRect(3,1,1,1),e.fillRect(7,1,1,1),e.fillRect(1,3,1,1),e.fillRect(3,3,1,1),e.fillRect(5,3,1,1),e.fillRect(7,3,1,1),e.fillRect(3,5,1,1),e.fillRect(7,5,1,1),e.fillRect(0,6,1,1),e.fillRect(6,6,1,1),e.fillRect(1,7,1,1),e.fillRect(5,7,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,1,1,1),e.fillRect(2,1,1,1),e.fillRect(0,3,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,3,4),e.fillRect(7,0,1,1),e.fillRect(4,3,3,1),e.fillRect(3,4,1,1),e.fillRect(5,4,3,1),e.fillRect(3,5,5,1),e.fillRect(0,6,3,1),e.fillRect(4,6,3,1),e.fillRect(1,7,2,1),e.fillRect(4,7,4,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,6,1),e.fillRect(1,1,1,1),e.fillRect(4,1,1,1),e.fillRect(0,2,1,1),e.fillRect(5,2,1,1),e.fillRect(2,3,2,1),e.fillRect(1,4,1,1),e.fillRect(4,4,1,1),e.fillRect(0,5,1,1),e.fillRect(5,5,1,1),e.fillRect(6,5,2,3)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(1,0,3,1),e.fillRect(0,1,1,1),e.fillRect(4,1,1,1),e.fillRect(5,2,3,2),e.fillRect(0,4,1,1),e.fillRect(4,4,1,1),e.fillRect(1,5,3,3),e.fillRect(5,5,1,1)}},{w:4,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(3,0,1,1),e.fillRect(1,1,2,2),e.fillRect(0,3,1,1),e.fillRect(3,3,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(5,0,3,1),e.fillRect(0,5,1,3),e.fillRect(1,6,3,1),e.fillRect(4,5,4,3),e.fillRect(5,4,3,1),e.fillRect(6,1,1,3)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,3,1),e.fillRect(4,0,1,1),e.fillRect(0,1,1,3),e.fillRect(5,1,1,3),e.fillRect(1,2,7,1),e.fillRect(2,4,1,1),e.fillRect(4,4,1,1),e.fillRect(7,4,1,1),e.fillRect(4,4,1,1),e.fillRect(1,5,1,3),e.fillRect(3,5,1,3),e.fillRect(6,5,1,3),e.fillRect(0,6,8,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(7,0,1,1),e.fillRect(5,1,2,1),e.fillRect(3,2,2,1),e.fillRect(1,3,2,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,2,1),e.fillRect(7,0,1,1),e.fillRect(5,1,3,1),e.fillRect(3,2,3,1),e.fillRect(1,3,3,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(0,0,1,1),e.fillRect(5,0,3,1),e.fillRect(0,1,2,1),e.fillRect(4,1,2,1),e.fillRect(1,2,4,1),e.fillRect(2,3,2,1),e.fillRect(1,4,4,1),e.fillRect(0,5,2,1),e.fillRect(4,5,2,1),e.fillRect(0,6,1,1),e.fillRect(5,6,3,1),e.fillRect(6,7,2,1)}},{w:4,h:1,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,1)}},{w:1,h:2,f:function(e,t){e.fillStyle=t,e.fillRect(0,1,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,8),e.fillRect(0,5,8,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,1),e.fillRect(2,1,1,1),e.fillRect(1,2,1,1),e.fillRect(0,3,1,1),e.fillRect(7,4,1,1),e.fillRect(6,5,1,1),e.fillRect(5,6,1,1),e.fillRect(4,7,1,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(2,0,2,1),e.fillRect(1,1,2,1),e.fillRect(0,2,2,1),e.fillRect(0,3,1,1),e.fillRect(7,3,1,1),e.fillRect(6,4,2,1),e.fillRect(5,5,2,1),e.fillRect(4,6,2,1),e.fillRect(3,7,2,1)}},{w:8,h:8,f:function(e,t){e.fillStyle=t,e.fillRect(1,0,1,1),e.fillRect(4,0,1,1),e.fillRect(0,1,1,1),e.fillRect(5,1,1,1),e.fillRect(6,2,2,2),e.fillRect(0,4,1,1),e.fillRect(5,4,1,1),e.fillRect(1,5,1,1),e.fillRect(4,5,1,1),e.fillRect(2,6,2,2)}},{w:8,h:1,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,1)}},{w:1,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(0,1,1,1)}},{w:8,h:4,f:function(e,t){e.fillStyle=t,e.fillRect(3,0,1,4),e.fillRect(0,3,8,1)}}],an=new C(30),{createPatternImage:function(e,t,i,r){var n=ka,a=Ha.getProp(e,"AlternateBackColor",n.enumConverter.Color,0),o=nn[t].w,s=nn[t].h;const l=`${t}-${a}`;let u=an.get(l);if(!u){const e=E.createDomElement("canvas",{width:o,height:s,style:"position:absolute;"}),i=e.getContext("2d");i.lineWidth=1,nn[t].f(i,a),u=e.toDataURL("image/png"),an.set(l,u)}i.setAttribute("width",o),i.setAttribute("height",s),r.setAttributeNS(wn.xlinkNS,"xlink:href",u),r.setAttribute("width",o),r.setAttribute("height",s)},createScreenHostedPatterns:function(e){!function(e){var t,i,r=wn,n="#303030";i=r.getSvgDefs(e),t=r.createSvgElement("pattern",{id:"ID_Pattern_QualityVisualization_DiagonalHatch",patternUnits:"userSpaceOnUse",width:2,height:4,appendTo:i}),wn.createSvgElement("rect",{x:0,y:0,width:1,height:1,fill:n,appendTo:t}),wn.createSvgElement("rect",{x:1,y:2,width:1,height:1,fill:n,appendTo:t})}(e)}});var sn,ln,un,hn,dn,cn,pn,mn,gn,Tn,fn,yn,Dn,Sn,bn,Cn,vn,Pn,_n,An;const wn=(un=0,hn=null,dn=null,cn=null,pn=null,mn="http://www.w3.org/2000/svg",gn=function(e,t){var i,r;bn(e),pn.textContent=" "===t?"x x":t;try{if(0===(i=cn.getBBox()).height&&0!==i.width&&(i.width=0)," "===t)return pn.textContent="xx",r=cn.getBBox(),{x:i.x,y:i.y,width:i.width-r.width,height:i.height}}catch(e){eo.traceErr(e,"SVG:getTextBBox() catched exception.")}return i},Tn=new C(20),fn=function(e){const t=`${e.Name}-${e.Size}`;return Tn.get(t)},yn=function(e,t,i){const r=`${e.Name}-${e.Size}`;return Tn.set(r,{Name:e.Name,Size:e.Size,height:t,fontPointSize:i})},bn=function(e){var t;cn.setAttribute("font-size",e.Size.toString()+"px"),cn.setAttribute("font-style",e.Italic?"italic":"normal"),cn.setAttribute("font-weight",e.Weight),cn.setAttribute("font-family",rn.safeFontFamily(e.Name)),t=e.Underline||e.StrikeOut?(e.Underline?"underline ":"")+(e.StrikeOut?"line-through":""):"none",cn.setAttribute("text-decoration",t)},Pn=function(e){return Y.isScreen(e)?e:e.container?e.container:e.domParent?e.domParent:e},{svgNS:mn,xlinkNS:"http://www.w3.org/1999/xlink",getSvgDefs:vn=function(e){return Y.isScreen(e)?e.domSvgDefs:e.domSvgNode?e.domSvgNode:e.container?e.container.domSvgDefs:e.domParent?e.domParent:e.domNode},lookupSvgDef:_n=function(e,t){var i,r;return t&&(i=Pn(e))&&(r=i.svgDefsLookup)&&void 0!==r[t]?r[t]:null},appendSvgDef:function(e,t){var i,r,n,a;return!!t&&!!(i=Pn(e))&&(r=function(e){var t=e.svgDefsLookup;return t||(t={RefCount:0},e.svgDefsLookup=t),t}(i),void 0!==r[n=t.getAttribute("id")]?(a=t.getAttribute("RefCount"),a=parseInt(a,10),a+=1,t.setAttribute("RefCount",a.toString())):(r[n]=t,t.setAttribute("RefCount","1"),vn(e).appendChild(t)),r.RefCount=r.RefCount+1,!0)},_lookupSvgDef:function(e,t){var i,r;return t&&(i=Pn(e))&&(r=i.svgDefsLookup)&&void 0!==r[t]?r[t]:null},removeSvgDef:function(e,t){var i,r,n,a,o;return!!(i=_n(e,t))&&(r=i.getAttribute("RefCount"),r=parseInt(r,10),a=(n=Pn(e)).svgDefsLookup,r>1?(r-=1,i.setAttribute("RefCount",r.toString())):((o=vn(e)).contains(i)&&o.removeChild(i),delete a[t]),a.RefCount=a.RefCount-1,0===a.RefCount&&delete n.svgDefsLookup,!0)},removeSvgDefsLookup:function(e,t){var i,r;return!(!(i=Pn(e))||!(r=i.svgDefsLookup)||0!==r.RefCount&&!0!==t||(delete i.svgDefsLookup,0))},createSvgElement:An=function(e,t){var i,r,n;for(i in t=t||{},un+=1,n=document.createElementNS(mn,e),t)if(t.hasOwnProperty(i))switch(r=t[i],i){case"textNode":n.appendChild(document.createTextNode(r));break;case"appendTo":r.appendChild(n);break;default:n.setAttribute(i,r)}return n},composeId:function(e,t,i,r,n){var a,o=Y;if(t)return e?(n?a=r?o.mkUrl(e,t):o.mkId(e,t):i||r?i&&!r?a=t+"_"+i:i&&r?a="url(#"+t+"_"+i+")":!i&&r&&(a="url(#"+t+")"):a=t,a):t},createSvgScreenItemNode:function(e,t){var i;return(t=t||{})["data-rtoid"]=e.rtoid,t["data-tif-id"]=void 0!==e.props.Name?e.props.Name:"",i=An("g",t),rn.addTifLibExpandoProps(e,i),i},augmentSvgScreenItemNode:function(e,t,i){for(var r in(t=t||{})["data-rtoid"]=e.rtoid,t["data-tif-id"]=void 0!==e.props.Name?e.props.Name:"",t)if(t.hasOwnProperty(r)){var n=t[r];switch(r){case"textNode":i.appendChild(document.createTextNode(n));break;case"appendTo":n.appendChild(i);break;default:i.setAttribute(r,n)}}rn.addTifLibExpandoProps(e,i)},createPattern:function(e,t){var i,r,n=vn(e);return i=An("pattern",{id:Y.mkId(e,"ID_ItemBgPatternElement"),patternUnits:"userSpaceOnUse",stroke:"none",appendTo:n}),r=An("image",{preserveAspectRatio:"none",appendTo:i}),on.createPatternImage(e,t,i,r),i},createImagePattern:function(e,t,i,r){var n=vn(e),a="ID_ItemImagePattern";return t||(t=An("pattern",{id:Y.mkId(e,a),patternUnits:"userSpaceOnUse",stroke:"none",appendTo:n})),t.appendChild(i),r.setAttribute("fill",Y.mkUrl(e,a)),t},createLinearGradient:function(e,t,i){var r,n,a;for(i=i||vn(e),a=An("linearGradient",{id:t.id,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,appendTo:i}),r=0;r<t.stops.length;r+=1)n=t.stops[r],An("stop",{offset:n.offset,"stop-color":n.color,"stop-opacity":n.opacity,appendTo:a});return a},createRadialGradient:function(e,t){var i,r,n,a=vn(e);for(n=An("radialGradient",{id:t.id,cx:t.cx,cy:t.cy,fx:t.fx,fy:t.fy,r:t.r,appendTo:a}),i=0;i<t.stops.length;i+=1)r=t.stops[i],An("stop",{offset:r.offset,"stop-color":r.color,"stop-opacity":r.opacity,appendTo:n});return n},getSvgElementCount:function(){return un},resetSvgElementCount:function(){un=0},arcParameter:function(e,t,i,r,n,a,o){return[e,",",t," ",i," ",r,",",n," ",a,",",o].join("")},pointParameter:function(e,t){return[e,",",t," "].join("")},createBBoxItems:function(e){hn=E.createDomElement("div",{id:"ID_BBox_DIV",style:"position:absolute; left:-10000px; top:-10000px; visibility:hidden;",appendTo:e}),dn=An("svg",{id:"ID_BBox_SVG",style:"pointer-events: none",appendTo:hn}),cn=An("text",{"text-anchor":"start",appendTo:dn}),(pn=An("tspan",{appendTo:cn,dy:"0px"})).textContent="XY"},getBBox:function(e){var t,i,r=dn;if(null!=e){try{(i=e.cloneNode(!0)).setAttribute("display","inline"),r.appendChild(i),t=i.getBBox()}catch(i){eo.traceErr(i,"SVG:getBBox() catched exception."),t=e.getBBox()}return r.removeChild(i),t}eo.consolLog(eo.enumTraceMode.Error,"Svg:getBBox() wrong svgElement")},getTextBBox:function(e,t){return{x:0,y:Dn(e,t),width:Cn(e,t),height:Sn(e,t)}},getFontPointSize:Dn=function(e,t){let i=fn(e);if(t=t||"XY",void 0!==i)return i.fontPointSize;i=gn(e,t);let r=Math.abs(i.y);return 0!==i.height&&0!==r&&yn(e,i.height,r),r},getTextHeight:Sn=function(e,t,i){var r=1,n=fn(e);if(t=t||"XY",i&&"string"==typeof t&&(r=(t=t.replace(/\n/g,"")).split("").length),void 0!==n)return r*n.height;n=gn(e,t);let a=Math.abs(n.y);return 0!==n.height&&0!==a&&yn(e,n.height,a),r*n.height},getTextHeightStacked:function(e,t){return gn(e,t).width},getTextWidth:Cn=function(e,t,i){if(!t)return 0;var r,n,a=0,o=0,s=`${e.Italic?"italic":"normal"} ${e.Weight} ${e.Size}px "${e.Name}"`;if(ln||(sn=E.createDomElement("canvas",{}),ln=sn.getContext("2d")),ln.font=s,i){if("string"==typeof t){for(n=(t=t.replace(/\n/g,"")).split(""),r=0;r<n.length;r++)a=(o=ln.measureText(n[r]).width)>a?o:a;return a}return ln.measureText(t).width}return ln.measureText(t).width},getTextWidthCR:function(e,t){if(!t)return 0;var i,r,n,a,o=`${e.Italic?"italic":"normal"} ${e.Weight} ${e.Size}px "${e.Name}"`;for(ln||(sn=E.createDomElement("canvas",{}),ln=sn.getContext("2d")),ln.font=o,i=t.split(/\r\n|[\n\r\u0085\u2028\u2029]/g),n=0,r=0;r<i.length;r++)a=ln.measureText(i[r]).width,n=Math.max(a,n);return n},setBBox:function(e,t){e.setAttribute("x",t.l),e.setAttribute("y",t.t),e.setAttribute("width",t.w),e.setAttribute("height",t.h)},setAttr:function(e,t,i){if("object"==typeof t)for(i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i]);else e.setAttribute(t,i)},setTextSpanContent:function(e,t){t&&bn(t),"string"==typeof e&&(pn.textContent=" "===e?"x x":e)},getSubStringLength:function(e,t){var i=null;if(null!==pn)try{i=pn.getSubStringLength(e,t)}catch(e){eo.traceErr(e,"SVG:getSubStringLength(charnum, nchars) catched exception.")}return i}});var xn,Vn;const En=(xn={},Vn=function(e){xn=e.CustomSettings},{getSetting:function(e,t,i){return void 0!==xn[e]&&void 0!==xn[e][t]?xn[e][t]:(void 0===i&&eo.consolLog(eo.enumTraceMode.Error,"CustomSettings.getSetting(): "+e+"."+t),i)},readSettings:function(e){var t=e+"content/custom/CustomSettings.json";o.ajax({url:t,async:!1,dataType:"json",error:function(e){eo.traceErr(e,"CustomSettings.readSettings(): "+t)},success:function(e){Vn(e)}})}});var In={UNKNOWN:0,RUNTIME:1,EDIT:2},Rn={UNKNOWN:0,WinCC:1,SCADA:2,CLOUD:3},Bn=!1,Ln=function(e,t,i){if(!(this instanceof Ln))return new Ln(e,t);this.defaultOptions={cldrDataPath:"content/systemdata/cldr-data",imagePath:"/",basePath:"/",templatePath:"/",customWidgetPath:"/",lcid:1033,style:"extended",styleName:"ExtendedStyle",hasActiveStyle:!1,projectVersion:"",projectId:"",forceHtml:!1,checkAuthorization:!0},this.mergeOptions=function(e){var t=this.options?this.options:this.defaultOptions;for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e},this.appMode=e,this.appType=t||Rn.SCADA,this.browserZoom=1,this.rootDiv=null,this.options=this.mergeOptions(i||{}),this.overlayContent={schedule:{},loaded:!1,size:{w:48,h:48}},this.init=function(e,t){var i=!0;t&&t.basePath&&(t.templatePath||(t.templatePath=t.basePath+("/"===t.basePath.charAt(t.basePath.length-1)?"":"/")+"templates/"),t.customWidgetPath||(t.customWidgetPath=t.basePath+("/"===t.basePath.charAt(t.basePath.length-1)?"":"/")+"customwidgets/")),this.options=this.mergeOptions(t||{});try{if(Bn||(!function(){if("undefined"!=typeof SWAC&&SWAC.Container){var e=".min.js";e+=b.assetSuffix;var t=window.location.origin+window.location.pathname;t.endsWith("/")||((t.endsWith(".html")||t.endsWith(".htm"))&&(t=t.slice(0,t.lastIndexOf("/"))),t+="/");const i=3e4;SWAC.Config.TimeOuts.Create<i&&(SWAC.Config.TimeOuts.Create=i),SWAC.Config.TimeOuts.Internal<i&&(SWAC.Config.TimeOuts.Internal=i),SWAC.Config.Container.Behaviors.AddDpcValues=!0,SWAC.Config.Container.URLs.BaseLibrary||(SWAC.Config.Container.URLs.BaseLibrary=t+"libs/swac-base"+e),SWAC.Config.Control.URLs.BaseLibrary||(SWAC.Config.Control.URLs.BaseLibrary=t+"libs/webcc-base"+e),SWAC.Config.Control.Extensions.HMI||(SWAC.Config.Control.Extensions.HMI=t+"webcc/hmi-extension"+e),SWAC.Config.Control.Extensions.Dialogues||(SWAC.Config.Control.Extensions.Dialogues=t+"webcc/dialogues-extension"+e),SWAC.Config.Control.Extensions.Formatting||(SWAC.Config.Control.Extensions.Formatting=t+"webcc/formatting-extension"+e),SWAC.Config.Control.Extensions.X_Textbib||(SWAC.Config.Control.Extensions.X_Textbib=t+"webcc/x_textbib-extension"+e),SWAC.Config.Control.Extensions.Pickers||(SWAC.Config.Control.Extensions.Pickers=t+"webcc/picker-extension"+e),SWAC.Config.Control.Extensions.X_SiemensFont||(SWAC.Config.Control.Extensions.X_SiemensFont=t+"webcc/x_siemensfont-extension"+e)}}(),Kr.initObjTypes(),Ye.initControlTypes(),wn.createBBoxItems(document.body),Bn=!0),window.angular){this.rootDiv=e,e.setAttribute("ng-controller","PwcAdvancedToolkitController");var r=angular.element(document.body).injector();if(r)r.loadNewModules(["PWC.Lib.HmiTypes.Advanced.Toolkit"]),r.invoke((function(t){var i=angular.element(e);"function"==typeof i.scope&&t(e)(i.scope())}));else{var n=(r=angular.bootstrap(e,["PWC.Lib.HmiTypes.Advanced.Toolkit"])).get("$templateCache");if(n){var a=this.connection.getAppDir()+"content/templates/window.html";o.ajax({dataType:"html",url:a,success:function(e){n.put(a,e)},async:!1})}}}var s=this.connection.getAppDir();try{this.customsettings.readSettings(s)}catch(e){eo.traceErr(e,"GfxWebLib:init().readSettings()")}try{this.textbib.registerTextResource("WebUX"),this.textbib.setLocale(this.options.lcid,s)}catch(e){eo.traceErr(e,"GfxWebLib:init().setLocale()"),i=!1}}catch(e){eo.traceErr(e,"GfxWebLib:init()"),i=!1}return i},this.registerTextResource=function(e){this.textbib.registerTextResource(e)},this.setLocale=function(e){this.textbib.setLocale(e)},this.getLocale=function(){return this.textbib.getLocale()},this.setSystemPartsStyleProperties=function(e){Pe.setStyleProps(e)},this.setStyle=function(e,t){var i,r,n=function(e){var t=e.toLowerCase().split("::"),i=t[t.length-1].replace("style","");return t=i.split("_"),{fullName:i,baseName:t[0]}}(e);t&&!o.isEmptyObject(t)||(i=this.options.projectVersion,r=17,t=!i||i.split(".")[0]>=r?Pe.getStyleProps(n.fullName):Pe.getStyleProps("extended_v16")),t&&Pe.setStyleProps(t),this.options.style=n.baseName;var a=e.split("::");this.options.styleName=a[a.length-1]},this.getStyle=function(e){return e?this.options.styleName:this.options.style},this.setHasActiveStyle=function(e){this.options.hasActiveStyle=e},this.getHasActiveStyle=function(){return this.options.hasActiveStyle},this.setProjectVersion=function(e){if("number"==typeof e){var t=(4278190080&e)>>24,i=(16711680&e)>>16,r=(65280&e)>>8,n=255&e;this.options.projectVersion=t+"."+i+"."+r+"."+n}else"string"==typeof e&&(this.options.projectVersion=e)},this.getProjectVersion=function(){return this.options.projectVersion},this.setProjectId=function(e){this.options.projectId=e,e&&"undefined"!=typeof webRTPU&&webRTPU.Engine&&(webRTPU.Engine.Options.urlSuffix=`?p=${e}`)},this.getProjectId=function(){return this.options.projectId},this.setCheckAuthorization=function(e){this.options.checkAuthorization=e},this.getCheckAuthorization=function(){return this.options.checkAuthorization},this.createHmiObject=function(e,t,i,r){var n,a={rtflags:0,rtoid:t,gfxWebLib:this,props:o.extend(!0,{Type:e},i)||{}};if(r&&o.extend(a,r),n=rn.getHandlerType(a),a.handler=Kr.getHandler(n),null!==a.handler){if(a.handler.onInit(a),this.options.forceHtml&&!t.startsWith("blueprint")&&"html"!==a.handler.DOM_TYPE){var s=E.createDomElement("div",{style:"position: absolute; pointer-events: none;"});wn.createSvgElement("svg",{style:"position: absolute; pointer-events: none; overflow: visible;",focusable:"false",appendTo:s}).appendChild(a.domNode),a.domNode=s}return a}return null},this.updateHmiObject=function(e,t,i){return void 0!==e.handler&&(e.handler.onChanged(e,t,i),!0)},this.updateDLData=function(e,t,i){return!(!e.handler||!e.handler.onDLSendData)&&(e.handler.onDLSendData(e,t,i),!0)},this.onCurrentLocale=function(e,t){return t=t||this.getLocale(),!(!e.handler||!e.handler.onCurrentLocale)&&(e.handler.onCurrentLocale(e,t),!0)},this.onCurrentStyle=function(e,t){return t=t||this.getStyle(),!(!e.handler||!e.handler.onCurrentStyle)&&(e.handler.onCurrentStyle(e,t),!0)},this.cleanupHmiObject=function(e){rn.onCleanUp(e)},this.createPartObject=function(e,t,i){return!(!e.handler||!e.handler.onCreatePart)&&(e.handler.onCreatePart(e,t,i||{}),!0)},this.deletePartObject=function(e,t){return!(!e.handler||!e.handler.onDeletePart)&&(e.handler.onDeletePart(e,t),!0)},this.movePartObject=function(e,t,i){return!(!e.handler||!e.handler.onMovePart)&&(e.handler.onMovePart(e,t,i),!0)},this.addHmiObjectHandler=function(e,t,i){Kr.addHandler(e,t),i&&Je.addDefaults(e,i)},this.cbSetImageSize=function(e,t){var i,r,n=rn;for(var a in(r=e.gfxWebLib).overlayContent.size=t,r.overlayContent.imageHelper=null,r.overlayContent.loaded=!0,i=r.overlayContent.schedule){var o=i[a];o.quality&&n.Quality.adjustImageOverlay(o)}delete r.overlayContent.schedule},this.isImageOverlayLoaded=function(){return this.overlayContent.loaded},this.registerForOverlay=function(e){this.overlayContent.schedule[e.rtoid]||(this.overlayContent.schedule[e.rtoid]=e)},this.getOverlaySize=function(){return this.overlayContent&&this.overlayContent.size?this.overlayContent.size:null},this.flashing={},this.flashing.handler={},this.flashing.setFlashingAttributes=function(e){void 0!==this.handler.setFlashingAttributes&&this.handler.setFlashingAttributes(e)},this.flashing.setRemoveItemSpecificFlashing=function(e,t,i){void 0!==this.handler.setRemoveItemSpecificFlashing&&this.handler.setRemoveItemSpecificFlashing(e,t,i)},this.flashing.getFlashingRates=function(){if(void 0!==this.handler.getFlashingRates)return this.handler.getFlashingRates()},this.topLevelScreenWindow={parent:this},this.topLevelScreenWindow.handler={},this.topLevelScreenWindow.getTopLevelScreenWindowOffset=function(e){return void 0!==this.handler.getTopLevelScreenWindowOffset?this.handler.getTopLevelScreenWindowOffset(e):{x:0,y:0}},this.topLevelScreenWindow.getTopLevelScreenWindowDiv=function(){return void 0!==this.handler.getTopLevelScreenWindowDiv?this.handler.getTopLevelScreenWindowDiv():this.parent.rootDiv||document.body},this.topLevelScreenWindow.getTopLevelScreenWindow=function(e){return void 0!==this.handler.getTopLevelScreenWindow?this.handler.getTopLevelScreenWindow(e):null},this.topLevelScreenWindow.enumScreens=function(e,t,i){return void 0!==this.handler.enumScreens&&this.handler.enumScreens(e,t,i)},this.screen={parent:this},this.screen.handler={},this.screen.getItem=function(e,t){return void 0!==this.handler.getItem?this.handler.getItem(e,t):null},this.screen.enumItems=function(e,t,i,r){return void 0!==this.handler.enumItems&&this.handler.enumItems(e,t,i,r)},this.screen.getCalculatedZoomFactor=function(e){return void 0!==this.handler.getCalculatedZoomFactor?this.handler.getCalculatedZoomFactor(e):1},this.connection={parent:this},this.connection.handler={},this.connection.validateRTOID=function(e){if("string"==typeof e)return e.split("_").length<=2},this.connection.getAppDir=function(){return void 0!==this.handler.getAppDir?this.handler.getAppDir():this.parent.options.basePath},this.connection.getImageUrl=function(){return void 0!==this.handler.getImageUrl?this.handler.getImageUrl():this.parent.options.imagePath},this.connection.getTemplateUrl=function(){return void 0!==this.handler.getTemplateUrl?this.handler.getTemplateUrl():this.parent.options.templatePath},this.connection.getCustomControlUrl=function(e){return void 0!==this.handler.getCustomControlUrl?this.handler.getCustomControlUrl(e):this.parent.options.basePath},this.connection.getCustomWidgetUrl=function(){return void 0!==this.handler.getCustomWidgetUrl?this.handler.getCustomWidgetUrl():this.parent.options.customWidgetPath},this.connection.getLicenseType=function(){if(void 0!==this.handler.getLicenseType)return this.handler.getLicenseType()},this.connection.getLicenseIDs=function(){if(void 0!==this.handler.getLicenseIDs)return this.handler.getLicenseIDs()},this.connection.getEventIDs=function(){if(void 0!==this.handler.getEventIDs)return this.handler.getEventIDs()},this.connection.getEventParamIDs=function(){if(void 0!==this.handler.getEventParamIDs)return this.handler.getEventParamIDs()},this.connection.datatypesToGfxCHROMID=function(e){if(void 0!==this.handler.datatypesToGfxCHROMID)return this.handler.datatypesToGfxCHROMID(e)},this.connection.datatypesToString=function(e){if(void 0!==this.handler.datatypesToString)return this.handler.datatypesToString(e)},this.connection.sendToolBarCommand=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendToolBarCommand&&this.handler.sendToolBarCommand(e,t,i)},this.connection.sendPointerUpEvent=function(e,t,i,r,n,a){this.validateRTOID(e)&&void 0!==this.handler.sendPointerUpEvent&&this.handler.sendPointerUpEvent(e,t,i,r,n,a)},this.connection.sendTappedEvent=function(e,t,i,r,n,a){this.validateRTOID(e)&&void 0!==this.handler.sendTappedEvent&&this.handler.sendTappedEvent(e,t,i,r,n,a)},this.connection.sendGestureEvent=function(e,t){this.validateRTOID(e)&&void 0!==this.handler.sendGestureEvent&&this.handler.sendGestureEvent(e,t)},this.connection.sendEvent=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendEvent&&this.handler.sendEvent(e,t,i)},this.connection.sendEventByName=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendEventByName&&this.handler.sendEventByName(e,t,i)},this.connection.sendPropertyByName=function(e,t,i,r,n){this.validateRTOID(e)&&void 0!==this.handler.sendPropertyByName&&this.handler.sendPropertyByName(e,t,i,r,n)},this.connection.sendPropertiesByName=function(e,t,i,r){this.validateRTOID(e)&&void 0!==this.handler.sendPropertiesByName&&this.handler.sendPropertiesByName(e,t,i,r)},this.connection.sendPartPropertyByName=function(e,t,i,r,n,a){this.validateRTOID(e)&&void 0!==this.handler.sendPartPropertyByName&&this.handler.sendPartPropertyByName(e,t,i,r,n,a)},this.connection.sendPartPropertiesByName=function(e,t,i,r,n){this.validateRTOID(e)&&void 0!==this.handler.sendPartPropertiesByName&&this.handler.sendPartPropertiesByName(e,t,i,r,n)},this.connection.setPropertyValue=function(e,t,i,r){void 0!==this.handler.setPropertyValue&&this.handler.setPropertyValue(e,t,i,r)},this.connection.sendDomainLogicEvent=function(e,t,i,r){this.validateRTOID(e)&&void 0!==this.handler.sendDomainLogicEvent&&this.handler.sendDomainLogicEvent(e,t,i,r)},this.connection.sendAsyncMethodResult=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendAsyncMethodResult&&this.handler.sendAsyncMethodResult(e,t,i)},this.connection.sendScreenItemCreate=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendScreenItemCreate&&this.handler.sendScreenItemCreate(e,t,i)},this.connection.sendScreenItemDelete=function(e){this.validateRTOID(e)&&void 0!==this.handler.sendScreenItemDelete&&this.handler.sendScreenItemDelete(e)},this.connection.sendPartCreate=function(e,t,i,r){this.validateRTOID(e)&&void 0!==this.handler.sendPartCreate&&this.handler.sendPartCreate(e,t,i,r)},this.connection.sendPartDelete=function(e,t){this.validateRTOID(e)&&void 0!==this.handler.sendPartDelete&&this.handler.sendPartDelete(e,t)},this.connection.sendPartMove=function(e,t,i){this.validateRTOID(e)&&void 0!==this.handler.sendPartMove&&this.handler.sendPartMove(e,t,i)},this.interaction={},this.interaction.handler={},this.interaction.addEvents=function(e,t){void 0!==this.handler.addEvents&&this.handler.addEvents(e,t)},this.interaction.removeEvents=function(e,t){void 0!==this.handler.removeEvents&&this.handler.removeEvents(e,t)},this.interaction.setCapture=function(e){void 0!==this.handler.setCapture&&this.handler.setCapture(e)},this.interaction.releaseCapture=function(){void 0!==this.handler.releaseCapture&&this.handler.releaseCapture()},this.interaction.evtX=function(e){if(void 0!==this.handler.evtX)return this.handler.evtX(e)},this.interaction.evtY=function(e){if(void 0!==this.handler.evtY)return this.handler.evtY(e)},this.interaction.checkPermission=function(e,t){return void 0===this.handler.checkPermission||this.handler.checkPermission(e,t)},this.input={},this.input.handler={},this.input.startInput=function(e){void 0!==this.handler.startInput&&this.handler.startInput(e)},this.input.endInput=function(e){void 0!==this.handler.endInput&&this.handler.endInput(e)},this.input.isInputActive=function(){if(void 0!==this.handler.isInputActive)return this.handler.isInputActive()},this.input.checkHandleInputEnd=function(e){void 0!==this.handler.checkHandleInputEnd&&this.handler.checkHandleInputEnd(e)},this.cursor={},this.cursor.handler={},this.cursor.suspendCursor=function(e,t,i,r){void 0!==this.handler.suspendCursor&&this.handler.suspendCursor(e,t,i,r)},this.keyboard={},this.keyboard.handler={},this.keyboard.getKeycodes=function(){if(void 0!==this.handler.getKeycodes)return this.handler.getKeycodes()},this.keyboard.getFlags=function(){if(void 0!==this.handler.getFlags)return this.handler.getFlags()},this.selection={},this.selection.handler={},this.selection.getActiveItem=function(){if(void 0!==this.handler.getActiveItem)return this.handler.getActiveItem()},this.selection.setActiveItem=function(e){void 0!==this.handler.setActiveItem&&this.handler.setActiveItem(e)},this.selection.selectNextItem=function(e){void 0!==this.handler.selectNextItem&&this.handler.selectNextItem(e)},this.selection.selectPreviousItem=function(e){void 0!==this.handler.selectPreviousItem&&this.handler.selectPreviousItem(e)},this.tooltip={},this.tooltip.handler={},this.tooltip.show=function(e,t,i,r){void 0!==this.handler.show&&this.handler.show(e,t,i,r)},this.tooltip.hide=function(){void 0!==this.handler.hide&&this.handler.hide()},this.tooltip.suspend=function(){void 0!==this.handler.suspend&&this.handler.suspend()},this.tooltip.resume=function(){void 0!==this.resume&&this.resume()},this.dialogs={},this.dialogs.handler={},this.dialogs.showRuntimeDialogWithIcon=function(e,t,i){void 0!==this.handler.showRuntimeDialogWithIcon&&this.handler.showRuntimeDialogWithIcon(e,t,i)},this.dialogs.hideRuntimeDialogWithIcon=function(){void 0!==this.handler.hideRuntimeDialogWithIcon&&this.handler.hideRuntimeDialogWithIcon()},this.dialogs.showOperationMotive=function(){void 0!==this.handler.showOperationMotive&&this.handler.showOperationMotive()},this.dialogs.hideOperationMotive=function(){void 0!==this.handler.hideOperationMotive&&this.handler.hideOperationMotive()},this.dialogs.showHelp=function(e,t){void 0!==this.handler.showHelp&&this.handler.showHelp(e,t)},this.dialogs.showCCDialog=function(e,t,i,r,n){if(void 0!==this.handler.showCCDialog)return this.handler.showCCDialog(e,t,i,r,n)},this.dialogs.closeCCDialog=function(e){void 0!==this.handler.closeCCDialog&&this.handler.closeCCDialog(e)},this.dialogs.showDateTimePicker=function(e,t){var i;if(void 0!==this.handler.showDateTimePicker)return(i=e.gfxWebLib.getProjectVersion())&&i.length>0?t.projectVersion=parseInt(i.split(".")[0]):t.projectVersion=i,this.handler.showDateTimePicker(e,t)},this.customsettings={parent:this},this.customsettings.getSetting=function(e,t,i){return En.getSetting(e,t,i)},this.customsettings.readSettings=function(e){En.readSettings(e)},this.textbib={parent:this},this.textbib.registerTextResource=function(e){te.registerTextResource(e)},this.textbib.setLocale=function(e){var t=this.parent.connection.getAppDir(),i=t+this.parent.options.cldrDataPath;ja.setLocale(e,i),ce.setLocale(e),te.setLocale(e,t)},this.textbib.getLocale=function(){return te.getLocale()},this.textbib.getText=function(e){return te.getText(e)},this.textbib.getLocaliziedDateTimeFormat=function(e){return te.getLocaliziedDateTimeFormat(e)},this.textbib.format=function(e,t){var i={cldrDataPath:this.parent.connection.getAppDir()+this.parent.options.cldrDataPath};if(arguments.length>2){var r=arguments[2];"object"==typeof r?o.extend(i,r):"string"==typeof r?i.timeZone=r:i.lcid=r}return ja.format(e,t,i)},this.textbib.parseDate=function(e,t){var i={cldrDataPath:this.parent.connection.getAppDir()+this.parent.options.cldrDataPath};if(arguments.length>2){var r=arguments[2];"object"==typeof r?o.extend(i,r):"string"==typeof r?i.timeZone=r:i.lcid=r}return ja.parseDate(e,t,i)},this.textbib.toIANATimeZone=function(e){return"string"==typeof e?isNaN(e)?ja.Timezone.getTimezoneFromName(e):ja.Timezone.getTimezoneFromIndex(+e):"number"==typeof e?-1===e?"localtime":ja.Timezone.getTimezoneFromIndex(e):null},this.textbib.getSupportedTimeZones=function(){return ja.Timezone.getSupportedTimeZones()},this.textbib.getDefaultFormat=function(e){return ar.getDefaultOutputFormat(e)},this.umcservice={},this.umcservice.handler={},this.umcservice.getServiceEndpoint=function(){if(void 0!==this.handler.getServiceEndpoint)return this.handler.getServiceEndpoint()},this.umcservice.init=function(e,t){void 0!==this.handler.init&&this.handler.init(e,t)},this.umcservice.getKey=function(e){if(void 0!==this.handler.getKey)return this.handler.getKey(e)},this.channelregistry={},this.channelregistry.handler={},this.channelregistry.browse=function(){return void 0!==this.handler.browse?this.handler.browse():[]},this.channelregistry.open=function(e,t){return void 0!==this.handler.open?this.handler.open(e,t):null}};const Mn=Ln;var Fn,Hn,On,Nn,kn,Wn,Gn=(Fn=s,Hn=function(e){return e.Modifiers=e.flags,e.Trigger=e.trigger,e.deltaX=e.deltaX||0,e.deltaY=e.deltaY||0,e.pageX=e.x,e.pageY=e.y,e},(On=function(e,t){this.element=e,this.template=t,this.handlers={},this.counter=0;var i=this;this.pointers=Fn.Pointers.createInstance(e,{rtpuMode:!0,item:t.rootItem.Store,callbacks:{down:function(e){var r,n;i.handlers.down&&(e=Hn(e),i.handlers.down(e)),i.handlers.pan&&(i.capture=i.capture||(r=null,n=Fn.Pointers.createInstance(document,{autoStart:!1,rtpuMode:!0,callbacks:{move:function(e){e.deltaX=e.x-r.lastX,e.deltaY=e.y-r.lastY,r.move&&!r.stopped&&(r.recognized?(r.lastX=e.x,r.lastY=e.y,e=Hn(e),r.move(e)):(Math.abs(e.deltaX)>=3||Math.abs(e.deltaY)>=3)&&(r.recognized=!0,r.item.container&&r.item.container.handler&&r.item.container.handler.lockGesture(r.item.container,null,!0)))},leave:function(e){r.leave&&(e=Hn(e),r.leave(e)),r.leave=null,r.move=null,r.item=null,r.releaseCapture()}}}),r=n),i.capture.pointerId=e.pointerId,i.capture.lastX=e.x,i.capture.lastY=e.y,i.capture.move=i.handlers.pan,i.capture.leave=i.handlers.up,i.capture.recognized=!1,i.capture.stopped=!1,i.capture.item=t.rootItem.Store,!i.capture.item.container&&i.capture.item.parentItem&&(i.capture.item=i.capture.item.parentItem.RTPUItem.Store),i.capture.setCapture())},up:function(e){i.handlers.pan&&(i.capture.move=null,i.capture.leave=null,i.capture.item=null,i.capture.releaseCapture()),i.handlers.up&&(e=Hn(e),i.handlers.up(e)),e.click&&0===e.button?i.handlers.tapped&&(e=Hn(e),i.handlers.tapped(e)):e.click&&2===e.button&&i.handlers.contextTapped&&(e=Hn(e),i.handlers.contextTapped(e))},move:function(e){i.handlers.hover&&!e.which&&(e=Hn(e),i.handlers.hover(e))},enter:function(e){window.pageX=e.x,window.pageY=e.y,i.handlers.enter&&(e=Hn(e),i.handlers.enter(e))},leave:function(e){i.handlers.leave&&(e=Hn(e),i.handlers.leave(e))}}}),this.onMouseWheel=function(e){var t=e.deltaY||e.deltaX||1;i.handlers.wheel&&(e.Modifiers=(e.getModifierState("Control")?1:0)+(e.getModifierState("Shift")?2:0)+(e.getModifierState("Alt")?4:0),e.Trigger=0!==e.which?e.button+16:0,e.deltaWheel=t,i.handlers.wheel(e))}}).prototype={type2Event:function(e){switch(e){case 10:return"down";case 11:return"up";case 12:return"tapped";case 13:return"contextTapped";case 14:return"pan";case 20:return"focusEnter";case 21:return"focusLeave";case 1:return"enter";case 2:return"hover";case 3:return"leave";case 4:return"wheel"}return null},bind:function(e,t){var i=this.type2Event(e);return!!i&&("wheel"===i&&this.element.addEventListener(i,this.onMouseWheel,{passive:!1}),this.handlers[i]=t,this.counter++,!0)},unbind:function(e){var t=this.type2Event(e);return!(!t||("wheel"===t&&this.element.removeEventListener(t,this.onMouseWheel,{passive:!1}),this.handlers[t]=null,this.counter--,0!==this.counter)||(this.pointers.stop(),this.pointers=null,0))}},On);const Un=(Nn=window.Map?new Map:null,kn=function(e,t){Nn.set(e,t)},Wn=function(e){return Nn.get(e)},{canUse:function(){return!(!s.hasPointers()||!window.Map)},register:function(e,t){for(const i of e){const e=Wn(i.element)||new Gn(i.element,t);e.bind(i.eventName,i.handler)&&kn(i.element,e)}},unregister:function(e){for(const i of e){const e=Wn(i.element);e&&e.unbind(i.eventName,i.handler)&&(t=i.element,Nn.delete(t))}var t},stopCapture:function(){var e=Nn.values();for(var t of e)t.handlers.pan&&t.capture&&(t.capture.stopped=!0)},onFocusIn:function(e){var t=Nn.values();for(var i of t)i.handlers.focusEnter&&i.template.rootItem.Store===e&&i.handlers.focusEnter({Trigger:0,Modifier:0,preventDefault:function(){},stopPropagation:function(){}})},onFocusOut:function(e){var t=Nn.values();for(var i of t)i.handlers.focusLeave&&i.template.rootItem.Store===e&&i.handlers.focusLeave({Trigger:0,Modifier:0,preventDefault:function(){},stopPropagation:function(){}})},transform:function(e,t,i){var r,n=i.RootNode;if("FaceplateContainer"===i.Store.props.Type&&(n=i.Store.groupContainer?i.Store.container.container.domNode:i.Store.container.domNode),window.convertPointFromPageToNode&&n){var a=window.convertPointFromPageToNode(n,e.pageX,e.pageY,e.isCapture);r={".type":t,".currentTaget":e.currentTarget,X:a.x,Y:a.y,Modifiers:e.Modifiers,Trigger:e.Trigger,PanDeltaX:0,PanDeltaY:0,WheelDelta:e.deltaWheel},(e.deltaX||e.deltaY)&&(a=window.convertPointFromPageToNode(n,e.pageX-e.deltaX,e.pageY-e.deltaY,!0),r.PanDeltaX=r.X-a.x,r.PanDeltaY=r.Y-a.y)}else{var o=i.RootNode.getBoundingClientRect();r={".type":t,".currentTaget":e.currentTarget,X:e.pageX-window.pageXOffset-o.left,Y:e.pageY-window.pageYOffset-o.top,Modifiers:e.Modifiers,Trigger:e.Trigger,PanDeltaX:e.deltaX,PanDeltaY:e.deltaY,WheelDelta:e.deltaWheel}}return r}});!function(){var e=null,t=null;function i(e){var t=null;return window.DOMMatrix?t=new window.DOMMatrix:window.WebKitCSSMatrix?t=new window.WebKitCSSMatrix:window.MSCSSMatrix&&(t=new window.MSCSSMatrix),e&&t&&t.setMatrixValue(e),t}function r(e,t,i){this.x=e,this.y=t,this.z=i}function n(n){for(var a=e,o=n,s=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop;o&&o!==o.ownerDocument.documentElement;){var u=window.getComputedStyle(o,void 0).transform||"none";a=("none"===u?e:i(u)).multiply(a),o=o.parentNode}for(var h=n.clientWidth||n.parentNode&&n.parentNode.clientWidth||0,d=n.clientHeight||n.parentNode&&n.parentNode.clientHeight||0,c=4,p=1/0,m=1/0;--c>=0;){var g=new r(0===c||1===c?0:h,0===c||3===c?0:d,0).transformBy(a);g.x<p&&(p=g.x),g.y<m&&(m=g.y)}var T=n.getBoundingClientRect();return t=e.translate(T.left-p+s,T.top-m+l,0).multiply(a)}r.prototype.transformBy=function(t){var i=t.multiply(e.translate(this.x,this.y,this.z));return new r(i.m41,i.m42,i.m43)},(e=i())&&(window.convertPointFromPageToNode=function(e,i,a,o){return o&&t?new r(i,a,0).transformBy(t.inverse()):new r(i,a,0).transformBy(n(e).inverse())},window.convertPointFromNodeToPage=function(e,t,i){return new r(t,i,0).transformBy(n(e))})}();const zn=function(e){var t=e,i=function(e,t,i,r){return ka.illuminate(e,t,i,r)},r=function(e,t){return ka.darker(e,t)},n=function(e,t){return ka.lighter(e,t)},a=function(e,t){var i=Pe.getSystemPartDefault(e);return i&&t?i[t]:i};return{rtpuConverters:{IsString:function(e){return"string"==typeof e},IsNumber:function(e){return"number"==typeof e},IsNaN:function(e){return isNaN(e)},IsBoolean:function(e){return"boolean"==typeof e},ToNumeric:function(e){return"object"==typeof e?NaN:Number(e)},CountItems:function(e){return e&&e.cursor?e.cursor:0},CountVisibleItems:function(e){if(e&&e.cursor){let t=0;for(let i=0;i<e.length;i++)e[i].Visible&&t++;return t}return 0},FormatPattern:function(e,i,r){var n,a=null;return void 0!==r&&(a=t.textbib.toIANATimeZone(r)),"string"!=typeof(n=null!==a?t.textbib.format(e,i,a):t.textbib.format(e,i))&&(n=""+e,eo.consolLog(eo.enumTraceMode.Error,"Converter.toFormat() unable to format val: "+n+" OutputFormat: "+i+" value: "+e)),n},GetDefaultFormat:function(e){return t.textbib.getDefaultFormat(e)},RGB:function(e){var t=ka;return t.convertTo(t.enumConverter.RGB,e)},RGBA:function(e){var t=ka;return t.convertTo(t.enumConverter.Color,e)},Alpha:function(e){return((4278190080&e)>>>24)/255},Illuminate:i,Darker:r,Lighter:n,ThresholdColorForValue:function(e,t,i){return ka.toThresholdColorRaw(e,t,i)},Bounds:function(e,t,i){return ka.bounds(e,t,i)},Min:function(e,t){return Math.min(e,t)},Max:function(e,t){return Math.max(e,t)},TextDecoration:function(e){return e.Underline||e.StrikeOut?(e.Underline?"underline ":"")+(e.StrikeOut?"line-through ":""):"none"},TextHeight:function(e,t,i){return wn.getTextHeight(t,e,i)},TextWidth:function(e,t,i){return wn.getTextWidth(t,e,i)},TextEllipsis:function(e,t,i,r="right"){return ka.textEllipsis(e,t,i,r)},GetTextByID:function(e){return t.textbib.getText(e)},GetStyleDependentDefaultValue:a,GetDefaultValue:a,IsMultiline:function(e){return!(!e||"string"!=typeof e)&&(e.includes("\n")||e.includes(""))},Trace:function(e){return eo.consolLog(eo.enumTraceMode.TestCurr,e),0},TextPosY:function(e,t,i){return ka.getTextPosY(e,t,i)},MergeColors:function(e){return ka.mergeColors(e)},TemplatePrefixURI:function(){return Ma.getTemplatePrefixUri()},Format2Type:function(e){return ja.format2Type(e)},Hex2Dec:function(e){return ja.baseConverter.hex2dec(e)},Bin2Dec:function(e){return ja.baseConverter.bin2dec(e)},TextWrap:function(e,t,i,r){return ka.textWrap(e,t,i,r)},GetHmiFieldDataTypeEnum:function(){return ka.enumHmiFieldDataType},IsDesignMode:function(){return t.appMode===In.EDIT},IsRuntime:function(){return t.appMode===In.RUNTIME},LoadImage:function(e,t,i,r){(new _).loadImage(e,t,i,r)},ShowTooltip:function(e,i,r,n){t.tooltip.show(e,i,r,n)},HideTooltip:function(){t.tooltip.hide()},MapEventName:function(e){return qe.mapEventName(e)},HRef:function(e,t){var i=ka;return i.convertTo(i.enumConverter.HRef,e,t)},TextBBox:function(e,t){return wn.getTextBBox(t,e)},FontPointSize:function(e,t){return wn.getFontPointSize(t,e)}},darker:r,lighter:n,illuminate:i}};const jn=function(e){var t=e.flashing.getFlashingRates(),i=function(e){var i,r=e?e.length:0,n=null;for(i=0;i<r;i+=1)n=Math.max(null!==n?n:t.Slow,e[i].rate);return n};return{registerForFlashing:function(e,t,r,n,a){var o,s=i(t.flashingNVEs||[]);r?(t.flashingNVEs=t.flashingNVEs||[],function(e,t,i,r,n){var a,o,s=t.flashingNVEs?t.flashingNVEs.length:0;for(a=0;a<s&&(o=t.flashingNVEs[a]).nve!==e;a+=1);o&&t.flashingNVEs.splice(a,1),o={nve:e,item:t,rate:r,func:n},t.flashingNVEs.push(o)}(e,t,0,n,a)):function(e,t){var i,r=t?t.length:0;for(i=0;i<r;i+=1)if(t[i].nve===e){t.splice(i,1);break}}(e,t.flashingNVEs||[]),o=i(t.flashingNVEs),null!==s&&o!==s&&(null===o||o<s)&&(t.gfxWebLib.flashing.setRemoveItemSpecificFlashing(t,!1,s),s=null),null!==o&&o!==s&&(null===s||o<s)&&t.gfxWebLib.flashing.setRemoveItemSpecificFlashing(t,!0,o)},onFlashing:function(e,t,i){var r,n,a=e.flashingNVEs?e.flashingNVEs.length:0;for(r=0;r<a;r+=1)(n=e.flashingNVEs[r]).func(e,n.nve,t,i)}}};var Yn,Xn,qn,Kn=(Xn=function(e,t,i){var r=i.Store;r.handler.onCommand?r.handler.onCommand(r,e,t):eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.sendCommand item does not support onCommand(). item type: "+r.props.Type+" connand: "+e+" value: "+t)},qn=function(e,t,i){var r=i.Store;switch(e){case"ProcessValueChanged":!function(e,t){Yn.connection.sendPropertyByName(e.rtoid,"ProcessValue",t,!0)}(r,t);break;case"SelectedIndexChanged":!function(e,t){Yn.connection.sendEventByName(e.rtoid,"OnSelectedIndexChanged",Math.max(0,t))}(r,t);break;case"ResourceEntryChanged":!function(e,t){Yn.connection.sendEventByName(e.rtoid,"OnResourceEntryChanged",Math.max(0,t))}(r,t);break;case"RequestResourceListEntries":!function(e){Yn.connection.sendEventByName(e.rtoid,"OnRequestResourceListEntries")}(r);break;default:eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.sendEvent: Unknown event: "+e)}},{init:function(e,t){Yn=e,t.registerSendCommand(Xn),t.registerSendEvent(qn)},sendChangeProperty:function(e,t,i,r,n){t?Yn.connection.sendPartPropertyByName(e.rtoid,t,i,r,n):Yn.connection.sendPropertyByName(e.rtoid,i,r,n)}});const Zn=Kn;const Qn={getDefaultTemplate:function(e){return"style."+e.gfxWebLib.getStyle()+"."+e.props.Type.toLowerCase()+".default.svghmi"},removeTemplatePath:function(e){const t=e.lastIndexOf("/");return-1!==t?e.substring(t+1):e},changeTemplate:function(e){var t,i,r,n=e.gfxWebLib;i=e.domNode.parentNode,r=e.domNode.nextElementSibling,i&&e.domNode&&i.removeChild(e.domNode),function(e){rn.onCleanUp(e,!0),e.templateInstance&&(e.templateInstance.remove(!0,!0,!1),e.templateInstance=null)}(e),e.gfxWebLib=n,e.container&&(e.domParent=i),t=e.handler.onInit(e,!0),i&&(r?i.insertBefore(t,r):i.appendChild(t))},loadSubTemplate:function(e){var t={ActualX:0,ActualY:0,ActualWidth:e.props.Width,ActualHeight:e.props.Height};return Ma.loadSubTemplate(e.node,e,e.props.Type,e.props.RenderingTemplate,e.cbOnChanged,e.cbOnTemplateLoaded,t)},updateSubTemplate:function(e,t){Ma.onChanged(e,t)}};var Jn,$n,ea,ta,ia,ra,na,aa,oa,sa,la,ua,ha,da,ca,pa,ma,ga,Ta,fa,ya,Da,Sa,ba,Ca,va,Pa,_a,Aa,wa,xa,Va,Ea,Ia,Ra,Ba,La=(na=!1,aa=Array.isArray,oa=function(e,t){if(e.startsWith("data:image/"))return e;let i=t+e;return i=encodeURI(i).replace(/\+/g,"%2B"),i.endsWith(".svghmi")||(i+=".svghmi"),i},sa=function(e){return e.gfxWebLib.connection.getAppDir()+"templates/"+e.gfxWebLib.getStyle()+"/"},la=function(e){var t,i=e.gfxWebLib;return void 0===ea&&(ea=e&&e.container&&i.appType!==Rn.CLOUD),"CustomWidgetContainer"===e.props.Type||"SymbolContainer"===e.props.Type?t=i.connection.getCustomWidgetUrl():(t=i.connection.getTemplateUrl(),i.getHasActiveStyle()||(ea&&(t=t.substr(0,t.indexOf("resources/"))+"templates/"),t+=i.getStyle()+"/")),t},ua=function(e,t,i,r){var n=Ha,a={};if(function(e,t,i){var r=t.lastIndexOf(".");if(-1!==r){var n=t.slice(0,r),a=Number(t.slice(r+1-t.length));if(!isNaN(a)){var o=Ha.getPart(e,n);return i.partId=a,i.arrayRef=o,i.elementsPath=n,!0}}return!1}(e,t,a)){var o=webRTPU.DataPreprocessor.clone(a.arrayRef);o=o||[];var s=n.findIndexByID(o,a.partId);if(0===i&&-1===s||1===i&&-1!==s||2===i)return(r=r||{}).elementsPath=a.elementsPath,r.elements=o,r.index=s,!0}return eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.getPartElemPathIndexAndArray() Error element "+(0===i?"must":"does")+" not exist! path: "+t),!1},ha=function(e,t){var i,r,n,a=Je.getPropertyInfos(t);for(i in a){var o=a[i];if(void 0===(n=e[i]))if(o.IsPart)if(o.IsArray)e[i]=[];else{if(void 0===(t=o.Type)){"Elements"!==i&&"Columns"!==i&&"Systems"!==i&&eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.setAllPartProps: Missing part declaration for HmiPart: "+i);continue}e[i]={},ha(e[i],t)}else e[i]=o.DefaultValue;else if(o.IsPart&&!aa(n))if(o.IsArray)e[i]=[];else{if(r=n,void 0===(t=o.Type?o.Type:r.Type)){eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.setAllPartProps: Missing Type in HmiPart: "+i);continue}ha(r,t)}}for(i in e)if(n=e[i],aa(n)){var s=n.length;if(s)for(var l=0;l<s;l+=1)if(r=n[l]){if(void 0===(t=et.getTypeNameFromId(r.Type))){"Elements"!==i&&"Columns"!==i&&"Systems"!==i&&eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.setAllPartProps: Missing part declaration for HmiPart: "+i+"["+l+"]");continue}ha(r,t)}}},da={ListBox:1,ScrollBar:1,Slider:1,RadioButtonGroup:1,CheckBoxGroup:1,ToggleSwitch:1,IOField:1,TextBox:1,SymbolicIOField:1},ca=0,pa=1,ma=2,ga=3,Ta=4,fa=5,ya=6,Da=7,Sa=8,ba=function(e,t){eo.consolLog(e,t)},Ca=function(e,t){ra.registerNVEType(e,t)},va=function(e,t){var i,r,n,a,o;if(void 0===t)return ha(a={},e),a;if(r=(i=e.split(".")).length,a=(n=t.Store).props,1===r)return ha(a,n.props.Type),a;o=Je.getPropertyInfos(n.props.Type);for(var s=1;s<r;s+=1){var l=a,u=i[s].match(/[^(.[\])]+/g),h=o[u[0]];if(a=a[u[0]],u[1]&&(a=a[u[1]]),s===r-1||void 0===a){if(h&&h.IsPart){var d=void 0===a;if(d&&h.IsArray)return[];a=Ha.mergePropertiesFromInfo(a,h.Type),ha(a,h.Type),d&&(l[u[0]]=a);var c=a;for(s+=1;s<r;s+=1)c=c[(u=i[s].match(/[^(.[\])]+/g))[0]];return c}if(-1!==u[0].indexOf("GraphicWidth")||-1!==u[0].indexOf("GraphicHeight"))return 0;if(void 0===h){var p=t.Parent&&t.Parent.SecondaryType?t.Parent.SecondaryType:"none";return eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler resolveDefault() WebRTPU Wrong binding or missing property in Template: "+t._template.URI+" path: "+e+" parentSecondayType: "+p),null}return h.DefaultValue}o=Je.getPropertyInfos(h.Type)}},Pa=function(e,t,i,r){var n,a,o,s=e.slice(9),l=i.Store,u=Ha.getPartPathWithId(l,s),d={};l.control&&(""===u.path?(d[u.name]=t,l.handler.updateFrameAttributes&&l.handler.updateFrameAttributes(l,d),"CustomWebControlContainer"===l.props.Type&&l.control.handler.onChanged(l,Object.defineProperty({},u.name,{value:t,enumerable:!0}))):(n=Ha.getPart(l,u.path).Type,a=u.name,o=!1,n===h.HmiScreenObjectType.ControlBarTextBoxPart&&"Text"===a&&(o=!0),r=o)),("ToggleSwitch"===l.props.Type&&"IsAlternateState"===u.name||"SymbolicIOField"===l.props.Type)&&l.fallback.resetStateByTimeout(),Zn.sendChangeProperty(l,u.path,u.name,t,r||!l.control),"IOField"===l.props.Type&&l.handler.onInputFinished(l,t)},_a=function(e,t,i){var r,n,a=i.Store;switch(t){case"screen":r=a.container&&a.container.domNode?a.container.domNode:a.domNode;break;case"item":r=a.domNode;break;default:r=t.style&&void 0!==t.style.cursor?t:a.domNode}n="auto"===e?0:1,a.gfxWebLib.cursor.suspendCursor(r,n,!0,e)},Aa=()=>{},wa=function(e){const t=e.getProjectVersion();if(t&&t.split(".")[0]<17&&(b.checkProperties=!0),ta=e.keyboard.getKeycodes(),ia=e.keyboard.getFlags(),ra){webRTPU.Engine.Options.checkProperties=b.checkProperties,aa=webRTPU.ObservableArray.isArray,La.webRtpuIsArray=webRTPU.ObservableArray.isArray,Jn=zn(e),ra.registerConverters(Jn.rtpuConverters),ra.registerEnums(h),ra.registerDefaultResolver(va),ra.registerPropertyChangedCallback(Pa),e.appMode!==In.EDIT?(ra.registerSetCursor(_a),Un.canUse()&&ra.registerEventCallbacks(Un.register,Un.unregister),ra.registerEventTransformer(Un.transform)):(ra.registerSetCursor(Aa),ra.registerEventCallbacks(Aa,Aa),ra.registerEventTransformer(Aa));var i={"SysProps.IsDesignMode":e.appMode===In.EDIT,"SysProps.IsTouchOnly":!1};if(ra.registerConstants(i),Zn.init(e,ra),ra.registerXLinkTransformation(function(e){var t=e;return function(e){return e?(0===e.indexOf("content/",0)?t.connection.getAppDir():t.connection.getImageUrl())+e:""}}(e)),ra.registerTracer(eo.getTraceMode(),ba),s.Templates&&ra.registerFileLoader(s.Templates.fileLoader),$n=jn(e),S.NVES&&"function"==typeof S.NVES.initialize){var r={propChanged:Pa,loadSubTemplate:La.loadSubTemplate,removeSubTemplate:La.removeSubTemplate,registerForFlashing:$n.registerForFlashing,getSystemPartDefaults:Pe.getSystemPartDefault},n={register:Ca,converter:Jn.rtpuConverters,debug:{mode:eo.getTraceMode(),tracer:ba},enums:h,helper:r};Un.canUse()&&(r.registerEvent=Un.register,r.unregisterEvent=Un.unregister),S.NVES.initialize(n)}!function(){for(var e=[{type:"HmiWindow",context:tt},{type:"HmiCustomWebControlContainer",context:tt},{type:"HmiMediaControl",context:tt},{type:"HmiSwacContainer",context:tt},{type:"HmiWebControl",context:tt},{type:"HmiObjectExplorerControl",context:tt},{type:"HmiPopupScreenWindow",context:Ee},{type:"HmiFaceplateContainer",context:Ee},{type:"HmiScreenWindow",context:Ee}],t=e.length,i=0;i<t;i+=1){var r=e[i];ra.registerContent(1,r.type,r.context)}}()}else eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler initWebRTPU() WebRTPU Engine not created!")},xa=function(e,t,i,r){t.delayedUpdates=t.delayedUpdates||[],t.delayedUpdates[t.delayedUpdates.length]={fct:e,param1:i,param2:r},eo.consolLog(eo.enumTraceMode.Info,"WebRTPU.Handler.addDelayedUpdates() fct: "+e.name+" item: "+t.rtoid+" Template not instanced yet! Add to delayed updates!")},Va=function(e){return!e.control||!e.control.handler.isReady||e.control.handler.isReady(e)},Ea=function(e){e.container&&e.container.handler?e.container.handler.onScreenItemTemplateInstanceDirty(e):e.templateInstance.update()},Ia=function(e){if(e.container&&e.container.isCleanedUp)return!1;if(e.delayedUpdates&&Va(e)){var t=e.delayedUpdates.length;if(t){eo.consolLog(eo.enumTraceMode.TestCurr,"WebRTPU.Handler.handleDelayedUpdate() len: "+t),function(e){e.updateTemplateInstanceSuspended=!0}(e);for(var i=0;i<t;i+=1){var r=e.delayedUpdates[i];eo.consolLog(eo.enumTraceMode.Info,"WebRTPU.Handler.handleDelayedUpdate() fct: "+r.fct.name+" item: "+e.rtoid),r.fct(e,r.param1,r.param2)}e.delayedUpdates=null,function(e){do{delete e.updateTemplateInstanceAfterSuspended,Ea(e)}while(e.updateTemplateInstanceAfterSuspended);delete e.updateTemplateInstanceSuspended}(e)}}},Ra=function(e,t){function i(e){return!!e&&(e.constructor===Object||"object"==typeof e)}Object.keys(t).forEach((function(r){var n=e[r],a=t[r];Array.isArray(n)&&Array.isArray(a)?e[r]=n.concat(a):i(n)&&i(a)?Ra(n,a):e[r]=a}))},Ba={},"object"!=typeof webRTPU||"function"!=typeof webRTPU.Engine||(ra=new webRTPU.Engine)||eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler createWebRTPU() webRTPU Engine could not be created!"),{HANDLE_NAME:"WebRTPU.Handler",DOM_TYPE:"html",BORDER_SVG_ELEM_TYPE:"g",HANDLER_NAME:"PWC.Lib.HmiTypes.Advanced.WebRTPU.Handler",DISABLE_SETSELECTIONPROPS:!1,onInit:function(e,t,i){var r,n={HmiProps:e.props,ParamProps:{},SysProps:{Style:e.gfxWebLib.getStyle(!0)}};if(e.domNode){na||(wa(e.gfxWebLib),na=!0),b.checkProperties||ha(e.props,e.props.Type),da[e.props.Type]&&(e.operable=!0),e.templateInstance=null,e.props.RenderingTemplate||(e.props.RenderingTemplate=Qn.getDefaultTemplate(e));var a=e.props.RenderingTemplate.substring(0,e.props.RenderingTemplate.lastIndexOf("/")+1);if(Pe.setResourceCachePrefix(a),e.handler&&e.handler.initProcessValueAndOutputFormats&&e.handler.initProcessValueAndOutputFormats(e),r=Ba[e.props.Type]?oa(Qn.getDefaultTemplate(e),sa(e)):oa(e.props.RenderingTemplate,la(e)),ra.hasTemplate(r)){var o=ra.applyTemplate(r,e.domNode,n,e);o&&(e.templateInstance=o,e.domSvgNode=e.templateInstance.RootNode,t(e,i),Ia(e))}else{var s=function(a){if(a){if(!e.container||!e.container.isCleanedUp){if(!Ba[e.props.Type]){var o=oa(e.props.RenderingTemplate,la(e));if(r!==o)return void eo.consolLog(eo.enumTraceMode.Info,"WebRTPU.Handler.onInit() item: "+e.rtoid+" Template already changed from: "+r+" to: "+o)}var l=ra.applyTemplate(r,e.domNode,n,e);l&&(e.templateInstance=l,e.domSvgNode=e.templateInstance.RootNode,t(e,i),Ia(e))}}else Ba[e.props.Type]?eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.onInit() item: "+e.rtoid+" Template not loaded: "+r):(Ba[e.props.Type]=!0,r=oa(Qn.getDefaultTemplate(e),sa(e)),ra.loadTemplateFromUrl(r,r).then(s,(function(){eo.traceErr(Error("Could not load template: "+e.props.RenderingTemplate),"WebRTPU.Handler.onInit()",e),Ba[e.props.Type]=!1})))};ra.loadTemplateFromUrl(r,r).then(s,(function(){Ba[e.props.Type]=!0,r=oa(Qn.getDefaultTemplate(e),sa(e)),ra.loadTemplateFromUrl(r,r).then(s,(function(){eo.traceErr(Error("Could not load template: "+e.props.RenderingTemplate),"WebRTPU.Handler.onInit()",e),Ba[e.props.Type]=!1}))}))}return e.domNode.setAttribute("data-rtoid",e.rtoid),e.domNode.setAttribute("data-tif-id",void 0!==e.props.Name?e.props.Name:""),rn.addTifLibExpandoProps(e,e.domNode),e.domNode}eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.onInit() item is missing a domNode")},onCurrentLanguage:function(e,t){e.templateInstance?(e.control&&e.control.handler&&e.control.handler.onCurrentLanguage&&e.control.handler.onCurrentLanguage(e,t),e.templateInstance.update(0,!0)):xa(La.onCurrentLanguage,e,0,!0)},onCurrentStyle:function(e){Qn.changeTemplate(e)},onChanged:function(e,t,i){var r="HmiProps";if(!e.container||!e.container.isCleanedUp){if(i){var n=Ha.getPartPathWithIndex(e,i);n&&(r="HmiProps."+n)}else if(!(void 0===t.RenderingTemplate||e.control&&e.control.handler.onCurrentStyle))return Ra(e.props,t),!0;e.templateInstance&&Va(e)?(e.templateInstance.setHmiProps(t,r),function(e){e.updateTemplateInstanceSuspended?e.updateTemplateInstanceAfterSuspended=!0:Ea(e)}(e),!i&&e.handler.updateFrameAttributes&&e.handler.updateFrameAttributes(e,t)):xa(La.onChanged,e,t,i)}},onCreatePart:function(e,t,i){var r={};return!(e.container&&e.container.isCleanedUp||(e.templateInstance&&Va(e)?ua(e,t,0,r)&&(ha(i,i.Type),r.elements.push(i),La.onChanged(e,r.elements,r.elementsPath)):xa(La.onCreatePart,e,t,i),0))},onDeletePart:function(e,t){var i={};if(e.container&&e.container.isCleanedUp)return!1;if(e.templateInstance&&Va(e)){if(!ua(e,t,1,i))return!1;i.elements.splice(i.index,1),La.onChanged(e,i.elements,i.elementsPath)}else xa(La.onDeletePart,e,t,void 0);return!0},onMovePart:function(e,t,i){var r={};if(e.container&&e.container.isCleanedUp)return!1;if(e.templateInstance&&Va(e)){if(ua(e,t,1,r)){if(i>=0&&i<r.elements.length){var n=r.elements.splice(r.index,1);return r.elements.splice(i,0,n[0]),La.onChanged(e,r.elements,r.elementsPath),!0}eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.onMovePart() Error position out of range of the elements! pos: "+i+" max: "+(r.elements.length-1))}return!1}return xa(La.onMovePart,e,t,i),!0},onFocus:function(e){e.templateInstance?(Un.onFocusIn(e),La.onChanged(e,{HasFocus:!0}),e.templateInstance.RootFocusManager.setFocus()):xa(La.onFocus,e,void 0,void 0)},onFocusOut:function(e){e.templateInstance?(Un.onFocusOut(e),La.onChanged(e,{HasFocus:!1}),e.templateInstance.RootFocusManager&&e.templateInstance.RootFocusManager.removeFocus()):xa(La.onFocusOut,e,void 0,void 0)},checkInnerNavigation:function(e,t,i,r){if(e.templateInstance&&e.templateInstance.RootFocusManager){var n=e.templateInstance.RootFocusManager;if(n.onKeyDown(t,i,r))return!0;var a=function(e,t,i){var r;if(t>1)return ca;switch(e){case ta.ESC:r=i===ia.SHIFT?Sa:ca;break;case ta.ENTER:r=i===ia.SHIFT?Da:ca;break;case ta.TAB:switch(i){case ia.NONE:r=fa;break;case ia.SHIFT:r=ya;break;default:r=ca}break;case ta.ARROWLEFT:r=pa;break;case ta.ARROWRIGHT:r=ma;break;case ta.ARROWUP:r=i===ia.NONE?ga:ca;break;case ta.ARROWDOWN:r=i===ia.NONE?Ta:ca;break;default:r=ca}return r}(t,i,r);if(a!==ca)return null!==n.moveFocus(a);var o=function(e,t,i){switch(e){case ta.SPACE:case ta.ENTER:return"accept";case ta.ESC:return"cancle";default:return null}}(t);if(o)return n.callAction(o)}return!1},onCleanUp:function(e){e.templateInstance&&(e.templateInstance.remove(!0,!0,!1),e.templateInstance=null)},getPropertyBinding:function(){return null},getBounds:function(e){var t=Ha;return{l:0,t:0,w:t.getPropRaw(e,"Width"),h:t.getPropRaw(e,"Height")}},onFlashing:function(e,t,i){$n.onFlashing(e,t,i)},checkControlIsReady:Va,addDelayedUpdates:xa,handleDelayedUpdates:Ia,webRtpuIsArray:aa,setAllPartProps:ha,registerWebRTPUContent:function(e,t,i){ra?ra.registerContent(e,t,i):eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler registerWebRTPUContent()  webRTPU Engine could not be created!")},setParamProps:function(e,t,i){e.templateInstance&&(e.templateInstance.setParamProps(t,i,!0),Ea(e))},getTemplatePrefixUri:la,loadSubTemplate:function(e,t,i,r,n,a,o){var s,l,u=t.props,h={HmiProps:u,ParamProps:{},SysProps:{Style:t.gfxWebLib.getStyle(!0)}};if(o&&(h.Layout=o),na||(wa(t.gfxWebLib),na=!0),s=Ba[u.Type]?oa(Qn.removeTemplatePath(r),sa(t)):oa(r,la(t)),ra.hasTemplate(s))(l=ra.applyTemplate(s,e,h,t))&&(t.templateInstance=l,l.PropertyChangedCallback=n,Ia(t),a&&a(t,l));else{const i=function(i){if(!i)return eo.consolLog(eo.enumTraceMode.Error,"WebRTPU.Handler.loadSubTemplate() Template not loaded: "+s),null;var r=ra.applyTemplate(s,e,h,t);r&&(t.templateInstance=r,r.PropertyChangedCallback=n),Ia(t),a&&a(t,r)},o=function(){Ba[u.Type]=!0,s=oa(Qn.removeTemplatePath(r),sa(t)),ra.loadTemplateFromUrl(s,s,"",!0).then(i,(function(){eo.traceErr(Error("Could not load template: "+s),"WebRTPU.Handler.loadSubTemplate()",t),Ba[u.Type]=!1}))};ra.loadTemplateFromUrl(s,s,"",!0).then(i,o)}return l},removeSubTemplate:function(e){e.remove(!1,!0,!1)}});const Ma=La;var Fa=function(){var e=Je.getPropertyInfos(),t={props:{}},i=function(e){return!!e&&e.constructor===Object},r=function(e,t){for(var i=e.length,r=0;r<i;r++)if(e[r].ElementID===t)return r;return-1},n=function(t){var i={},r=e[t];if(r)for(var n=Object.keys(r),a=0;a<n.length;a++){var o=n[a];i[o]=r[o].DefaultValue}return i},a=function(t,i){var r=t.props[i];if(void 0===r)if(void 0===e[t.props.Type]||void 0===e[t.props.Type][i]);else{var a=e[t.props.Type][i];r=a.IsPart?a.IsArray?[]:n(a.Type):a.DefaultValue}return r};return{getProp:function(e,t,r,n){var o,s=ka;return r=r||s.enumConverter.None,void 0===(o=a(e,t))?void 0!==n?n:(eo.consolLog(eo.enumTraceMode.Error,"Properties.getProp(): Wrong property name / missing defaultValue: "+e.props.Type+" / "+t),o):(r&&!i(o)&&(o=s.convertTo(r,o,e)),o)},getPropRaw:a,getPropDefault:function(i,r,a,o){var s,l=ka;if(a=a||l.enumConverter.None,void 0===e[i]||void 0===e[i][r])return void 0!==o?o:(eo.consolLog(eo.enumTraceMode.Error,"Properties.getPropDefault(): Wrong property name / missing defaultValue: "+i+" / "+r),s);if((o=e[i][r]).IsPart){if(o.IsArray)return[];s=n(o.Type)}else s=l.convertTo(a,o.DefaultValue,t);return s},getPropPart:function(e,i,r,n,a){var o=ka;return n=n||o.enumConverter.None,void 0===e[r]?this.getPropDefault(i,r,n,a):o.convertTo(n,e[r],t)},setProp:function(e,t,r){i(r)?e.props[t]=o.extend(e.props[t],r):e.props[t]=r},setPropPart:function(e,t,r){i(r)?e[t]=o.extend(e[t],r):e[t]=r},handleScreenModelPart:function(e,t,i){if(i){var r=i.split(".");if(r.length>0){var n={};return n[r[0]]=t,n}}return t},getScreenModelPartName:function(e,t,i){var r="";if(i){var n=i.split(".");n.length>0&&(r=n[0])}return r},getPart:function(e,t){var i=e.props,n=t.split(":");if(n.length>0)for(var a=0;a<n.length;a++){var o=n[a].split(".");if(void 0===(i=i[o[0]]))return null;if(Ma.webRtpuIsArray(i)){var s=+o[1];if(s){var l=r(i,s);if(-1===l)return null;i=i[l]}}}return i},getPartPathWithIndex:function(e,t){var i="",n="",a=e.props,o=t.split(":");if(o.length>0)for(var s=0;s<o.length;s++){var l=o[s].split(".");if(i+=n+l[0],n=".",a&&(a=a[l[0]],Ma.webRtpuIsArray(a))){var u=+l[1];if(u){var h=r(a,u);-1!==h?(a=a[h],i+="["+h+"]"):i+="["+a.length+"]"}}}return i},getPartPathWithId:function(e,t){var i,r="",n="",a=e.props,o=t.match(/[^(.[\])]+/g);if(o.length>0){var s,l=o.length-1;for(s=0;s<l;s++)if(r+=n+o[s],n=":",a=a[o[s]],Ma.webRtpuIsArray(a)){var u=a[o[s+=1]];if(u){var h=u.ElementID;h&&(r+="."+h)}}i=o[s]}return{name:i,path:r}},findIndexByID:r,mergePropertiesFromInfo:function(t,i){t=t||{};var r=e[i];if(r)for(var n=Object.keys(r),a=0;a<n.length;a++){var o=n[a];void 0!==t[o]||r[o].IsPart||(t[o]=r[o].DefaultValue)}return t}}}();const Ha=Fa;const Oa={isVisible:function(e){var t,i,r,n,a,o,s,l,u,h,d=Ha;return!(void 0!==e.container&&(r=d.getProp(e,"Layer",0,0))&&(void 0!==(n=(i=(t=e.container).layersInfo).getRTLayerMask()[r])&&!0!==n||i.isObjectDeclutteringActivated()&&(a=i.getObjectMinDeclutterSize(),o=i.getObjectMaxDeclutterSize(),u=d.getProp(t.container,"CurrentZoomFactor"),s=(h=rn.getBounds(e)).w*u,l=h.h*u,(s<a||s>o)&&(l<a||l>o))))},onChanged:function(e,t,i){var r=Ha.getPart(e,i);r&&(e.layersInfo.updateLayerElement(r,t),e.handler.updateVisibility(e))}};var Na=function(){var e=h,t=D.chrome()?0:.5,i={None:0,Color:1,FillCol:4,RGB:5,LineStyle:10,LineDashArray:11,BorderDashArray:12,Plus05:13,LineCap:15,LineJoin:16,Display:20,Opaque:21,Fill:23,TextAnchor:24,RCX:25,RCY:26,CX:27,CY:28,R:29,HRef:30,textHAlign:31,textVAlign:32,textOrientation:33,BarLimitColor:34,BarLimitColorRaw:36,AlternateLineDashArray:37,AlternateBorderDashArray:38,TransformOrigin:500,TransformRotate:501,Pixel:502,TransformOriginPlaced:503,TransformRotatePlaced:505,TransformScale:506,FormatAddUnit:1e3,Unused_01:1001,Format:1002},r=function(e){return 0===e?0:e<2?e+.5:e},n=function(e){var t=e%256;return(t=Math.max(t,0))>=a.length?0:t},a=["",[3,1],[1,1],[3,1,1,1],[3,1,1,1,1,1]],o=function(e,t,i){var r,o,s,l;for(e=n(e),l=(r=a[e]).length,o=[],s=0;s<l;s+=1)o[s]=r[s]*t,"butt"!==i&&(o[s]=r[s]*t,1&s?o[s]+=t:o[s]=Math.max(1,o[s]-t));return o.toString()},s=(e,t,i)=>`0,${o(e,t,i).split(",").reverse()},0`,l=function(e,t){return""===e?null:(0===e.indexOf("content/images/",0)?t.gfxWebLib.connection.getAppDir():t.gfxWebLib.connection.getImageUrl())+e},u=function(t,i){var r=Ha;return r.getProp(i,"EndType",0,0)||r.getProp(i,"StartType",0,0)||t>=e.HmiCapType.Flat?"butt":t>=e.HmiCapType.Square?"square":"round"},d=function(e){return"rgb("+((16711680&(e>>>=0))>>>16)+","+((65280&e)>>>8)+","+(255&e)+")"},c=function(e){return"rgba("+((16711680&(e>>>=0))>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+((4278190080&e)>>>24)/255+")"},p=function(e,t,i){var r=kr.getLimit(t,i);if(null!==e){if(r.LowerLimitAvailable&&r.LowerLimitVisible&&e<r.LowerLimit)return r.BelowLowerLimitColor;if(r.UpperLimitAvailable&&r.UpperLimitVisible&&e>r.UpperLimit)return r.AboveUpperLimitColor}return null},m=function(e,t){var i,r,n,a=Ha;return i=function(e,t,i,r){var n,a;for(n=0;n<i.length;n+=1)if(null!==(a=p(e,t,i[n])))return a;return null}(e,t,["DangerLimits","WarningLimits","UserDefinedLimits1","UserDefinedLimits2","UserDefinedLimits3"],kr.getStraightScale),null!==i?i:(r=a.getPropRaw(t,"ShowNormalRange"),n=a.getPropRaw(t,"BackColor"),a.getProp(t,r?"NormalRangeColor":"BarColor",Na.enumConverter.None,n))},g=function(t,i){var r=e.HmiThresholdMode;if(i.ThresholdMode&&"number"==typeof t){var n=window.Big(t);switch(i.ThresholdMode){case r.Maximum:case r.Upper:if(n.gt(i.BeginValue))return i.Color;break;case r.Normal:if(n.gt(i.BeginValue)&&n.lt(i.EndValue))return i.Color;break;case r.Minimum:case r.Lower:if(n.lt(i.EndValue))return i.Color}}return null},T=function(e,t){var i,r=Ha.getProp(t,"OutputFormat");return"string"!=typeof(i=t.gfxWebLib.textbib.format(e,r))&&(i=""+e,eo.consolLog(eo.enumTraceMode.Error,"Converter.toFormat() unable to format val: "+i+" OutputFormat: "+r+" item: "+t.rtoid)),i},f=function(e){return void 0!==e&&"string"!=typeof e&&(e+=""),e?e.replace(/\s/g," "):""},y=function(e,t){if(1===e.alpha)return e;if(0===e.alpha)return t;for(var i={space:t.space,values:t.values.slice(),alpha:e.alpha+t.alpha*(1-e.alpha)},r=0;r<3;r++){var n=e.values[r]*e.alpha,a=t.values[r]*t.alpha;i.values[r]=Math.round((n+a*(1-e.alpha))/i.alpha)}return i},S=function(e){return{space:"rgb",values:[(16711680&e)>>>16,(65280&e)>>>8,255&e],alpha:((4278190080&e)>>>24)/255}},b=-1,C=1,v=function(e){var t,i=Ha;return e.handler&&e.handler.getCenterOffset?t=e.handler.getCenterOffset(e):(t={x:i.getProp(e,"Width")/2,y:i.getProp(e,"Height")/2},"svg"===e.handler.DOM_TYPE&&(t.x=t.x+i.getProp(e,"Left"),t.y=t.y+i.getProp(e,"Top"))),t},P=function(e){var t=Ha;return e.handler&&e.handler.getRefPoint?e.handler.getRefPoint(e):{x:t.getProp(e,"Left"),y:t.getProp(e,"Top")}},_=function(t){var i,r,n,a,o=Ha,s={};switch(i=o.getProp(t,"RotationCenterX"),r=o.getProp(t,"RotationCenterY"),o.getProp(t,"RotationCenterPlacement")){case e.HmiRotationCenterPlacement.NormedFromCenter:a=rn.getBounds(t,!0),n=v(t),s.x=n.x+a.w/2*i,s.y=n.y+a.h/2*r;break;case e.HmiRotationCenterPlacement.AbsoluteToContainer:if(s.x=i,s.y=r,"html"===t.handler.DOM_TYPE){var l=P(t);s.x-=l.x,s.y-=l.y}break;default:n=v(t),s.x=n.x+i,s.y=n.y+r}return s},A=function(e,t,i){var r=Math.min(t,i),n=Math.max(t,i);return e<r?e=r:e>n&&(e=n),e},w=function(e,t,i,r){var n,a,o,s,l,u=e,h=Na,d=A(t,-1,1),c=i||16777215,p=r||0;return n=h.colorToRgb(c),o=h.rgbToHsv(n[0],n[1],n[2]),n=h.colorToRgb(p),(s=h.rgbToHsv(n[0],n[1],n[2]))[2]===o[2]?u:(n=h.colorToRgb(e),l=(a=h.rgbToHsv(n[0],n[1],n[2]))[2]+(s[2]>o[2]?d:-d)*a[2],l=A(l,0,255),u=65536*(n=h.hsvToRgb(a[0],a[1],l))[0]|256*n[1]|n[2],u+=16777216*(e>>>24))};return{parseBool:function(e){return"number"==typeof e?0!==e:"string"==typeof e&&("1"===e||"0"!==e&&"true"===e.toLowerCase())},converterBlanks2Nbsps:f,textEllipsis:function(e,t,i,r="right"){var n,a,o=wn,s=f(e),l=s,u=s.length;if(void 0!==i){if((a=o.getTextWidth(i,s))>t&&u>0){if((t-=o.getTextWidth(i,"…"))<=0)return"…";if(n=a/u,u=Math.round(t/n),"left"===r){let e=1;const r=s.length;do{l=s.substring(r-u+e,r),a=o.getTextWidth(i,l),++e}while(a>t&&e<u);l="…"+l}else{if(l=s.substr(0,u-1),(a=o.getTextWidth(i,l))>t)for(;a>t&&u>0;)l=s.substr(0,u-1),a=o.getTextWidth(i,l),u-=1;else if(a<t){for(;a<t;)u+=1,l=s.substr(0,u),a=o.getTextWidth(i,l);u-=1,l=s.substr(0,u-1)}l+="…"}}}else if(u>=t)if("left"===r){const e=s.length;l="…"+s.substring(e-t+1,e)}else l=s.substr(0,t-1),l+="…";return l},textWrap:function(e,t,i,r=/\r|[ \u00A0]{1}|[^ \u00A0]+/g){for(var n,a,o,s,l=[],u=[],h="",d=0;null!=(a=r.exec(e));)l.push(a[0]);if(l[0])for(;l[0];)if(d+(n=wn.getTextWidth(i,l[0]))<=t||-1===t||wn.getTextWidth(i,h+l[0])<=t)h+=l.shift(),d+=n;else if(""===h){for(a="",o=l[0].split("");o[0];)s=a+o[0],(n=wn.getTextWidth(i,s))<=t?a+=o.shift():(0===a.length&&(a+=o.shift()),u.push(f(a)),a="",n=0);l.shift(),""!==a&&l.unshift(a)}else""===h?u.push(" "):u.push(f(h)),h="",d=0;return u.push(f(h)),u},getTextPosY:function(t,i,r){var n;switch(t){case e.HmiVerticalAlignment.Top:n=r;break;case e.HmiVerticalAlignment.Center:n=(i+.65*r)/2;break;default:n=i-.2*r-2}return Math.floor(n)},getCenterOffset:v,getRefPoint:P,enumConverter:i,convertTo:function(a,h,p){switch(a){case i.None:return h;case i.Color:return c(h);case i.RGB:return d(h);case i.FillCol:return function(e,t){var i;return 65536===(i=Ha.getProp(t,"BackFillPattern",Na.enumConverter.None,0))?"none":i>65536||null!==t.svgFillClipRect?void 0:c(e)}(h,p);case i.LineStyle:return n(h);case i.LineDashArray:return function(e,t){var i,r,n=Ha;return i=n.getProp(t,"CapType",Na.enumConverter.LineCap,"butt"),r=n.getProp(t,"LineWidth"),0===e?null:o(e,r,i)}(h,p);case i.AlternateLineDashArray:return function(e,t){var i,r,n=Ha;return i=n.getProp(t,"CapType",Na.enumConverter.LineCap,"butt"),r=n.getProp(t,"LineWidth"),0===e?null:s(e,r,i)}(h,p);case i.BorderDashArray:return function(e,t){var i,r,n=Ha;return i=n.getProp(t,"CapType",Na.enumConverter.LineCap,"butt"),r=n.getProp(t,"BorderWidth"),0===e?null:o(e,r,i)}(h,p);case i.AlternateBorderDashArray:return function(e,t){var i,r,n=Ha;return i=n.getProp(t,"CapType",Na.enumConverter.LineCap,"butt"),r=n.getProp(t,"BorderWidth"),0===e?null:s(e,r,i)}(h,p);case i.Plus05:return r(h);case i.LineCap:return u(h,p);case i.LineJoin:return function(t){switch(t){case e.HmiLineJoinType.Miter:return"miter";case e.HmiLineJoinType.Bevel:return"bevel";default:return"round"}}(h);case i.Display:return function(e,t){return e&&Oa.isVisible(t)?"inline":"none"}(h,p);case i.Opaque:return(f=h)<0?0:f>1?1:f;case i.Fill:return 65536===(g=h)?"none":g>65536?void 0:null;case i.TextAnchor:return function(t){switch(t){case e.HmiHorizontalAlignment.Left:return"start";case e.HmiHorizontalAlignment.Center:return"middle";default:return"end"}}(h);case i.RCX:return function(e,t){return 0===e?null:Ha.getPropRaw(t,"Width")*e/200}(h,p);case i.RCY:return function(e,t){return 0===e?null:Ha.getPropRaw(t,"Height")*e/200}(h,p);case i.CX:return function(e,t){var i=Ha;return i.getProp(t,"Left")+i.getProp(t,"Width")/2}(0,p);case i.CY:return function(e,t){var i=Ha;return i.getPropRaw(t,"Top")+i.getPropRaw(t,"Height")/2}(0,p);case i.R:return function(e,t){return 0===e?0:(rn.checkMustDrawInsideFrame(t.props.Type)&&(e-=Math.floor(Ha.getPropRaw(t,"BorderWidth")/2)),e)}(h,p);case i.HRef:return l(h,p);case i.textHAlign:return function(t){switch(t){case e.HmiHorizontalAlignment.Center:return"Centered";case e.HmiHorizontalAlignment.Right:return"Right";default:return"Left"}}(h);case i.textVAlign:return function(t){switch(t){case e.HmiVerticalAlignment.Center:return"Centered";case e.HmiVerticalAlignment.Bottom:return"Bottom";default:return"Top"}}(h);case i.textOrientation:return function(e){switch(e){case b:return"rotate 90";case C:return"rotate 270";default:return"rotate 0"}}(h);case i.BarLimitColorRaw:return m(h,p);case i.BarLimitColor:return function(e,t){return c(m(e,t))}(h,p);case i.Format:return T(h,p);case i.FormatAddUnit:return function(e,t){var i,r,n,a=Ha;return n=T(e,t),i=a.getPropRaw(t,"MeasurementUnitType"),r=a.getPropRaw(t,"MeasurementUnit"),0===i||void 0===r||""===r?n:n+" "+r}(h,p);case i.TransformOrigin:return function(e,t){var i,r,n=Ha;return i=n.getProp(t,"RotationCenterX")/100,r=n.getProp(t,"RotationCenterY")/100,n.getProp(t,"Width")*i+"px "+n.getProp(t,"Height")*r+"px 0px "}(0,p);case i.TransformRotate:return function(e,t){var i=Ha.getProp(t,"RotationAngle");return 0===i?null:"rotate("+i+"deg)"}(0,p);case i.TransformOriginPlaced:return function(e,t){var i;return(i=_(t)).x+"px "+i.y+"px"}(0,p);case i.TransformRotatePlaced:return function(e,t){var i,r=Ha.getProp(t,"RotationAngle");return 0===r?null:(i=_(t),"rotate("+r.toString()+" "+i.x.toString()+" "+i.y.toString()+")")}(0,p);case i.TransformScale:return function(t){return t?"scale("+(t&e.HmiFlipMode.Horizontal?"-1":"1")+",1)":null}(h);case i.Pixel:return function(e){return e+t+"px"}(h)}var g,f;eo.consolLog(eo.enumTraceMode.Error,"convertTo(): wrong converter:"+a.toString()+" !")},convertFileTimeToJSTimeStamp:function(e){return eo.consolLog(eo.enumTraceMode.Error,"convertFileTimeToJSTimeStamp: FileTime is obsolete, please use DatePresice object to handle DateTime"),Array.isArray(e)?window.DatePrecise(e).getTime():e},convertJSTimeStampToFileTime:function(e){return eo.consolLog(eo.enumTraceMode.Error,"convertJSTimeStampToFileTime: FileTime is obsolete, DateTime is seconds since 1.1.1970 and nanoseconds offset [seconds, nanoseconds]"),e},toPlus05:r,toLineStyle:n,toLineCap:u,toFormat:T,toCol:c,mkColorObj:S,toRGB:d,toThresholdColorRaw:function(t,i,r){var n,a,o=e.HmiThresholdMode,s=i?i.length:0,l=null;if("string"==typeof t&&(t=Number(t),isNaN(t)))return r;if(null!==t&&s>0){for(n=0;n<s;n+=1)if(void 0!==(a=i[n])){if(a.ThresholdMode===o.Maximum||a.ThresholdMode===o.Upper)break;if(null!==(l=g(t,a)))break}if(null===l)for(n=s-1;n>=0;n-=1)if(void 0!==(a=i[n])){if(a.ThresholdMode===o.Minimum||a.ThresholdMode===o.Lower)break;if(null!==(l=g(t,a)))break}}return null===l?r:l},toBarLimitColorRaw:m,toHRef:l,enumHmiFieldDataType:{None:0,String:1,Decimal:2,Integer:3,Binary:4,Hex:5,Exponential:6,Float:7,Date:8,Time:9,DateTime:10,TimeSpan:11},hsvToRgb:function(e,t,i){var r=t/255,n=i/255,a=e/255*360,o=Math.floor(a/60%6),s=a/60-o,l=n*(1-r),u=n*(1-s*r),h=n*(1-(1-s)*r),d=[];switch(o){case 0:d=[n,h,l];break;case 1:d=[u,n,l];break;case 2:d=[l,n,h];break;case 3:d=[l,u,n];break;case 4:d=[h,l,n];break;case 5:d=[n,l,u]}return[Math.min(255,Math.round(255*Math.max(0,d[0]))),Math.min(255,Math.round(255*Math.max(0,d[1]))),Math.min(255,Math.round(255*Math.max(0,d[2])))]},rgbToHsv:function(e,t,i){var r,n,a=e/255,o=t/255,s=i/255,l=Math.min(Math.min(a,o),s),u=Math.max(Math.max(a,o),s),h=u-l,d=u;return 0===u||0===h?(r=0,n=0):(r=h/u,n=a===u?(o-s)/h:o===u?2+(s-a)/h:4+(a-o)/h),(n*=60)<0&&(n+=360),[Math.floor(n/360*255),Math.floor(255*r),Math.floor(255*d)]},colorToRgb:function(e){return[Math.floor(e%16777216/65536),Math.floor(e%65536/256),Math.floor(e%256)]},mergeColors:function(e){var t,i,r,n=e.length,a=[];for(t=0;t<n;t+=1)i=S(e[t]),a.push(i);return r=function(e){for(var t=e[0],i=1,r=e.length;i<r;i++)t=y(t,e[i]);return t}(a),256*(256*(256*Math.round(255*r.alpha)+r.values[0])+r.values[1])+r.values[2]},bounds:A,illuminate:w,darker:function(e,t){return w(e,t)},lighter:function(e,t){return w(e,-1*t)},numberOfFirstNoneColorInEnumConverter:i.LineStyle}}();const ka=Na;var Wa,Ga;const Ua=(Wa=Object.freeze({0:{time:"(GMT-12:00) International Date Line West",tz:"Etc/GMT+12",name:"Dateline Standard Time"},1:{time:"(GMT-11:00) Midway Island, Samoa",tz:"Pacific/Apia",name:"Samoa Standard Time"},2:{time:"(GMT-10:00) Hawaii",tz:"Pacific/Honolulu",name:"Hawaiian Standard Time"},3:{time:"(GMT-09:00) Alaska",tz:"America/Anchorage",name:"Alaskan Standard Time"},4:{time:"(GMT-08:00) Pacific Time (US and Canada); Tijuana",tz:"America/Tijuana",name:"Pacific Standard Time"},10:{time:"(GMT-07:00) Mountain Time (US and Canada)",tz:"America/Denver",name:"Mountain Standard Time"},13:{time:"(GMT-07:00) Chihuahua, La Paz, Mazatlan",tz:"America/Chihuahua",name:"Mexico Standard Time 2"},15:{time:"(GMT-07:00) Arizona",tz:"America/Phoenix",name:"U.S. Mountain Standard Time"},20:{time:"(GMT-06:00) Central Time (US and Canada)",tz:"America/Chicago",name:"Central Standard Time"},25:{time:"(GMT-06:00) Saskatchewan",tz:"America/Regina",name:"Canada Central Standard Time"},30:{time:"(GMT-06:00) Guadalajara, Mexico City, Monterrey",tz:"America/Mexico_City",name:"Mexico Standard Time"},33:{time:"(GMT-06:00) Central America",tz:"America/Guatemala",name:"Central America Standard Time"},35:{time:"(GMT-05:00) Eastern Time (US and Canada)",tz:"America/New_York",name:"Eastern Standard Time"},40:{time:"(GMT-05:00) Indiana (East)",tz:"America/Indianapolis",name:"U.S. Eastern Standard Time"},45:{time:"(GMT-05:00) Bogota, Lima, Quito",tz:"America/Bogota",name:"S.A. Pacific Standard Time"},50:{time:"(GMT-04:00) Atlantic Time (Canada)",tz:"America/Halifax",name:"Atlantic Standard Time"},55:{time:"(GMT-04:00) Caracas, La Paz",tz:"America/La_Paz",name:"S.A. Western Standard Time"},56:{time:"(GMT-04:00) Santiago",tz:"America/Santiago",name:"Pacific S.A. Standard Time"},60:{time:"(GMT-03:30) Newfoundland and Labrador",tz:"America/St_Johns",name:"Newfoundland and Labrador Standard Time"},65:{time:"(GMT-03:00) Brasilia",tz:"America/Sao_Paulo",name:"E. South America Standard Time"},70:{time:"(GMT-03:00) Buenos Aires, Georgetown",tz:"America/Cayenne",name:"S.A. Eastern Standard Time"},73:{time:"(GMT-03:00) Greenland",tz:"America/Godthab",name:"Greenland Standard Time"},75:{time:"(GMT-02:00) Mid-Atlantic",tz:"America/Noronha",name:"Mid-Atlantic Standard Time"},80:{time:"(GMT-01:00) Azores",tz:"Atlantic/Azores",name:"Azores Standard Time"},83:{time:"(GMT-01:00) Cape Verde Islands",tz:"Atlantic/Cape_Verde",name:"Cape Verde Standard Time"},84:{time:"(GMT) Greenwich",tz:"Etc/GMT",name:"GMT"},85:{time:"(GMT) Greenwich Mean Time: Dublin, Edinburgh, Lisbon, London",tz:"Europe/London",name:"GMT Standard Time"},90:{time:"(GMT) Casablanca, Monrovia",tz:"Africa/Monrovia",name:"Greenwich Standard Time"},95:{time:"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",tz:"Europe/Belgrade",name:"Central Europe Standard Time"},100:{time:"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb",tz:"Europe/Warsaw",name:"Central European Standard Time"},105:{time:"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris",tz:"Europe/Paris",name:"Romance Standard Time"},110:{time:"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",tz:"Europe/Berlin",name:"W. Europe Standard Time"},113:{time:"(GMT+01:00) West Central Africa",tz:"Africa/Bangui",name:"W. Central Africa Standard Time"},115:{time:"(GMT+02:00) Bucharest",tz:"Europe/Bucharest",name:"E. Europe Standard Time"},120:{time:"(GMT+02:00) Cairo",tz:"Africa/Cairo",name:"Egypt Standard Time"},125:{time:"(GMT+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius",tz:"Europe/Kiev",name:"FLE Standard Time"},130:{time:"(GMT+02:00) Athens, Istanbul, Minsk",tz:"Europe/Bucharest",name:"GTB Standard Time"},135:{time:"(GMT+02:00) Jerusalem",tz:"Asia/Jerusalem",name:"Israel Standard Time"},140:{time:"(GMT+02:00) Harare, Pretoria",tz:"Africa/Johannesburg",name:"South Africa Standard Time"},145:{time:"(GMT+03:00) Moscow, St. Petersburg, Volgograd",tz:"Europe/Moscow",name:"Russian Standard Time"},150:{time:"(GMT+03:00) Kuwait, Riyadh",tz:"Asia/Kuwait",name:"Arab Standard Time"},155:{time:"(GMT+03:00) Nairobi",tz:"Africa/Nairobi",name:"E. Africa Standard Time"},158:{time:"(GMT+03:00) Baghdad",tz:"Asia/Baghdad",name:"Arabic Standard Time"},160:{time:"(GMT+03:30) Tehran",tz:"Asia/Tehran",name:"Iran Standard Time"},165:{time:"(GMT+04:00) Abu Dhabi, Muscat",tz:"Asia/Dubai",name:"Arabian Standard Time"},170:{time:"(GMT+04:00) Baku, Tbilisi, Yerevan",tz:"Asia/Yerevan",name:"Caucasus Standard Time"},175:{time:"(GMT+04:30) Kabul",tz:"Asia/Kabul",name:"Transitional Islamic State of Afghanistan Standard Time"},180:{time:"(GMT+05:00) Ekaterinburg",tz:"Asia/Yekaterinburg",name:"Ekaterinburg Standard Time"},185:{time:"(GMT+05:00) Islamabad, Karachi, Tashkent",tz:"Asia/Tashkent",name:"West Asia Standard Time"},190:{time:"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi",tz:"Asia/Calcutta",name:"India Standard Time"},193:{time:"(GMT+05:45) Kathmandu",tz:"Asia/Katmandu",name:"Nepal Standard Time"},195:{time:"(GMT+06:00) Astana, Dhaka",tz:"Asia/Almaty",name:"Central Asia Standard Time"},200:{time:"(GMT+06:00) Sri Jayawardenepura",tz:"Asia/Colombo",name:"Sri Lanka Standard Time"},201:{time:"(GMT+06:00) Almaty, Novosibirsk",tz:"Asia/Novosibirsk",name:"N. Central Asia Standard Time"},203:{time:"(GMT+06:30) Yangon, Rangoon",tz:"Asia/Rangoon",name:"Myanmar Standard Time"},205:{time:"(GMT+07:00) Bangkok, Hanoi, Jakarta",tz:"Asia/Bangkok",name:"S.E. Asia Standard Time"},207:{time:"(GMT+07:00) Krasnoyarsk",tz:"Asia/Krasnoyarsk",name:"North Asia Standard Time"},210:{time:"(GMT+08:00) Beijing, Chongqing, Hong Kong SAR, Urumqi",tz:"Asia/Shanghai",name:"China Standard Time"},215:{time:"(GMT+08:00) Kuala Lumpur, Singapore",tz:"Asia/Singapore",name:"Singapore Standard Time"},220:{time:"(GMT+08:00) Taipei",tz:"Asia/Taipei",name:"Taipei Standard Time"},225:{time:"(GMT+08:00) Perth",tz:"Australia/Perth",name:"W. Australia Standard Time"},227:{time:"(GMT+08:00) Irkutsk, Ulaanbaatar",tz:"Asia/Irkutsk",name:"North Asia East Standard Time"},230:{time:"(GMT+09:00) Seoul",tz:"Asia/Seoul",name:"Korea Standard Time"},235:{time:"(GMT+09:00) Osaka, Sapporo, Tokyo",tz:"Asia/Tokyo",name:"Tokyo Standard Time"},240:{time:"(GMT+09:00) Yakutsk",tz:"Asia/Yakutsk",name:"Yakutsk Standard Time"},245:{time:"(GMT+09:30) Darwin",tz:"Australia/Darwin",name:"A.U.S. Central Standard Time"},250:{time:"(GMT+09:30) Adelaide",tz:"Australia/Adelaide",name:"Cen. Australia Standard Time"},255:{time:"(GMT+10:00) Canberra, Melbourne, Sydney",tz:"Australia/Sydney",name:"A.U.S. Eastern Standard Time"},260:{time:"(GMT+10:00) Brisbane",tz:"Australia/Brisbane",name:"E. Australia Standard Time"},265:{time:"(GMT+10:00) Hobart",tz:"Australia/Hobart",name:"Tasmania Standard Time"},270:{time:"(GMT+10:00) Vladivostok",tz:"Asia/Vladivostok",name:"Vladivostok Standard Time"},275:{time:"(GMT+10:00) Guam, Port Moresby",tz:"Pacific/Port_Moresby",name:"West Pacific Standard Time"},280:{time:"(GMT+11:00) Magadan, Solomon Islands, New Caledonia",tz:"Pacific/Guadalcanal",name:"Central Pacific Standard Time"},285:{time:"(GMT+12:00) Fiji Islands, Kamchatka, Marshall Islands",tz:"Pacific/Fiji",name:"Fiji Islands Standard Time"},290:{time:"(GMT+12:00) Auckland, Wellington",tz:"Pacific/Auckland",name:"New Zealand Standard Time"},300:{time:"(GMT+13:00) Nuku alofa",tz:"Pacific/Tongatapu",name:"Tonga Standard Time"}}),Ga=Object.freeze({version:"2019b",zoneData:{Africa:{Bangui:{abbrs:["LMT","WAT"],untils:[-1588464816e3,null],offsets:[-13.6,-60],isdsts:[0,0]},Cairo:{abbrs:["EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET"],untils:[-929844e6,-9231084e5,-9061704e5,-8928684e5,-875844e6,-85779e7,-844308e6,-825822e6,-8126856e5,-7941996e5,-7798536e5,-7626636e5,-3990888e5,-3866508e5,-3683304e5,-3551148e5,-3367908e5,-3236544e5,-3051684e5,-292032e6,-2736324e5,-260496e6,-2420964e5,-22896e7,-2105604e5,-197424e6,-178938e6,-1658016e5,-147402e6,-1342656e5,-115866e6,-1026432e5,-8433e7,-711072e5,-527076e5,-394848e5,-211716e5,-79488e5,103644e5,235872e5,419004e5,551232e5,735228e5,867456e5,1050588e5,1182816e5,1365948e5,1498176e5,1681308e5,1813536e5,1997532e5,212976e6,2312892e5,244512e6,2628252e5,276048e6,2943612e5,307584e6,3259836e5,3392064e5,3575196e5,3707424e5,3963996e5,4022784e5,4268124e5,4338144e5,452214e6,4654368e5,48375e7,4969728e5,515286e6,5285088e5,546822e6,5600448e5,5784444e5,5916672e5,6104124e5,6232032e5,6415164e5,6547392e5,6730524e5,6862752e5,7046748e5,7178976e5,7362108e5,7494336e5,7677468e5,7809696e5,79902e7,812322e6,8304696e5,8437716e5,8619192e5,8752212e5,8933688e5,9066708e5,9254232e5,9387252e5,9568728e5,9701748e5,9883224e5,10016244e5,1019772e6,1033074e6,10512216e5,10645236e5,1083276e6,1096578e6,11147256e5,11280276e5,11461752e5,11588724e5,11776248e5,11891124e5,12090744e5,12199572e5,1240524e6,1250802e6,12725784e5,1281474e6,12840696e5,12858804e5,14001912e5,14038164e5,1406844e6,14116788e5,null],offsets:[-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Johannesburg:{abbrs:["SAST","SAST","SAST","SAST","SAST","SAST"],untils:[-21092886e5,-860976e6,-8452548e5,-8295264e5,-8138052e5,null],offsets:[-90,-120,-180,-120,-180,-120],isdsts:[0,0,1,0,1,0]},Monrovia:{abbrs:["MMT","MMT","GMT"],untils:[-1604359012e3,6359307e4,null],offsets:[43.1333,44.5,0],isdsts:[0,0,0]},Nairobi:{abbrs:["LMT","EAT","+0230","+0245","EAT"],untils:[-1309746436e3,-12623148e5,-9467802e5,-3156291e5,null],offsets:[-147.2667,-180,-150,-165,-180],isdsts:[0,0,0,0,0]}},America:{Anchorage:{abbrs:["AST","AWT","APT","AST","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","AHST","AHDT","YST","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST"],untils:[-8802e8,-7693956e5,-765378e6,-868824e5,-214704e5,-57492e5,99792e5,257004e5,414288e5,577548e5,734832e5,892044e5,1049328e5,120654e6,1267056e5,1521036e5,1623888e5,1835532e5,1992816e5,2156076e5,2307312e5,2470572e5,2627856e5,2785068e5,2942352e5,3099564e5,3256848e5,341406e6,3571344e5,3728556e5,388584e6,40491e7,4200336e5,4363596e5,4390308e5,4520844e5,4678056e5,483534e6,4992552e5,5149836e5,5307048e5,5446188e5,5621544e5,5760684e5,5942088e5,607518e6,6256584e5,6389676e5,657108e6,671022e6,6885576e5,7024716e5,7200072e5,7339212e5,7520616e5,7653708e5,7835112e5,7968204e5,8149608e5,8288748e5,8464104e5,8603244e5,87786e7,891774e6,9093096e5,9232236e5,941364e6,9546732e5,9728136e5,9861228e5,10042632e5,10181772e5,10357128e5,10496268e5,10671624e5,10810764e5,10992168e5,1112526e6,11306664e5,11439756e5,1162116e6,11736108e5,11941704e5,12050604e5,122562e7,123651e7,12570696e5,12685644e5,1289124e6,1300014e6,13205736e5,13314636e5,13520232e5,13629132e5,13834728e5,13943628e5,14149224e5,14258124e5,1446372e6,14578668e5,14784264e5,14893164e5,1509876e6,1520766e6,15413256e5,15522156e5,15727752e5,15836652e5,16042248e5,16157196e5,16362792e5,16471692e5,16677288e5,16786188e5,16991784e5,17100684e5,1730628e6,1741518e6,17620776e5,17729676e5,17935272e5,1805022e6,18255816e5,18364716e5,18570312e5,18679212e5,18884808e5,18993708e5,19199304e5,19308204e5,195138e7,19628748e5,19834344e5,19943244e5,2014884e6,2025774e6,20463336e5,20572236e5,20777832e5,20886732e5,21092328e5,21201228e5,21406824e5,null],offsets:[600,540,540,600,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,600,540,540,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540],isdsts:[0,1,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Bogota:{abbrs:["BMT","-05","-04","-05"],untils:[-1739041424e3,7048692e5,733896e6,null],offsets:[296.2667,300,240,300],isdsts:[0,0,1,0]},Cayenne:{abbrs:["LMT","-04","-03"],untils:[-184626904e4,-710928e5,null],offsets:[209.3333,240,180],isdsts:[0,0,0]},Chicago:{abbrs:["CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","EST","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CWT","CPT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-16332768e5,-16151364e5,-16018272e5,-15836868e5,-15637248e5,-15516324e5,-1538928e6,-15201828e5,-15044544e5,-14917572e5,-14730048e5,-14597028e5,-14415552e5,-14282532e5,-14101056e5,-13968036e5,-1378656e6,-1365354e6,-13472064e5,-13339044e5,-1315152e6,-130185e7,-12837024e5,-12704004e5,-12522528e5,-12389508e5,-12208032e5,-12075012e5,-11893536e5,-11760516e5,-11572992e5,-1144602e6,-11258496e5,-11125476e5,-10944e8,-1081098e6,-10677888e5,-10454148e5,-10315008e5,-10181988e5,-10000512e5,-9867492e5,-9679968e5,-9552996e5,-9365472e5,-9232452e5,-9050976e5,-8917956e5,-8802144e5,-7693956e5,-7653924e5,-7472448e5,-7339428e5,-7157952e5,-7024932e5,-6843456e5,-6710436e5,-652896e6,-639594e6,-6208416e5,-6081444e5,-589392e6,-57609e7,-5579424e5,-5446404e5,-5264928e5,-5131908e5,-4950432e5,-4817412e5,-4635936e5,-4472676e5,-4315392e5,-415818e6,-4000896e5,-3843684e5,-36864e7,-3529188e5,-3371904e5,-3214692e5,-3057408e5,-2894148e5,-2736864e5,-2579652e5,-2422368e5,-2265156e5,-2107872e5,-195066e6,-1793376e5,-1636164e5,-147888e6,-131562e6,-1164384e5,-1001124e5,-84384e6,-686628e5,-529344e5,-372132e5,-214848e5,-57636e5,99648e5,25686e6,414144e5,577404e5,734688e5,8919e7,1049184e5,1206396e5,1266912e5,1520892e5,1623744e5,1835388e5,1992672e5,2155932e5,2307168e5,2470428e5,2627712e5,2784924e5,2942208e5,309942e6,3256704e5,3413916e5,35712e7,3728412e5,3885696e5,4048956e5,4200192e5,4363452e5,4520736e5,4677948e5,4835232e5,4992444e5,5149728e5,530694e6,544608e6,5621436e5,5760576e5,594198e6,6075072e5,6256476e5,6389568e5,6570972e5,6710112e5,6885468e5,7024608e5,7199964e5,7339104e5,7520508e5,76536e7,7835004e5,7968096e5,81495e7,828864e6,8463996e5,8603136e5,8778492e5,8917632e5,9092988e5,9232128e5,9413532e5,9546624e5,9728028e5,986112e6,10042524e5,10181664e5,1035702e6,1049616e6,10671516e5,10810656e5,1099206e6,11125152e5,11306556e5,11439648e5,11621052e5,11736e8,11941596e5,12050496e5,12256092e5,12364992e5,12570588e5,12685536e5,12891132e5,13000032e5,13205628e5,13314528e5,13520124e5,13629024e5,1383462e6,1394352e6,14149116e5,14258016e5,14463612e5,1457856e6,14784156e5,14893056e5,15098652e5,15207552e5,15413148e5,15522048e5,15727644e5,15836544e5,1604214e6,16157088e5,16362684e5,16471584e5,1667718e6,1678608e6,16991676e5,17100576e5,17306172e5,17415072e5,17620668e5,17729568e5,17935164e5,18050112e5,18255708e5,18364608e5,18570204e5,18679104e5,188847e7,189936e7,19199196e5,19308096e5,19513692e5,1962864e6,19834236e5,19943136e5,20148732e5,20257632e5,20463228e5,20572128e5,20777724e5,20886624e5,2109222e6,2120112e6,21406716e5,null],offsets:[360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Chihuahua:{abbrs:["LMT","MST","CST","MST","CST","MST","CST","CDT","CST","CDT","CST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST"],untils:[-15147396e5,-13430664e5,-12348072e5,-1220292e6,-12071592e5,-11913444e5,828864e6,8463996e5,8603136e5,8778492e5,8917668e5,9093024e5,9232164e5,9413568e5,954666e6,9728064e5,9891396e5,10018368e5,101817e7,10357056e5,10496196e5,10671552e5,10810692e5,10992096e5,11125188e5,11306592e5,11439684e5,11621088e5,1175418e6,11935584e5,12074724e5,1225008e6,1238922e6,12564576e5,12703716e5,1288512e6,13018212e5,13199616e5,13332708e5,13514112e5,13653252e5,13828608e5,13967748e5,14143104e5,14282244e5,144576e7,1459674e6,14778144e5,14911236e5,1509264e6,15225732e5,15407136e5,15546276e5,15721632e5,15860772e5,16036128e5,16175268e5,16356672e5,16489764e5,16671168e5,1680426e6,16985664e5,17124804e5,1730016e6,174393e7,17614656e5,17753796e5,17929152e5,18068292e5,18249696e5,18382788e5,18564192e5,18697284e5,18878688e5,19017828e5,19193184e5,19332324e5,1950768e6,1964682e6,19828224e5,19961316e5,2014272e6,20275812e5,20457216e5,20590308e5,20771712e5,20910852e5,21086208e5,21225348e5,21400704e5,null],offsets:[424.3333,420,360,420,360,420,360,300,360,300,360,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420],isdsts:[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Denver:{abbrs:["MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MWT","MPT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST"],untils:[-16332732e5,-16151328e5,-16018236e5,-15836832e5,-1570374e6,-15516288e5,-15389244e5,-15340896e5,-8802108e5,-7693956e5,-7653888e5,-1478844e5,-1315584e5,-1164348e5,-1001088e5,-843804e5,-686592e5,-529308e5,-372096e5,-214812e5,-576e7,99684e5,256896e5,41418e6,57744e6,734724e5,891936e5,104922e6,1206432e5,1266948e5,1520928e5,162378e6,1835424e5,1992708e5,2155968e5,2307204e5,2470464e5,2627748e5,278496e6,2942244e5,3099456e5,325674e6,3413952e5,3571236e5,3728448e5,3885732e5,4048992e5,4200228e5,4363488e5,4520772e5,4677984e5,4835268e5,499248e6,5149764e5,5306976e5,5446116e5,5621472e5,5760612e5,5942016e5,6075108e5,6256512e5,6389604e5,6571008e5,6710148e5,6885504e5,7024644e5,72e10,733914e6,7520544e5,7653636e5,783504e6,7968132e5,8149536e5,8288676e5,8464032e5,8603172e5,8778528e5,8917668e5,9093024e5,9232164e5,9413568e5,954666e6,9728064e5,9861156e5,1004256e6,101817e7,10357056e5,10496196e5,10671552e5,10810692e5,10992096e5,11125188e5,11306592e5,11439684e5,11621088e5,11736036e5,11941632e5,12050532e5,12256128e5,12365028e5,12570624e5,12685572e5,12891168e5,13000068e5,13205664e5,13314564e5,1352016e6,1362906e6,13834656e5,13943556e5,14149152e5,14258052e5,14463648e5,14578596e5,14784192e5,14893092e5,15098688e5,15207588e5,15413184e5,15522084e5,1572768e6,1583658e6,16042176e5,16157124e5,1636272e6,1647162e6,16677216e5,16786116e5,16991712e5,17100612e5,17306208e5,17415108e5,17620704e5,17729604e5,179352e7,18050148e5,18255744e5,18364644e5,1857024e6,1867914e6,18884736e5,18993636e5,19199232e5,19308132e5,19513728e5,19628676e5,19834272e5,19943172e5,20148768e5,20257668e5,20463264e5,20572164e5,2077776e6,2088666e6,21092256e5,21201156e5,21406752e5,null],offsets:[420,360,420,360,420,360,420,360,420,360,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420],isdsts:[0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Godthab:{abbrs:["LMT","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03"],untils:[-1686083584e3,3238452e5,3389508e5,3546756e5,3704004e5,3861252e5,40185e7,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[206.9333,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Guatemala:{abbrs:["LMT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-1617040676e3,1230552e5,130914e6,4223448e5,4330548e5,669708e6,6842196e5,11463768e5,11596788e5,null],offsets:[362.0667,360,300,360,300,360,300,360,300,360],isdsts:[0,0,1,0,1,0,1,0,1,0]},Halifax:{abbrs:["LMT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","AWT","APT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST","ADT","AST"],untils:[-2131645536e3,-16962768e5,-16804692e5,-16320744e5,-16151436e5,-15667632e5,-155709e7,-15354864e5,-15249492e5,-15044688e5,-14934132e5,-14724144e5,-14619636e5,-14409648e5,-14293908e5,-14095152e5,-13967316e5,-1376856e6,-13664916e5,-1346616e6,-13338324e5,-13139568e5,-13036788e5,-12825072e5,-12726612e5,-12510576e5,-12400884e5,-1219608e6,-12074292e5,-11887632e5,-11759796e5,-11573136e5,-11439252e5,-11240496e5,-11137716e5,-10913904e5,-1081026e6,-10598544e5,-1050786e6,-10309104e5,-10181268e5,-9994608e5,-9866772e5,-965592e6,-9552276e5,-9359568e5,-9231732e5,-9045072e5,-8917236e5,-8802216e5,-7693956e5,-7653996e5,-747252e6,-73395e7,-7158024e5,-7025004e5,-6843528e5,-6710508e5,-6529032e5,-6396012e5,-5893992e5,-5760972e5,-5579496e5,-5446476e5,-5265e8,-513198e6,-4950504e5,-4817484e5,-4315464e5,-4182444e5,-4000968e5,-3867948e5,-3686472e5,-3553452e5,-3371976e5,-3238956e5,-242244e6,-2265228e5,-2107944e5,-1950732e5,-1793448e5,-1636236e5,-1478952e5,-1315692e5,-1164456e5,-1001196e5,-843912e5,-6867e7,-529416e5,-372204e5,-21492e6,-57708e5,99576e5,256788e5,414072e5,577332e5,734616e5,891828e5,1049112e5,1206324e5,1363608e5,152082e6,1678104e5,1835316e5,19926e7,215586e6,2307096e5,2470356e5,262764e6,2784852e5,2942136e5,3099348e5,3256632e5,3413844e5,3571128e5,372834e6,3885624e5,4048884e5,420012e6,436338e6,4520664e5,4677876e5,483516e6,4992372e5,5149656e5,5306868e5,5446008e5,5621364e5,5760504e5,5941908e5,6075e8,6256404e5,6389496e5,65709e7,671004e6,6885396e5,7024536e5,7199892e5,7339032e5,7520436e5,7653528e5,7834932e5,7968024e5,8149428e5,8288568e5,8463924e5,8603064e5,877842e6,891756e6,9092916e5,9232056e5,941346e6,9546552e5,9727956e5,9861048e5,10042452e5,10181592e5,10356948e5,10496088e5,10671444e5,10810584e5,10991988e5,1112508e6,11306484e5,11439576e5,1162098e6,11735928e5,11941524e5,12050424e5,1225602e6,1236492e6,12570516e5,12685464e5,1289106e6,1299996e6,13205556e5,13314456e5,13520052e5,13628952e5,13834548e5,13943448e5,14149044e5,14257944e5,1446354e6,14578488e5,14784084e5,14892984e5,1509858e6,1520748e6,15413076e5,15521976e5,15727572e5,15836472e5,16042068e5,16157016e5,16362612e5,16471512e5,16677108e5,16786008e5,16991604e5,17100504e5,173061e7,17415e8,17620596e5,17729496e5,17935092e5,1805004e6,18255636e5,18364536e5,18570132e5,18679032e5,18884628e5,18993528e5,19199124e5,19308024e5,1951362e6,19628568e5,19834164e5,19943064e5,2014866e6,2025756e6,20463156e5,20572056e5,20777652e5,20886552e5,21092148e5,21201048e5,21406644e5,null],offsets:[254.4,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Indianapolis:{abbrs:["CST","CDT","CST","CDT","CST","CDT","CST","CWT","CPT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","EST","CST","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST"],untils:[-16332768e5,-16151364e5,-16018272e5,-15836868e5,-9002592e5,-8917956e5,-8802144e5,-7693956e5,-7653924e5,-7472448e5,-7339428e5,-7157952e5,-7024932e5,-6843456e5,-6710436e5,-652896e6,-639594e6,-6208416e5,-6081444e5,-589392e6,-57609e7,-5579424e5,-5446404e5,-5264928e5,-5131908e5,-4950432e5,-4817412e5,-4635936e5,-3867876e5,-36864e7,-214884e5,-57672e5,99612e5,256824e5,11439612e5,11621016e5,11735964e5,1194156e6,1205046e6,12256056e5,12364956e5,12570552e5,126855e7,12891096e5,12999996e5,13205592e5,13314492e5,13520088e5,13628988e5,13834584e5,13943484e5,1414908e6,1425798e6,14463576e5,14578524e5,1478412e6,1489302e6,15098616e5,15207516e5,15413112e5,15522012e5,15727608e5,15836508e5,16042104e5,16157052e5,16362648e5,16471548e5,16677144e5,16786044e5,1699164e6,1710054e6,17306136e5,17415036e5,17620632e5,17729532e5,17935128e5,18050076e5,18255672e5,18364572e5,18570168e5,18679068e5,18884664e5,18993564e5,1919916e6,1930806e6,19513656e5,19628604e5,198342e7,199431e7,20148696e5,20257596e5,20463192e5,20572092e5,20777688e5,20886588e5,21092184e5,21201084e5,2140668e6,null],offsets:[360,300,360,300,360,300,360,300,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300],isdsts:[0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Juneau:{abbrs:["PST","PWT","PPT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","YDT","PST","PDT","PST","PDT","PST","PDT","YST","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST","AKDT","AKST"],untils:[-8802072e5,-7693956e5,-7653852e5,-214776e5,-57564e5,9972e6,256932e5,414216e5,577476e5,73476e6,891972e5,1049256e5,1206468e5,1266984e5,1520964e5,1623816e5,183546e6,1992744e5,2156004e5,230724e6,24705e7,2627784e5,2784996e5,294228e6,3099492e5,3256776e5,3414024e5,3571272e5,3728484e5,3885768e5,4049028e5,4200264e5,4363524e5,4390308e5,4520844e5,4678056e5,483534e6,4992552e5,5149836e5,5307048e5,5446188e5,5621544e5,5760684e5,5942088e5,607518e6,6256584e5,6389676e5,657108e6,671022e6,6885576e5,7024716e5,7200072e5,7339212e5,7520616e5,7653708e5,7835112e5,7968204e5,8149608e5,8288748e5,8464104e5,8603244e5,87786e7,891774e6,9093096e5,9232236e5,941364e6,9546732e5,9728136e5,9861228e5,10042632e5,10181772e5,10357128e5,10496268e5,10671624e5,10810764e5,10992168e5,1112526e6,11306664e5,11439756e5,1162116e6,11736108e5,11941704e5,12050604e5,122562e7,123651e7,12570696e5,12685644e5,1289124e6,1300014e6,13205736e5,13314636e5,13520232e5,13629132e5,13834728e5,13943628e5,14149224e5,14258124e5,1446372e6,14578668e5,14784264e5,14893164e5,1509876e6,1520766e6,15413256e5,15522156e5,15727752e5,15836652e5,16042248e5,16157196e5,16362792e5,16471692e5,16677288e5,16786188e5,16991784e5,17100684e5,1730628e6,1741518e6,17620776e5,17729676e5,17935272e5,1805022e6,18255816e5,18364716e5,18570312e5,18679212e5,18884808e5,18993708e5,19199304e5,19308204e5,195138e7,19628748e5,19834344e5,19943244e5,2014884e6,2025774e6,20463336e5,20572236e5,20777832e5,20886732e5,21092328e5,21201228e5,21406824e5,null],offsets:[480,420,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,480,480,420,480,420,480,420,540,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540,480,540],isdsts:[0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},La_Paz:{abbrs:["CMT","BST","-04"],untils:[-1205954844e3,-1192307244e3,null],offsets:[272.6,212.6,240],isdsts:[0,1,0]},Mexico_City:{abbrs:["LMT","MST","CST","MST","CST","MST","CST","CDT","CST","CDT","CST","CWT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-15147396e5,-13430664e5,-12348072e5,-1220292e6,-12071592e5,-11913444e5,-9752616e5,-9631692e5,-9171144e5,-9073548e5,-8219016e5,-8100684e5,-6275016e5,-61299e7,828864e6,8463996e5,8603136e5,8778492e5,8917632e5,9092988e5,9232128e5,9413532e5,9546624e5,9728028e5,989136e6,10018332e5,10181664e5,1035702e6,1049616e6,10671516e5,10810656e5,1099206e6,11125152e5,11306556e5,11439648e5,11621052e5,11754144e5,11935548e5,12074688e5,12250044e5,12389184e5,1256454e6,1270368e6,12885084e5,13018176e5,1319958e6,13332672e5,13514076e5,13653216e5,13828572e5,13967712e5,14143068e5,14282208e5,14457564e5,14596704e5,14778108e5,149112e7,15092604e5,15225696e5,154071e7,1554624e6,15721596e5,15860736e5,16036092e5,16175232e5,16356636e5,16489728e5,16671132e5,16804224e5,16985628e5,17124768e5,17300124e5,17439264e5,1761462e6,1775376e6,17929116e5,18068256e5,1824966e6,18382752e5,18564156e5,18697248e5,18878652e5,19017792e5,19193148e5,19332288e5,19507644e5,19646784e5,19828188e5,1996128e6,20142684e5,20275776e5,2045718e6,20590272e5,20771676e5,20910816e5,21086172e5,21225312e5,21400668e5,null],offsets:[396.6,420,360,420,360,420,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360,300,360],isdsts:[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},New_York:{abbrs:["EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EWT","EPT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST","EDT","EST"],untils:[-16332804e5,-161514e7,-16018308e5,-15836904e5,-15703812e5,-1551636e6,-15365124e5,-15232104e5,-1504458e6,-14917608e5,-14730084e5,-14597064e5,-14415588e5,-14282568e5,-14101092e5,-13968072e5,-13786596e5,-13653576e5,-134721e7,-1333908e6,-13151556e5,-13018536e5,-1283706e6,-1270404e6,-12522564e5,-12389544e5,-12208068e5,-12075048e5,-11893572e5,-11760552e5,-11573028e5,-11446056e5,-11258532e5,-11125512e5,-10944036e5,-10811016e5,-1062954e6,-1049652e6,-10315044e5,-10182024e5,-10000548e5,-9867528e5,-9680004e5,-9553032e5,-9365508e5,-9232488e5,-9051012e5,-8917992e5,-880218e6,-7693956e5,-765396e6,-7472484e5,-7339464e5,-7157988e5,-7024968e5,-6843492e5,-6710472e5,-6528996e5,-6395976e5,-6208452e5,-608148e6,-5893956e5,-5760936e5,-557946e6,-544644e6,-5264964e5,-5131944e5,-4950468e5,-4817448e5,-4635972e5,-4472712e5,-4315428e5,-4158216e5,-4000932e5,-384372e6,-3686436e5,-3529224e5,-337194e6,-3214728e5,-3057444e5,-2894184e5,-27369e7,-2579688e5,-2422404e5,-2265192e5,-2107908e5,-1950696e5,-1793412e5,-16362e7,-1478916e5,-1315656e5,-116442e6,-100116e6,-843876e5,-686664e5,-52938e6,-372168e5,-214884e5,-57672e5,99612e5,256824e5,414108e5,577368e5,734652e5,891864e5,1049148e5,120636e6,1266876e5,1520856e5,1623708e5,1835352e5,1992636e5,2155896e5,2307132e5,2470392e5,2627676e5,2784888e5,2942172e5,3099384e5,3256668e5,341388e6,3571164e5,3728376e5,388566e6,404892e6,4200156e5,4363416e5,45207e7,4677912e5,4835196e5,4992408e5,5149692e5,5306904e5,5446044e5,56214e7,576054e6,5941944e5,6075036e5,625644e6,6389532e5,6570936e5,6710076e5,6885432e5,7024572e5,7199928e5,7339068e5,7520472e5,7653564e5,7834968e5,796806e6,8149464e5,8288604e5,846396e6,86031e7,8778456e5,8917596e5,9092952e5,9232092e5,9413496e5,9546588e5,9727992e5,9861084e5,10042488e5,10181628e5,10356984e5,10496124e5,1067148e6,1081062e6,10992024e5,11125116e5,1130652e6,11439612e5,11621016e5,11735964e5,1194156e6,1205046e6,12256056e5,12364956e5,12570552e5,126855e7,12891096e5,12999996e5,13205592e5,13314492e5,13520088e5,13628988e5,13834584e5,13943484e5,1414908e6,1425798e6,14463576e5,14578524e5,1478412e6,1489302e6,15098616e5,15207516e5,15413112e5,15522012e5,15727608e5,15836508e5,16042104e5,16157052e5,16362648e5,16471548e5,16677144e5,16786044e5,1699164e6,1710054e6,17306136e5,17415036e5,17620632e5,17729532e5,17935128e5,18050076e5,18255672e5,18364572e5,18570168e5,18679068e5,18884664e5,18993564e5,1919916e6,1930806e6,19513656e5,19628604e5,198342e7,199431e7,20148696e5,20257596e5,20463192e5,20572092e5,20777688e5,20886588e5,21092184e5,21201084e5,2140668e6,null],offsets:[300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300,240,300],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Noronha:{abbrs:["LMT","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02"],untils:[-176721782e4,-12069612e5,-1191366e6,-11753784e5,-115983e7,-6338232e5,-6220728e5,-6022872e5,-5918364e5,-5707512e5,-560214e6,-5391288e5,-5313564e5,-1913688e5,-1842012e5,-1551672e5,-1500732e5,-1289016e5,-1211292e5,-999576e5,-895932e5,-684216e5,-579708e5,4997448e5,5112324e5,5305896e5,5402628e5,5621256e5,571194e6,5929704e5,6020388e5,62442e7,634698e6,938916e6,9516132e5,9709704e5,9715716e5,10030248e5,10139076e5,null],offsets:[129.6667,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Phoenix:{abbrs:["MST","MDT","MST","MDT","MST","MWT","MST","MWT","MST","MDT","MST"],untils:[-16332732e5,-16151328e5,-16018236e5,-15836832e5,-8802108e5,-82051914e4,-81265314e4,-79684554e4,-843804e5,-686592e5,null],offsets:[420,360,420,360,420,360,420,360,420,360,420],isdsts:[0,1,0,1,0,1,0,1,0,1,0]},Regina:{abbrs:["LMT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MWT","MPT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","MDT","MST","CST"],untils:[-2030202084e3,-16320636e5,-16151328e5,-12516516e5,-12383496e5,-1220202e6,-12069e8,-11887524e5,-11754504e5,-1156698e6,-11440008e5,-11252484e5,-11119464e5,-1032714e6,-10169928e5,-10012644e5,-986148e6,-9698148e5,-9540936e5,-9377604e5,-9220392e5,-9063108e5,-8905896e5,-8802108e5,-7693956e5,-7653888e5,-7484508e5,-7327296e5,-7157916e5,-7024896e5,-684342e6,-67104e7,-6528924e5,-6395904e5,-620838e6,-6081408e5,-5893884e5,-5760864e5,-5579388e5,-5446368e5,-5264892e5,-5131872e5,-4950396e5,-4817376e5,-46359e7,-450288e6,-4315356e5,-4182336e5,-400086e6,-386784e6,-3371868e5,-3214656e5,-3057372e5,null],offsets:[418.6,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360,420,360],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0]},Santiago:{abbrs:["SMT","-05","SMT","-04","SMT","-04","-05","-04","-05","-04","-05","-04","-05","-04","-05","-04","-05","-04","-03","-04","-05","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03","-04","-03"],untils:[-1892661434e3,-16884108e5,-1619205434e3,-15938064e5,-1335986234e3,-13175856e5,-13043628e5,-12860496e5,-12728268e5,-12545136e5,-12412908e5,-12229776e5,-12097548e5,-11913552e5,-11781324e5,-870552e6,-865278e6,-74052e7,-7363764e5,-718056e6,-7136496e5,-366192e5,-23922e6,-33552e5,75276e5,244656e5,377676e5,559152e5,692172e5,879696e5,1006668e5,1182096e5,1321164e5,1508688e5,163566e6,1823184e5,1956204e5,213768e6,22707e7,2452176e5,2585196e5,277272e6,2899692e5,3087216e5,3214188e5,3401712e5,3534732e5,3716208e5,3849228e5,4030704e5,4163724e5,43452e7,447822e6,4665744e5,4792716e5,498024e6,5107212e5,5294736e5,5451948e5,5609232e5,5742252e5,5923728e5,6056748e5,6244272e5,6371244e5,6534576e5,668574e6,6873264e5,7006284e5,718776e6,732078e6,7502256e5,7635276e5,7816752e5,7949772e5,8137296e5,8264268e5,8451792e5,8596908e5,8766288e5,8899308e5,9068688e5,9231948e5,939528e6,95283e7,9715824e5,9842796e5,1003032e6,10157292e5,10344816e5,10471788e5,10659312e5,10792332e5,10973808e5,11106828e5,11288304e5,11421324e5,11608848e5,1173582e6,11923344e5,1206846e6,1223784e6,1237086e6,12552336e5,127035e7,12866832e5,13048236e5,13138992e5,13356684e5,13465584e5,1367118e6,13786128e5,13985676e5,14100624e5,14632812e5,14711472e5,14947308e5,15025968e5,15261804e5,15340464e5,1554606e6,15679152e5,15860556e5,15993648e5,16175052e5,16308144e5,16489548e5,1662264e6,16804044e5,16937136e5,17124588e5,1725768e6,17439084e5,17572176e5,1775358e6,17886672e5,18068076e5,18201168e5,18382572e5,18515664e5,18703116e5,1883016e6,19017612e5,19150704e5,19332108e5,194652e7,19646604e5,19779696e5,199611e7,20094192e5,20275596e5,20408688e5,2059614e6,20723184e5,20910636e5,21043728e5,21225132e5,21358224e5,null],offsets:[282.7667,300,282.7667,240,282.7667,240,300,240,300,240,300,240,300,240,300,240,300,240,180,240,300,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180,240,180],isdsts:[0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Sao_Paulo:{abbrs:["LMT","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03","-02","-03"],untils:[-1767214412e3,-12069576e5,-11913624e5,-11753748e5,-11598264e5,-6338196e5,-6220692e5,-6022836e5,-5918328e5,-5707476e5,-5602104e5,-5391252e5,-5313528e5,-195426e6,-1841976e5,-1551636e5,-1500696e5,-128898e6,-1211256e5,-99954e6,-895896e5,-68418e6,-579672e5,4997484e5,511236e6,5305932e5,5402664e5,5621292e5,5711976e5,592974e6,6020424e5,6244236e5,6347016e5,656478e6,666756e6,6879276e5,6976008e5,719982e6,7284456e5,7508268e5,7617096e5,7822764e5,7931592e5,813726e6,824004e6,8445708e5,8560584e5,8761068e5,8887176e5,9080748e5,9195624e5,9389196e5,9516168e5,970974e6,9824616e5,10030284e5,10139112e5,10362924e5,10453608e5,10665324e5,10768104e5,10993644e5,11088648e5,11294316e5,11403144e5,11626956e5,11723688e5,11923308e5,12032136e5,12243852e5,12346632e5,12558348e5,12667176e5,12872844e5,12981672e5,1318734e6,13302216e5,13507884e5,13610664e5,1382238e6,1392516e6,14136876e5,14245704e5,14451372e5,145602e7,14765868e5,14874696e5,15080364e5,15189192e5,15413004e5,15503688e5,null],offsets:[186.4667,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180,120,180],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},St_Johns:{abbrs:["NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NWT","NPT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST","NDT","NST"],untils:[-1664130548e3,-1650137348e3,-1632076148e3,-1615145348e3,-1598650148e3,-1590100148e3,-1567286948e3,-1551565748e3,-1535837348e3,-1520116148e3,-1503782948e3,-1488666548e3,-1472333348e3,-1457216948e3,-1440883748e3,-1425767348e3,-1409434148e3,-1394317748e3,-1377984548e3,-1362263348e3,-1346534948e3,-1330813748e3,-1314480548e3,-1299364148e3,-1283030948e3,-1267914548e3,-1251581348e3,-1236464948e3,-1220131748e3,-1205015348e3,-1188682148e3,-1172960948e3,-1156627748e3,-1141511348e3,-1125178148e3,-1110061748e3,-0xff65a19220,-10937286e5,-10786122e5,-10616706e5,-10489734e5,-1030221e6,-10175238e5,-9987714e5,-9860742e5,-966717e6,-9546246e5,-9352674e5,-9225702e5,-9038178e5,-8911206e5,-8723682e5,-7693956e5,-7654014e5,-7460442e5,-733347e6,-7145946e5,-7018974e5,-683145e6,-6704478e5,-6516954e5,-6389982e5,-619641e6,-6069438e5,-589401e6,-576099e6,-5579514e5,-5446494e5,-5265018e5,-5131998e5,-4950522e5,-4817502e5,-4636026e5,-4503006e5,-4315482e5,-4182462e5,-4000986e5,-3867966e5,-368649e6,-355347e6,-3371994e5,-3238974e5,-3057498e5,-2894238e5,-2736954e5,-2579742e5,-2422458e5,-2265246e5,-2107962e5,-195075e6,-1793466e5,-1636254e5,-147897e6,-131571e6,-1164474e5,-1001214e5,-84393e6,-686718e5,-529434e5,-372222e5,-214938e5,-57726e5,99558e5,25677e6,414054e5,577314e5,734598e5,89181e6,1049094e5,1206306e5,136359e6,1520802e5,1678086e5,1835298e5,1992582e5,2155842e5,2307078e5,2470338e5,2627622e5,2784834e5,2942118e5,309933e6,3256614e5,3413826e5,357111e6,3728322e5,3885606e5,4048866e5,4200102e5,4363362e5,4520646e5,4677858e5,4835142e5,4992354e5,5149638e5,530685e6,54459186e4,56212746e4,57604146e4,59417826e4,60749106e4,62563146e4,63894066e4,65708106e4,67099506e4,68853066e4,70244466e4,71998026e4,73389426e4,75203466e4,76534386e4,78348426e4,79679346e4,81493386e4,82884786e4,84638346e4,86029746e4,87783306e4,89174706e4,90928266e4,92319666e4,94133706e4,95464626e4,97278666e4,98609586e4,100423626e4,101815026e4,103568586e4,104959986e4,106713546e4,108104946e4,109918986e4,111249906e4,113063946e4,114394866e4,116208906e4,117358386e4,119414346e4,120503346e4,122559306e4,123648306e4,125704266e4,126853746e4,128909706e4,129998706e4,13205538e5,13314438e5,13520034e5,13628934e5,1383453e6,1394343e6,14149026e5,14257926e5,14463522e5,1457847e6,14784066e5,14892966e5,15098562e5,15207462e5,15413058e5,15521958e5,15727554e5,15836454e5,1604205e6,16156998e5,16362594e5,16471494e5,1667709e6,1678599e6,16991586e5,17100486e5,17306082e5,17414982e5,17620578e5,17729478e5,17935074e5,18050022e5,18255618e5,18364518e5,18570114e5,18679014e5,1888461e6,1899351e6,19199106e5,19308006e5,19513602e5,1962855e6,19834146e5,19943046e5,20148642e5,20257542e5,20463138e5,20572038e5,20777634e5,20886534e5,2109213e6,2120103e6,21406626e5,null],offsets:[210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,150.8667,210.8667,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,90,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210,150,210],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tijuana:{abbrs:["LMT","MST","PST","MST","PST","PDT","PST","PWT","PPT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST","PDT","PST"],untils:[-1514736e6,-14516676e5,-13430628e5,-12348036e5,-12229632e5,-1207242e6,-8738208e5,-7693956e5,-7616772e5,-6860736e5,-6615396e5,-4950396e5,-481734e6,-46359e7,-4502844e5,-4315356e5,-41823e7,-400086e6,-3867804e5,-3686364e5,-3553308e5,-3371868e5,-3238812e5,-3057372e5,-2924316e5,1992744e5,2156004e5,230724e6,24705e7,2627784e5,2784996e5,294228e6,3099492e5,3256776e5,3413988e5,3571272e5,3728484e5,3885768e5,4049028e5,4200264e5,4363524e5,4520808e5,467802e6,4835304e5,4992516e5,51498e7,5307012e5,5446152e5,5621508e5,5760648e5,5942052e5,6075144e5,6256548e5,638964e6,6571044e5,6710184e5,688554e6,702468e6,7200036e5,7339176e5,752058e6,7653672e5,7835076e5,7968168e5,8149572e5,8288712e5,8464068e5,8603208e5,8778564e5,8917704e5,909306e6,92322e7,9413604e5,9546696e5,97281e7,9861192e5,10042596e5,10181736e5,10357092e5,10496232e5,10671588e5,10810728e5,10992132e5,11125224e5,11306628e5,1143972e6,11621124e5,11754216e5,1193562e6,1207476e6,12250116e5,12389256e5,12564612e5,12685608e5,12891204e5,13000104e5,132057e7,133146e7,13520196e5,13629096e5,13834692e5,13943592e5,14149188e5,14258088e5,14463684e5,14578632e5,14784228e5,14893128e5,15098724e5,15207624e5,1541322e6,1552212e6,15727716e5,15836616e5,16042212e5,1615716e6,16362756e5,16471656e5,16677252e5,16786152e5,16991748e5,17100648e5,17306244e5,17415144e5,1762074e6,1772964e6,17935236e5,18050184e5,1825578e6,1836468e6,18570276e5,18679176e5,18884772e5,18993672e5,19199268e5,19308168e5,19513764e5,19628712e5,19834308e5,19943208e5,20148804e5,20257704e5,204633e7,205722e7,20777796e5,20886696e5,21092292e5,21201192e5,21406788e5,null],offsets:[468.0667,420,480,420,480,420,480,420,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480,420,480],isdsts:[0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]}},Asia:{Almaty:{abbrs:["LMT","+05","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+06","+05","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06"],untils:[-1441170468e3,-12475476e5,3549096e5,3707172e5,3864456e5,4022532e5,4179816e5,4337892e5,449604e6,465336e6,4810608e5,4967856e5,5125104e5,5282352e5,54396e7,5596848e5,5754096e5,5911344e5,6068592e5,622584e6,6383088e5,6546384e5,6703632e5,6860916e5,6957684e5,7018128e5,7175376e5,7332624e5,7489872e5,764712e6,7804368e5,7961616e5,8118864e5,828216e6,84636e7,8596656e5,8778096e5,8911152e5,9092592e5,9225648e5,9413136e5,9540144e5,9727632e5,985464e6,10042128e5,10175184e5,10356624e5,1048968e6,1067112e6,10804176e5,10991664e5,null],offsets:[-307.8,-300,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-360,-300,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Baghdad:{abbrs:["BMT","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03","+04","+03"],untils:[-1641005856e3,3890484e5,402264e6,417906e6,4338e8,4496148e5,4654224e5,4811508e5,4967928e5,5125176e5,5282424e5,5439672e5,559692e6,5754168e5,5911416e5,6068664e5,6225912e5,638316e6,6546456e5,670464e6,6862752e5,7020864e5,7178976e5,7336224e5,7494336e5,7651584e5,7809696e5,7966944e5,8125056e5,8283168e5,844128e6,8598528e5,875664e6,8913888e5,9072e8,9229248e5,938736e6,9545472e5,9703584e5,9860832e5,10018944e5,10176192e5,10334304e5,10491552e5,10649664e5,10807776e5,10965888e5,11123136e5,11281248e5,11438496e5,11596608e5,11753856e5,11911968e5,null],offsets:[-177.6,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Bangkok:{abbrs:["BMT","+07"],untils:[-1570084924e3,null],offsets:[-402.0667,-420],isdsts:[0,0]},Calcutta:{abbrs:["MMT","IST","+0630","IST","+0630","IST"],untils:[-201970567e4,-8915814e5,-8720586e5,-8626374e5,-764145e6,null],offsets:[-321.1667,-330,-390,-330,-390,-330],isdsts:[0,0,1,0,1,0]},Colombo:{abbrs:["MMT","+0530","+06","+0630","+0530","+0630","+06","+0530"],untils:[-2019705572e3,-883287e6,-8626392e5,-7640514e5,8329626e5,8462664e5,11450394e5,null],offsets:[-319.5333,-330,-360,-390,-330,-390,-360,-330],isdsts:[0,0,1,1,0,0,0,0]},Dubai:{abbrs:["LMT","+04"],untils:[-1577936472e3,null],offsets:[-221.2,-240],isdsts:[0,0]},Hong_Kong:{abbrs:["LMT","HKT","HKST","HKT","JST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT","HKST","HKT"],untils:[-20566908e5,-9009108e5,-8915796e5,-8842482e5,-7612092e5,-7479072e5,-728541e6,-7170498e5,-6970914e5,-6837858e5,-668061e6,-6547554e5,-6366114e5,-6233058e5,-6051618e5,-5918562e5,-5737122e5,-5598018e5,-5416578e5,-5283522e5,-5102118e5,-4981122e5,-4787622e5,-4666626e5,-4467078e5,-435213e6,-4152582e5,-4031586e5,-3838086e5,-371709e6,-352359e6,-3402594e5,-3209094e5,-3088098e5,-288855e6,-2773602e5,-2574054e5,-2459106e5,-2259558e5,-2138562e5,-1945062e5,-1824066e5,-1630566e5,-1485378e5,-1328166e5,-1170882e5,-101367e6,-856386e5,-693126e5,-535842e5,-37863e6,-221346e5,-64134e5,9315e6,250362e5,407646e5,564858e5,722142e5,885402e5,1042686e5,1199898e5,1260414e5,1514394e5,1671678e5,182889e6,1986174e5,2143386e5,2953854e5,3092922e5,null],offsets:[-456.7,-480,-540,-510,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Irkutsk:{abbrs:["IMT","+07","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+08","+07","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08","+09","+08"],untils:[-1575874625e3,-12475548e5,3549024e5,37071e7,3864384e5,402246e6,4179744e5,433782e6,4495968e5,4653288e5,4810536e5,4967784e5,5125032e5,528228e6,5439528e5,5596776e5,5754024e5,5911272e5,606852e6,6225768e5,6383016e5,6546312e5,670356e6,6860844e5,6957612e5,7018056e5,7175304e5,7332552e5,74898e7,7647048e5,7804296e5,7961544e5,8118792e5,8282088e5,8463528e5,8596584e5,8778024e5,891108e6,909252e6,9225576e5,9413064e5,9540072e5,972756e6,9854568e5,10042056e5,10175112e5,10356552e5,10489608e5,10671048e5,10804104e5,10991592e5,111186e7,11306088e5,11433096e5,11620584e5,11747592e5,1193508e6,12068136e5,12249576e5,12382632e5,12564072e5,12697128e5,12884616e5,13011624e5,14142564e5,null],offsets:[-417.0833,-420,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-480,-420,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Jerusalem:{abbrs:["JMT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDDT","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST","IDT","IST"],untils:[-164100364e4,-9336456e5,-857358e6,-8443008e5,-825822e6,-8126856e5,-7941996e5,-7798536e5,-7626564e5,-7483104e5,-7311276e5,-6819624e5,-6732432e5,-667962e6,-6523272e5,-636426e6,-6220872e5,-6089472e5,-5918472e5,-5724864e5,-558576e6,-5428512e5,-5277312e5,-5144256e5,-4908456e5,-4829868e5,-4594752e5,-4515372e5,-4285512e5,-4182624e5,-400032e6,-3874284e5,14238e7,1508436e5,1671768e5,1786644e5,3340152e5,337644e6,452556e6,4622328e5,4822776e5,4955796e5,5167512e5,5264244e5,545436e6,5584788e5,5766264e5,5893236e5,6098904e5,6207732e5,638316e6,651618e6,6697656e5,6836724e5,70182e7,7157268e5,7337016e5,7471764e5,7651512e5,7780212e5,7966008e5,8100756e5,8268408e5,8428212e5,8588952e5,8741844e5,8903448e5,9050292e5,9230112e5,9363132e5,9556704e5,9707832e5,9867708e5,10012824e5,10173564e5,10339416e5,1048806e6,1065132e6,10812924e5,1095804e6,11123136e5,11288124e5,11437632e5,11596572e5,11752128e5,11898972e5,12066624e5,12231612e5,1238112e6,1254006e6,12695616e5,1284246e6,1301616e6,131751e7,13330656e5,13483548e5,13645152e5,13828284e5,13959648e5,1414278e6,14274144e5,14457276e5,1458864e6,1477782e6,14903136e5,15092316e5,15217632e5,15406812e5,15538176e5,15721308e5,15852672e5,16035804e5,16167168e5,16356348e5,16481664e5,16670844e5,1679616e6,1698534e6,17116704e5,17299836e5,174312e7,17614332e5,17745696e5,17928828e5,18060192e5,18249372e5,18374688e5,18563868e5,18689184e5,18878364e5,19009728e5,1919286e6,19324224e5,19507356e5,1963872e6,198279e7,19953216e5,20142396e5,20267712e5,20456892e5,20582208e5,20771388e5,20902752e5,21085884e5,21217248e5,2140038e6,null],offsets:[-140.6667,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-240,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Kabul:{abbrs:["+04","+0430"],untils:[-7889328e5,null],offsets:[-240,-270],isdsts:[0,0]},Katmandu:{abbrs:["LMT","+0530","+0545"],untils:[-1577943676e3,5049018e5,null],offsets:[-341.2667,-330,-345],isdsts:[0,0,0]},Krasnoyarsk:{abbrs:["LMT","+06","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+07","+06","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07"],untils:[-1577513486e3,-12475512e5,354906e6,3707136e5,386442e6,4022496e5,417978e6,4337856e5,4496004e5,4653324e5,4810572e5,496782e6,5125068e5,5282316e5,5439564e5,5596812e5,575406e6,5911308e5,6068556e5,6225804e5,6383052e5,6546348e5,6703596e5,686088e6,6957648e5,7018092e5,717534e6,7332588e5,7489836e5,7647084e5,7804332e5,796158e6,8118828e5,8282124e5,8463564e5,859662e6,877806e6,8911116e5,9092556e5,9225612e5,94131e7,9540108e5,9727596e5,9854604e5,10042092e5,10175148e5,10356588e5,10489644e5,10671084e5,1080414e6,10991628e5,11118636e5,11306124e5,11433132e5,1162062e6,11747628e5,11935116e5,12068172e5,12249612e5,12382668e5,12564108e5,12697164e5,12884652e5,1301166e6,141426e7,null],offsets:[-371.4333,-360,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-420,-360,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Kuwait:{abbrs:["LMT","+03"],untils:[-719636812e3,null],offsets:[-186.8667,-180],isdsts:[0,0]},Novosibirsk:{abbrs:["LMT","+06","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+08","+07","+07","+06","+07","+08","+07","+08","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07"],untils:[-15794767e5,-12475512e5,354906e6,3707136e5,386442e6,4022496e5,417978e6,4337856e5,4496004e5,4653324e5,4810572e5,496782e6,5125068e5,5282316e5,5439564e5,5596812e5,575406e6,5911308e5,6068556e5,6225804e5,6383052e5,6546348e5,6703596e5,686088e6,6957648e5,7018092e5,717534e6,7332588e5,7380864e5,7489872e5,764712e6,7804368e5,7961616e5,8118864e5,828216e6,84636e7,8596656e5,8778096e5,8911152e5,9092592e5,9225648e5,9413136e5,9540144e5,9727632e5,985464e6,10042128e5,10175184e5,10356624e5,1048968e6,1067112e6,10804176e5,10991664e5,11118672e5,1130616e6,11433168e5,11620656e5,11747664e5,11935152e5,12068208e5,12249648e5,12382704e5,12564144e5,126972e7,12884688e5,13011696e5,14142636e5,1469304e6,null],offsets:[-331.6667,-360,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-480,-420,-420,-360,-420,-480,-420,-480,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0]},Rangoon:{abbrs:["RMT","+0630","+09","+0630"],untils:[-1577946287e3,-8732682e5,-77841e7,null],offsets:[-384.7833,-390,-540,-390],isdsts:[0,0,0,0]},Seoul:{abbrs:["LMT","KST","JST","KST","KST","KDT","KST","KDT","KST","KDT","KST","KDT","KST","KDT","KST","KDT","KST","KST","KDT","KST","KDT","KST"],untils:[-1948782472e3,-18304146e5,-7673508e5,-4981284e5,-4627026e5,-4517334e5,-4297842e5,-4182966e5,-3995442e5,-3874518e5,-3680946e5,-3560022e5,-336645e6,-3245526e5,-3051954e5,-293103e6,-264933e6,547578e6,5608836e5,5790276e5,5923332e5,null],offsets:[-507.8667,-510,-540,-540,-510,-570,-510,-570,-510,-570,-510,-570,-510,-570,-510,-570,-510,-540,-600,-540,-600,-540],isdsts:[0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0]},Shanghai:{abbrs:["CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-9336672e5,-9220932e5,-9088704e5,-8888292e5,-8810496e5,-7678692e5,-7458336e5,-7338276e5,-7168896e5,-6996132e5,-6838848e5,-6706692e5,-6523488e5,-6500196e5,5155272e5,5270148e5,5451624e5,5584644e5,5772168e5,589914e6,6086664e5,6219684e5,640116e6,653418e6,6715656e5,6848676e5,null],offsets:[-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Singapore:{abbrs:["SMT","+07","+0720","+0720","+0730","+09","+0730","+08"],untils:[-2038200925e3,-11676348e5,-1073028e6,-89418e7,-8796654e5,-7670052e5,3786642e5,null],offsets:[-415.4167,-420,-440,-440,-450,-540,-450,-480],isdsts:[0,0,1,0,0,0,0,0]},Taipei:{abbrs:["CST","JST","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST","CDT","CST"],untils:[-10178208e5,-766224e6,-7458336e5,-7338276e5,-7168896e5,-6996132e5,-6838848e5,-6706692e5,-6523488e5,-6391332e5,-6208128e5,-6075972e5,-5892768e5,-5760612e5,-5629248e5,-5417604e5,-5287104e5,-5102244e5,-4971744e5,-4786884e5,-4656384e5,-4498308e5,-434016e6,-4182084e5,-40248e7,-3866724e5,-370944e6,-3551364e5,-339408e6,-3236004e5,-3025152e5,-291978e6,-2709792e5,-260442e6,1339776e5,1497852e5,1655136e5,1813212e5,2996064e5,3075516e5,null],offsets:[-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tashkent:{abbrs:["LMT","+05","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+07","+06","+06","+05"],untils:[-1441168631e3,-12475476e5,3549096e5,3707172e5,3864456e5,4022532e5,4179816e5,4337892e5,449604e6,465336e6,4810608e5,4967856e5,5125104e5,5282352e5,54396e7,5596848e5,5754096e5,5911344e5,6068592e5,622584e6,6383088e5,6546384e5,6703632e5,6860916e5,null],offsets:[-277.1833,-300,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-420,-360,-360,-300],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tehran:{abbrs:["LMT","TMT","+0330","+04","+05","+04","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330","+0430","+0330"],untils:[-1704165944e3,-757394744e3,2471778e5,259272e6,277758e6,2839824e5,2908098e5,306531e6,3224322e5,338499e6,6732162e5,6854814e5,7012098e5,7171038e5,7327458e5,7486398e5,7642818e5,7801758e5,7958178e5,8117118e5,8273538e5,8432478e5,8589762e5,8748702e5,8905122e5,9064062e5,9220482e5,9379422e5,9535842e5,9694782e5,9852066e5,10011006e5,10167426e5,10326366e5,10482786e5,10641726e5,10798146e5,10957086e5,1111437e6,1127331e6,1206045e6,1221939e6,12376674e5,12535614e5,12692034e5,12850974e5,13007394e5,13166334e5,13322754e5,13481694e5,13638978e5,13797918e5,13954338e5,14113278e5,14269698e5,14428638e5,14585058e5,14743998e5,14901282e5,15060222e5,15216642e5,15375582e5,15532002e5,15690942e5,15847362e5,16006302e5,16163586e5,16322526e5,16478946e5,16637886e5,16794306e5,16953246e5,17109666e5,17268606e5,1742589e6,1758483e6,1774125e6,1790019e6,1805661e6,1821555e6,1837197e6,1853091e6,1868733e6,1884627e6,19003554e5,19162494e5,19318914e5,19477854e5,19634274e5,19793214e5,19949634e5,20108574e5,20265858e5,20424798e5,20581218e5,20740158e5,20896578e5,21055518e5,21211938e5,21370878e5,null],offsets:[-205.7333,-205.7333,-210,-240,-300,-240,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210,-270,-210],isdsts:[0,0,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Tokyo:{abbrs:["JST","JDT","JST","JDT","JST","JDT","JST","JDT","JST"],untils:[-683802e6,-6723108e5,-6547716e5,-6408612e5,-620298e6,-6094116e5,-5888484e5,-577962e6,null],offsets:[-540,-600,-540,-600,-540,-600,-540,-600,-540],isdsts:[0,1,0,1,0,1,0,1,0]},Vladivostok:{abbrs:["LMT","+09","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+10","+09","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10","+11","+10"],untils:[-1487321251e3,-1247562e6,3548952e5,3707028e5,3864312e5,4022388e5,4179672e5,4337748e5,4495896e5,4653216e5,4810464e5,4967712e5,512496e6,5282208e5,5439456e5,5596704e5,5753952e5,59112e7,6068448e5,6225696e5,6382944e5,654624e6,6703488e5,6860772e5,695754e6,7017984e5,7175232e5,733248e6,7489728e5,7646976e5,7804224e5,7961472e5,811872e6,8282016e5,8463456e5,8596512e5,8777952e5,8911008e5,9092448e5,9225504e5,9412992e5,954e9,9727488e5,9854496e5,10041984e5,1017504e6,1035648e6,10489536e5,10670976e5,10804032e5,1099152e6,11118528e5,11306016e5,11433024e5,11620512e5,1174752e6,11935008e5,12068064e5,12249504e5,1238256e6,12564e8,12697056e5,12884544e5,13011552e5,14142492e5,null],offsets:[-527.5167,-540,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-600,-540,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Yakutsk:{abbrs:["LMT","+08","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+09","+08","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09","+10","+09"],untils:[-1579423138e3,-12475584e5,3548988e5,3707064e5,3864348e5,4022424e5,4179708e5,4337784e5,4495932e5,4653252e5,48105e7,4967748e5,5124996e5,5282244e5,5439492e5,559674e6,5753988e5,5911236e5,6068484e5,6225732e5,638298e6,6546276e5,6703524e5,6860808e5,6957576e5,701802e6,7175268e5,7332516e5,7489764e5,7647012e5,780426e6,7961508e5,8118756e5,8282052e5,8463492e5,8596548e5,8777988e5,8911044e5,9092484e5,922554e6,9413028e5,9540036e5,9727524e5,9854532e5,1004202e6,10175076e5,10356516e5,10489572e5,10671012e5,10804068e5,10991556e5,11118564e5,11306052e5,1143306e6,11620548e5,11747556e5,11935044e5,120681e7,1224954e6,12382596e5,12564036e5,12697092e5,1288458e6,13011588e5,14142528e5,null],offsets:[-518.9667,-480,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-540,-480,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540,-600,-540],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Yekaterinburg:{abbrs:["LMT","PMT","+04","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+05","+04","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05","+06","+05"],untils:[-1688270553e3,-1592610305e3,-1247544e6,3549132e5,3707208e5,3864492e5,4022568e5,4179852e5,4337928e5,4496076e5,4653396e5,4810644e5,4967892e5,512514e6,5282388e5,5439636e5,5596884e5,5754132e5,591138e6,6068628e5,6225876e5,6383124e5,654642e6,6703668e5,6860952e5,695772e6,7018164e5,7175412e5,733266e6,7489908e5,7647156e5,7804404e5,7961652e5,81189e7,8282196e5,8463636e5,8596692e5,8778132e5,8911188e5,9092628e5,9225684e5,9413172e5,954018e6,9727668e5,9854676e5,10042164e5,1017522e6,1035666e6,10489716e5,10671156e5,10804212e5,109917e7,11118708e5,11306196e5,11433204e5,11620692e5,117477e7,11935188e5,12068244e5,12249684e5,1238274e6,1256418e6,12697236e5,12884724e5,13011732e5,14142672e5,null],offsets:[-242.55,-225.0833,-240,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-300,-240,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300,-360,-300],isdsts:[0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Yerevan:{abbrs:["LMT","+03","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+04","+03","+04","+03","+04","+03","+04","+03","+04","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04","+05","+04"],untils:[-144116268e4,-4051404e5,3549168e5,3707244e5,3864528e5,4022604e5,4179888e5,4337964e5,4496112e5,4653432e5,481068e6,4967928e5,5125176e5,5282424e5,5439672e5,559692e6,5754168e5,5911416e5,6068664e5,6225912e5,638316e6,6546456e5,6703704e5,6860988e5,7018236e5,7175484e5,7332732e5,748998e6,7647228e5,7804476e5,7961724e5,8118972e5,8596728e5,8778168e5,8911224e5,9092664e5,922572e6,9413208e5,9540216e5,9727704e5,9854712e5,100422e7,10175256e5,10356696e5,10489752e5,10671192e5,10804248e5,10991736e5,11118744e5,11306232e5,1143324e6,11620728e5,11747736e5,11935224e5,1206828e6,1224972e6,12382776e5,12564216e5,12697272e5,1288476e6,13011768e5,13199256e5,null],offsets:[-178,-180,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-240,-180,-240,-180,-240,-180,-240,-180,-240,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240,-300,-240],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]}},Atlantic:{Azores:{abbrs:["HMT","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","+00","-01","-02","-01","+00","-01","-02","-01","+00","-01","-02","-01","+00","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","-02","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","WET","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01","+00","-01"],untils:[-18303768e5,-16895484e5,-16777944e5,-166743e7,-16477308e5,-16358076e5,-16161948e5,-1604358e6,-15846588e5,-15727356e5,-15530364e5,-15411996e5,-15215004e5,-14424444e5,-1426806e6,-1379286e6,-13647708e5,-13484412e5,-13333212e5,-13163868e5,-13012668e5,-12843324e5,-12698172e5,-12214332e5,-1206918e6,-11911932e5,-11754684e5,-11276892e5,-11119644e5,-10968444e5,-10805148e5,-10635804e5,-10490652e5,-10333404e5,-10176156e5,-10024956e5,-986166e6,-9692316e5,-9504828e5,-9420156e5,-922662e6,-9069372e5,-891126e6,-877302e6,-8736768e5,-864e9,-8579484e5,-8458524e5,-842832e6,-8313408e5,-825894e6,-8144028e5,-8107776e5,-7998912e5,-7944444e5,-7829532e5,-779328e6,-7684416e5,-7629948e5,-7490844e5,-7333596e5,-717624e6,-7018992e5,-6861744e5,-6704496e5,-6547248e5,-639e9,-5918256e5,-575496e6,-5597712e5,-5440464e5,-5283216e5,-5125968e5,-496872e6,-4811472e5,-4654224e5,-4496976e5,-4339728e5,-4176432e5,-4019184e5,-3861936e5,-3704688e5,-354744e6,-3390192e5,-3232944e5,-3075696e5,-2918448e5,-27612e7,-2603952e5,-2446704e5,-2283408e5,-212616e6,-1968912e5,-1811664e5,-1654416e5,-1497168e5,-133992e6,-1182672e5,2282724e5,2439972e5,2603268e5,2760516e5,2917764e5,3075048e5,323226e6,3389544e5,3546792e5,370404e6,3861288e5,4018536e5,417582e6,4333032e5,449028e6,4653576e5,4810824e5,4968072e5,512532e6,5282568e5,5439816e5,5597064e5,5754312e5,591156e6,6068808e5,6226056e5,6383304e5,65466e7,6703848e5,6861096e5,7018344e5,7175592e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[114.5333,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,0,60,120,60,0,60,120,60,0,60,120,60,0,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,120,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,0,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60,0,60],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Cape_Verde:{abbrs:["LMT","-02","-01","-02","-01"],untils:[-18303768e5,-8626104e5,-764118e6,18612e7,null],offsets:[94.0667,120,60,120,60],isdsts:[0,0,1,0,0]}},Australia:{Adelaide:{abbrs:["ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT"],untils:[-167256534e4,-16653906e5,-8836398e5,-8761266e5,-8603982e5,-844677e6,-8283438e5,-8132274e5,576882e5,679698e5,891378e5,1000242e5,1205874e5,1314738e5,152037e6,1629234e5,1834866e5,1949778e5,215541e6,2264274e5,2469906e5,257877e6,2784402e5,2893266e5,3098898e5,3207762e5,3413394e5,3522258e5,372789e6,3842802e5,4048434e5,4157298e5,436293e6,4471794e5,4677426e5,478629e6,4991922e5,5112882e5,530037e6,5427378e5,5620914e5,5747922e5,5941458e5,6062418e5,6255954e5,6376914e5,657045e6,6679314e5,6884946e5,7011954e5,7199442e5,7314354e5,7519986e5,7640946e5,7834482e5,796149e6,8148978e5,8282034e5,8463474e5,859653e6,877797e6,8911026e5,9092466e5,9225522e5,941301e6,9540018e5,9727506e5,9854514e5,10042002e5,10175058e5,10356498e5,10489554e5,10670994e5,1080405e6,10991538e5,11118546e5,11306034e5,1143909e6,1162053e6,11747538e5,11935026e5,1207413e6,12231378e5,12388626e5,12545874e5,12703122e5,1286037e6,13017618e5,13174866e5,13332114e5,1349541e6,13652658e5,13809906e5,13967154e5,14124402e5,1428165e6,14438898e5,14596146e5,14753394e5,14910642e5,1506789e6,15225138e5,15388434e5,15545682e5,1570293e6,15860178e5,16017426e5,16174674e5,16331922e5,1648917e6,16646418e5,16803666e5,16960914e5,1712421e6,17281458e5,17438706e5,17595954e5,17753202e5,1791045e6,18067698e5,18224946e5,18382194e5,18539442e5,1869669e6,18859986e5,19017234e5,19174482e5,1933173e6,19488978e5,19646226e5,19803474e5,19960722e5,2011797e6,20275218e5,20432466e5,20589714e5,2075301e6,20910258e5,21067506e5,21224754e5,21382002e5,null],offsets:[-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630,-570,-630],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Brisbane:{abbrs:["AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST"],untils:[-167256714e4,-16653924e5,-8836416e5,-8761284e5,-8604e8,-8446788e5,-8283456e5,-8132292e5,576864e5,67968e6,6255936e5,63648e7,6570432e5,6679296e5,6884928e5,6993792e5,null],offsets:[-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Darwin:{abbrs:["ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST","ACDT","ACST"],untils:[-167256534e4,-16653906e5,-8836398e5,-8761266e5,-8603982e5,-844677e6,-8283438e5,-8132274e5,null],offsets:[-570,-630,-570,-630,-570,-630,-570,-630,-570],isdsts:[0,1,0,1,0,1,0,1,0]},Hobart:{abbrs:["AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT"],untils:[-16805088e5,-16653924e5,-8836416e5,-8761284e5,-8604e8,-8446788e5,-8283456e5,-8132292e5,-71136e6,-554112e5,-372672e5,-25776e6,-58176e5,56736e5,25632e6,37728e6,576864e5,67968e6,89136e6,1000224e5,1205856e5,131472e6,1520352e5,1629216e5,1834848e5,194976e6,2155392e5,2264256e5,2469888e5,2578752e5,2784384e5,2893248e5,309888e6,3207744e5,3413376e5,352224e6,3727872e5,3860928e5,4048416e5,4175424e5,4362912e5,4471776e5,4677408e5,4786272e5,4991904e5,5100768e5,5300352e5,542736e6,5620896e5,5747904e5,594144e6,60624e7,6255936e5,6376896e5,6570432e5,6703488e5,6866784e5,7017984e5,718128e6,733248e6,7495776e5,7646976e5,7810272e5,7961472e5,8124768e5,8282016e5,8445312e5,8596512e5,8759808e5,8911008e5,9074304e5,9225504e5,93888e7,954e9,9673056e5,9854496e5,1002384e6,1017504e6,10338336e5,10489536e5,10652832e5,10804032e5,10967328e5,11118528e5,11281824e5,11439072e5,1159632e6,1174752e6,11916864e5,12074112e5,1223136e6,12388608e5,12545856e5,12703104e5,12860352e5,130176e7,13174848e5,13332096e5,13495392e5,1365264e6,13809888e5,13967136e5,14124384e5,14281632e5,1443888e6,14596128e5,14753376e5,14910624e5,15067872e5,1522512e6,15388416e5,15545664e5,15702912e5,1586016e6,16017408e5,16174656e5,16331904e5,16489152e5,166464e7,16803648e5,16960896e5,17124192e5,1728144e6,17438688e5,17595936e5,17753184e5,17910432e5,1806768e6,18224928e5,18382176e5,18539424e5,18696672e5,18859968e5,19017216e5,19174464e5,19331712e5,1948896e6,19646208e5,19803456e5,19960704e5,20117952e5,202752e7,20432448e5,20589696e5,20752992e5,2091024e6,21067488e5,21224736e5,21381984e5,null],offsets:[-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Perth:{abbrs:["AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST","AWDT","AWST"],untils:[-167255994e4,-16653852e5,-8836344e5,-8761212e5,-8603928e5,-8446716e5,1520424e5,1629288e5,4362984e5,4471848e5,6903144e5,6993864e5,11650824e5,11747592e5,1193508e6,12068136e5,12249576e5,12382632e5,null],offsets:[-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480,-540,-480],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Sydney:{abbrs:["AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT","AEST","AEDT"],untils:[-167256714e4,-16653924e5,-8836416e5,-8761284e5,-8604e8,-8446788e5,-8283456e5,-8132292e5,576864e5,67968e6,89136e6,1000224e5,1205856e5,131472e6,1520352e5,1629216e5,1834848e5,194976e6,2155392e5,2264256e5,2469888e5,2578752e5,2784384e5,2893248e5,309888e6,3207744e5,3413376e5,352224e6,3727872e5,3866976e5,4048416e5,415728e6,4362912e5,4471776e5,4677408e5,4786272e5,4991904e5,5112864e5,5300352e5,542736e6,5620896e5,5747904e5,594144e6,60624e7,6255936e5,63648e7,6570432e5,6679296e5,6884928e5,6993792e5,7199424e5,7314336e5,7519968e5,7628832e5,7834464e5,7943328e5,814896e6,8282016e5,8463456e5,8596512e5,8777952e5,8911008e5,9092448e5,9225504e5,9412992e5,954e9,9673056e5,9854496e5,10041984e5,1017504e6,1035648e6,10489536e5,10670976e5,10804032e5,1099152e6,11118528e5,11306016e5,11439072e5,11620512e5,1174752e6,11935008e5,12074112e5,1223136e6,12388608e5,12545856e5,12703104e5,12860352e5,130176e7,13174848e5,13332096e5,13495392e5,1365264e6,13809888e5,13967136e5,14124384e5,14281632e5,1443888e6,14596128e5,14753376e5,14910624e5,15067872e5,1522512e6,15388416e5,15545664e5,15702912e5,1586016e6,16017408e5,16174656e5,16331904e5,16489152e5,166464e7,16803648e5,16960896e5,17124192e5,1728144e6,17438688e5,17595936e5,17753184e5,17910432e5,1806768e6,18224928e5,18382176e5,18539424e5,18696672e5,18859968e5,19017216e5,19174464e5,19331712e5,1948896e6,19646208e5,19803456e5,19960704e5,20117952e5,202752e7,20432448e5,20589696e5,20752992e5,2091024e6,21067488e5,21224736e5,21381984e5,null],offsets:[-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]}},Etc:{"GMT+12":{abbrs:["-12"],untils:[null],offsets:[720],isdsts:[0]},"GMT-12":{abbrs:["+12"],untils:[null],offsets:[-720],isdsts:[0]},GMT:{abbrs:["GMT"],untils:[null],offsets:[0],isdsts:[0]},UTC:{abbrs:["UTC"],untils:[null],offsets:[0],isdsts:[0]}},Europe:{Belgrade:{abbrs:["CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-9058248e5,-8572572e5,-8445564e5,-8282268e5,-812502e6,-7967772e5,-777942e6,-7666236e5,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Berlin:{abbrs:["CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CEMT","CEST","CET","CEST","CET","CEST","CEMT","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-16937064e5,-16804836e5,-16634556e5,-165015e7,-1632006e6,-16187004e5,-9389052e5,-8572572e5,-8445564e5,-8282268e5,-812502e6,-7967772e5,-7810524e5,-7765632e5,-765936e6,-7611804e5,-7484796e5,-7332732e5,-7176312e5,-7146108e5,-7103808e5,-70191e7,-6849756e5,-6704604e5,-6541308e5,-6390108e5,3238308e5,3389508e5,3546756e5,3704004e5,3861252e5,40185e7,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-180,-120,-60,-120,-60,-120,-180,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Bucharest:{abbrs:["BMT","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET"],untils:[-1213148664e3,-11870568e5,-11754792e5,-11597544e5,-11440296e5,-11277e8,-11119752e5,-10962504e5,-10805256e5,-10648008e5,-1049076e6,-10333512e5,-10176264e5,-10019016e5,-9861768e5,-970452e6,-9547272e5,296604e6,3074868e5,3238164e5,33894e7,354672e6,3703968e5,3861216e5,4018464e5,4175712e5,433296e6,4490208e5,4653504e5,4810752e5,4968e8,5125248e5,5282496e5,5439744e5,5596992e5,575424e6,5911488e5,6068736e5,6225984e5,6383232e5,6546528e5,6703704e5,6860952e5,70182e7,7175448e5,7332696e5,7489944e5,7647192e5,7804404e5,7961688e5,81189e7,8282232e5,8463636e5,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-104.4,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Kiev:{abbrs:["KMT","EET","MSK","CEST","CET","CEST","CET","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET","EEST","EET"],untils:[-1441159324e3,-12475368e5,-8925228e5,-8572572e5,-8445564e5,-8282268e5,-8253828e5,3549204e5,370728e6,3864564e5,402264e6,4179924e5,4338e8,4496148e5,4653468e5,4810716e5,4967964e5,5125212e5,528246e6,5439708e5,5596956e5,5754204e5,5911452e5,60687e7,6225948e5,6383196e5,6467832e5,6861024e5,70182e7,7175412e5,7332696e5,7489908e5,7647192e5,7804404e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-122.0667,-120,-180,-120,-60,-120,-60,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120,-180,-120],isdsts:[0,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},London:{abbrs:["GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","BDST","BST","BDST","BST","BDST","BST","BDST","BST","BDST","BST","GMT","BST","GMT","BST","BDST","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT","BST","GMT"],untils:[-1691964e6,-16804728e5,-16641432e5,-16501464e5,-16339032e5,-16174872e5,-16018488e5,-15860376e5,-15703992e5,-15521688e5,-15383448e5,-15225336e5,-15075e8,-14905656e5,-14736312e5,-14609304e5,-14427864e5,-1428876e6,-1410732e6,-13962168e5,-13792824e5,-13647672e5,-13484376e5,-13333176e5,-13157784e5,-13012632e5,-12843288e5,-12698136e5,-1253484e6,-1238364e6,-12214296e5,-12069144e5,-118998e7,-11754648e5,-11591352e5,-11434104e5,-1126476e6,-11119608e5,-10956312e5,-10805112e5,-10635768e5,-10490616e5,-10321272e5,-1017612e6,-10012824e5,-9861624e5,-969228e6,-9504792e5,-942012e6,-904518e6,-8960508e5,-8754876e5,-8646012e5,-844038e6,-8325468e5,-8125884e5,-7980732e5,-7810524e5,-7720668e5,-7648056e5,-748476e6,-733356e6,-7194456e5,-71703e7,-7067484e5,-6994872e5,-687996e6,-6680376e5,-654732e6,-636588e6,-6220728e5,-6057432e5,-5906232e5,-5742936e5,-5585688e5,-5422392e5,-5271192e5,-512604e6,-4962744e5,-4811544e5,-46422e7,-4497048e5,-4321656e5,-4176504e5,-4013208e5,-3862008e5,-3692664e5,-3547512e5,-3378168e5,-3233016e5,-306972e6,-291852e6,-276732e6,-2579832e5,-2452824e5,-2265336e5,-213228e6,-195084e6,-1823832e5,-1636344e5,-1509336e5,-1321848e5,-119484e6,-1007352e5,-880344e5,-686808e5,-59004e6,-37242e6,577224e5,698184e5,89172e6,101268e6,1206216e5,1327176e5,1520712e5,1641672e5,1835208e5,1962216e5,2149704e5,2276712e5,24642e7,2591208e5,2784744e5,2905704e5,309924e6,32202e7,3413736e5,3546756e5,3728196e5,3861252e5,4042692e5,4175748e5,4357188e5,4490244e5,4677732e5,4810788e5,4992228e5,5125284e5,5306724e5,543978e6,562122e6,5754276e5,5935716e5,6068772e5,625626e6,6383268e5,6570756e5,6703812e5,6885252e5,7018308e5,7199748e5,7332804e5,7514244e5,76473e7,782874e6,7961796e5,8143236e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,0,-60,0,-60,-120,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Moscow:{abbrs:["MMT","MMT","MST","MMT","MDST","MST","MDST","MSD","MSK","MSD","+05","MSD","MSK","EET","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","EEST","EET","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSD","MSK","MSK","MSK"],untils:[-1688265017e3,-1656819079e3,-1641353479e3,-1627965079e3,-1618716679e3,-1596429079e3,-15938208e5,-15898608e5,-15424272e5,-15394932e5,-15253236e5,-1522728e6,-14911884e5,-12475368e5,3549204e5,370728e6,3864564e5,402264e6,4179924e5,4338e8,4496148e5,4653468e5,4810716e5,4967964e5,5125212e5,528246e6,5439708e5,5596956e5,5754204e5,5911452e5,60687e7,6225948e5,6383196e5,6546492e5,670374e6,6861024e5,6957792e5,7018236e5,7175484e5,7332732e5,748998e6,7647228e5,7804476e5,7961724e5,8118972e5,8282268e5,8463708e5,8596764e5,8778204e5,891126e6,90927e7,9225756e5,9413244e5,9540252e5,972774e6,9854748e5,10042236e5,10175292e5,10356732e5,10489788e5,10671228e5,10804284e5,10991772e5,1111878e6,11306268e5,11433276e5,11620764e5,11747772e5,1193526e6,12068316e5,12249756e5,12382812e5,12564252e5,12697308e5,12884796e5,13011804e5,14142744e5,null],offsets:[-150.2833,-151.3167,-211.3167,-151.3167,-271.3167,-211.3167,-271.3167,-240,-180,-240,-300,-240,-180,-120,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-180,-120,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180,-240,-180],isdsts:[0,0,1,0,1,1,1,1,0,1,1,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0]},Paris:{abbrs:["PMT","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","WET","WEST","CEST","CET","CEST","CET","CEST","WEMT","WEST","WEMT","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-1855958901e3,-16898148e5,-16803972e5,-16653636e5,-16483428e5,-16351236e5,-16168932e5,-16042788e5,-15854436e5,-15740388e5,-1552266e6,-15399972e5,-15205572e5,-15075108e5,-14905764e5,-1470618e6,-14591268e5,-14440068e5,-14276772e5,-14119524e5,-13962276e5,-13792932e5,-1364778e6,-13484484e5,-13333284e5,-1316394e6,-1301274e6,-12843396e5,-12698244e5,-12534948e5,-12383748e5,-12214404e5,-12069252e5,-11912004e5,-11754756e5,-11603556e5,-11434212e5,-11276964e5,-11119716e5,-10968516e5,-1080522e6,-10635876e5,-10490724e5,-10333476e5,-10176228e5,-10025028e5,-9861732e5,-9692388e5,-95049e7,-942012e6,-932436e6,-8572572e5,-8445564e5,-8282268e5,-812502e6,-8000712e5,-796266e6,-7810524e5,-7666236e5,1968192e5,2125404e5,2288772e5,2439972e5,2603268e5,2760516e5,2917764e5,3075012e5,3238308e5,3389508e5,3546756e5,3704004e5,3861252e5,40185e7,4175748e5,4332996e5,4490244e5,465354e6,4810788e5,4968036e5,5125284e5,5282532e5,543978e6,5597028e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-9.35,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,0,-60,-120,-60,-120,-60,-120,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Warsaw:{abbrs:["WMT","CET","CEST","CET","CEST","CET","CEST","EET","EEST","EET","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET","CEST","CET"],untils:[-171703224e4,-16937064e5,-16804836e5,-16634556e5,-165015e7,-1632006e6,-16187004e5,-16004736e5,-1587168e6,-15017256e5,-931734e6,-8572572e5,-8445564e5,-8282268e5,-812502e6,-796608e6,-7787268e5,-76266e7,-7484868e5,-7332732e5,-7152156e5,-70191e7,-6849756e5,-6704604e5,-6541308e5,-6390108e5,-3970944e5,-3868128e5,-371088e6,-3553632e5,-3341952e5,-3233088e5,-307584e6,-2918592e5,-271296e6,-2604096e5,-2398464e5,-22896e7,-2083968e5,-1975104e5,-1763424e5,-1660608e5,2288736e5,2439936e5,2603232e5,276048e6,2917728e5,3074976e5,3238272e5,3389472e5,354672e6,3703968e5,3861216e5,4018464e5,4175712e5,433296e6,4490208e5,4653504e5,4810752e5,4968e8,5125248e5,5282496e5,5439744e5,5596992e5,5754276e5,5911524e5,6068772e5,622602e6,6383268e5,6546564e5,6703812e5,686106e6,7018308e5,7175556e5,7332804e5,7490052e5,76473e7,7804548e5,7961796e5,8119044e5,828234e6,846378e6,8596836e5,8778276e5,8911332e5,9092772e5,9225828e5,9413316e5,9540324e5,9727812e5,985482e6,10042308e5,10175364e5,10356804e5,1048986e6,106713e7,10804356e5,10991844e5,11118852e5,1130634e6,11433348e5,11620836e5,11747844e5,11935332e5,12068388e5,12249828e5,12382884e5,12564324e5,1269738e6,12884868e5,13011876e5,13199364e5,13326372e5,1351386e6,13646916e5,13828356e5,13961412e5,14142852e5,14275908e5,14457348e5,14590404e5,14777892e5,149049e7,15092388e5,15219396e5,15406884e5,1553994e6,1572138e6,15854436e5,16035876e5,16168932e5,1635642e6,16483428e5,16670916e5,16797924e5,16985412e5,17118468e5,17299908e5,17432964e5,17614404e5,1774746e6,179289e7,18061956e5,18249444e5,18376452e5,1856394e6,18690948e5,18878436e5,19011492e5,19192932e5,19325988e5,19507428e5,19640484e5,19827972e5,1995498e6,20142468e5,20269476e5,20456964e5,20583972e5,2077146e6,20904516e5,21085956e5,21219012e5,21400452e5,null],offsets:[-84,-60,-120,-60,-120,-60,-120,-120,-180,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60,-120,-60],isdsts:[0,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]}},Pacific:{Apia:{abbrs:["LMT","-1130","-11","-10","-11","-10","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14","+13","+14"],untils:[-1861878784e3,-6311106e5,12854988e5,13017528e5,13168728e5,13252392e5,13332024e5,13489272e5,13652568e5,13803768e5,13967064e5,14118264e5,1428156e6,1443276e6,14596056e5,14747256e5,14910552e5,15061752e5,15225048e5,15382296e5,15545592e5,15696792e5,15860088e5,16011288e5,16174584e5,16325784e5,1648908e6,1664028e6,16803576e5,16954776e5,1712412e6,1727532e6,17438616e5,17589816e5,17753112e5,17904312e5,18067608e5,18218808e5,18382104e5,18533304e5,186966e7,18853848e5,19017144e5,19168344e5,1933164e6,1948284e6,19646136e5,19797336e5,19960632e5,20111832e5,20275128e5,20426328e5,20589624e5,20746872e5,20910168e5,21061368e5,21224664e5,21375864e5,null],offsets:[686.9333,690,660,600,660,600,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840,-780,-840],isdsts:[0,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Auckland:{abbrs:["NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZMT","NZST","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT","NZST","NZDT"],untils:[-1330335e6,-1320057e6,-13006998e5,-1287396e6,-12692502e5,-12559464e5,-12378006e5,-12244968e5,-1206351e6,-11924424e5,-11749014e5,-11609928e5,-11434518e5,-11259144e5,-1112607e6,-10944648e5,-10811574e5,-10630152e5,-10497078e5,-10315656e5,-10182582e5,-1000116e6,-9868086e5,-9680616e5,-955359e6,-936612e6,-9233046e5,-7574256e5,1526328e5,1623096e5,1834776e5,1949688e5,215532e6,2264184e5,2469816e5,257868e6,2784312e5,2893176e5,3098808e5,3207672e5,3413304e5,3522168e5,37278e7,3842712e5,4048344e5,4157208e5,436284e6,4471704e5,4677336e5,47862e7,4991832e5,5100696e5,5306328e5,5415192e5,5620824e5,5735736e5,5941368e5,6050232e5,623772e6,6376824e5,6552216e5,669132e6,6866712e5,7005816e5,7181208e5,732636e6,7495704e5,7640856e5,78102e7,7955352e5,8124696e5,8269848e5,844524e6,8584344e5,8759736e5,889884e6,9074232e5,9219384e5,9388728e5,953388e6,9703224e5,9848376e5,10023768e5,10162872e5,10338264e5,10477368e5,1065276e6,10797912e5,10967256e5,11112408e5,11281752e5,11426904e5,11596248e5,117414e7,11910744e5,1207404e6,1222524e6,12388536e5,12539736e5,12703032e5,12854232e5,13017528e5,13168728e5,13332024e5,13489272e5,13652568e5,13803768e5,13967064e5,14118264e5,1428156e6,1443276e6,14596056e5,14747256e5,14910552e5,15061752e5,15225048e5,15382296e5,15545592e5,15696792e5,15860088e5,16011288e5,16174584e5,16325784e5,1648908e6,1664028e6,16803576e5,16954776e5,1712412e6,1727532e6,17438616e5,17589816e5,17753112e5,17904312e5,18067608e5,18218808e5,18382104e5,18533304e5,186966e7,18853848e5,19017144e5,19168344e5,1933164e6,1948284e6,19646136e5,19797336e5,19960632e5,20111832e5,20275128e5,20426328e5,20589624e5,20746872e5,20910168e5,21061368e5,21224664e5,21375864e5,null],offsets:[-690,-750,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-690,-720,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780],isdsts:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]},Fiji:{abbrs:["LMT","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12","+13","+12"],untils:[-1709985344e3,9098424e5,920124e6,9418968e5,9515736e5,12594168e5,12696984e5,12878424e5,12993336e5,1319292e6,13271544e5,13507416e5,1358604e6,1382796e6,139005e7,14148504e5,14215032e5,14463e8,14529528e5,14783544e5,14844024e5,1509804e6,1515852e6,15412536e5,15473016e5,15727032e5,1579356e6,16041528e5,16108056e5,16362072e5,16422552e5,16676568e5,16737048e5,16991064e5,17051544e5,1730556e6,17372088e5,17620056e5,17686584e5,17934552e5,1800108e6,18255096e5,18315576e5,18569592e5,18630072e5,18884088e5,18944568e5,19198584e5,19265112e5,1951308e6,19579608e5,19833624e5,19894104e5,2014812e6,202086e7,20462616e5,20523096e5,20777112e5,20837592e5,21091608e5,21158136e5,21406104e5,21472632e5,null],offsets:[-715.7333,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720,-780,-720],isdsts:[0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]},Guadalcanal:{abbrs:["LMT","+11"],untils:[-1806748788e3,null],offsets:[-639.8,-660],isdsts:[0,0]},Guam:{abbrs:["GST","+09","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","GDT","GST","ChST"],untils:[-8855496e5,-8022564e5,-3318912e5,-28161e7,-73728e6,-2941554e4,-16704e6,-106596e5,99072e5,213948e5,413568e5,528444e5,1248192e5,1308636e5,201888e6,20948766e4,2306592e5,241542e6,9774936e5,null],offsets:[-600,-540,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-660,-600,-600],isdsts:[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0]},Honolulu:{abbrs:["HST","HDT","HST","HWT","HPT","HST","HST"],untils:[-1157283e6,-11554362e5,-8801982e5,-7693956e5,-7653762e5,-7121502e5,null],offsets:[630,570,630,570,570,630,600],isdsts:[0,1,0,1,1,0,0]},Port_Moresby:{abbrs:["+10"],untils:[null],offsets:[-600],isdsts:[0]},Tongatapu:{abbrs:["+1220","+13","+14","+13","+14","+13","+14","+13","+14","+13"],untils:[-9151932e5,9392148e5,9533844e5,9733428e5,9805968e5,10047924e5,10120464e5,14783508e5,14843988e5,null],offsets:[-740,-780,-840,-780,-840,-780,-840,-780,-840,-780],isdsts:[0,0,1,0,1,0,1,0,1,0]}}}}),{getTimezoneFromIndex:function(e){var t=Wa[e];return t?t.tz:null},getTimezoneFromName:function(e){for(var t in Wa){var i=Wa[t];if(i.name===e)return i.tz}return null},getSupportedTimeZones:function(){return Wa},getTimeZoneJson:function(){return Ga}});var za=function(){var e=!1,t=!1,i=1033,r=null,n=[],a=["+"],s=["short","medium","long","full"],l=["D","T","S","P"],h=["#","0",",","."],d={count:0,first:"",last:""},c={count:0,first:"",last:""},p=!1,m=[{1025:"ar-SA",1026:"bg",1027:"ca-ES-VALENCIA",1029:"cs",1030:"da",1031:"de",1032:"el",1033:"en-US-POSIX",1034:"es",1035:"fi",1036:"fr",1037:"he",1038:"hu",1039:"is",1040:"it",1041:"ja",1042:"ko",1043:"nl",1044:"nb",1045:"pl",1048:"ro",1049:"ru",1028:"zh-Hant",1046:"pt",1047:"en"},{1050:"hr",1051:"sk",1052:"sq",1053:"sv",1054:"th",1055:"tr",1056:"ur",1057:"id",1058:"uk",1059:"be",1060:"sl",1061:"et",1062:"lv",1063:"lt",1065:"fa",1066:"vi",1067:"hy",1068:"az-Latn",1069:"eu",1071:"mk",1064:"fa",1070:"de",1072:"fr-GN",1073:"en-ZA",1074:"en-BW"},{1077:"zu",1078:"af",1079:"ka",1080:"fo",1081:"hi",1086:"ms",1087:"kk",1088:"ky",1089:"sw-KE",1091:"uz-Latn",1092:"ru",1093:"bn-IN",1094:"pa",1095:"gu",1097:"ta",1098:"te",1099:"kn",1075:"en",1076:"en-ZA",1082:"en",1083:"fi",1084:"en-GB",1085:"he",1090:"tr",1096:"en-IN"},{1100:"ms",1102:"mr",1104:"mn",1106:"cy",1107:"km",1108:"lo",1109:"my",1110:"gl",1115:"si",1121:"ne",1124:"fil",1101:"en-IN",1103:"en-IN",1105:"zh-Hans",1111:"en-IN",1112:"en-IN",1113:"en-IN",1114:"ar-SY",1116:"en-US-POSIX",1117:"en-CA",1118:"am",1119:"ar-MA",1120:"en-IN",1122:"nl",1123:"en"},{1125:"en",1127:"en-NG",1128:"en-NG",1129:"en-NG",1130:"en-NG",1131:"es-BO",1133:"ru",1134:"fr-LU",1136:"en-NG",1138:"am",1139:"ar-ER",1140:"es-PY",1141:"en-US-POSIX",1142:"it",1143:"ar-SO",1145:"nl",1148:"en-CA",1150:"fr",1152:"zh-Hans",1153:"en-NZ",1154:"es",1155:"fr",1157:"ru",1159:"en-RW",1160:"en-NG",1126:"en-NG",1132:"en-ZA",1135:"da",1137:"en-NG",1144:"zh-Hans",1146:"es-CL",1156:"fr",1158:"es-GT",1164:"fa-AF",1289:"en-US-POSIX"},{2049:"ar-IQ",2052:"zh-Hans",2055:"de-CH",2057:"en-GB",2058:"es-MX",2060:"fr-BE",2064:"it-CH",2067:"nl-BE",2070:"pt-PT",2072:"ro-MD",2073:"ru-MD",2074:"sr-Latn",2077:"sv-FI",2080:"ur-IN",2092:"az",2108:"ga",2110:"ms-BN",2115:"uz",2118:"pa",2128:"mn",2145:"ne-IN",2068:"nb",2117:"bn",2129:"zh-Hans",2137:"en-PK",2143:"ar-MA",2144:"en-IN",2155:"es-EC",2163:"am"},{3073:"ar-EG",3076:"zh-Hans-HK",3079:"de-AT",3081:"en-AU",3084:"fr-CA",3098:"sr-Cyrl",4097:"ar-LY",4100:"zh-Hans-SG",4103:"de-LU",4105:"en-CA",4106:"es-GT",4108:"fr-CH",4122:"hr-BA",5121:"ar-DZ",5124:"zh-Hans-MO",5127:"de-LI",5129:"en-NZ",5130:"es-CR",5132:"fr-LU",5146:"bs-Latn",6145:"ar-MA",6153:"en-IE",6154:"es-PA",6156:"fr-MC",3082:"es",3179:"es-PE"},{7169:"ar-TN",7177:"en-ZA",7178:"es-DO",8193:"ar-OM",8201:"en-JM",8202:"es-VE",8204:"fr-RE",9217:"ar-YE",9226:"es-CO",9228:"fr-CD",10241:"ar-SY",10249:"en-BZ",10250:"es-PE",10252:"fr-SN",11265:"ar-JO",11273:"en-TT",11274:"es-AR",11276:"fr-CM",12289:"ar-LB",12297:"en-ZW",12298:"es-EC",12300:"fr-CI",7180:"fr",9225:"en"},{13313:"ar-KW",13321:"en-PH",13322:"es-CL",13324:"fr-ML",14337:"ar-AE",14345:"en-IO",14346:"es-UY",14348:"fr-MR",15361:"ar-BH",15369:"en-HK",15370:"es-PY",15372:"fr-HT",16385:"ar-QA",16393:"en-IN",16394:"es-BO",17417:"en-MY",17418:"es-SV",18441:"en-SI",18442:"es-HN",19466:"es-NI",20490:"es-PR",21514:"es-US",22538:"es",58380:"fr",25626:"bs"}],g=function(e){var t=null;return(t=e<1125?e<1075?e<1050?m[0]:m[1]:e<1100?m[2]:m[3]:e<3073?e<2049?m[4]:m[5]:e<7169?m[6]:e<13313?m[7]:m[8])?t[e]:void 0},T=g(i),f=function(e){return"string"==typeof e&&(e=parseInt(e,10)),4===e?"zh-Hans":null==e||"number"!=typeof e||e<1025||e>58380?void 0:g(e)},y=function(e,t){var i,r=null;return(i=t[e])&&(r=i.formatter),r},D=function(e,t,i){var r,n,a,o;r={formatter:i,next:""},t.first||(t.first=e),(n=t.last)&&(t[n].next=e),t[e]=r,t.last=e,t.count=t.count+1,t.count>30&&(a=t.first)&&(o=t[a],t.first=o.next,delete t[a],t.count=t.count-1)},S=function(e,t){var i=t;return i+=void 0!==e.minimumFractionDigits?"minfd"+e.minimumFractionDigits:"",i+=void 0!==e.maximumFractionDigits?"maxfd"+e.maximumFractionDigits:"",i+=void 0!==e.raw?"raw"+e.raw:""},b=function(e,t,i){var r,n,a,o=t,s=e.raw,l=e.skeleton;return r=e.date?"d"+e.date:"",n=e.time?"t"+e.time:"",a=s?"r"+e.raw:"",a=l?"s"+e.skeleton:a,i?o+r+n+a+i:o+r+n+a},C=function(e,t){if(void 0!==e){var i=f(e);void 0===i&&(i=T),v(i,t)}},v=function(a,s){var l,h,d,c;if(a||(T||(T=f(i)),a=T),s.endsWith(".json"))a!==r&&(c=s,e||(u().loadTimeZone(Ua.getTimeZoneJson()),e=!0),t||o.ajax({dataType:"json",url:c,success:function(e){for(var i=0;i<e.length;i++){var r=e[i];u().load(r)}t=!0},async:!1}),null!==u().locale(a).attributes.bundle||(a=f(i),u().locale(a)),r=a);else if(function(e){return-1!==n.indexOf(e)}(a))a!==r&&(u().locale(a),r=a);else{var m=function(e,t){return(p?[]:[t+"/supplemental/likelySubtags.json",t+"/supplemental/numberingSystems.json",t+"/supplemental/ordinals.json",t+"/supplemental/metaZones.json",t+"/supplemental/timeData.json",t+"/supplemental/weekData.json"]).concat([t+"/main/"+e+"/ca-gregorian.json",t+"/main/"+e+"/timeZoneNames.json",t+"/main/"+e+"/numbers.json",t+"/main/"+e+"/dateFields.json"])}(a,s);(h=(l=m).length,d=!1,e||(u().loadTimeZone(Ua.getTimeZoneJson()),e=!0),l.forEach((function(e){o.ajax({dataType:"json",url:e,success:function(e){h--,u().load(e),0===h&&(p=!0,d=!0)},async:!1})})),d)?(u().locale(a),r=a,n.push(a)):(a=f(i),u().locale(a),r=a)}},P=function(){var e="0123456789",t="0123456789abcdef";function i(e,t,i){for(var r=window.Big(t.length),n=window.Big(i.length),a=window.Big(0),o=e.length,s=0,l=0;l<o;l++)a=a.mul(r).add(t.indexOf(e.charAt(l)));if(!a.lt(0)){for(var u=a.mod(n).round(0,0),h=i.charAt(u),d=a.div(n);d.gte(1);)if(u=d.mod(n).round(0,0),d=d.div(n),h=i.charAt(u)+h,(s+=1)>100){h=void 0;break}return h}}return{dec2bin:function(t){return i(t.toFixed(0),e,"01")},bin2dec:function(t){return i(t.toString().substring(0,64),"01",e)},dec2hex:function(r){return i(r.toFixed(0),e,t)},hex2dec:function(r){return i(r.toString().toLowerCase().substring(0,16),t,e)}}}(),_=function(e){return""===e?NaN:Number(e)},A=function(e){var t,i=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000"],r="";if(e<0)return"";t=Math.floor(e/10);for(var n=0;n<t;n++)r+=i[10];return r+=i[e%10]},w=function(e,t){var i,r,n,a;if(t<=0||t>=e.length)return e;r=Math.ceil(e.length/t),a=e.length,n=e.length-t,i=e.substring(n,a),a=e.length-t,n-=t;for(var o=0;o<r-1;o++)i=e.substring(n,a)+" "+i,a-=t,n-=t;return a>0&&(i=" "+e.substring(0,a)),i},x=function(e,t,i,r){var n={prefix:"",suffix:""};return e>=0&&"+"===i.prefix&&(n=F(r)),n.prefix+t+n.suffix},V=function(e){var t;return t=_(e),isNaN(t)?null:t},E=function(e){var t;return t=function(e){return""===e?NaN:("boolean"==typeof e&&(e=e?1:0),window.Big(e))}(e),isNaN(t)?null:t},I=function(e){return""+e},R=function(e){return e},B=function(e){return!isNaN(e.getTime())},L=function(e){return!!e&&-1!==e.indexOf("@")},M=function(e){var t;return e?(t=e.indexOf("@"))>-1?e.substring(t+1,e.length):e:""},F=function(e){var t,i,r={prefix:"+",suffix:""};return(t=e.runtimeArgs)&&t[0]?(i=(t=t[0])[18]?t[18]:{"+":"+"},r.prefix=""!==t[0]?t[0]:i["+"],r.suffix=""!==t[10]?t[10]:"",r):r},H=function(e){return"function"==typeof e.trim?e.trim():e.replace(/^\s+|\s+$/gm,"")},O=function(e,t,i,r,n,a,o){var s="";return(e===t||e===t+t||o&&e===t+t+t)&&(s=(r?n:"")+function(e,t,i){if(1===e.length)return"S"===t?i<100?"0":Math.floor(i/100):i;if(2===e.length){if("S"===t)return i<10?"00":i<100?"0"+Math.floor(i/10):Math.floor(i/10);if(i<10)return"0"+i}if(3===e.length){if(i<10)return"00"+i;if(i<100)return"0"+i}return i}(e,t,r?Math.floor(i%r):Math.floor(i))+a),s},N=function(e){return"string"==typeof e&&-1!==s.indexOf(e)},k=function(e,t){var i;return i=window.DatePrecise(e).toDate(),t?i:(e=i.getTime()+6e4*i.getTimezoneOffset(),new Date(e))},W={B:{convertValue:E,initTypeOpts:function(){return{minDigits:1,blocksize:4}},mapArgsToOpts:function(e,t){var i=_(e.params[0]);isNaN(i)||(i=(i=Math.floor(i))<1?1:i>64?64:i,t.minDigits=i),i=_(e.params[1]),isNaN(i)||(i=(i=Math.floor(i))<0?0:i>8?8:i,t.blocksize=i)},format:function(e,t,i){var r,n,a;return r=P.dec2bin(e),n=i.minDigits-r.length,a=A(n),r=w(r=a+r,i.blocksize)},localized:!1},H:{convertValue:E,initTypeOpts:function(){return{minDigits:1,blocksize:4}},mapArgsToOpts:function(e,t){var i=_(e.params[0]);isNaN(i)||(i=(i=Math.floor(i))<1?1:i>16?16:i,t.minDigits=i),i=_(e.params[1]),isNaN(i)||(i=(i=Math.floor(i))<0?0:i>8?8:i,t.blocksize=i)},format:function(e,t,i){var r,n,a;return r=P.dec2hex(e),n=i.minDigits-r.length,a=A(n),r=r.toUpperCase(),r=w(r=a+r,i.blocksize)},localized:!1},I:{convertValue:E,initTypeOpts:function(){return{prefix:"",minDigits:1}},mapArgsToOpts:function(e,t){var i=e.prefix;"string"==typeof i&&(t.prefix=i),i=_(e.params[0]),isNaN(i)||(i=i<1?1:i>8?8:i,t.minDigits=i)},format:function(e,t,i){var r,n,a,o,s;return a=(n=e.round()).s>0?i.prefix:"-",r=(o=n.abs().toString()).length,s=i.minDigits-r,a+A(s)+o},localized:!1},S:{convertValue:I,initTypeOpts:function(){return{maxChars:0,trim:!1,upper:!1,lower:!1}},mapArgsToOpts:function(e,t){var i,r,n,a=0;if(0!==(r=e.params.length)){if(n=_(e.params[a]),!isNaN(n)){if(n=n<0?0:n>99?99:n,t.maxChars=n,1===r)return;a++}i=e.params[a],t.trim="trim"===i,r>a+1&&(i=e.params[a+1]),t.lower="lower"===i,t.upper="upper"===i}},format:function(e,t,i){var r,n;return n=e,i.trim&&(n=H(n)),(r=i.maxChars)>0&&(n=n.substring(0,r)),i.lower?n=n.toLowerCase():i.upper&&(n=n.toUpperCase()),n},localized:!1},E:{convertValue:V,initTypeOpts:function(){return{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},mapArgsToOpts:function(e,t){var i;i=_(e.params[0]),!isNaN(i)&&i>=0&&(i=i<1?1:i>9?9:i,t.minimumFractionDigits=i,t.maximumFractionDigits=i)},format:function(e,t,i){var n,a,o,s,l,h,c,p,m,g,T,f,b=!0;return n=_(i.maximumFractionDigits),a=(e=e.toExponential(n)).indexOf("e"),o=e.substring(0,a),s=_(o),l=e.substring(a+1,e.length),h=_(l),m=S(i,r),(g=y(m,d))||(g=u().numberFormatter(i),b=!1),T=g(s),b||D(m,d,g),p=F(g),c=e.substring(a+1,a+2)===p.prefix?p.prefix:"",function(e,t){t.minimumFractionDigits=0,t.maximumFractionDigits=0}(0,i),m=S(i,r),(g=y(m,d))||(g=u().numberFormatter(i),b=!1),f=g(h),b||D(m,d,g),x(e,T+"E"+c+f,t,g)},localized:!0},N:{convertValue:V,initTypeOpts:function(){return{style:"decimal",raw:"#,##0.",minimumFractionDigits:2,maximumFractionDigits:2}},mapArgsToOpts:function(e,t){var i,r;(i=e.params[0])&&(G(i[0])?(e.prefix="",delete t.minimumFractionDigits,delete t.maximumFractionDigits,"."===i[0]&&(i="0"+i),t.raw=i):(r=_(e.params[0]),!isNaN(r)&&r>=0&&(r=r<1?1:r>9?9:r,t.minimumFractionDigits=r,t.maximumFractionDigits=r)))},format:function(e,t,i){var n,a,o,s=!0,l=e;return n=S(i,r),(a=y(n,d))||(a=u().numberFormatter(i),s=!1),e<0&&(l=-l),o=a(l),e<0&&(o="-"+o),s||D(n,d,a),o=function(e,t,i,r){return t=function(e,t,i,r){var n,a,o,s,l,u,h,d;if(!i.raw||e>=0)return t;if(n=function(e){return e(0)}(r),a=function(e){return e(-1)[0]}(r),-1===(o=t.indexOf(a)))return t;for(s=t.substring(o+1,t.length);s.length;)-1!==(l=s.indexOf(a))?(u=t,d=n,t=(h=o+l+1)<0||h>=u.length?u:u=u.substring(0,h)+d+u.substring(h+1,u.length),o=o+l+1,s=s.substring(l+1,s.length)):s="";return t}(e,t,i,r),t}(e,o,i,a),o=x(e,o,t,a)},localized:!0},F:{convertValue:V,initTypeOpts:function(){return{style:"decimal",useGrouping:!1,minimumFractionDigits:2,maximumFractionDigits:2}},mapArgsToOpts:function(e,t){var i;i=_(e.params[0]),isNaN(i)||(i=i<1?1:i>9?9:i,t.minimumFractionDigits=i,t.maximumFractionDigits=i)},format:function(e,t,i){var n,a,o,s=!0;return n=S(i,r),(a=y(n,d))||(a=u().numberFormatter(i),s=!1),o=a(e),s||D(n,d,a),o=x(e,o,t,a)},localized:!0},D:{convertValue:R,initTypeOpts:function(){return{}},mapArgsToOpts:function(e,t){const i=e.params[0];i?N(i)?t.date=i:L(i)?t.raw=M(i):t.skeleton=i:t.raw="M/d/y"},format:function(e,t,i,n){var a,o,s,l,h=!0;return a=k(e,n.timeZone),B(a)?(o=b(i,r,n.timeZone),(s=y(o,c))||("localtime"!==n.timeZone&&(i.timeZone=n.timeZone),s=u().dateFormatter(i),h=!1),l=s(a),h||D(o,c,s),l):I(e)},localized:!0},T:{convertValue:R,initTypeOpts:function(){return{time:"medium"}},mapArgsToOpts:function(e,t,i){var r=e.params[0];r&&(r=function(e,t,i){var r,n,a,o,s;return i.milliSeconds="",2===(r=t.split(".")).length&&((n=function(e){for(var t=0;"S"===e[t]&&t<e.length;)t++;return t}(r[1]))&&(a=r[1].substr(n+1),i.time=r[0]+a,n=Math.min(n,3),e=window.DatePrecise(e).getTime(),o=Math.abs(e)%1e3,s=""+(o=Math.floor(o/[1,100,10,1][n])),2===n&&o<10&&(s="0"+o),3===n&&(o<100&&(s="0"+o),o<10&&(s="00"+o))),i.milliSeconds=s),r[0]}(i,r,t),N(r)?t.time=r:(delete t.time,L(r)?t.raw=M(r):t.skeleton=r))},format:function(e,t,i,n){var a,o,s,l,h=!0;return a=k(e,n.timeZone),B(a)?(o=b(i,r,n.timeZone),(s=y(o,c))||("localtime"!==n.timeZone&&(i.timeZone=n.timeZone),s=u().dateFormatter(i),h=!1),l=function(e,t){var i=t.milliSeconds;return""!==i&&void 0!==i&&(e=e+"."+i),e}(l=s(a),i),h||D(o,c,s),l):I(e)},localized:!0},P:{convertValue:V,initTypeOpts:function(){return{format:""}},mapArgsToOpts:function(e,t){t.format=e.params[0]},format:function(e,t,i){var r,n,a,o,s,l,u="",h="";if(e<0&&(u="-",e*=-1),(r=e)<.5)return 0;if(s=i.format?i.format:function(e){var t,i=[!1,!1,!1,!1,!1],r=["S","s","m","h","D"],n=[],a=0,o=0,s="";for(i[0]=e/1>=1&&e%1e3!=0,i[1]=e/1e3>=1&&e%6e4!=0,i[2]=e/6e4>=1&&e%36e5!=0,i[3]=e/36e5>=1&&e%864e5!=0,i[4]=e/864e5>=1,t=0;t<=5;t++)n[t]=r[t];for(i[0]&&(i[1]=!0,n[0]="SSS"),i[2]&&(i[1]=!0,n[1]="ss"),i[3]&&(i[1]=!0,i[2]=!0,n[1]="ss",n[2]="mm"),i[4]&&i[3]&&(n[3]="hh"),t=0;t<5;t++)if(i[t]){a=t;break}for(t=4;t>=0;t--)if(i[t]){o=t;break}for(t=a;t<=o;t++)s=n[t]+":"+s;return s.substring(0,s.length-1)}(e),n=function(e){var t,i,r,n,a,o,s,l=[];for(2===(t=e.split(".")).length&&(i=t[1]),"D"===(n=(r=t[0].split(":"))[0])[0]&&(a="D","D"===(n=n.substring(1,n.length))[0]&&(a="DD","D"===(n=n.substring(1,n.length))[0]&&(a="DDD",n=n.substring(1,n.length)))),""!==n?r[0]=n.trim():(r[0]=a,a=""),r.reverse(),o=0,i&&(l[0]=i,o=1),s=0;s<r.length;s++)l[o]=r[s],o++;return a&&(l[l.length]=a),l}(s),r=Math.floor(r),l=(a=0)+1===n.length?0:1e3,o=O(n[a],"S",r,l,".","",!0)){if(h=o+h,a+1===n.length)return u+h;a++}if(r/=1e3,l=a+1===n.length?0:60,o=O(n[a],"s",r,l,":","")){if(h=o+h,a+1===n.length)return u+h;a++}if(r/=60,l=a+1===n.length?0:60,o=O(n[a],"m",r,l,":","")){if(h=o+h,a+1===n.length)return u+h;a++}if(r/=60,l=a+1===n.length?0:24,o=O(n[a],"h",r,l,":","")){if(h=o+h,a+1===n.length)return u+h;a++}return r/=24,l=0,(o=O(n[a],"D",r,l,"","D",!0))&&(h=h?o+" "+h.substring(1,h.length):o),u+h},localized:!1}},G=function(e){return-1!==h.indexOf(e)},U=function(e,t,i){var r,n;return e.indexOf("@")<0&&-1!==(r=e.indexOf(","))?(n=e.substring(0,r),t.params[i]=H(n),e=e.substring(r+1,e.length)):(n=e,t.params[i]=H(n),e=""),e},z=function(e){return e},j=function(e,t){var i=0,r={isPattern:!1};if(!e)return t;if(e=function(e,t){var i,r,n=0;for(e=H(e);n<a.length;){if(r=a[n].length,e.substring(0,r)===a[n])return i=e.substring(0,r),t.prefix=z(i),e.substring(r,e.length);n++}return e}(e,t),e=function(e,t,i){var r,n;return r=(e=H(e)).substring(0,1),G(r)?(t.symbol="N",i.isPattern=!0):(t.symbol=r,e=e.substring(1,e.length),-1!==l.indexOf(r)&&(n=e.indexOf(","),""===e.substring(0,n).trim()&&(e=e.substring(n+1,e.length)))),e}(e,t,r),r.isPattern)e=function(e,t){return t.params[0]=e,""}(e,t);else for(;e.length;)e=U(e,t,i),i++;return t.invalid=!1,t},Y=function(e,t){for(var i,r,n=0;e.length;)if(-1===(i=e.indexOf("{")))t[n]=e.substring(0,e.length),e="";else{if(0!==i&&(t[n]=e.substring(0,i),e=e.substring(i,e.length),n++),-1===(r=e.indexOf("}")))return!1;t[n]=e.substring(0,r+1),e=e.substring(r+1,e.length),n++}return!0},X=function(e,t,i,r){var n,a,o,s;return function(e,t){var i;return!t.invalid&&("+"===t.prefix&&(i=_(e),(isNaN(i)||!isNaN(i)&&e<0)&&(t.prefix="")),!0)}(e,n=j(t,n={invalid:!0,prefix:"",symbol:"",params:[]}))?(o=Number(e),isNaN(o)||!(o>=1e21||o<=-1e21)||"N"!==n.symbol&&"F"!==n.symbol||(n.symbol="E"),(a=W[n.symbol])?(o=e,null===(e=a.convertValue(e))?(i.formatted=!1,o):(a.localized&&C(r.lcid,r.cldrDataPath),s=a.initTypeOpts(),a.mapArgsToOpts(n,s,e),a.format(e,n,s,r))):(i.formatted=!1,e)):(i.formatted=!1,e)},q=function(e){if("string"!=typeof e||-1===e.indexOf("\\"))return null;var t=e.replace(/\\r\\n/g,"");return t=(t=(t=(t=t.replace(/\\n/g,"")).replace(/\\\\/g,"\\")).replace(/\\{/g,"")).replace(/\\}/g,"")};return{setLocale:function(e,t){var i=f(e);void 0===i&&(eo.consolLog(eo.enumTraceMode.Error,"_loadGlobalize Wrong culture: "+e),i=T),T=i,v(i,t)},format:function(e,t,i){var r,n=[],a=[],o=!1,s=e;if(i=i||{},null===e)return"";if(!t){if(""!==t)return e;t=function(e){var t=""+e;return"number"==typeof e?-1!==t.indexOf("E")||-1!==t.indexOf("e")?"{E}":-1!==t.indexOf(".")?"{F}":"{I}":"{S}"}(e)}if(r=q(t),!Y(r||t,n))return s;try{o=function(e,t,i,r){for(var n,a={formatted:!0},o=0,s=0;o<t.length&&!0===a.formatted;)"{"!==t[o][0]?i[o]=t[o]:(n=t[o].substring(1,t[o].length-1),i[o]=X(e,n,a,r),s+=1),o++;return s||(a.formatted=!1),a.formatted}(e,n,a,i)}catch(e){}return o&&(s=function(e){for(var t="",i=0;i<e.length;i++)t+=e[i];return t}(a),r&&(s=s.replace(/\u008B/g,"{").replace(/\u008C/g,"}"))),s},format2Type:function(e){var t,i,r,n=ka.enumHmiFieldDataType.String,a=[],o=0,s=null;if(!e)return n;if(t=q(e),!Y(t||e,a))return n;for(;o<a.length&&null===s;)"{"===(i=a[o]).charAt(0)&&(s=i.substring(1,i.length-1)),o++;return s&&(r=function(e,t){var i,r,n,a="";if("D"!==e&&"T"!==e)return e;for(i="D"===e?"T":"D",r=0;r<t.length&&a!==i;)"{"===(n=t[r]).charAt(0)&&(n=n.substring(1,n.length-1),a=(n=H(n)).substring(0,1),(n.includes("h")||n.includes("H"))&&(a="T")),r++;return i===a&&(e="DT"),e}(r=j(s,{invalid:!0,prefix:"",symbol:"",params:[]}).symbol,a),n=function(e){var t,i=ka;switch(e){case"B":t="Binary";break;case"H":t="Hex";break;case"I":t="Integer";break;case"S":default:t="String";break;case"E":t="Exponential";break;case"N":t="Decimal";break;case"F":t="Float";break;case"D":t="Date";break;case"T":t="Time";break;case"DT":t="DateTime";break;case"P":t="TimeSpan"}return i.enumHmiFieldDataType[t]}(r)),n},baseConverter:P,parseDate:function(e,t,i){var r={};return C((i=i||{}).lcid,i.cldrDataPath),N(t)?r.date=t:L(t)?r.raw=M(t):r.skeleton=t,"localtime"!==i.timeZone&&(r.timeZone=i.timeZone),u().dateParser(r)(e)}}}();za.Timezone=Ua;const ja=za;var Ya,Xa,qa,Ka,Za,Qa,Ja,$a;const eo=(Ya=null,qa=(Xa={None:0,Error:10,TestCurr:12,Perf:15,Warning:20,Test:35,Info:40,PerfLow:50,All:99}).Warning,Ka=0,Za=null,(Qa=function(){return Date.now?Date.now():(new Date).getTime()})(),Ja=function(e,t,i=!1){var r,n;if(r=t,e===Xa.Error&&(Ya=t),Za&&e<=qa)switch(e){case Xa.Error:Za.error(t);break;case Xa.Warning:Za.warn(t);break;default:Za.info(t)}i&&(n=ja.format(Date.now(),"{T,@HH:mm:ss:SSS}",{timeZone:"localtime"}),$a(e,r=n+" : "+r))},$a=function(e,t){e<=qa&&s.Connection.sendTraceEvent("0",t)},{enumTraceMode:Xa,consolLog:Ja,setTraceMode:function(e){var t=Number(e);t>100&&(Za={info:function(){s.Connection.sendTraceEvent("0",Array.prototype.slice.call(arguments).toString(),0)},warn:function(){s.Connection.sendTraceEvent("0",Array.prototype.slice.call(arguments).toString(),1)},error:function(){s.Connection.sendTraceEvent("0",Array.prototype.slice.call(arguments).toString(),2)}},t-=100),qa=t},getTraceMode:function(){return qa},tracePos:function(e,t,i){Ja(e,"tracePos() "+t+" pos: "+i.x+" / "+i.y)},traceErr:function(e,t,i){var r=e+" Hint: "+t;Ja(Xa.Error,r),i&&function(e,t){for(;e&&"Screen"!==e.props.Type;)e=e.container;if(e&&e.domNode&&e.domNode.TifProperties){var i=e.domNode.TifProperties;i.lastErrors=i.lastErrors||[],i.lastErrors.push(t)}}(i,r)},traceTimerStart:function(){return Qa()},traceTimerLog:function(e,t){Ja(Xa.Perf,e+" duration: "+function(e){return Qa()-e}(t)+" msec")},traceSecondsLog:function(e){var t=Qa()/1e3;0===Ka?(Ka=t,Ja(Xa.Info,"traceSecondsLog: "+e+" seconds: "+t)):Ja(Xa.Info,"traceSecondsLog: "+e+" seconds: "+Math.round(t-Ka))},stopForDebug:function(e){},stopIfVal:function(e,t){},traceItemTree:function(e){for(var t=!1;!t;)void 0===e.parentNode||null===e.parentNode?(Ja(Xa.Info,"parent of: "+e.id+" is: null"),t=!0):(Ja(Xa.Info,"parent of: "+e.id+" is: "+e.parentNode.id),t="ID_DesktopLayout"===(e=e.parentNode).id||"ID_MainDiv"===e.id)},traceWholeObject:function(e){var t,i,r=void 0!==e;for(t in Ja(Xa.Info,"### Begin ####################################################################################"),e)(r||e.hasOwnProperty(name))&&(i=null===e[t]?"null":void 0===e[t]?"undefined":void 0===e[t].toString?"undefined toString()":e[t].toString(),Ja(Xa.Info,"traceWholeObject pn:"+t+" pv:"+i));Ja(Xa.Info,"### End ######################################################################################")},initDiffTime:function(e){},traceSwitch:function(e){return e<=qa},getLastError:function(){return Ya}});const to=function(e){var t=e.props.Layers,i={},r={},n=b.maxZoomFactor,a=b.minZoomFactor,s=0,l=function(){return!0},u=function(e){var i;return void 0!==t&&(i=t[e]),i},h=function(){var e=t;return Array.isArray(e)?e.length:0},d=function(e){var i=t;if(Array.isArray(i))for(let t=0;t<i.length;t++)if(i[t].ElementID===e)return t;return-1},c=function(e,t){return!(e<(i=t,r=u(i),void 0!==r?Ha.getPropPart(r,"LayerPart","MinimumZoom"):a)||e>function(e){var t=u(e);return void 0!==t?Ha.getPropPart(t,"LayerPart","MaximumZoom"):n}(t));var i,r};return function(){var e,n,a,o,s=t;if(void 0!==s)for(a=h(),e=0;e<a;e++)n=(o=s[e]).ElementID||0,Ha.getPropPart(o,"LayerPart","Visible")?(i[n]=!0,r[n]=!0):(i[n]=!1,r[n]=!1)}(),{getRTLayerMask:function(){return i},getObjectMinDeclutterSize:function(){return 0},getObjectMaxDeclutterSize:function(){return 1e5},layerDecluttering:function(e){var t,o,l,d,p,m;if(s!==e&&(p=n,(m=e)>=a&&m<=p)){for(l=h(),t=0;t<l;t++)d=void 0,o=void 0!==(d=u(t))&&d.ElementID||0,c(e,t)?r[o]&&(i[o]=!0):i[o]=!1;return 0===s?(s=e,!1):(s=e,!0)}},isObjectDeclutteringActivated:function(){return!1},isLayerDeclutteringActivated:l,updateLayerElement:function(e,t){const n=e.ElementID||0;if(o.extend(e,t),t.hasOwnProperty("MaximumZoom")||t.hasOwnProperty("MinimumZoom")){const e=d(n);c(s,e)?r[n]&&(i[n]=!0):i[n]=!1}if(t.hasOwnProperty("Visible"))if(t.Visible){const e=d(n);c(s,e)&&(i[n]=!0),r[n]=!0}else i[n]=!1,r[n]=!1}}};var io;"undefined"!=typeof angular&&((io=angular.module("PWC.Lib.HmiTypes.Advanced.Toolkit",[])).controller("PwcAdvancedToolkitController",["$scope","$compile",function(e,t){e.create=function(i,r){var n="pwc-"+i+"-directive",a=Ne.getItem(r),o="Pwc"+i.substr(0,1).toUpperCase()+i.substr(1)+"Controller";return a._toolkitScope=e.$new(!0),a._toolkitScope.rtoid=r,t("<"+n+' ng-controller="'+o+'" data-rtoid="'+r+'" ></'+n+">")(a._toolkitScope)},e.createDialog=function(i){var r=i.appDir,n=i.type;return t('<pwc-dialog-directive ng-controller="PwcDialogController" ng-init="init(\''+n+'\')" appDir="'+r+'"></pwc-dialog-directive>')(e.$new(!0))}}]),io.filter("pwcIntToRgbFilter",(function(){return function(e){return"rgba("+((16711680&e)>>8>>8)+","+((65280&e)>>8)+","+(255&e)+","+((4278190080&e)>>>24)/255+")"}})),io.filter("pwcShiftFilter",(function(){return function(e,t){return void 0===t&&(t=1),e||(t=0),"translate("+t+","+t+")"}})),io.filter("pwcSvgFilter",(function(){return function(e,t){if(e)return"url(#"+t+")"}})),io.directive("pwcSvgHrefDirective",(function(){return{restrict:"A",link:function(e,t,i){var r=Ne.getItem(e.rtoid);i.$observe("pwcSvgHrefDirective",(function(e){var i=0===e.indexOf("content/",0)?r.gfxWebLib.connection.getAppDir():r.gfxWebLib.connection.getImageUrl();t[0].setAttributeNS(wn.xlinkNS,"xlink:href",i+e)}))}}})));const ro=io;ro&&(ro.controller("PwcDialogController",["$scope",function(e){var t,i,r=[];e.showDateTimePicker=function(i,r){var n,a;(n=i?i.target:event.target||event.srcElement)&&(a=n.datePreciseValue||r||PWC.HmiAC.Common.HelperUtil.getDtpSupportedDateTimeFormat(n.value).date,t.createDateTimePicker(i,a,(function(t,i,r){t.value=r.value,t.datePreciseValue=i,angular.element(t).scope().$apply(),e.onChange(null,[t]),e.setApplyStatus(!0),e.safeApply()})))},e.isValidChange=!1,e.init=function(r){i=document.activeElement,e.dialogType=r,t=PWC.Components.GenericDialog.Content.ObjectTypes.getHandler(r),e.data=t.getData()},e.isValidDateTime=function(e){var t,i,r,n,a,o,s,l,u,h,d,c,p,m,g;return m=g=!1,i=(t=document.getElementsByName(e))[0].value,r=t[1].value,PWC.HmiAC.Common.HelperUtil.isDateTimeSupported?!(!i||!r)||"INVALID":!((a=i.split("-")).length<3)&&(s=parseInt(a[0],10),l=parseInt(a[1],10),u=parseInt(a[2],10),!(l>=1&&l<=12&&(-1!==[4,6,9,11].indexOf(l)&&u>=0&&u<=30||-1!==[1,3,5,7,8,10,12].indexOf(l)&&u>=0&&u<=31?m=!0:u>0&&(u<=28?m=!0:29!==u||Boolean(s%4)||!Boolean(s%100)&&Boolean(s%400)||(m=!0)),!m))&&(!((o=r.split(":")).length<3)&&(h=parseInt(o[0],10),d=parseInt(o[1],10),n=o[2].split("."),c=parseInt(n[0],10),p=parseInt(n[1],10),h>=0&&h<=23&&d>=0&&d<=59&&c>=0&&c<=59&&0===p&&(g=!0),g)))},e.isValid=function(e,t){var i,r;return t||(t=event),t.keyCode?i=t.keyCode:t.which&&(i=t.which),r=i?String.fromCharCode(i):t.target.value,27===i?(this.blur(),!1):8!==i?t.ctrlKey||9===i||36===i||37===i||38===i||39===i&&(39!==i||"'"!==r)||40===i?(t.preventDefault(),!1):!!r.match(e)||(t.preventDefault(),!1):void 0},e.onChange=function(t,i,n){var a,o,s,l,u=e.dialogType,h={},d={},c=!1;if(a=(o=void 0!==i?i[0]:t?t.target:event.target||event.srcElement).id,l=PWC.Components.GenericDialog.Content.ControlTypes,h.elemId=a,h.updatedValue=l.getUpdatedData(o),h.parentId=u,""!==h.updatedValue){if(0===r.length)r.push(h);else{for(s=0;s<r.length;s++)if((d=r[s]).elemId===a){r.splice(s,1),d.updatedValue=l.getUpdatedData(o),d.parentId=u,r.push(d),c=!0;break}c||r.push(h)}!0===n&&e.update(!1,t),r.length>0&&(e.isValidChange=!0)}},e.update=function(n,a){var o,s;o=a||event,s=t.update(o,r),n&&(t.clean(),i&&i.focus()),(s||void 0===s)&&(r=[],e.isValidChange=!1)},e.close=function(){var n;t.clean(),n=e.$parent,e.callDestroy(),e&&(e.$destroy(),e=null),n&&n.$destroy(),t=null,r=[],i&&i.focus()},e.setApplyStatus=function(t){e.isValidChange=t},e.safeApply=function(){e.$$phase||e.$digest()}}]),ro.directive("pwcDialogDirective",(function(){return{restrict:"E",transclude:!0,link:function(e,t,i,r,n){var a,o=t[0].getAttribute("appDir");e.getContentUrl=function(){return o+"templates/"+e.dialogType+".html"},e.callDestroy=function(){t.remove()},a=n(),t.append(a)},template:'<div ng-include="getContentUrl()"></div>'}})),ro.directive("pwcHandleChangeDirective",[function(e){return function(e,t){t.bind("change",(function(){e.onChange(null,t),e.safeApply()})),e.$on("$destroy",(function(){t.off()}))}}]),ro.directive("pwcPreventPasteDirective",[function(e){return function(e,t){t.bind("paste",(function(e){return e.preventDefault(),!1})),e.$on("$destroy",(function(){t.off()}))}}]),ro.filter("pwcArrayFilter",(function(){return function(e,t,i){var r=[];return angular.forEach(e,(function(e){e.props[i].value===t&&r.push(e)})),r}})),ro.filter("pwcUniqueByPropertyFilter",(function(){return function(e,t){var i={},r=[];return angular.forEach(e,(function(e){i[e[t]]=e})),angular.forEach(i,(function(e){r.push(e)})),r}})),ro.filter("searchFilter",(function(){return function(e,t){var i=!1,r=e.length;if(t)for(var n=0;n<r;n++)if(e[n]===t){i=!0;break}return i}})),ro.directive("setfocus",(function(){return{scope:{trigger:"=setfocus"},link:function(e,t){var i=e.$watch("trigger",(function(i){!0===i&&(t[0].focus(),e.trigger=!1)}));e.$on("$destroy",(function(){i()}))}}})),ro.filter("pwcTrendArrayFilter",(function(){return function(e,t,i){var r=[];return angular.forEach(e,(function(e){e.props[i].value===t&&r.push(e.tabName)})),r}}))),Ne.HmiWindowManager=N,Ne.HmiControlTypes=Ye,Ne.Template=Qn,Ne.Interaction=Un,Ne.Converters=zn;var no={AppMode:In,AppType:Rn,Config:{Browser:D,TypeModel:Je,PropertyEnums:h,Properties:Ha,SystemParts:Pe},Canvas:{Converters:ka,ImageHelper:_,Pattern:on,ScrollBar:fr,ScrollButton:Tr,Dom:E,Svg:wn},HmiTypes:{Advanced:Ne,ControlBar:et,HmiObject:rn,HmiObjectTypes:Kr,HmiScreenWindow:Fe,ScrollBase:Ae,Layers:Oa,LayersInfo:to,Utils:Y},Debug:eo,Settings:b,Services:s,GfxWebLib:Mn,Formatter:ja,TextBib:te,jQL:o}})(),PWC=r})();